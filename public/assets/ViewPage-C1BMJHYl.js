import{B as e,C as t,a3 as ee,aA as n,aB as r,aD as i,aE as a,aF as te,aH as o,aJ as s,aN as c,aT as l,aU as u,aV as d,aX as f,af as ne,aj as re,ak as p,ay as m,az as h,j as ie,t as ae,v as g,x as oe}from"./index-nwvKuez5.js";import"./GlobalConfig-Dep5CV3r.js";import"./tableUtils-jdfVzp2e.js";import{b as _,c as v}from"./common-Cukj2-S-.js";import{b as y}from"./customerCreditDebitNoteStore-D4j1AHhG.js";const b={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},x={class:``},S={class:`mb-8`},C={class:`flex items-center justify-between`},w={class:`flex items-center space-x-4`},T={class:`text-sm text-gray-600 dark:text-gray-400`},E={key:0,class:`flex space-x-3`},D={key:0,class:`flex items-center justify-center py-12`},O={key:1,class:`space-y-6`},k={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-6`},A={class:`flex items-center justify-between`},j={class:`flex items-center space-x-4`},M={class:`flex-shrink-0`},N={class:`text-lg font-medium text-gray-900 dark:text-white`},P={class:`text-sm text-gray-500 dark:text-gray-400`},F={class:`text-right`},I={class:`mb-2`},L={class:`text-2xl font-bold text-gray-900 dark:text-white`},R={class:`text-sm text-gray-500 dark:text-gray-400`},z={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},B={class:`px-6 py-4`},V={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`},H={class:`mt-1 text-sm text-gray-900 dark:text-white`},U={class:`mt-1 text-sm text-gray-900 dark:text-white capitalize`},W={class:`mt-1 text-sm text-gray-900 dark:text-white`},G={class:`mt-1 text-sm text-gray-900 dark:text-white`},se={key:0,class:`text-gray-500 dark:text-gray-400`},K={class:`mt-1 text-sm text-gray-900 dark:text-white`},ce={key:0,class:`text-gray-500 dark:text-gray-400`},le={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},ue={class:`px-6 py-4`},de={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6`},fe={class:`mt-1 text-sm text-gray-900 dark:text-white`},pe={class:`mt-1 text-sm text-gray-900 dark:text-white`},me={class:`mt-1 text-sm text-gray-900 dark:text-white`},he={class:`mt-1 text-sm text-gray-900 dark:text-white`},ge={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},_e={class:`px-6 py-4`},ve={class:`text-sm text-gray-900 dark:text-white`},ye={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},be={class:`px-6 py-4`},xe={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Se={class:`mt-1 text-sm text-gray-900 dark:text-white`},Ce={class:`text-xs text-gray-500 dark:text-gray-400`},we={class:`mt-1 text-sm text-gray-900 dark:text-white`},Te={class:`text-xs text-gray-500 dark:text-gray-400`},Ee={key:2,class:`text-center py-12`};var q=te({__name:`ViewPage`,setup(te){let q=p(),J=re(),Y=ne(),X=y(),Z=l(!1),Q=l(null),$=()=>{q.push({name:`customer.notes.index`})},De=()=>{Q.value&&q.push({name:`customer.notes.edit`,params:{id:Q.value.id}})},Oe=()=>{window.print()},ke=async()=>{let e=Number(J.params.id);if(!e){Y.error(`Invalid credit/debit note ID`),$();return}Z.value=!0;try{let t=await X.fetchCreditDebitNote(e);Q.value=t}catch{Y.error(`Failed to load credit/debit note`),Q.value=null}finally{Z.value=!1}};return o(()=>{ke()}),(te,o)=>(s(),r(`div`,b,[m(`div`,x,[m(`div`,S,[m(`div`,C,[m(`div`,w,[m(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[a(u(ee),{class:`w-5 h-5`})]),m(`div`,null,[o[0]||=m(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Credit/Debit Note Details `,-1),m(`p`,T,f(Q.value?`${Q.value.prefix}-${Q.value.code}`:`Loading...`),1)])]),Q.value&&!Z.value?(s(),r(`div`,E,[m(`button`,{onClick:De,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[a(u(oe),{class:`h-4 w-4 mr-2`}),o[1]||=i(` Edit Note `,-1)]),m(`button`,{onClick:Oe,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[a(u(ae),{class:`h-4 w-4 mr-2`}),o[2]||=i(` Print `,-1)])])):n(``,!0)])]),Z.value?(s(),r(`div`,D,[a(u(t),{class:`h-8 w-8 animate-spin text-blue-600`}),o[3]||=m(`span`,{class:`ml-2 text-gray-600 dark:text-gray-400`},`Loading credit/debit note...`,-1)])):Q.value?(s(),r(`div`,O,[m(`div`,k,[m(`div`,A,[m(`div`,j,[m(`div`,M,[m(`div`,{class:d([`h-16 w-16 rounded-full flex items-center justify-center`,Q.value.type===`credit`?`bg-green-100 dark:bg-green-900`:`bg-red-100 dark:bg-red-900`])},[(s(),h(c(Q.value.type===`credit`?u(g):u(e)),{class:d([`h-8 w-8`,Q.value.type===`credit`?`text-green-600 dark:text-green-400`:`text-red-600 dark:text-red-400`])},null,8,[`class`]))],2)]),m(`div`,null,[m(`h3`,N,f(Q.value.prefix)+`-`+f(Q.value.code),1),m(`p`,P,` Created `+f(u(v)(Q.value.created_at)),1)])]),m(`div`,F,[m(`div`,I,[m(`span`,{class:d([`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium`,Q.value.type===`credit`?`bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`:`bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200`])},[(s(),h(c(Q.value.type===`credit`?u(g):u(e)),{class:`h-4 w-4 mr-1`})),i(` `+f(Q.value.type===`credit`?`Credit Note`:`Debit Note`),1)],2)]),m(`div`,L,f(u(_)(Q.value.amount_usd)),1),m(`div`,R,f(Q.value.currency.name)+`: `+f(u(_)(Q.value.amount,Q.value.currency.code)),1)])])]),m(`div`,z,[o[9]||=m(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[m(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Basic Information`)],-1),m(`div`,B,[m(`dl`,V,[m(`div`,null,[o[4]||=m(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Date`,-1),m(`dd`,H,f(u(v)(Q.value.date)),1)]),m(`div`,null,[o[5]||=m(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Type`,-1),m(`dd`,U,f(Q.value.type),1)]),m(`div`,null,[o[6]||=m(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Prefix`,-1),m(`dd`,W,f(Q.value.prefix),1)]),m(`div`,null,[o[7]||=m(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Customer`,-1),m(`dd`,G,[i(f(Q.value.customer?.name||`-`)+` `,1),Q.value.customer?.code?(s(),r(`span`,se,` (`+f(Q.value.customer.code)+`) `,1)):n(``,!0)])]),m(`div`,null,[o[8]||=m(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Currency`,-1),m(`dd`,K,[i(f(Q.value.currency?.name||`-`)+` `,1),Q.value.currency?.code?(s(),r(`span`,ce,` (`+f(Q.value.currency.code)+`) `,1)):n(``,!0)])])])])]),m(`div`,le,[o[14]||=m(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[m(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Financial Details`)],-1),m(`div`,ue,[m(`dl`,de,[m(`div`,null,[o[10]||=m(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Currency`,-1),m(`dd`,fe,f(Q.value.currency.name)+` (`+f(Q.value.currency.code)+`)`,1)]),m(`div`,null,[o[11]||=m(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Currency Rate`,-1),m(`dd`,pe,f(Q.value.currency_rate),1)]),m(`div`,null,[o[12]||=m(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Amount`,-1),m(`dd`,me,f(u(_)(Q.value.amount,Q.value.currency.code)),1)]),m(`div`,null,[o[13]||=m(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Amount USD`,-1),m(`dd`,he,f(u(_)(Q.value.amount_usd)),1)])])])]),Q.value.note?(s(),r(`div`,ge,[o[15]||=m(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[m(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Notes`)],-1),m(`div`,_e,[m(`p`,ve,f(Q.value.note),1)])])):n(``,!0),m(`div`,ye,[o[18]||=m(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[m(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Audit Information`)],-1),m(`div`,be,[m(`dl`,xe,[m(`div`,null,[o[16]||=m(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Created By`,-1),m(`dd`,Se,f(Q.value.created_by_user?.name||`-`),1),m(`dd`,Ce,f(u(v)(Q.value.created_at)),1)]),m(`div`,null,[o[17]||=m(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Last Updated By`,-1),m(`dd`,we,f(Q.value.updated_by_user?.name||`-`),1),m(`dd`,Te,f(u(v)(Q.value.updated_at)),1)])])])])])):Z.value?n(``,!0):(s(),r(`div`,Ee,[a(u(ie),{class:`mx-auto h-12 w-12 text-red-400`}),o[19]||=m(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},`Credit/debit note not found`,-1),o[20]||=m(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` The note you're looking for doesn't exist or has been deleted. `,-1),m(`div`,{class:`mt-6`},[m(`button`,{onClick:$,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700`},` Back to Credit/Debit Notes `)])]))])]))}}),J=q;export{J as default};