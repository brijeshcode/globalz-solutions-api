import{E as e,G as t,I as ee,M as n,N as r,a$ as i,aC as a,aD as te,aR as o,aS as s,aT as c,aU as l,aW as u,aX as d,aY as ne,ak as re,ay as ie,b1 as f,b5 as p,b8 as m,bb as h,bc as g,bd as _,bf as v,o as ae}from"./index-BsiRFf-z.js";import"./GlobalConfig-wPgXFcZ5.js";import{c as y}from"./common-CZbH6H1Z.js";import"./tableUtils-dXs1kjAL.js";import{b,d as x}from"./currencyUtil-BgG2HgTe.js";import{b as S}from"./DataItems-QEpYvm7C.js";import{b as C}from"./supplierCreditDebitNoteStore-cBwe0IaU.js";const w={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},T={class:``},E={class:`mb-8`},D={class:`flex items-center justify-between`},O={class:`flex items-center space-x-4`},k={class:`text-sm text-gray-600 dark:text-gray-400`},A={key:0,class:`flex space-x-3`},j={key:0,class:`flex items-center justify-center py-12`},M={key:1,class:`space-y-6`},N={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-6`},P={class:`flex items-center justify-between`},F={class:`flex items-center space-x-4`},I={class:`flex-shrink-0`},L={class:`text-lg font-medium text-gray-900 dark:text-white`},R={class:`text-sm text-gray-500 dark:text-gray-400`},z={class:`text-right`},B={class:`mb-2`},V={class:`text-2xl font-bold text-gray-900 dark:text-white`},H={key:0,class:`text-sm text-gray-500 dark:text-gray-400`},U={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},W={class:`px-6 py-4`},oe={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`},G={class:`text-sm text-gray-900 dark:text-white capitalize`},K={class:`text-sm text-gray-900 dark:text-white`},q={key:0,class:`text-gray-500 dark:text-gray-400`},se={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},ce={class:`px-6 py-4`},le={class:`text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 p-3 rounded-md`},ue={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},de={class:`px-6 py-4`},fe={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},pe={class:`text-sm text-gray-900 dark:text-white`},me={class:`text-xs text-gray-500 dark:text-gray-400`},he={class:`text-sm text-gray-900 dark:text-white`},ge={class:`text-xs text-gray-500 dark:text-gray-400`},_e={key:2,class:`text-center py-12`};var J=ne({__name:`ViewPage`,setup(ne){let J=te(),Y=a(),X=ie(),ve=C(),Z=h(!1),Q=h(null),$=()=>{J.push({name:`supplier.notes.index`})},ye=()=>{Q.value&&J.push({name:`supplier.notes.edit`,params:{id:Q.value.id}})},be=()=>{window.print()},xe=async()=>{let e=Number(Y.params.id);if(!e){X.error(`Invalid credit/debit note ID`),$();return}Z.value=!0;try{let t=await ve.fetchCreditDebitNote(e);Q.value=t}catch{X.error(`Failed to load credit/debit note`),Q.value=null}finally{Z.value=!1}};return i(()=>{xe()}),(i,a)=>(f(),l(`div`,w,[o(`div`,T,[o(`div`,E,[o(`div`,D,[o(`div`,O,[o(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[d(g(re),{class:`w-5 h-5`})]),o(`div`,null,[a[0]||=o(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Credit/Debit Note Details `,-1),o(`p`,k,v(Q.value?`${Q.value.prefix}-${Q.value.code}`:`Loading...`),1)])]),Q.value&&!Z.value?(f(),l(`div`,A,[o(`button`,{onClick:ye,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[d(g(ee),{class:`h-4 w-4 mr-2`}),a[1]||=u(` Edit Note `,-1)]),o(`button`,{onClick:be,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[d(g(e),{class:`h-4 w-4 mr-2`}),a[2]||=u(` Print `,-1)])])):c(``,!0)])]),Z.value?(f(),l(`div`,j,[d(g(r),{class:`h-8 w-8 animate-spin text-blue-600`}),a[3]||=o(`span`,{class:`ml-2 text-gray-600 dark:text-gray-400`},`Loading credit/debit note...`,-1)])):Q.value?(f(),l(`div`,M,[o(`div`,N,[o(`div`,P,[o(`div`,F,[o(`div`,I,[o(`div`,{class:_([`h-16 w-16 rounded-full flex items-center justify-center`,Q.value.type===`credit`?`bg-green-100 dark:bg-green-900`:`bg-red-100 dark:bg-red-900`])},[(f(),s(p(Q.value.type===`credit`?g(t):g(n)),{class:_([`h-8 w-8`,Q.value.type===`credit`?`text-green-600 dark:text-green-400`:`text-red-600 dark:text-red-400`])},null,8,[`class`]))],2)]),o(`div`,null,[o(`h3`,L,v(Q.value.prefix)+`-`+v(Q.value.code),1),o(`p`,R,` Created `+v(g(y)(Q.value.created_at)),1)])]),o(`div`,z,[o(`div`,B,[o(`span`,{class:_([`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium`,Q.value.type===`credit`?`bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`:`bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200`])},[(f(),s(p(Q.value.type===`credit`?g(t):g(n)),{class:`h-4 w-4 mr-1`})),u(` `+v(Q.value.type===`credit`?`Credit Note`:`Debit Note`),1)],2)]),o(`div`,V,v(g(b)(Q.value.amount_usd,!0)),1),g(x)(Q.value.currency.code)?c(``,!0):(f(),l(`div`,H,v(Q.value.currency.name)+`: `+v(g(b)(Q.value.amount,!0,Q.value.currency)),1))])])]),o(`div`,U,[a[4]||=o(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[o(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Basic Information`)],-1),o(`div`,W,[o(`div`,oe,[d(S,{label:`Date`,value:g(y)(Q.value.date)},null,8,[`value`]),d(S,{label:`Type`},{default:m(()=>[o(`div`,G,v(Q.value.type),1)]),_:1}),d(S,{label:`Prefix`,value:Q.value.prefix},null,8,[`value`]),d(S,{label:`Supplier`},{default:m(()=>[o(`div`,K,[u(v(Q.value.supplier?.name||`-`)+` `,1),Q.value.supplier?.code?(f(),l(`span`,q,` (`+v(Q.value.supplier.code)+`) `,1)):c(``,!0)])]),_:1})])])]),c(``,!0),Q.value.note?(f(),l(`div`,se,[a[6]||=o(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[o(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Notes`)],-1),o(`div`,ce,[d(S,{label:`Note`},{default:m(()=>[o(`div`,le,v(Q.value.note),1)]),_:1})])])):c(``,!0),o(`div`,ue,[a[7]||=o(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[o(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Audit Information`)],-1),o(`div`,de,[o(`div`,fe,[d(S,{label:`Created By`},{default:m(()=>[o(`div`,pe,v(Q.value.created_by_user?.name||`-`),1),o(`div`,me,v(g(y)(Q.value.created_at)),1)]),_:1}),d(S,{label:`Last Updated By`},{default:m(()=>[o(`div`,he,v(Q.value.updated_by_user?.name||`-`),1),o(`div`,ge,v(g(y)(Q.value.updated_at)),1)]),_:1})])])])])):Z.value?c(``,!0):(f(),l(`div`,_e,[d(g(ae),{class:`mx-auto h-12 w-12 text-red-400`}),a[8]||=o(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},`Credit/debit note not found`,-1),a[9]||=o(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` The note you're looking for doesn't exist or has been deleted. `,-1),o(`div`,{class:`mt-6`},[o(`button`,{onClick:$,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700`},` Back to Credit/Debit Notes `)])]))])]))}}),Y=J;export{Y as default};