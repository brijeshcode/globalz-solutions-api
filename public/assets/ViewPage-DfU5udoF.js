import{B as e,D as t,H as n,I as ee,a$ as r,aF as i,aG as a,aH as o,aI as s,aK as c,aL as l,aM as te,aO as u,aQ as d,aU as f,aX as p,a_ as m,aa as ne,am as h,aq as re,ar as ie,b0 as g,b2 as _,m as ae,z as oe}from"./index--pi_6MVY.js";import"./GlobalConfig-Dep5CV3r.js";import"./tableUtils-BFc6-TYF.js";import{b as v,c as y}from"./common-DNevajli.js";import{b}from"./DataItems-D-y3rgaf.js";import{b as x}from"./customerCreditDebitNoteStore-BYMO41DD.js";const S={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},C={class:``},w={class:`mb-8`},T={class:`flex items-center justify-between`},E={class:`flex items-center space-x-4`},D={class:`text-sm text-gray-600 dark:text-gray-400`},O={key:0,class:`flex space-x-3`},k={key:0,class:`flex items-center justify-center py-12`},A={key:1,class:`space-y-6`},j={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-6`},M={class:`flex items-center justify-between`},N={class:`flex items-center space-x-4`},P={class:`flex-shrink-0`},F={class:`text-lg font-medium text-gray-900 dark:text-white`},I={class:`text-sm text-gray-500 dark:text-gray-400`},L={class:`text-right`},R={class:`mb-2`},z={class:`text-2xl font-bold text-gray-900 dark:text-white`},B={class:`text-sm text-gray-500 dark:text-gray-400`},V={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},H={class:`px-6 py-4`},U={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`},se={class:`text-sm text-gray-900 dark:text-white capitalize`},W={class:`text-sm text-gray-900 dark:text-white`},G={key:0,class:`text-gray-500 dark:text-gray-400`},K={class:`text-sm text-gray-900 dark:text-white`},ce={key:0,class:`text-gray-500 dark:text-gray-400`},le={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},ue={class:`px-6 py-4`},de={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6`},fe={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},pe={class:`px-6 py-4`},me={class:`text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 p-3 rounded-md`},he={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},ge={class:`px-6 py-4`},_e={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},ve={class:`text-sm text-gray-900 dark:text-white`},q={class:`text-xs text-gray-500 dark:text-gray-400`},ye={class:`text-sm text-gray-900 dark:text-white`},be={class:`text-xs text-gray-500 dark:text-gray-400`},xe={key:2,class:`text-center py-12`};var J=te({__name:`ViewPage`,setup(te){let J=ie(),Y=re(),X=h(),Se=x(),Z=m(!1),Q=m(null),$=()=>{J.push({name:`customer.notes.index`})},Ce=()=>{Q.value&&J.push({name:`customer.notes.edit`,params:{id:Q.value.id}})},we=()=>{window.print()},Te=async()=>{let e=Number(Y.params.id);if(!e){X.error(`Invalid credit/debit note ID`),$();return}Z.value=!0;try{let t=await Se.fetchCreditDebitNote(e);Q.value=t}catch{X.error(`Failed to load credit/debit note`),Q.value=null}finally{Z.value=!1}};return u(()=>{Te()}),(te,u)=>(d(),s(`div`,S,[i(`div`,C,[i(`div`,w,[i(`div`,T,[i(`div`,E,[i(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[l(r(ne),{class:`w-5 h-5`})]),i(`div`,null,[u[0]||=i(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Credit/Debit Note Details `,-1),i(`p`,D,_(Q.value?`${Q.value.prefix}-${Q.value.code}`:`Loading...`),1)])]),Q.value&&!Z.value?(d(),s(`div`,O,[i(`button`,{onClick:Ce,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[l(r(t),{class:`h-4 w-4 mr-2`}),u[1]||=c(` Edit Note `,-1)]),i(`button`,{onClick:we,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[l(r(oe),{class:`h-4 w-4 mr-2`}),u[2]||=c(` Print `,-1)])])):o(``,!0)])]),Z.value?(d(),s(`div`,k,[l(r(ee),{class:`h-8 w-8 animate-spin text-blue-600`}),u[3]||=i(`span`,{class:`ml-2 text-gray-600 dark:text-gray-400`},`Loading credit/debit note...`,-1)])):Q.value?(d(),s(`div`,A,[i(`div`,j,[i(`div`,M,[i(`div`,N,[i(`div`,P,[i(`div`,{class:g([`h-16 w-16 rounded-full flex items-center justify-center`,Q.value.type===`credit`?`bg-green-100 dark:bg-green-900`:`bg-red-100 dark:bg-red-900`])},[(d(),a(f(Q.value.type===`credit`?r(e):r(n)),{class:g([`h-8 w-8`,Q.value.type===`credit`?`text-green-600 dark:text-green-400`:`text-red-600 dark:text-red-400`])},null,8,[`class`]))],2)]),i(`div`,null,[i(`h3`,F,_(Q.value.prefix)+`-`+_(Q.value.code),1),i(`p`,I,` Created `+_(r(y)(Q.value.created_at)),1)])]),i(`div`,L,[i(`div`,R,[i(`span`,{class:g([`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium`,Q.value.type===`credit`?`bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`:`bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200`])},[(d(),a(f(Q.value.type===`credit`?r(e):r(n)),{class:`h-4 w-4 mr-1`})),c(` `+_(Q.value.type===`credit`?`Credit Note`:`Debit Note`),1)],2)]),i(`div`,z,_(r(v)(Q.value.amount_usd)),1),i(`div`,B,_(Q.value.currency.name)+`: `+_(r(v)(Q.value.amount,Q.value.currency.code)),1)])])]),i(`div`,V,[u[4]||=i(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Basic Information`)],-1),i(`div`,H,[i(`div`,U,[l(b,{label:`Date`,value:r(y)(Q.value.date)},null,8,[`value`]),l(b,{label:`Type`},{default:p(()=>[i(`div`,se,_(Q.value.type),1)]),_:1}),l(b,{label:`Prefix`,value:Q.value.prefix},null,8,[`value`]),l(b,{label:`Customer`},{default:p(()=>[i(`div`,W,[c(_(Q.value.customer?.name||`-`)+` `,1),Q.value.customer?.code?(d(),s(`span`,G,` (`+_(Q.value.customer.code)+`) `,1)):o(``,!0)])]),_:1}),l(b,{label:`Currency`},{default:p(()=>[i(`div`,K,[c(_(Q.value.currency?.name||`-`)+` `,1),Q.value.currency?.code?(d(),s(`span`,ce,` (`+_(Q.value.currency.code)+`) `,1)):o(``,!0)])]),_:1})])])]),i(`div`,le,[u[5]||=i(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Financial Details`)],-1),i(`div`,ue,[i(`div`,de,[l(b,{label:`Currency`,value:`${Q.value.currency.name} (${Q.value.currency.code})`},null,8,[`value`]),l(b,{label:`Currency Rate`,value:Q.value.currency_rate},null,8,[`value`]),l(b,{label:`Amount`,value:r(v)(Q.value.amount,Q.value.currency.code)},null,8,[`value`]),l(b,{label:`Amount USD`,value:r(v)(Q.value.amount_usd)},null,8,[`value`])])])]),Q.value.note?(d(),s(`div`,fe,[u[6]||=i(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Notes`)],-1),i(`div`,pe,[l(b,{label:`Note`},{default:p(()=>[i(`div`,me,_(Q.value.note),1)]),_:1})])])):o(``,!0),i(`div`,he,[u[7]||=i(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Audit Information`)],-1),i(`div`,ge,[i(`div`,_e,[l(b,{label:`Created By`},{default:p(()=>[i(`div`,ve,_(Q.value.created_by_user?.name||`-`),1),i(`div`,q,_(r(y)(Q.value.created_at)),1)]),_:1}),l(b,{label:`Last Updated By`},{default:p(()=>[i(`div`,ye,_(Q.value.updated_by_user?.name||`-`),1),i(`div`,be,_(r(y)(Q.value.updated_at)),1)]),_:1})])])])])):Z.value?o(``,!0):(d(),s(`div`,xe,[l(r(ae),{class:`mx-auto h-12 w-12 text-red-400`}),u[8]||=i(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},`Credit/debit note not found`,-1),u[9]||=i(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` The note you're looking for doesn't exist or has been deleted. `,-1),i(`div`,{class:`mt-6`},[i(`button`,{onClick:$,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700`},` Back to Credit/Debit Notes `)])]))])]))}}),Y=J;export{Y as default};