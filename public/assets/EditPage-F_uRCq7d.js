import{$ as e,M as t,a$ as n,a6 as r,aB as ee,aC as i,aI as a,aJ as o,aM as s,aN as c,aP as l,aQ as u,aS as d,aT as f,aV as p,aW as m,aX as te,aZ as ne,aj as re,ax as ie,b0 as h,b2 as ae,b5 as oe,b7 as g,b9 as _,ba as v,bb as y,bd as b}from"./index-DgfcCRz4.js";import"./GlobalConfig-wPgXFcZ5.js";import"./tableUtils-ylneqlK-.js";import{f as x}from"./common-qdv5PS_C.js";import{b as se}from"./accountsStore-60STlXpZ.js";import"./currencyUtil-DofNA-4t.js";import{b as ce}from"./employeesStore-CJl9sAde.js";import{b as le}from"./salaryStore-CI72oPJg.js";import{b as ue,c as de,d as fe}from"./EmployeeDailyBusinessBreadDown-D7YtNt9b.js";const pe={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},me={class:`mx-auto`},he={class:`mb-8`},ge={class:`flex items-center space-x-4 mb-2`},_e={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},ve={key:1,class:`grid grid-cols-12 gap-4`},ye={class:`col-span-4`},be={class:`w-full border-collapse bg-white dark:bg-gray-800 rounded-lg overflow-hidden`},xe={class:`px-3 py-2 text-sm text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600`},Se={class:`px-3 py-2 text-sm text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600`},Ce={class:`px-3 py-2 text-sm text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600`},we={class:`px-3 py-2 text-sm text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600`},Te={class:`col-span-8`},Ee={key:0,class:`text-lg`},De={key:1},Oe={class:`flex items-center justify-between gap-3 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md`},S={class:`flex gap-3`},C={class:`block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1`},w={class:`block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1`},T={key:2},ke={key:3,class:`bg-white mt-4 dark:bg-gray-800 shadow rounded-lg`},Ae={class:`p-6`},je={class:`mb-4 text-sm text-gray-700 dark:text-gray-300`},Me={class:`mb-1`},Ne={class:`mb-1`},Pe={class:`mb-1`},Fe={class:`w-full border-collapse mb-4`},Ie={class:`px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600`},Le={class:`px-3 py-2 rounded-md bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-gray-900 dark:text-gray-100`},Re={class:`px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600`},ze={class:`px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600`},Be={class:`px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600`},Ve={class:`bg-gray-100 dark:bg-gray-700`},He={class:`px-3 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600`},Ue={class:`px-3 py-2 rounded-md bg-gray-200 dark:bg-gray-600 border border-gray-300 dark:border-gray-500 font-semibold text-gray-900 dark:text-gray-100`},We={class:`px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600`},Ge=[`disabled`],Ke=[`value`],qe={class:`px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600`},Je={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Ye=[`disabled`],Xe=[`disabled`],Ze={key:0,class:`flex items-center justify-center`},Qe={key:1},$e={key:4,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},et={class:`px-6 py-8`},tt={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},nt=[`disabled`],rt={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},it=[`disabled`],at=[`value`],ot={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},st=[`disabled`],ct=[`value`],lt={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},ut=[`disabled`],dt=[`value`],ft={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},pt=[`disabled`],mt=[`value`],ht={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},gt={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},_t={class:`relative`},vt={class:`absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none`},yt=[`disabled`],bt={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},xt={class:`relative`},St={class:`absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none`},Ct=[`disabled`],wt={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Tt={class:`relative`},Et={class:`absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none`},Dt=[`disabled`],Ot={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},E={class:`relative`},kt={class:`absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none`},At={class:`mb-6`},jt={class:`flex items-center justify-between mb-2`},Mt={class:`text-xs text-gray-500`},Nt=[`disabled`],Pt={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ft={class:`flex items-center justify-between mb-2`},It={class:`text-xs text-gray-500`},Lt=[`disabled`],Rt={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},zt={key:0,class:`p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg`},Bt={class:`space-y-2`},Vt={class:`flex justify-between text-sm`},Ht={class:`font-medium text-blue-900 dark:text-blue-200`},Ut={class:`flex justify-between text-sm`},Wt={class:`font-medium text-blue-900 dark:text-blue-200`},Gt={class:`flex justify-between text-sm`},Kt={class:`font-medium text-blue-900 dark:text-blue-200`},qt={class:`flex justify-between text-sm`},Jt={class:`font-medium text-red-600 dark:text-red-400`},Yt={class:`flex justify-between text-sm`},Xt={class:`font-medium text-blue-900 dark:text-blue-200`},Zt={class:`flex justify-between text-base pt-2 border-t border-blue-200 dark:border-blue-700`},Qt={class:`font-bold text-blue-900 dark:text-blue-100`},$t={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},en=[`disabled`],tn=[`disabled`],nn={key:0,class:`flex items-center justify-center`},rn={key:1},an={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},on={class:`flex flex-col items-center`};var D=te({__name:`EditPage`,setup(te){let D=i(),O=ee(),{showSuccess:sn,showError:k}=ie(),A=l(()=>parseInt(O.params.id)),j=le(),M=ce(),N=se(),P=_(!1),F=_(!1),I=_(!1),L=_(null),R=_({}),z=_({date:``,salary_code:``,employee_id:0,account_id:0,month:0,year:0,sub_total:0,advance_payment:0,others:0,final_total:0,others_note:``,note:``}),B=[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],cn=l(()=>{let e=new Date().getFullYear(),t=[];for(let n=e-5;n<=e+1;n++)t.push(n);return t.reverse()}),V=l(()=>M.activeEmployees||[]),H=l(()=>N.activeAccounts||[]),ln=l(()=>j.salaries),U=l(()=>Object.keys(R.value).length>0),W=l(()=>z.value.date&&z.value.employee_id>0&&z.value.account_id>0&&z.value.month>0&&z.value.year>0&&z.value.sub_total!==void 0&&z.value.advance_payment!==void 0&&z.value.others!==void 0),G=l(()=>{let e=V.value.find(e=>e.id===z.value.employee_id);return e?e.name:``}),un=l(()=>z.value.month>0&&z.value.month<=12?B[z.value.month-1]:``),K=e=>R.value[e]||``,q=e=>{R.value[e]&&delete R.value[e]},dn=e=>{R.value={};for(let[t,n]of Object.entries(e))n&&n.length>0&&(R.value[t]=n[0])},J=()=>{R.value={}},Y=()=>{let e=Number(z.value.sub_total)||0,t=Number(z.value.advance_payment)||0,n=Number(z.value.others)||0;z.value.final_total=e-t+n},X=async()=>{try{F.value=!0;let e=await j.fetchSalary(A.value);e&&(z.value={date:e.date||``,salary_code:e.salary_code||``,employee_id:e.employee_id||0,account_id:e.account_id||0,month:e.month||0,year:e.year||0,sub_total:e.sub_total||0,advance_payment:e.advance_payment||0,others:e.others||0,final_total:e.final_total||0,others_note:e.others_note||``,note:e.note||``},J(),e.employee_id&&(await fn(e.employee_id),await pn(e.employee_id,e.month,e.year)))}catch(e){console.error(`Error loading salary:`,e),k(`Failed to load salary record`)}finally{F.value=!1}},fn=async e=>{try{await j.fetchSalaries({employee_id:e})}catch(e){console.error(`Failed to load salary history:`,e)}},pn=async(e,t,n)=>{try{I.value=!0;let r=await fe.getMonthlyCommission({employee_id:e,month:t,year:n});L.value=r}catch(e){console.error(`Failed to load commission data:`,e)}finally{I.value=!1}},mn=()=>{J();let e={};return z.value.date||(e.date=`Date is required`),(!z.value.employee_id||z.value.employee_id<=0)&&(e.employee_id=`Employee is required`),(!z.value.account_id||z.value.account_id<=0)&&(e.account_id=`Account is required`),(!z.value.month||z.value.month<1||z.value.month>12)&&(e.month=`Valid month is required`),(!z.value.year||z.value.year<2e3||z.value.year>2100)&&(e.year=`Valid year is required`),(z.value.sub_total===void 0||z.value.sub_total<0)&&(e.sub_total=`Sub total must be 0 or greater`),(z.value.advance_payment===void 0||z.value.advance_payment<0)&&(e.advance_payment=`Advance payment must be 0 or greater`),z.value.others===void 0&&(e.others=`Others amount is required`),z.value.others_note&&z.value.others_note.length>500&&(e.others_note=`Others note cannot exceed 500 characters`),z.value.note&&z.value.note.length>1e3&&(e.note=`Notes cannot exceed 1000 characters`),R.value=e,Object.keys(e).length===0},Z=async()=>{if(mn())try{P.value=!0;let e={date:z.value.date,employee_id:z.value.employee_id,account_id:z.value.account_id,month:z.value.month,year:z.value.year,sub_total:z.value.sub_total,advance_payment:z.value.advance_payment,others:z.value.others,final_total:z.value.final_total,others_note:z.value.others_note||void 0,note:z.value.note||void 0};await j.updateSalary(A.value,e),sn(`Salary updated successfully`),D.push({name:`employees.salaries.index`})}catch(e){e.response?.status===422&&e.response?.data?.errors?dn(e.response.data.errors):k(e.response?.data?.message||`Failed to update salary`)}finally{P.value=!1}},Q=()=>{D.push({name:`employees.salaries.index`})},$=()=>{D.push({name:`employees.salaries.index`})},hn=async()=>{try{await M.fetchEmployees({is_active:!0})}catch(e){console.error(`Failed to load employees:`,e)}},gn=async()=>{try{await N.fetchAccounts({is_active:!0})}catch(e){console.error(`Failed to load accounts:`,e)}};return ne(async()=>{try{F.value=!0,await Promise.all([hn(),gn()])}catch(e){console.error(`Error loading dropdown data:`,e)}finally{F.value=!1}await X()}),oe(()=>A.value,()=>{A.value&&X()}),(ee,i)=>{let l=ae(`Input`);return n(),f(`div`,pe,[u(`div`,me,[u(`div`,he,[u(`div`,ge,[u(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[m(v(re),{class:`w-5 h-5`})]),i[27]||=u(`div`,null,[u(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Employee Salary `),u(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update salary record information and details `)],-1)])]),F.value?(n(),f(`div`,_e,i[28]||=[u(`div`,{class:`flex items-center justify-center`},[u(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),u(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading salary...`)],-1)])):z.value?(n(),f(`div`,ve,[u(`div`,ye,[i[30]||=u(`div`,{class:`mb-3 text-lg font-semibold text-gray-900 dark:text-gray-100`},`Salary History`,-1),u(`table`,be,[i[29]||=u(`thead`,{class:`bg-gray-100 dark:bg-gray-700`},[u(`tr`,null,[u(`th`,{class:`px-3 py-2 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600`},` Month`),u(`th`,{class:`px-3 py-2 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600`},` Comm.`),u(`th`,{class:`px-3 py-2 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600`},` Adv.`),u(`th`,{class:`px-3 py-2 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600`},` Total`)])],-1),u(`tbody`,null,[(n(!0),f(c,null,h(ln.value,e=>(n(),f(`tr`,{key:e.id,class:y([`hover:bg-gray-50 dark:hover:bg-gray-700`,{"bg-blue-50 dark:bg-blue-900/20":e.id===A.value}])},[u(`td`,xe,b(e.month)+`/`+b(e.year),1),u(`td`,Se,b(v(x)(e.sub_total)),1),u(`td`,Ce,b(v(x)(e.advance_payment)),1),u(`td`,we,b(v(x)(e.final_total)),1)],2))),128))])])]),u(`div`,Te,[I.value?(n(),f(`div`,Ee,[m(v(t),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`})])):d(``,!0),L.value&&!I.value?(n(),f(`div`,De,[u(`div`,Oe,[u(`div`,null,` Employee: `+b(L.value?.business_summary.employee_name),1),u(`div`,S,[u(`div`,null,[u(`label`,C,`Month: `+b(z.value.month),1)]),u(`div`,null,[u(`label`,w,`Year: `+b(z.value.year),1)])])])])):d(``,!0),L.value&&!I.value?(n(),f(`div`,T,[u(`div`,null,[m(ue,{class:`mt-4`,"commission-data":L.value},null,8,[`commission-data`]),m(de,{class:`mt-4`,"commission-data":L.value},null,8,[`commission-data`])])])):d(``,!0),L.value&&!I.value?(n(),f(`div`,ke,[u(`div`,Ae,[i[41]||=u(`h2`,{class:`text-xl font-semibold mb-4 pb-3 border-b border-gray-200 dark:border-gray-700 text-gray-900 dark:text-white`},` Employee Salary Summary`,-1),u(`div`,je,[u(`div`,Me,[i[31]||=u(`strong`,null,`Employee:`,-1),p(` `+b(G.value),1)]),u(`div`,Ne,[i[32]||=u(`strong`,null,`Period:`,-1),p(` Month `+b(z.value.month)+` / Year `+b(z.value.year),1)]),u(`div`,Pe,[i[33]||=u(`strong`,null,`Salary Code:`,-1),p(` `+b(z.value.salary_code),1)])]),u(`form`,{onSubmit:s(Z,[`prevent`])},[u(`table`,Fe,[u(`tr`,null,[i[34]||=u(`th`,{class:`px-3 py-2 text-left font-semibold bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 w-2/5`},` Sub Total (total commission)`,-1),u(`td`,Ie,[u(`div`,Le,b(v(x)(z.value.sub_total)),1)])]),u(`tr`,null,[i[35]||=u(`th`,{class:`px-3 py-2 text-left font-semibold bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600`},` Advance Loan (-)`,-1),u(`td`,Re,[m(l,{type:`number`,onInput:Y,class:`w-full`,modelValue:z.value.advance_payment,"onUpdate:modelValue":i[0]||=e=>z.value.advance_payment=e},null,8,[`modelValue`])])]),u(`tr`,null,[u(`th`,{class:y([`px-3 py-2 text-left font-semibold bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600`,z.value.others&&z.value.others<0?`text-red-600 dark:text-red-400`:`text-gray-700 dark:text-gray-300`])},` Other (bonus or deduction)`,2),u(`td`,ze,[m(l,{type:`number`,onInput:Y,class:y([z.value.others&&z.value.others<0?`text-red-600 dark:text-red-400`:``,`w-full`]),modelValue:z.value.others,"onUpdate:modelValue":i[1]||=e=>z.value.others=e},null,8,[`class`,`modelValue`])])]),u(`tr`,null,[u(`th`,{class:y([`px-3 py-2 text-left font-semibold bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600`,z.value.others&&z.value.others<0?`text-red-600 dark:text-red-400`:`text-gray-700 dark:text-gray-300`])},` Other Notes`,2),u(`td`,Be,[m(l,{type:`text`,class:y([z.value.others&&z.value.others<0?`text-red-600 dark:text-red-400`:``,`w-full`]),modelValue:z.value.others_note,"onUpdate:modelValue":i[2]||=e=>z.value.others_note=e,placeholder:`Other note`},null,8,[`class`,`modelValue`])])]),u(`tr`,Ve,[i[36]||=u(`th`,{class:`px-3 py-2 text-left font-bold text-base bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 border border-gray-300 dark:border-gray-600`},` Net Total`,-1),u(`td`,He,[u(`div`,Ue,b(v(x)(z.value.final_total)),1)])]),u(`tr`,null,[i[38]||=u(`th`,{class:`px-3 py-2 text-left font-semibold bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600`},` Account`,-1),u(`td`,We,[g(u(`select`,{id:`account_id`,"onUpdate:modelValue":i[3]||=e=>z.value.account_id=e,disabled:P.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,required:``},[i[37]||=u(`option`,{value:``},`Select account`,-1),(n(!0),f(c,null,h(H.value,e=>(n(),f(`option`,{key:e.id,value:e.id},b(e.name),9,Ke))),128))],8,Ge),[[a,z.value.account_id]])])]),u(`tr`,null,[i[39]||=u(`th`,{class:`px-3 py-2 text-left font-semibold bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600`},` Salary Note`,-1),u(`td`,qe,[m(l,{type:`text`,class:`w-full`,modelValue:z.value.note,"onUpdate:modelValue":i[4]||=e=>z.value.note=e,placeholder:`Add any notes`},null,8,[`modelValue`])])])]),u(`div`,Je,[u(`button`,{type:`button`,onClick:Q,disabled:P.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,Ye),u(`button`,{type:`submit`,disabled:P.value||U.value||!W.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[P.value?(n(),f(`div`,Ze,i[40]||=[u(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),p(` Updating... `,-1)])):(n(),f(`span`,Qe,`Update Salary`))],8,Xe)])],32)])])):z.value&&!I.value?(n(),f(`div`,$e,[u(`div`,et,[u(`form`,{onSubmit:s(Z,[`prevent`]),class:`space-y-8`},[u(`div`,null,[i[53]||=u(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Salary Information `,-1),u(`div`,tt,[u(`div`,null,[i[42]||=u(`label`,{for:`date`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[p(` Date `),u(`span`,{class:`text-red-500`},`*`)],-1),g(u(`input`,{id:`date`,type:`date`,"onUpdate:modelValue":i[5]||=e=>z.value.date=e,disabled:P.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[6]||=()=>q(`date`),required:``},null,40,nt),[[o,z.value.date]]),K(`date`)?(n(),f(`p`,rt,b(K(`date`)),1)):d(``,!0)]),u(`div`,null,[i[43]||=u(`label`,{for:`salary_code`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Salary Code `,-1),g(u(`input`,{id:`salary_code`,type:`text`,"onUpdate:modelValue":i[7]||=e=>z.value.salary_code=e,disabled:``,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-50 dark:bg-gray-600 text-gray-500 dark:text-gray-400 sm:text-sm`},null,512),[[o,z.value.salary_code]]),i[44]||=u(`p`,{class:`mt-1 text-xs text-gray-500`},` Salary code cannot be changed `,-1)]),u(`div`,null,[i[46]||=u(`label`,{for:`employee_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[p(` Employee `),u(`span`,{class:`text-red-500`},`*`)],-1),g(u(`select`,{id:`employee_id`,"onUpdate:modelValue":i[8]||=e=>z.value.employee_id=e,disabled:P.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[9]||=()=>q(`employee_id`),required:``},[i[45]||=u(`option`,{value:``},`Select employee`,-1),(n(!0),f(c,null,h(V.value,e=>(n(),f(`option`,{key:e.id,value:e.id},b(e.name)+` `+b(e.code?`(${e.code})`:``),9,at))),128))],40,it),[[a,z.value.employee_id]]),K(`employee_id`)?(n(),f(`p`,ot,b(K(`employee_id`)),1)):d(``,!0)]),u(`div`,null,[i[48]||=u(`label`,{for:`account_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[p(` Account `),u(`span`,{class:`text-red-500`},`*`)],-1),g(u(`select`,{id:`account_id`,"onUpdate:modelValue":i[10]||=e=>z.value.account_id=e,disabled:P.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[11]||=()=>q(`account_id`),required:``},[i[47]||=u(`option`,{value:``},`Select account`,-1),(n(!0),f(c,null,h(H.value,e=>(n(),f(`option`,{key:e.id,value:e.id},b(e.name),9,ct))),128))],40,st),[[a,z.value.account_id]]),K(`account_id`)?(n(),f(`p`,lt,b(K(`account_id`)),1)):d(``,!0)]),u(`div`,null,[i[50]||=u(`label`,{for:`month`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[p(` Month `),u(`span`,{class:`text-red-500`},`*`)],-1),g(u(`select`,{id:`month`,"onUpdate:modelValue":i[12]||=e=>z.value.month=e,disabled:P.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[13]||=()=>q(`month`),required:``},[i[49]||=u(`option`,{value:``},`Select month`,-1),(n(),f(c,null,h(B,(e,t)=>u(`option`,{key:t,value:t+1},b(e),9,dt)),64))],40,ut),[[a,z.value.month]]),K(`month`)?(n(),f(`p`,ft,b(K(`month`)),1)):d(``,!0)]),u(`div`,null,[i[52]||=u(`label`,{for:`year`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[p(` Year `),u(`span`,{class:`text-red-500`},`*`)],-1),g(u(`select`,{id:`year`,"onUpdate:modelValue":i[14]||=e=>z.value.year=e,disabled:P.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[15]||=()=>q(`year`),required:``},[i[51]||=u(`option`,{value:``},`Select year`,-1),(n(!0),f(c,null,h(cn.value,e=>(n(),f(`option`,{key:e,value:e},b(e),9,mt))),128))],40,pt),[[a,z.value.year]]),K(`year`)?(n(),f(`p`,ht,b(K(`year`)),1)):d(``,!0)])])]),u(`div`,null,[i[59]||=u(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Amount Details `,-1),u(`div`,gt,[u(`div`,null,[i[54]||=u(`label`,{for:`sub_total`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[p(` Sub Total `),u(`span`,{class:`text-red-500`},`*`)],-1),u(`div`,_t,[u(`div`,vt,[m(v(e),{class:`h-5 w-5 text-gray-400`})]),g(u(`input`,{id:`sub_total`,type:`number`,step:`0.01`,min:`0`,"onUpdate:modelValue":i[16]||=e=>z.value.sub_total=e,disabled:P.value,placeholder:`0.00`,class:`block w-full pl-10 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[17]||=()=>q(`sub_total`),onInput:Y,required:``},null,40,yt),[[o,z.value.sub_total]])]),K(`sub_total`)?(n(),f(`p`,bt,b(K(`sub_total`)),1)):d(``,!0)]),u(`div`,null,[i[55]||=u(`label`,{for:`advance_payment`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[p(` Advance Payment `),u(`span`,{class:`text-red-500`},`*`)],-1),u(`div`,xt,[u(`div`,St,[m(v(e),{class:`h-5 w-5 text-gray-400`})]),g(u(`input`,{id:`advance_payment`,type:`number`,step:`0.01`,min:`0`,"onUpdate:modelValue":i[18]||=e=>z.value.advance_payment=e,disabled:P.value,placeholder:`0.00`,class:`block w-full pl-10 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[19]||=()=>q(`advance_payment`),onInput:Y,required:``},null,40,Ct),[[o,z.value.advance_payment]])]),K(`advance_payment`)?(n(),f(`p`,wt,b(K(`advance_payment`)),1)):d(``,!0)]),u(`div`,null,[i[56]||=u(`label`,{for:`others`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[p(` Others `),u(`span`,{class:`text-red-500`},`*`)],-1),u(`div`,Tt,[u(`div`,Et,[m(v(e),{class:`h-5 w-5 text-gray-400`})]),g(u(`input`,{id:`others`,type:`number`,step:`0.01`,"onUpdate:modelValue":i[20]||=e=>z.value.others=e,disabled:P.value,placeholder:`0.00`,class:`block w-full pl-10 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[21]||=()=>q(`others`),onInput:Y,required:``},null,40,Dt),[[o,z.value.others]])]),K(`others`)?(n(),f(`p`,Ot,b(K(`others`)),1)):d(``,!0)]),u(`div`,null,[i[57]||=u(`label`,{for:`final_total`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[p(` Final Total `),u(`span`,{class:`text-red-500`},`*`)],-1),u(`div`,E,[u(`div`,kt,[m(v(e),{class:`h-5 w-5 text-gray-400`})]),g(u(`input`,{id:`final_total`,type:`number`,step:`0.01`,"onUpdate:modelValue":i[22]||=e=>z.value.final_total=e,disabled:!0,placeholder:`0.00`,class:`block w-full pl-10 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200 cursor-not-allowed`,readonly:``},null,512),[[o,z.value.final_total]])]),i[58]||=u(`p`,{class:`mt-1 text-xs text-gray-500`},` Calculated automatically: Sub Total - Advance Payment + Others `,-1)])])]),u(`div`,null,[i[62]||=u(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Additional Information `,-1),u(`div`,At,[u(`div`,jt,[i[60]||=u(`label`,{for:`others_note`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},` Others Note `,-1),u(`span`,Mt,b(z.value.others_note?.length||0)+`/500 characters`,1)]),g(u(`textarea`,{id:`others_note`,"onUpdate:modelValue":i[23]||=e=>z.value.others_note=e,rows:`3`,maxlength:`500`,disabled:P.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,placeholder:`Enter any additional notes about other amounts...`,onBlur:i[24]||=()=>q(`others_note`)},null,40,Nt),[[o,z.value.others_note]]),K(`others_note`)?(n(),f(`p`,Pt,b(K(`others_note`)),1)):d(``,!0)]),u(`div`,null,[u(`div`,Ft,[i[61]||=u(`label`,{for:`note`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},` Notes `,-1),u(`span`,It,b(z.value.note?.length||0)+`/1000 characters`,1)]),g(u(`textarea`,{id:`note`,"onUpdate:modelValue":i[25]||=e=>z.value.note=e,rows:`4`,maxlength:`1000`,disabled:P.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,placeholder:`Enter general notes or comments...`,onBlur:i[26]||=()=>q(`note`)},null,40,Lt),[[o,z.value.note]]),K(`note`)?(n(),f(`p`,Rt,b(K(`note`)),1)):d(``,!0)])]),z.value.employee_id&&z.value.final_total!==void 0?(n(),f(`div`,zt,[i[69]||=u(`h4`,{class:`text-sm font-medium text-blue-800 dark:text-blue-300 mb-3`},`Salary Summary`,-1),u(`div`,Bt,[u(`div`,Vt,[i[63]||=u(`span`,{class:`text-blue-700 dark:text-blue-400`},`Employee:`,-1),u(`span`,Ht,b(G.value),1)]),u(`div`,Ut,[i[64]||=u(`span`,{class:`text-blue-700 dark:text-blue-400`},`Period:`,-1),u(`span`,Wt,b(un.value)+` `+b(z.value.year),1)]),u(`div`,Gt,[i[65]||=u(`span`,{class:`text-blue-700 dark:text-blue-400`},`Sub Total:`,-1),u(`span`,Kt,`$`+b(Number(z.value.sub_total).toFixed(2)),1)]),u(`div`,qt,[i[66]||=u(`span`,{class:`text-blue-700 dark:text-blue-400`},`Advance Payment:`,-1),u(`span`,Jt,`-$`+b(Number(z.value.advance_payment).toFixed(2)),1)]),u(`div`,Yt,[i[67]||=u(`span`,{class:`text-blue-700 dark:text-blue-400`},`Others:`,-1),u(`span`,Xt,`+$`+b(Number(z.value.others).toFixed(2)),1)]),u(`div`,Zt,[i[68]||=u(`span`,{class:`font-semibold text-blue-800 dark:text-blue-300`},`Final Total:`,-1),u(`span`,Qt,`$`+b(Number(z.value.final_total).toFixed(2)),1)])])])):d(``,!0),u(`div`,$t,[u(`button`,{type:`button`,onClick:Q,disabled:P.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,en),u(`button`,{type:`submit`,disabled:P.value||U.value||!W.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[P.value?(n(),f(`div`,nn,i[70]||=[u(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),p(` Updating... `,-1)])):(n(),f(`span`,rn,`Update Salary`))],8,tn)])],32)])])):d(``,!0)])])):(n(),f(`div`,an,[u(`div`,on,[m(v(r),{class:`w-12 h-12 text-red-400 mb-4`}),i[71]||=u(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Salary Not Found `,-1),i[72]||=u(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The salary record you're trying to edit could not be found. `,-1),u(`button`,{onClick:$,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` ï¿½ Back to Salaries `)])]))])])}}}),O=D;export{O as default};