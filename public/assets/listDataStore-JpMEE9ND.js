import{a9 as e,aQ as t,aj as n,au as r}from"./index-lk-38IH9.js";var i=class{baseUrl=`/list-data`;async getList(t){try{let n=await e(`${this.baseUrl}/${t}`,{showLoading:!1});return n.data.data}catch(e){throw console.error(`Error fetching ${t} list:`,e),e}}async getWarehouses(){return this.getList(`warehouses`)}async getCurrencies(){return this.getList(`currencies`)}async getCustomers(){return this.getList(`customers`)}async getCustomerPaymentTerms(){return this.getList(`customerPaymentTerms`)}async getCustomerGroups(){return this.getList(`customerGroups`)}async getCustomerProvince(){return this.getList(`customerProvince`)}async getCustomerType(){return this.getList(`customerType`)}async getCustomerZone(){return this.getList(`customerZone`)}async getAccounts(){return this.getList(`accounts`)}async getAccountTypes(){return this.getList(`accountTypes`)}async getExpenseCategories(){return this.getList(`expenseCategories`)}async getItemBrands(){return this.getList(`itemBrands`)}async getItemCategories(){return this.getList(`itemCategories`)}async getItemFamilies(){return this.getList(`itemFamilies`)}async getItemGroups(){return this.getList(`itemGroups`)}async getItemProfitMargins(){return this.getList(`itemProfitMargins`)}async getItemTypes(){return this.getList(`itemTypes`)}async getItemUnits(){return this.getList(`itemUnits`)}async getSuppliers(){return this.getList(`suppliers`)}async getSupplierPaymentTerms(){return this.getList(`supplierPaymentTerms`)}async getSupplierTypes(){return this.getList(`supplierTypes`)}async getEmployees(){return this.getList(`employees`)}async getSalesEmployees(){return this.getList(`sales-employees`)}async getDepartments(){return this.getList(`departments`)}async getCountries(){return this.getList(`countries`)}async getTaxCodes(){return this.getList(`taxCodes`)}};const ee=new i,a=300*1e3,o=n(`listData`,()=>{let e=t({}),n=t=>{let n=e.value[t];if(!n)return!1;let r=Date.now();return r-n.timestamp<a},i=t=>e.value[t]?.loading||!1,o=t=>e.value[t]?.data||[],s=e=>r(()=>o(e)),c=r(()=>o(`warehouses`)),l=r(()=>o(`currencies`)),u=r(()=>o(`customers`)),d=r(()=>o(`customerPaymentTerms`)),f=r(()=>o(`customerGroups`)),p=r(()=>o(`customerProvince`)),m=r(()=>o(`customerType`)),h=r(()=>o(`customerZone`)),g=r(()=>o(`accountTypes`)),_=r(()=>o(`expenseCategories`)),v=r(()=>o(`itemBrands`)),y=r(()=>o(`itemCategories`)),b=r(()=>o(`itemFamilies`)),x=r(()=>o(`itemGroups`)),S=r(()=>o(`itemProfitMargins`)),C=r(()=>o(`itemTypes`)),w=r(()=>o(`itemUnits`)),T=r(()=>o(`suppliers`)),E=r(()=>o(`supplierPaymentTerms`)),D=r(()=>o(`supplierTypes`)),O=r(()=>o(`employees`)),k=r(()=>o(`sales-employees`)),A=r(()=>o(`departments`)),j=r(()=>o(`countries`)),M=r(()=>o(`taxCodes`)),N=r(()=>o(`accounts`)),P=async(t,r=!1)=>{if(!r&&n(t))return o(t);if(i(t))return new Promise(e=>{let n=()=>{i(t)?setTimeout(n,100):e(o(t))};n()});try{e.value[t]||(e.value[t]={data:[],timestamp:0,loading:!1}),e.value[t].loading=!0;let n=await ee.getList(t);return e.value[t]={data:n,timestamp:Date.now(),loading:!1},n}catch(n){throw e.value[t]&&(e.value[t].loading=!1),console.error(`Error fetching ${t} list data:`,n),n}},te=(e=!1)=>P(`warehouses`,e),F=(e=!1)=>P(`currencies`,e),I=(e=!1)=>P(`customers`,e),L=(e=!1)=>P(`customerPaymentTerms`,e),R=(e=!1)=>P(`customerGroups`,e),z=(e=!1)=>P(`customerProvince`,e),B=(e=!1)=>P(`customerType`,e),V=(e=!1)=>P(`customerZone`,e),H=(e=!1)=>P(`accountTypes`,e),U=(e=!1)=>P(`expenseCategories`,e),W=(e=!1)=>P(`itemBrands`,e),G=(e=!1)=>P(`itemCategories`,e),K=(e=!1)=>P(`itemFamilies`,e),q=(e=!1)=>P(`itemGroups`,e),J=(e=!1)=>P(`itemProfitMargins`,e),Y=(e=!1)=>P(`itemTypes`,e),X=(e=!1)=>P(`itemUnits`,e),Z=(e=!1)=>P(`suppliers`,e),Q=(e=!1)=>P(`supplierPaymentTerms`,e),ne=(e=!1)=>P(`supplierTypes`,e),re=(e=!1)=>P(`employees`,e),ie=(e=!1)=>P(`sales-employees`,e),ae=(e=!1)=>P(`departments`,e),oe=(e=!1)=>P(`countries`,e),$=(e=!1)=>P(`taxCodes`,e),se=(e=!1)=>P(`accounts`,e),ce=t=>{t?delete e.value[t]:e.value={}},le=async e=>P(e,!0),ue=async()=>{let e=[`warehouses`,`currencies`,`customers`,`customerPaymentTerms`,`customerGroups`,`customerProvince`,`customerType`,`customerZone`,`accountTypes`,`expenseCategories`,`itemBrands`,`itemCategories`,`itemFamilies`,`itemGroups`,`itemProfitMargins`,`itemTypes`,`itemUnits`,`suppliers`,`supplierPaymentTerms`,`supplierTypes`,`employees`,`departments`,`countries`,`taxCodes`,`accounts`],t=e.map(e=>P(e,!0));await Promise.allSettled(t)},de=()=>{let t={};return Object.keys(e.value).forEach(e=>{t[e]={valid:n(e),loading:i(e),dataCount:o(e).length}}),t};return{isCacheValid:n,isLoading:i,getCachedData:o,getListData:s,warehouses:c,currencies:l,customers:u,customerPaymentTerms:d,customerGroups:f,customerProvince:p,customerType:m,customerZone:h,accountTypes:g,expenseCategories:_,itemBrands:v,itemCategories:y,itemFamilies:b,itemGroups:x,itemProfitMargins:S,itemTypes:C,itemUnits:w,suppliers:T,supplierPaymentTerms:E,supplierTypes:D,employees:O,salesEmployees:k,departments:A,countries:j,taxCodes:M,accounts:N,fetchListData:P,fetchWarehouses:te,fetchCurrencies:F,fetchCustomers:I,fetchCustomerPaymentTerms:L,fetchCustomerGroups:R,fetchCustomerProvince:z,fetchCustomerType:B,fetchCustomerZone:V,fetchAccountTypes:H,fetchExpenseCategories:U,fetchItemBrands:W,fetchItemCategories:G,fetchItemFamilies:K,fetchItemGroups:q,fetchItemProfitMargins:J,fetchItemTypes:Y,fetchItemUnits:X,fetchSuppliers:Z,fetchSupplierPaymentTerms:Q,fetchSupplierTypes:ne,fetchEmployees:re,fetchSalesEmployees:ie,fetchDepartments:ae,fetchCountries:oe,fetchTaxCodes:$,fetchAccounts:se,invalidateCache:ce,refreshCache:le,refreshAllCache:ue,getCacheStatus:de}});export{o as b};