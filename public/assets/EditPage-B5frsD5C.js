import{E as e,M as t,Z as n,_ as r,a3 as ee,a4 as i,a5 as a,a7 as te,a8 as o,aA as s,aa as c,ab as l,ad as u,ae as d,af as ne,ag as re,ah as f,ai as ie,ak as ae,am as p,an as m,as as oe,au as h,aw as g,ax as _,ay as v,c as y,e as se,t as ce,x as le,z as ue}from"./index-CxTKwM3X.js";import{b as de}from"./customersStore-B5s35IWh.js";import{c as fe,d as pe}from"./customerZonesStore-CigXCSXM.js";import{b as me,d as he,f as ge}from"./customerPaymentTermsStore-BKWGUIBI.js";import{b as _e}from"./useCustomerValidation-DaX7IyYU.js";import{b as ve}from"./FileUpload-WWfiZMID.js";import{b}from"./documentService-DkFvl-2L.js";const ye={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},be={class:`max-w-4xl mx-auto`},xe={class:`mb-8`},Se={class:`flex items-center space-x-4 mb-2`},Ce={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},we={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},x={class:`px-6 py-8`},S={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},C={key:0,class:`mt-1 text-xs text-gray-500`},w=[`disabled`],T=[`value`],E={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},D=[`disabled`],O=[`value`],k={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Te={class:`flex items-start pt-6`},Ee={class:`flex items-center h-5`},De=[`disabled`],Oe={class:`space-y-6`},ke=[`disabled`],Ae={class:`flex justify-between items-center mt-1`},je={key:0,class:`text-sm text-red-600 dark:text-red-400`},Me={class:`text-xs text-gray-500 ml-auto`},Ne={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Pe=[`disabled`],Fe=[`value`],Ie={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Le=[`disabled`],Re=[`value`],ze={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Be={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Ve={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},He={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Ue=[`disabled`],We=[`value`],Ge={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ke=[`disabled`],qe=[`value`],Je={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ye={class:`mb-6`},Xe=[`disabled`],Ze={class:`flex justify-between items-center mt-1`},Qe={key:0,class:`text-sm text-red-600 dark:text-red-400`},$e={class:`text-xs text-gray-500 ml-auto`},et={key:0,class:`mb-4`},tt={class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},nt={class:`space-y-2`},rt={class:`flex items-center space-x-3`},it={class:`flex-shrink-0`},at={class:`text-sm font-medium text-gray-900 dark:text-gray-100`},ot={class:`text-xs text-gray-500 dark:text-gray-400`},A={class:`flex items-center space-x-2`},st=[`onClick`,`disabled`],ct=[`onClick`,`disabled`],lt={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},ut=[`disabled`],dt=[`disabled`],ft={key:0,class:`flex items-center justify-center`},pt={key:1},mt={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},ht={class:`flex flex-col items-center`},gt={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},_t={class:`flex`},vt={class:`flex-shrink-0`};var j=ie({__name:`EditPage`,setup(ie){let j=r(),M=n(),N=c(()=>parseInt(M.params.id)),P=de(),F=pe(),I=ge(),L=he(),R=fe(),z=me(),{errors:yt,hasErrors:bt,getFieldError:B,validateUpdateRequest:xt,clearFieldError:V,setServerErrors:H,clearErrors:U}=_e(),W=g(!1),G=g(!1),K=g([]),q=g([]),J=g({name:``,customer_type_id:void 0,customer_group_id:void 0,customer_province_id:void 0,customer_zone_id:void 0,salesperson_id:void 0,customer_payment_term_id:void 0,opening_balance:void 0,credit_limit:void 0,address:``,city:``,telephone:``,mobile:``,email:``,url:``,discount_percentage:void 0,notes:``,attachments:[],documents:[],is_active:!0}),Y=g({name:``,customer_type_id:void 0,customer_group_id:void 0,customer_province_id:void 0,customer_zone_id:void 0,salesperson_id:void 0,customer_payment_term_id:void 0,opening_balance:void 0,credit_limit:void 0,address:``,city:``,telephone:``,mobile:``,email:``,url:``,discount_percentage:void 0,notes:``,attachments:[],documents:[],is_active:!0}),St=c(()=>F.customerTypes),Ct=c(()=>I.customerGroups),wt=c(()=>L.customerProvinces),Tt=c(()=>R.customerZones),X=c(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return W.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),Et=c(()=>J.value.name.trim().length>0&&J.value.name.length<=255);c(()=>K.value.length>0);let Dt=c(()=>(J.value.documents?.length||0)+K.value.length),Z=c(()=>J.value.documents||[]),Q=async()=>{try{G.value=!0;let e=await P.fetchCustomer(N.value);e&&(J.value={name:e.name,customer_type_id:e.customer_type?.id||void 0,customer_group_id:e.customer_group?.id||void 0,customer_province_id:e.customer_province?.id||void 0,customer_zone_id:e.customer_zone?.id||void 0,salesperson_id:e.salesperson_id||void 0,customer_payment_term_id:e.customer_payment_term?.id||void 0,opening_balance:e.opening_balance||void 0,credit_limit:e.credit_limit||void 0,address:e.address||``,city:e.city||``,telephone:e.telephone||``,mobile:e.mobile||``,email:e.email||``,url:e.url||``,discount_percentage:e.discount_percentage||void 0,notes:e.notes||``,attachments:e.attachments||[],documents:e.documents||[],is_active:e.is_active},Y.value={...J.value},U())}catch(e){console.error(`Error loading customer:`,e)}finally{G.value=!1}},Ot=e=>{if(Dt.value+e.length>10){V(`attachments`),H({attachments:[`Maximum 10 files allowed in total`]});return}V(`attachments`)},kt=e=>{H({attachments:[e]})},At=async(e,t)=>{let n=e.title||e.original_name,r=confirm(`Are you sure you want to delete "${n}"?\n\nThis action cannot be undone.`);if(r)try{W.value=!0,await b.delete(e.id),J.value.documents.splice(t,1),V(`attachments`)}catch(e){console.error(`Error deleting document:`,e)}finally{W.value=!1}},jt=async e=>{try{await b.download(e)}catch(e){console.error(`Error downloading document:`,e)}},Mt=e=>new Date(e).toLocaleDateString(`en-US`,{year:`numeric`,month:`short`,day:`numeric`}),Nt=async()=>{if(U(),xt(J.value))try{W.value=!0;let e;if(K.value.length>0){let t=new FormData;Object.entries(J.value).forEach(([e,n])=>{n!=null&&n!==``&&e!==`attachments`&&e!==`documents`&&(typeof n==`boolean`?t.append(e,n?`1`:`0`):t.append(e,n.toString()))}),K.value.forEach((e,n)=>{t.append(`documents[]`,e)}),e=t}else e={name:J.value.name,customer_type_id:J.value.customer_type_id,customer_group_id:J.value.customer_group_id,customer_province_id:J.value.customer_province_id,customer_zone_id:J.value.customer_zone_id,salesperson_id:J.value.salesperson_id,customer_payment_term_id:J.value.customer_payment_term_id,opening_balance:J.value.opening_balance,credit_limit:J.value.credit_limit,address:J.value.address,city:J.value.city,telephone:J.value.telephone,mobile:J.value.mobile,email:J.value.email,url:J.value.url,discount_percentage:J.value.discount_percentage,notes:J.value.notes,is_active:J.value.is_active};let t;e instanceof FormData?(e.append(`_method`,`PUT`),t=await P.updateCustomerWithFiles(N.value,e)):t=await P.updateCustomer(N.value,e),K.value=[],Y.value={...J.value},j.push({name:`customer.index`})}catch(e){e.response?.status===422&&e.response?.data?.errors&&H(e.response.data.errors)}finally{W.value=!1}},Pt=()=>{j.push({name:`customer.index`})},$=()=>{j.push({name:`customer.index`})};return ae(async()=>{try{G.value=!0,await Promise.all([F.fetchCustomerTypes(),I.fetchCustomerGroups(),L.fetchCustomerProvinces(),R.fetchCustomerZones(),z.fetchCustomerPaymentTerms(),P.fetchSalespersons().then(e=>{q.value=e})])}catch(e){console.error(`Error loading dropdown data:`,e)}finally{G.value=!1}await Q()}),oe(()=>M.params.id,()=>{M.params.id&&Q()}),(n,r)=>(p(),d(`div`,ye,[l(`div`,be,[l(`div`,xe,[l(`div`,Se,[l(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[f(_(t),{class:`w-5 h-5`})]),r[36]||=l(`div`,null,[l(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Customer `),l(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update customer information and business details `)],-1)])]),G.value?(p(),d(`div`,Ce,r[37]||=[l(`div`,{class:`flex items-center justify-center`},[l(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),l(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading customer...`)],-1)])):J.value?(p(),d(`div`,we,[l(`div`,x,[l(`form`,{onSubmit:te(Nt,[`prevent`]),class:`space-y-8`},[l(`div`,null,[r[43]||=l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Main Information `,-1),l(`div`,S,[l(`div`,null,[f(y,{id:`name`,modelValue:J.value.name,"onUpdate:modelValue":r[0]||=e=>J.value.name=e,label:`Customer Name`,type:`text`,placeholder:`Enter customer name`,disabled:W.value,error:_(B)(`name`),maxlength:255,required:``,onBlur:r[1]||=()=>_(V)(`name`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),J.value.name.length>0?(p(),d(`p`,C,s(J.value.name.length)+`/255 characters `,1)):u(``,!0)]),l(`div`,null,[r[39]||=l(`label`,{for:`customer_type_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Customer Type `,-1),h(l(`select`,{id:`customer_type_id`,"onUpdate:modelValue":r[2]||=e=>J.value.customer_type_id=e,disabled:W.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:r[3]||=()=>_(V)(`customer_type_id`)},[r[38]||=l(`option`,{value:``},`Select customer type`,-1),(p(!0),d(o,null,m(St.value,e=>(p(),d(`option`,{key:e.id,value:e.id},s(e.name),9,T))),128))],40,w),[[i,J.value.customer_type_id]]),_(B)(`customer_type_id`)?(p(),d(`p`,E,s(_(B)(`customer_type_id`)),1)):u(``,!0)]),l(`div`,null,[r[41]||=l(`label`,{for:`customer_group_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Customer Group `,-1),h(l(`select`,{id:`customer_group_id`,"onUpdate:modelValue":r[4]||=e=>J.value.customer_group_id=e,disabled:W.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:r[5]||=()=>_(V)(`customer_group_id`)},[r[40]||=l(`option`,{value:``},`Select customer group`,-1),(p(!0),d(o,null,m(Ct.value,e=>(p(),d(`option`,{key:e.id,value:e.id},s(e.name),9,O))),128))],40,D),[[i,J.value.customer_group_id]]),_(B)(`customer_group_id`)?(p(),d(`p`,k,s(_(B)(`customer_group_id`)),1)):u(``,!0)]),l(`div`,null,[f(y,{id:`opening_balance`,modelValue:J.value.opening_balance,"onUpdate:modelValue":r[6]||=e=>J.value.opening_balance=e,label:`Opening Balance`,type:`number`,step:`0.01`,placeholder:`0.00`,disabled:W.value,error:_(B)(`opening_balance`),onBlur:r[7]||=()=>_(V)(`opening_balance`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),l(`div`,null,[f(y,{id:`credit_limit`,modelValue:J.value.credit_limit,"onUpdate:modelValue":r[8]||=e=>J.value.credit_limit=e,label:`Credit Limit`,type:`number`,step:`0.01`,min:`0`,placeholder:`0.00`,disabled:W.value,error:_(B)(`credit_limit`),onBlur:r[9]||=()=>_(V)(`credit_limit`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),l(`div`,Te,[l(`div`,Ee,[h(l(`input`,{id:`is_active`,"onUpdate:modelValue":r[10]||=e=>J.value.is_active=e,type:`checkbox`,disabled:W.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,De),[[ee,J.value.is_active]])]),r[42]||=l(`div`,{class:`ml-3`},[l(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),l(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this customer will be available for transactions `)],-1)])])]),l(`div`,null,[r[49]||=l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Contact Information `,-1),l(`div`,Oe,[l(`div`,null,[r[44]||=l(`label`,{for:`address`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Address `,-1),h(l(`textarea`,{id:`address`,"onUpdate:modelValue":r[11]||=e=>J.value.address=e,rows:`3`,placeholder:`Enter customer address`,disabled:W.value,class:v([X.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:r[12]||=()=>_(V)(`address`),maxlength:`1000`},null,42,ke),[[a,J.value.address]]),l(`div`,Ae,[_(B)(`address`)?(p(),d(`p`,je,s(_(B)(`address`)),1)):u(``,!0),l(`p`,Me,s(J.value.address?.length||0)+`/1000 characters `,1)])]),l(`div`,Ne,[l(`div`,null,[f(y,{id:`city`,modelValue:J.value.city,"onUpdate:modelValue":r[13]||=e=>J.value.city=e,label:`City`,type:`text`,placeholder:`Enter city name`,disabled:W.value,error:_(B)(`city`),maxlength:255,onBlur:r[14]||=()=>_(V)(`city`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),l(`div`,null,[r[46]||=l(`label`,{for:`customer_province_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Province `,-1),h(l(`select`,{id:`customer_province_id`,"onUpdate:modelValue":r[15]||=e=>J.value.customer_province_id=e,disabled:W.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:r[16]||=()=>_(V)(`customer_province_id`)},[r[45]||=l(`option`,{value:``},`Select province`,-1),(p(!0),d(o,null,m(wt.value,e=>(p(),d(`option`,{key:e.id,value:e.id},s(e.name),9,Fe))),128))],40,Pe),[[i,J.value.customer_province_id]]),_(B)(`customer_province_id`)?(p(),d(`p`,Ie,s(_(B)(`customer_province_id`)),1)):u(``,!0)])]),l(`div`,null,[r[48]||=l(`label`,{for:`customer_zone_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Customer Zone `,-1),h(l(`select`,{id:`customer_zone_id`,"onUpdate:modelValue":r[17]||=e=>J.value.customer_zone_id=e,disabled:W.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:r[18]||=()=>_(V)(`customer_zone_id`)},[r[47]||=l(`option`,{value:``},`Select zone`,-1),(p(!0),d(o,null,m(Tt.value,e=>(p(),d(`option`,{key:e.id,value:e.id},s(e.name),9,Re))),128))],40,Le),[[i,J.value.customer_zone_id]]),_(B)(`customer_zone_id`)?(p(),d(`p`,ze,s(_(B)(`customer_zone_id`)),1)):u(``,!0)]),l(`div`,Be,[l(`div`,null,[f(y,{id:`telephone`,modelValue:J.value.telephone,"onUpdate:modelValue":r[19]||=e=>J.value.telephone=e,label:`Phone`,type:`tel`,placeholder:`Enter telephone number`,disabled:W.value,error:_(B)(`telephone`),maxlength:20,onBlur:r[20]||=()=>_(V)(`telephone`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),l(`div`,null,[f(y,{id:`mobile`,modelValue:J.value.mobile,"onUpdate:modelValue":r[21]||=e=>J.value.mobile=e,label:`Mobile`,type:`tel`,placeholder:`Enter mobile number`,disabled:W.value,error:_(B)(`mobile`),maxlength:20,onBlur:r[22]||=()=>_(V)(`mobile`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])]),l(`div`,Ve,[l(`div`,null,[f(y,{id:`email`,modelValue:J.value.email,"onUpdate:modelValue":r[23]||=e=>J.value.email=e,label:`Email`,type:`email`,placeholder:`Enter email address`,disabled:W.value,error:_(B)(`email`),maxlength:255,onBlur:r[24]||=()=>_(V)(`email`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),l(`div`,null,[f(y,{id:`url`,modelValue:J.value.url,"onUpdate:modelValue":r[25]||=e=>J.value.url=e,label:`Website`,type:`text`,placeholder:`Enter url URL`,disabled:W.value,error:_(B)(`url`),maxlength:255,onBlur:r[26]||=()=>_(V)(`url`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])])])]),l(`div`,null,[r[54]||=l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Sales Information `,-1),l(`div`,He,[l(`div`,null,[r[51]||=l(`label`,{for:`salesperson_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Salesperson `,-1),h(l(`select`,{id:`salesperson_id`,"onUpdate:modelValue":r[27]||=e=>J.value.salesperson_id=e,disabled:W.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:r[28]||=()=>_(V)(`salesperson_id`)},[r[50]||=l(`option`,{value:``},`Select salesperson`,-1),(p(!0),d(o,null,m(q.value,e=>(p(),d(`option`,{key:e.id,value:e.id},s(e.name)+` (`+s(e.code)+`) `,9,We))),128))],40,Ue),[[i,J.value.salesperson_id]]),_(B)(`salesperson_id`)?(p(),d(`p`,Ge,s(_(B)(`salesperson_id`)),1)):u(``,!0)]),l(`div`,null,[r[53]||=l(`label`,{for:`customer_payment_term_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Payment Term `,-1),h(l(`select`,{id:`customer_payment_term_id`,"onUpdate:modelValue":r[29]||=e=>J.value.customer_payment_term_id=e,disabled:W.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:r[30]||=()=>_(V)(`customer_payment_term_id`)},[r[52]||=l(`option`,{value:``},`Select payment term`,-1),(p(!0),d(o,null,m(_(z).customerPaymentTerms,e=>(p(),d(`option`,{key:e.id,value:e.id},s(e.name),9,qe))),128))],40,Ke),[[i,J.value.customer_payment_term_id]]),_(B)(`customer_payment_term_id`)?(p(),d(`p`,Je,s(_(B)(`customer_payment_term_id`)),1)):u(``,!0)]),l(`div`,null,[f(y,{id:`discount_percentage`,modelValue:J.value.discount_percentage,"onUpdate:modelValue":r[31]||=e=>J.value.discount_percentage=e,label:`Discount Percentage (%)`,type:`number`,step:`0.01`,min:`0`,max:`100`,placeholder:`0.00`,disabled:W.value,error:_(B)(`discount_percentage`),onBlur:r[32]||=()=>_(V)(`discount_percentage`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])])]),l(`div`,null,[r[57]||=l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Additional Information `,-1),l(`div`,Ye,[r[55]||=l(`label`,{for:`notes`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Notes `,-1),h(l(`textarea`,{id:`notes`,"onUpdate:modelValue":r[33]||=e=>J.value.notes=e,rows:`4`,placeholder:`Enter additional notes about this customer (optional)`,disabled:W.value,class:v([X.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:r[34]||=()=>_(V)(`notes`),maxlength:`2000`},null,42,Xe),[[a,J.value.notes]]),l(`div`,Ze,[_(B)(`notes`)?(p(),d(`p`,Qe,s(_(B)(`notes`)),1)):u(``,!0),l(`p`,$e,s(J.value.notes?.length||0)+`/2000 characters `,1)])]),l(`div`,null,[r[56]||=l(`label`,{for:`attachments`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Attachments `,-1),Z.value.length>0?(p(),d(`div`,et,[l(`h4`,tt,`Current Files (`+s(Z.value.length)+`)`,1),l(`div`,nt,[(p(!0),d(o,null,m(Z.value,(e,t)=>(p(),d(`div`,{key:e.id,class:`flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md`},[l(`div`,rt,[l(`div`,it,[f(_(le),{class:`h-5 w-5 text-gray-400`})]),l(`div`,null,[l(`p`,at,s(e.title||e.original_name),1),l(`p`,ot,s(e.file_size_human)+` - `+s(Mt(e.created_at)),1)])]),l(`div`,A,[l(`button`,{type:`button`,onClick:t=>jt(e),disabled:W.value,class:`text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 disabled:opacity-50`,title:`Download file`},[f(_(ue),{class:`h-4 w-4`})],8,st),l(`button`,{type:`button`,onClick:n=>At(e,t),disabled:W.value,class:`text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 disabled:opacity-50`,title:`Delete file`},[f(_(se),{class:`h-4 w-4`})],8,ct)])]))),128))])])):u(``,!0),f(ve,{modelValue:K.value,"onUpdate:modelValue":r[35]||=e=>K.value=e,"max-files":10,"max-size":10*1024*1024,disabled:W.value,accept:`.pdf,.jpg,.png`,onChange:Ot,onError:kt},null,8,[`modelValue`,`disabled`])])]),l(`div`,lt,[l(`button`,{type:`button`,onClick:Pt,disabled:W.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,ut),l(`button`,{type:`submit`,disabled:W.value||_(bt)||!Et.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[W.value?(p(),d(`div`,ft,r[58]||=[l(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),re(` Updating... `,-1)])):(p(),d(`span`,pt,`Update Customer`))],8,dt)])],32)])])):(p(),d(`div`,mt,[l(`div`,ht,[f(_(e),{class:`w-12 h-12 text-red-400 mb-4`}),r[59]||=l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Customer Not Found `,-1),r[60]||=l(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The customer you're trying to edit could not be found. `,-1),l(`button`,{onClick:$,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` ← Back to Customers `)])])),J.value?(p(),d(`div`,gt,[l(`div`,_t,[l(`div`,vt,[f(_(ce),{class:`h-5 w-5 text-blue-400`})]),r[61]||=ne(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Customer Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update the customer details carefully as this information is used for: </p><ul class="list-disc list-inside space-y-1"><li>Sales orders and invoicing</li><li>Credit limit management and monitoring</li><li>Contact management and communication</li><li>Sales performance tracking</li></ul></div></div>`,1)])])):u(``,!0)])]))}}),M=j;export{M as default};