import{O as e,R as t,a8 as n,aD as ee,aE as r,aI as te,aK as i,aL as a,aO as ne,aP as o,aR as s,aS as c,aU as l,aV as u,aW as re,aX as d,aY as f,aZ as ie,al as ae,az as oe,b0 as se,b2 as p,b3 as m,b8 as ce,ba as h,bc as g,bd as _,be as le,bg as v,d as ue,g as y,j as de}from"./index-D45hZcuH.js";import"./GlobalConfig-wPgXFcZ5.js";import"./tableUtils-dXs1kjAL.js";import{b as fe}from"./FileUpload-T6v3O7xZ.js";import{b as pe}from"./documentService-CvoMA77I.js";import{c as me}from"./itemsStore-DoVbsbV_.js";const he={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},ge={class:`max-w-4xl mx-auto`},_e={class:`mb-8`},ve={class:`flex items-center space-x-4 mb-2`},ye={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},b={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},x={class:`px-6 py-8`},S={class:`border-b border-gray-200 dark:border-gray-700 pb-6`},C={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},w={class:`mt-6`},T=[`disabled`],E={class:`flex justify-between items-center mt-1`},D={key:0,class:`text-sm text-red-600 dark:text-red-400`},O={class:`border-b border-gray-200 dark:border-gray-700 pb-6`},k={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`},A=[`disabled`],j=[`value`],M={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},N=[`disabled`],P=[`value`],be={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},xe=[`disabled`],Se=[`value`],Ce={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},we=[`disabled`],Te=[`value`],Ee=[`disabled`],De=[`value`],Oe=[`disabled`],ke=[`value`],Ae=[`disabled`],je=[`value`],Me={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ne={class:`border-b border-gray-200 dark:border-gray-700 pb-6`},Pe={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`},Fe=[`disabled`],Ie={class:`border-b border-gray-200 dark:border-gray-700 pb-6`},F={class:`grid grid-cols-1 md:grid-cols-3 gap-6`},Le={class:`mt-6`},Re=[`disabled`],ze={class:`border-b border-gray-200 dark:border-gray-700 pb-6`},Be={key:0,class:`mb-4`},Ve={class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},He={class:`grid grid-cols-2 md:grid-cols-4 gap-4`},Ue=[`src`,`alt`],We=[`onClick`,`disabled`],Ge={key:1,class:`mt-2 text-sm text-red-600 dark:text-red-400`},Ke={key:2,class:`mt-2`},qe={class:`text-xs text-gray-500 dark:text-gray-400`},Je={class:`pb-6`},Ye={class:`flex items-start`},Xe={class:`flex items-center h-5`},Ze=[`disabled`],Qe={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},$e=[`disabled`],et=[`disabled`],tt={key:0,class:`flex items-center justify-center`},nt={key:1},rt={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},it={class:`flex flex-col items-center`},at={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},ot={class:`flex`},st={class:`flex-shrink-0`};var I=ie({__name:`EditPage`,setup(ie){let I=r(),L=ee(),ct=oe(),R=s(()=>parseInt(L.params.id)),z=me(),B=ue(),V=g(!1),H=g(!1),U=g({}),W=g([]),G=g(``),K=g({code:``,description:``,short_name:``,item_type_id:void 0,item_unit_id:0,tax_code_id:0,item_family_id:void 0,item_category_id:void 0,supplier_id:void 0,item_profit_margin_id:void 0,base_cost:void 0,base_sell:void 0,starting_price:void 0,starting_quantity:0,low_quantity_alert:void 0,cost_calculation:`weighted_average`,volume:void 0,weight:void 0,barcode:``,notes:``,images:[],is_active:!0}),lt=s(()=>B.itemTypes),ut=s(()=>B.itemUnits),dt=s(()=>B.taxCodes),ft=s(()=>B.itemFamilies),pt=s(()=>B.itemCategories),mt=s(()=>B.suppliers),ht=s(()=>B.itemProfitMargins),gt=s(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-blue-600 dark:focus:ring-blue-400`];return J(`description`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):e.join(` `)}),_t=s(()=>K.value.description?.trim().length>0&&K.value.tax_code_id>0),vt=s(()=>Object.keys(U.value).length>0),q=s(()=>K.value.images||[]),yt=s(()=>(K.value.images?.length||0)+W.value.length),J=e=>U.value[e]||``,Y=e=>{U.value[e]&&delete U.value[e]},X=()=>{U.value={}},Z=e=>{U.value={},Object.keys(e).forEach(t=>{U.value[t]=e[t][0]})},Q=async()=>{try{H.value=!0;let e=await z.fetchItem(R.value);e&&(K.value={code:e.code||``,description:e.description||``,short_name:e.short_name||``,item_type_id:e.item_type?.id||void 0,item_unit_id:e.item_unit?.id||0,tax_code_id:e.tax_code?.id||0,item_family_id:e.item_family?.id||void 0,item_category_id:e.item_category?.id||void 0,supplier_id:e.supplier?.id||void 0,item_profit_margin_id:e.item_profit_margin?.id||void 0,base_cost:e.base_cost||void 0,base_sell:e.base_sell||void 0,starting_price:e.starting_price||void 0,starting_quantity:e.starting_quantity||0,low_quantity_alert:e.low_quantity_alert||void 0,cost_calculation:e.cost_calculation||`weighted_average`,volume:e.volume||void 0,weight:e.weight||void 0,barcode:e.barcode||``,notes:e.notes||``,images:e.documents||[],is_active:e.is_active},X())}catch(e){console.error(`Error loading item:`,e)}finally{H.value=!1}},bt=e=>{if(yt.value+e.length>10){Y(`images`),Z({images:[`Maximum 10 images allowed in total`]});return}W.value=e,G.value=``,Y(`images`)},xt=e=>{G.value=e},St=async(e,t)=>{let n=confirm(`Are you sure you want to delete this image?

This action cannot be undone.`);if(n)try{V.value=!0,await pe.delete(e.id),K.value.images.splice(t,1),Y(`images`)}catch(e){console.error(`Error deleting image:`,e)}finally{V.value=!1}},Ct=()=>{X();let e=!0;return K.value.description?.trim()||(U.value.description=`Description is required`,e=!1),(!K.value.tax_code_id||K.value.tax_code_id===0)&&(U.value.tax_code_id=`Tax code is required`,e=!1),e},wt=async()=>{if(console.log(`handle submit `),!Ct()){console.log(`form validation fails`);return}console.log(`validation passsed `),V.value=!0;try{let e;if(W.value.length>0){let t=new FormData;Object.entries(K.value).forEach(([e,n])=>{n!=null&&n!==``&&e!==`images`&&(typeof n==`boolean`?t.append(e,n?`1`:`0`):t.append(e,n.toString()))}),K.value.images&&K.value.images.length>0&&K.value.images.forEach((e,n)=>{t.append(`existing_documents[${n}]`,e.id.toString())}),W.value.forEach((e,n)=>{t.append(`documents[]`,e)}),e=t}else e={description:K.value.description,short_name:K.value.short_name||void 0,item_type_id:K.value.item_type_id,item_unit_id:K.value.item_unit_id,tax_code_id:K.value.tax_code_id,item_family_id:K.value.item_family_id,item_category_id:K.value.item_category_id,supplier_id:K.value.supplier_id,item_profit_margin_id:K.value.item_profit_margin_id,base_cost:K.value.base_cost,base_sell:K.value.base_sell,starting_price:K.value.starting_price,starting_quantity:K.value.starting_quantity,low_quantity_alert:K.value.low_quantity_alert,cost_calculation:K.value.cost_calculation,volume:K.value.volume,weight:K.value.weight,barcode:K.value.barcode||void 0,notes:K.value.notes||void 0,is_active:K.value.is_active};e instanceof FormData?(e.append(`_method`,`PUT`),await z.updateItemWithImages(R.value,e)):await z.updateItem(R.value,e),W.value=[],ct.success(`Item updated successfully`),I.push({name:`items.index`})}catch(e){e.response?.status===422&&e.response?.data?.errors&&Z(e.response.data.errors)}finally{V.value=!1}},Tt=()=>{I.push({name:`items.index`})},$=()=>{I.push({name:`items.index`})};return se(async()=>{try{H.value=!0,await Promise.all([B.fetchItemTypes(),B.fetchItemUnits(),B.fetchTaxCodes(),B.fetchItemFamilies(),B.fetchItemCategories(),B.fetchSuppliers(),B.fetchItemProfitMargins()])}catch(e){console.error(`Error loading dropdown data:`,e)}finally{H.value=!1}await Q()}),ce(()=>R.value,()=>{R.value&&Q()}),(ee,r)=>(p(),u(`div`,he,[c(`div`,ge,[c(`div`,_e,[c(`div`,ve,[c(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[f(_(ae),{class:`w-5 h-5`})]),r[40]||=c(`div`,null,[c(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Item `),c(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update item information and inventory details `)],-1)])]),H.value?(p(),u(`div`,ye,r[41]||=[c(`div`,{class:`flex items-center justify-center`},[c(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-4`}),c(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading item...`)],-1)])):K.value?(p(),u(`div`,b,[c(`div`,x,[c(`form`,{onSubmit:ne(wt,[`prevent`]),class:`space-y-6`},[c(`div`,S,[r[44]||=c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Basic Information `,-1),c(`div`,C,[c(`div`,null,[f(y,{modelValue:K.value.code,"onUpdate:modelValue":r[0]||=e=>K.value.code=e,label:`Item Code`,placeholder:`Auto-generated code`,disabled:``,error:J(`code`)},null,8,[`modelValue`,`error`]),r[42]||=c(`p`,{class:`mt-1 text-xs text-gray-500 dark:text-gray-400`},` Item code is auto-generated and cannot be modified `,-1)]),c(`div`,null,[f(y,{modelValue:K.value.short_name,"onUpdate:modelValue":r[1]||=e=>K.value.short_name=e,label:`Short Name`,placeholder:`Optional short name`,disabled:V.value,error:J(`short_name`),onBlur:r[2]||=e=>Y(`short_name`),clearable:``},null,8,[`modelValue`,`disabled`,`error`])])]),c(`div`,w,[r[43]||=c(`label`,{for:`description`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[d(` Description `),c(`span`,{class:`text-red-500 ml-1`},`*`)],-1),h(c(`textarea`,{id:`description`,"onUpdate:modelValue":r[3]||=e=>K.value.description=e,rows:`3`,placeholder:`Enter item description`,disabled:V.value,class:le([gt.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:r[4]||=e=>Y(`description`),required:``},null,42,T),[[a,K.value.description]]),c(`div`,E,[J(`description`)?(p(),u(`p`,D,v(J(`description`)),1)):l(``,!0)])])]),c(`div`,O,[r[59]||=c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Classification `,-1),c(`div`,k,[c(`div`,null,[r[46]||=c(`label`,{for:`item_type_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Item Type `,-1),h(c(`select`,{id:`item_type_id`,"onUpdate:modelValue":r[5]||=e=>K.value.item_type_id=e,disabled:V.value,onChange:r[6]||=e=>Y(`item_type_id`),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},[r[45]||=c(`option`,{value:``},`Select Item Type`,-1),(p(!0),u(o,null,m(lt.value,e=>(p(),u(`option`,{key:e.id,value:e.id},v(e.name),9,j))),128))],40,A),[[i,K.value.item_type_id]]),J(`item_type_id`)?(p(),u(`p`,M,v(J(`item_type_id`)),1)):l(``,!0)]),c(`div`,null,[r[48]||=c(`label`,{for:`item_unit_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[d(` Item Unit `),c(`span`,{class:`text-red-500 ml-1`},`*`)],-1),h(c(`select`,{id:`item_unit_id`,"onUpdate:modelValue":r[7]||=e=>K.value.item_unit_id=e,required:``,disabled:V.value,onChange:r[8]||=e=>Y(`item_unit_id`),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},[r[47]||=c(`option`,{value:``},`Select Item Unit`,-1),(p(!0),u(o,null,m(ut.value,e=>(p(),u(`option`,{key:e.id,value:e.id},v(e.name),9,P))),128))],40,N),[[i,K.value.item_unit_id]]),J(`item_unit_id`)?(p(),u(`p`,be,v(J(`item_unit_id`)),1)):l(``,!0)]),c(`div`,null,[r[50]||=c(`label`,{for:`tax_code_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[d(` Tax Code `),c(`span`,{class:`text-red-500 ml-1`},`*`)],-1),h(c(`select`,{id:`tax_code_id`,"onUpdate:modelValue":r[9]||=e=>K.value.tax_code_id=e,required:``,disabled:V.value,onChange:r[10]||=e=>Y(`tax_code_id`),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},[r[49]||=c(`option`,{value:``},`Select Tax Code`,-1),(p(!0),u(o,null,m(dt.value,e=>(p(),u(`option`,{key:e.id,value:e.id},v(e.name)+` (`+v(e.tax_percent)+`%) `,9,Se))),128))],40,xe),[[i,K.value.tax_code_id]]),J(`tax_code_id`)?(p(),u(`p`,Ce,v(J(`tax_code_id`)),1)):l(``,!0)]),c(`div`,null,[r[52]||=c(`label`,{for:`item_family_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Item Family `,-1),h(c(`select`,{id:`item_family_id`,"onUpdate:modelValue":r[11]||=e=>K.value.item_family_id=e,disabled:V.value,onChange:r[12]||=e=>Y(`item_family_id`),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},[r[51]||=c(`option`,{value:``},`Select Item Family`,-1),(p(!0),u(o,null,m(ft.value,e=>(p(),u(`option`,{key:e.id,value:e.id},v(e.name),9,Te))),128))],40,we),[[i,K.value.item_family_id]])]),c(`div`,null,[r[54]||=c(`label`,{for:`item_category_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Item Category `,-1),h(c(`select`,{id:`item_category_id`,"onUpdate:modelValue":r[13]||=e=>K.value.item_category_id=e,disabled:V.value,onChange:r[14]||=e=>Y(`item_category_id`),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},[r[53]||=c(`option`,{value:``},`Select Item Category`,-1),(p(!0),u(o,null,m(pt.value,e=>(p(),u(`option`,{key:e.id,value:e.id},v(e.name),9,De))),128))],40,Ee),[[i,K.value.item_category_id]])]),c(`div`,null,[r[56]||=c(`label`,{for:`supplier_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Supplier `,-1),h(c(`select`,{id:`supplier_id`,"onUpdate:modelValue":r[15]||=e=>K.value.supplier_id=e,disabled:V.value,onChange:r[16]||=e=>Y(`supplier_id`),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},[r[55]||=c(`option`,{value:``},`Select Supplier`,-1),(p(!0),u(o,null,m(mt.value,e=>(p(),u(`option`,{key:e.id,value:e.id},v(e.name),9,ke))),128))],40,Oe),[[i,K.value.supplier_id]])]),c(`div`,null,[r[58]||=c(`label`,{for:`item_profit_margin_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Profit Margin `,-1),h(c(`select`,{id:`item_profit_margin_id`,"onUpdate:modelValue":r[17]||=e=>K.value.item_profit_margin_id=e,disabled:V.value,onChange:r[18]||=e=>Y(`item_profit_margin_id`),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},[r[57]||=c(`option`,{value:``},`Select Profit Margin`,-1),(p(!0),u(o,null,m(ht.value,e=>(p(),u(`option`,{key:e.id,value:e.id},v(e.name),9,je))),128))],40,Ae),[[i,K.value.item_profit_margin_id]]),J(`item_profit_margin_id`)?(p(),u(`p`,Me,v(J(`item_profit_margin_id`)),1)):l(``,!0)])])]),c(`div`,Ne,[r[62]||=c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Pricing & Inventory `,-1),c(`div`,Pe,[c(`div`,null,[f(y,{modelValue:K.value.base_cost,"onUpdate:modelValue":r[19]||=e=>K.value.base_cost=e,type:`number`,step:`0.01`,min:`0`,label:`Base Cost`,placeholder:`0.00`,disabled:V.value,error:J(`base_cost`),onBlur:r[20]||=e=>Y(`base_cost`)},null,8,[`modelValue`,`disabled`,`error`])]),c(`div`,null,[f(y,{modelValue:K.value.base_sell,"onUpdate:modelValue":r[21]||=e=>K.value.base_sell=e,type:`number`,step:`0.01`,min:`0`,label:`Base Selling Price`,placeholder:`0.00`,disabled:V.value,error:J(`base_sell`),onBlur:r[22]||=e=>Y(`base_sell`)},null,8,[`modelValue`,`disabled`,`error`])]),c(`div`,null,[f(y,{modelValue:K.value.starting_price,"onUpdate:modelValue":r[23]||=e=>K.value.starting_price=e,type:`number`,step:`0.01`,min:`0`,label:`Starting Price`,placeholder:`0.00`,disabled:V.value,error:J(`starting_price`),onBlur:r[24]||=e=>Y(`starting_price`)},null,8,[`modelValue`,`disabled`,`error`])]),c(`div`,null,[f(y,{modelValue:K.value.starting_quantity,"onUpdate:modelValue":r[25]||=e=>K.value.starting_quantity=e,type:`number`,step:`0.01`,min:`0`,label:`Starting Quantity`,placeholder:`0`,disabled:V.value,error:J(`starting_quantity`),onBlur:r[26]||=e=>Y(`starting_quantity`)},null,8,[`modelValue`,`disabled`,`error`])]),c(`div`,null,[f(y,{modelValue:K.value.low_quantity_alert,"onUpdate:modelValue":r[27]||=e=>K.value.low_quantity_alert=e,type:`number`,step:`0.01`,min:`0`,label:`Low Stock Alert`,placeholder:`Optional alert threshold`,disabled:V.value,error:J(`low_quantity_alert`),onBlur:r[28]||=e=>Y(`low_quantity_alert`)},null,8,[`modelValue`,`disabled`,`error`])]),c(`div`,null,[r[61]||=c(`label`,{for:`cost_calculation`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Cost Calculation Method `,-1),h(c(`select`,{id:`cost_calculation`,"onUpdate:modelValue":r[29]||=e=>K.value.cost_calculation=e,disabled:V.value,onChange:r[30]||=e=>Y(`cost_calculation`),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},r[60]||=[c(`option`,{value:`weighted_average`},`Weighted Average`,-1),c(`option`,{value:`last_cost`},`Last Cost`,-1)],40,Fe),[[i,K.value.cost_calculation]])])])]),c(`div`,Ie,[r[64]||=c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Additional Information `,-1),c(`div`,F,[c(`div`,null,[f(y,{modelValue:K.value.volume,"onUpdate:modelValue":r[31]||=e=>K.value.volume=e,type:`number`,step:`0.0001`,min:`0`,label:`Volume`,placeholder:`Optional volume`,disabled:V.value,error:J(`volume`),onBlur:r[32]||=e=>Y(`volume`)},null,8,[`modelValue`,`disabled`,`error`])]),c(`div`,null,[f(y,{modelValue:K.value.weight,"onUpdate:modelValue":r[33]||=e=>K.value.weight=e,type:`number`,step:`0.0001`,min:`0`,label:`Weight`,placeholder:`Optional weight`,disabled:V.value,error:J(`weight`),onBlur:r[34]||=e=>Y(`weight`)},null,8,[`modelValue`,`disabled`,`error`])]),c(`div`,null,[f(y,{modelValue:K.value.barcode,"onUpdate:modelValue":r[35]||=e=>K.value.barcode=e,label:`Barcode`,placeholder:`Optional barcode`,disabled:V.value,error:J(`barcode`),onBlur:r[36]||=e=>Y(`barcode`),clearable:``},null,8,[`modelValue`,`disabled`,`error`])])]),c(`div`,Le,[r[63]||=c(`label`,{for:`notes`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Notes `,-1),h(c(`textarea`,{id:`notes`,"onUpdate:modelValue":r[37]||=e=>K.value.notes=e,rows:`3`,placeholder:`Optional notes about this item`,disabled:V.value,class:`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset focus:ring-blue-600 dark:focus:ring-blue-400 sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`},null,8,Re),[[a,K.value.notes]])])]),c(`div`,ze,[r[65]||=c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Product Images `,-1),q.value.length>0?(p(),u(`div`,Be,[c(`h4`,Ve,`Current Images (`+v(q.value.length)+`)`,1),c(`div`,He,[(p(!0),u(o,null,m(q.value,(e,t)=>(p(),u(`div`,{key:e.id,class:`relative group`},[c(`img`,{src:e.thumbnail_url,alt:e.title||e.original_name||`Product image`,class:`w-full h-24 object-cover rounded-lg border border-gray-300 dark:border-gray-600`},null,8,Ue),c(`button`,{type:`button`,onClick:n=>St(e,t),disabled:V.value,class:`absolute -top-2 -right-2 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity disabled:opacity-50`,title:`Remove image`},[f(_(de),{class:`h-3 w-3`})],8,We)]))),128))])])):l(``,!0),f(fe,{modelValue:W.value,"onUpdate:modelValue":r[38]||=e=>W.value=e,"max-files":10,"max-size":5*1024*1024,disabled:V.value,accept:`.jpg,.jpeg,.png,.gif,.bmp,.webp`,onChange:bt,onError:xt},null,8,[`modelValue`,`disabled`]),G.value?(p(),u(`p`,Ge,v(G.value),1)):l(``,!0),q.value.length+W.value.length>0?(p(),u(`div`,Ke,[c(`p`,qe,` Total images: `+v(q.value.length+W.value.length)+`/10 `,1)])):l(``,!0),r[66]||=c(`p`,{class:`mt-2 text-xs text-gray-500 dark:text-gray-400`},` Upload product images to help customers identify this item. Maximum 10 images, 5MB each. `,-1)]),c(`div`,Je,[r[68]||=c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Status `,-1),c(`div`,Ye,[c(`div`,Xe,[h(c(`input`,{id:`is_active`,"onUpdate:modelValue":r[39]||=e=>K.value.is_active=e,type:`checkbox`,disabled:V.value,class:`h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Ze),[[te,K.value.is_active]])]),r[67]||=c(`div`,{class:`ml-3`},[c(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),c(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this item will be available for use in transactions `)],-1)])]),c(`div`,Qe,[c(`button`,{type:`button`,onClick:Tt,disabled:V.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,$e),c(`button`,{type:`submit`,disabled:V.value||vt.value||!_t.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[V.value?(p(),u(`div`,tt,[f(_(e),{class:`animate-spin h-4 w-4 mr-2`}),r[69]||=d(` Updating... `,-1)])):(p(),u(`span`,nt,`Update Item`))],8,et)])],32)])])):(p(),u(`div`,rt,[c(`div`,it,[f(_(n),{class:`w-12 h-12 text-red-400 mb-4`}),r[70]||=c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Item Not Found `,-1),r[71]||=c(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The item you're trying to edit could not be found. `,-1),c(`button`,{onClick:$,class:`px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300`},` ‚Üê Back to Items `)])])),K.value?(p(),u(`div`,at,[c(`div`,ot,[c(`div`,st,[f(_(t),{class:`h-5 w-5 text-blue-400`})]),r[72]||=re(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Item Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update the item details carefully as this information is used for: </p><ul class="list-disc list-inside space-y-1"><li>Purchase and sales transactions</li><li>Inventory tracking and stock management</li><li>Pricing calculations and tax computations</li><li>System availability for transactions</li><li>Reports and analytics</li></ul><p class="mt-2 text-xs"><strong>Note:</strong> The item code cannot be changed once created. </p></div></div>`,1)])])):l(``,!0)])]))}}),L=I;export{L as default};