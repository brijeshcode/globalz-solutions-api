import{P as e,Q as t,R as n,S as r,T as i,_ as a,a6 as o,a7 as s,a8 as c,a9 as l,aa as u,ab as d,ac as f,ad as p,af as m,ag as h,ah as g,al as _,am as v,an as y,aq as b,av as x,aw as S,ax as C,az as w,e as ee,m as T,q as E}from"./index-Dr1ObvLr.js";const D={class:`flex flex-col sm:flex-row sm:items-center sm:justify-between`},O={class:`text-2xl font-bold text-gray-900 dark:text-white`},k={key:0,class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},A={class:`mt-4 sm:mt-0 flex space-x-2`};var j=g({__name:`PageHeader`,props:{title:{},description:{},showCreateButton:{type:Boolean,default:!0},createButtonText:{default:`Create New`}},emits:[`create`],setup(e){return(e,t)=>(_(),p(`div`,D,[u(`div`,null,[u(`h1`,O,w(e.title),1),e.description?(_(),p(`p`,k,w(e.description),1)):f(``,!0)]),u(`div`,A,[y(e.$slots,`actions`,{},()=>[e.showCreateButton?(_(),p(`button`,{key:0,onClick:t[0]||=t=>e.$emit(`create`),class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[y(e.$slots,`create-icon`,{},()=>[h(S(T),{class:`h-5 w-5 mr-2`})]),m(` `+w(e.createButtonText),1)])):f(``,!0)])])]))}}),M=j,N=g({__name:`StatusBadge`,props:{active:{type:Boolean},size:{default:`md`},variant:{default:`default`},activeLabel:{default:`Active`},inactiveLabel:{default:`Inactive`}},setup(e){let t=e,n=l(()=>t.active?t.activeLabel:t.inactiveLabel),r=l(()=>{let e={sm:`px-1.5 py-0.5 text-xs`,md:`px-2 py-1 text-xs`,lg:`px-3 py-1.5 text-sm`},n={active:{default:`bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400`,success:`bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400`,danger:`bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400`,warning:`bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400`},inactive:{default:`bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400`,success:`bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400`,danger:`bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400`,warning:`bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400`}},r=e[t.size],i=n[t.active?`active`:`inactive`][t.variant];return`${r} ${i}`});return(e,t)=>(_(),p(`span`,{class:C([`inline-flex px-2 py-1 text-xs font-semibold rounded-full`,r.value])},w(n.value),3))}}),P=N;const F={class:`flex justify-between items-center mb-4`},I={class:`text-lg font-medium text-gray-900 dark:text-gray-100`},L={key:0,class:`flex items-center justify-center py-8`},R={class:`ml-2 text-gray-600 dark:text-gray-400`},z={key:1,class:`space-y-6`},B={class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},V={key:1,class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},H={key:2,class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},U={key:3,class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},W=[`src`,`alt`],G=[`href`],K={key:6,class:`mt-1`},q={key:7,class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},J={key:0,class:`text-xs text-gray-500 dark:text-gray-400`},Y={key:2,class:`text-center py-8`},X={class:`text-gray-500 dark:text-gray-400`},Z={class:`mt-6 flex justify-end space-x-3`};var te=g({__name:`DetailsModal`,props:{show:{type:Boolean},item:{},title:{default:`Details`},displayFields:{default:()=>[]},loading:{type:Boolean},loadingText:{default:`Loading...`},emptyText:{default:`No data available`},closeText:{default:`Close`},size:{default:`md`},columns:{default:2}},emits:[`close`,`update:show`],setup(e,{emit:t}){let n=e,r=t,i=b(),a=l(()=>!!i.content),g=l(()=>{let e={sm:`w-1/3 max-w-sm`,md:`w-2/3 max-w-2xl`,lg:`w-3/4 max-w-4xl`,xl:`w-4/5 max-w-6xl`,"2xl":`w-11/12 max-w-7xl`};return e[n.size]}),x=l(()=>{let e={1:`grid-cols-1`,2:`grid-cols-1 md:grid-cols-2`,3:`grid-cols-1 md:grid-cols-3`,4:`grid-cols-1 md:grid-cols-4`};return e[n.columns]||`grid-cols-1 md:grid-cols-2`}),T=e=>{if(!n.item)return null;let t=e.split(`.`),r=n.item;for(let e of t)if(r=r?.[e],r==null)break;return r},D=e=>{let t=T(e.key);return t==null||t===``?e.fallback||`N/A`:t},O=(e,t=`en-US`)=>{if(!e)return`N/A`;try{return new Date(e).toLocaleDateString(t,{year:`numeric`,month:`short`,day:`numeric`,hour:`2-digit`,minute:`2-digit`})}catch{return e}},k=(e,t=`USD`)=>{if(e==null)return`N/A`;try{return new Intl.NumberFormat(`en-US`,{style:`currency`,currency:t}).format(e)}catch{return`${t} ${e}`}},A=(e,t=`, `)=>!Array.isArray(e)||e.length===0?`N/A`:e.join(t),j=()=>{r(`close`),r(`update:show`,!1)};return(e,t)=>(_(),d(c,{to:`body`},[e.show?(_(),p(`div`,{key:0,class:`fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50`,onClick:o(j,[`self`])},[u(`div`,{class:C([`relative top-20 mx-auto p-5 border shadow-lg rounded-md bg-white dark:bg-gray-800`,g.value])},[u(`div`,F,[u(`h3`,I,[y(e.$slots,`title`,{},()=>[m(w(e.title),1)])]),u(`button`,{onClick:j,class:`text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200`},[h(S(ee),{class:`w-6 h-6`})])]),e.loading?(_(),p(`div`,L,[h(S(E),{class:`h-8 w-8 animate-spin text-blue-600 dark:text-blue-400`}),u(`span`,R,w(e.loadingText),1)])):e.item?(_(),p(`div`,z,[a.value?y(e.$slots,`content`,{key:1,item:e.item,formatDate:O,formatCurrency:k}):(_(),p(`div`,{key:0,class:C([`grid gap-6`,x.value])},[(_(!0),p(s,null,v(e.displayFields,t=>(_(),p(`div`,{key:t.key,class:C(t.colSpan||`col-span-1`)},[u(`label`,B,w(t.label),1),t.type===`status`?(_(),d(P,{key:0,active:T(t.key),"active-label":t.activeLabel,"inactive-label":t.inactiveLabel,class:`mt-1`},null,8,[`active`,`active-label`,`inactive-label`])):t.type===`date`?(_(),p(`p`,V,w(O(T(t.key),t.dateFormat)),1)):t.type===`currency`?(_(),p(`p`,H,w(k(T(t.key),t.currency)),1)):t.type===`array`?(_(),p(`p`,U,w(A(T(t.key),t.separator)),1)):t.type===`image`?(_(),p(`img`,{key:4,src:T(t.key),alt:t.label,class:`mt-1 w-20 h-20 object-cover rounded-md`},null,8,W)):t.type===`link`?(_(),p(`a`,{key:5,href:T(t.key),target:`_blank`,class:`mt-1 text-sm text-blue-600 dark:text-blue-400 hover:underline`},w(T(t.key)),9,G)):t.type===`custom`?(_(),p(`div`,K,[y(e.$slots,`field-${t.key}`,{value:T(t.key),field:t,item:e.item})])):(_(),p(`p`,q,[m(w(D(t))+` `,1),t.subKey?(_(),p(`p`,J,w(T(t.subKey)),1)):f(``,!0)]))],2))),128))],2))])):(_(),p(`div`,Y,[u(`p`,X,w(e.emptyText),1)])),u(`div`,Z,[y(e.$slots,`actions`,{item:e.item,close:j},()=>[u(`button`,{onClick:j,class:`px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-200`},w(e.closeText),1)])])],2)])):f(``,!0)]))}}),ne=te,re=class{baseUrl=`/setups/currencies`;async getCurrencies(e){try{let n=this.buildQueryParams(e),r=await t(`${this.baseUrl}?${n}`,{loadingMessage:`Loading currencies...`,showLoading:!0});return{data:r.data.data,pagination:r.data.pagination}}catch(e){throw console.error(`Error fetching currencies:`,e),e}}async getCurrency(e){try{let n=await t(`${this.baseUrl}/${e}`,{loadingMessage:`Loading currency...`});return n.data.data}catch(e){throw console.error(`Error fetching currency:`,e),e}}async createCurrency(e){try{let t=await r(this.baseUrl,e,{loadingMessage:`Creating currency...`,showSuccessNotification:!0,successMessage:`Currency created successfully`});return t.data.data}catch(e){throw console.error(`Error creating currency:`,e),e}}async updateCurrency(e,t){try{let n=await i(`${this.baseUrl}/${e}`,t,{loadingMessage:`Updating currency...`,showSuccessNotification:!0,successMessage:`Currency updated successfully`});return n.data.data}catch(e){throw console.error(`Error updating currency:`,e),e}}async deleteCurrency(t){try{await e(`${this.baseUrl}/${t}`,{loadingMessage:`Deleting currency...`,showSuccessNotification:!0,successMessage:`Currency deleted successfully`})}catch(e){throw console.error(`Error deleting currency:`,e),e}}async getTrashedCurrencies(e){try{let n=this.buildQueryParams(e),r=await t(`${this.baseUrl}/trashed?${n}`,{loadingMessage:`Loading trashed currencies...`});return{data:r.data.data,pagination:r.data.pagination}}catch(e){throw console.error(`Error fetching trashed currencies:`,e),e}}async restoreCurrency(e){try{let t=await n(`${this.baseUrl}/${e}/restore`,{},{loadingMessage:`Restoring currency...`,showSuccessNotification:!0,successMessage:`Currency restored successfully`});return t.data.data}catch(e){throw console.error(`Error restoring currency:`,e),e}}async forceDeleteCurrency(t){try{await e(`${this.baseUrl}/${t}/force-delete`,{loadingMessage:`Permanently deleting currency...`,showSuccessNotification:!0,successMessage:`Currency permanently deleted`})}catch(e){throw console.error(`Error permanently deleting currency:`,e),e}}async getCurrenciesForSelect(){try{let e=await t(`${this.baseUrl}`,{showLoading:!1}),n=e.data.data;return n.map(e=>({value:e.id,label:`${e.name} (${e.code})`,disabled:!1}))}catch(e){throw console.error(`Error fetching currencies for select:`,e),e}}buildQueryParams(e){if(!e)return``;let t=new URLSearchParams;return Object.entries(e).forEach(([e,n])=>{n!=null&&n!==``&&t.append(e,String(n))}),t.toString()}};const Q=new re,ie=a(`currencies`,()=>{let e=x([]),t=x(null),n=x([]),r=x({current_page:1,per_page:20,total:0,last_page:1,from:null,to:null,has_more_pages:!1,next_page_url:null,prev_page_url:null,first_page_url:``,last_page_url:``}),i=x(!1),a=x({}),o=l(()=>e.value.map(e=>({value:e.id,label:`${e.name} (${e.code})`,disabled:!1}))),s=async t=>{try{i.value=!0,t&&(a.value={...a.value,...t});let n=await Q.getCurrencies(a.value);e.value=n.data,r.value=n.pagination}catch(e){throw console.error(`Error fetching currencies:`,e),e}finally{i.value=!1}},c=async e=>{try{let n=await Q.getCurrency(e);return t.value=n,n}catch(e){throw console.error(`Error fetching currency:`,e),e}},u=async t=>{try{let n=await Q.createCurrency(t);return e.value.unshift(n),r.value.total+=1,n}catch(e){throw console.error(`Error creating currency:`,e),e}},d=async(n,r)=>{try{let i=await Q.updateCurrency(n,r),a=e.value.findIndex(e=>e.id===n);return a!==-1&&(e.value[a]=i),t.value?.id===n&&(t.value=i),i}catch(e){throw console.error(`Error updating currency:`,e),e}},f=async n=>{try{await Q.deleteCurrency(n);let i=e.value.findIndex(e=>e.id===n);i!==-1&&e.value.splice(i,1),--r.value.total,t.value?.id===n&&(t.value=null)}catch(e){throw console.error(`Error deleting currency:`,e),e}},p=async e=>{try{i.value=!0;let t=e||{},r=await Q.getTrashedCurrencies(t);n.value=r.data}catch(e){throw console.error(`Error fetching trashed currencies:`,e),e}finally{i.value=!1}},m=async t=>{try{let i=await Q.restoreCurrency(t),a=n.value.findIndex(e=>e.id===t);return a!==-1&&n.value.splice(a,1),e.value.unshift(i),r.value.total+=1,i}catch(e){throw console.error(`Error restoring currency:`,e),e}},h=async e=>{try{await Q.forceDeleteCurrency(e);let t=n.value.findIndex(t=>t.id===e);t!==-1&&n.value.splice(t,1)}catch(e){throw console.error(`Error permanently deleting currency:`,e),e}},g=e=>{a.value={...a.value,...e}},_=()=>{a.value={}},v=()=>{t.value=null},y=()=>{e.value=[],t.value=null,n.value=[],r.value={current_page:1,per_page:20,total:0,last_page:1,from:null,to:null,has_more_pages:!1,next_page_url:null,prev_page_url:null,first_page_url:``,last_page_url:``},a.value={},i.value=!1},b=async()=>{try{return await Q.getCurrenciesForSelect()}catch(e){return console.error(`Error fetching currencies for select:`,e),[]}};return{currencies:e,currentCurrency:t,trashedCurrencies:n,pagination:r,loading:i,filters:a,currenciesForSelect:o,fetchCurrencies:s,fetchCurrency:c,createCurrency:u,updateCurrency:d,deleteCurrency:f,fetchTrashedCurrencies:p,restoreCurrency:m,forceDeleteCurrency:h,updateFilters:g,clearFilters:_,clearCurrentCurrency:v,reset:y,fetchCurrenciesForSelect:b}});var ae=class{baseUrl=`/setups/countries`;async getCountries(e){try{let n=this.buildQueryParams(e),r=await t(`${this.baseUrl}?${n}`,{loadingMessage:`Loading countries...`,showLoading:!0});return{data:r.data.data,pagination:r.data.pagination}}catch(e){throw console.error(`Error fetching countries:`,e),e}}async getCountry(e){try{let n=await t(`${this.baseUrl}/${e}`,{loadingMessage:`Loading country...`});return n.data.data}catch(e){throw console.error(`Error fetching country:`,e),e}}async createCountry(e){try{let t=await r(this.baseUrl,e,{loadingMessage:`Creating country...`,showSuccessNotification:!0,successMessage:`Country created successfully`});return t.data.data}catch(e){throw console.error(`Error creating country:`,e),e}}async updateCountry(e,t){try{let n=await i(`${this.baseUrl}/${e}`,t,{loadingMessage:`Updating country...`,showSuccessNotification:!0,successMessage:`Country updated successfully`});return n.data.data}catch(e){throw console.error(`Error updating country:`,e),e}}async deleteCountry(t){try{await e(`${this.baseUrl}/${t}`,{loadingMessage:`Deleting country...`,showSuccessNotification:!0,successMessage:`Country deleted successfully`})}catch(e){throw console.error(`Error deleting country:`,e),e}}async getTrashedCountries(e){try{let n=this.buildQueryParams(e),r=await t(`${this.baseUrl}/trashed?${n}`,{loadingMessage:`Loading trashed countries...`});return{data:r.data.data,pagination:r.data.pagination}}catch(e){throw console.error(`Error fetching trashed countries:`,e),e}}async restoreCountry(e){try{let t=await n(`${this.baseUrl}/${e}/restore`,{},{loadingMessage:`Restoring country...`,showSuccessNotification:!0,successMessage:`Country restored successfully`});return t.data.data}catch(e){throw console.error(`Error restoring country:`,e),e}}async forceDeleteCountry(t){try{await e(`${this.baseUrl}/${t}/force-delete`,{loadingMessage:`Permanently deleting country...`,showSuccessNotification:!0,successMessage:`Country permanently deleted`})}catch(e){throw console.error(`Error permanently deleting country:`,e),e}}async getCountriesForSelect(){try{let e=await t(`${this.baseUrl}`,{showLoading:!1}),n=e.data.data;return n.filter(e=>e.is_active).map(e=>({value:e.id,label:e.display_name,disabled:!1}))}catch(e){throw console.error(`Error fetching countries for select:`,e),e}}buildQueryParams(e){if(!e)return``;let t=new URLSearchParams;return Object.entries(e).forEach(([e,n])=>{n!=null&&n!==``&&t.append(e,String(n))}),t.toString()}};const $=new ae,oe=a(`countries`,()=>{let e=x([]),t=x(null),n=x([]),r=x({current_page:1,per_page:20,total:0,last_page:1,from:null,to:null,has_more_pages:!1,next_page_url:null,prev_page_url:null,first_page_url:``,last_page_url:``}),i=x(!1),a=x({}),o=l(()=>e.value.filter(e=>e.is_active)),s=l(()=>e.value.filter(e=>!e.is_active)),c=l(()=>o.value.map(e=>({value:e.id,label:e.display_name,disabled:!1}))),u=async t=>{try{i.value=!0,t&&(a.value={...a.value,...t});let n=await $.getCountries(a.value);e.value=n.data,r.value=n.pagination}catch(e){throw console.error(`Error fetching countries:`,e),e}finally{i.value=!1}},d=async e=>{try{let n=await $.getCountry(e);return t.value=n,n}catch(e){throw console.error(`Error fetching country:`,e),e}},f=async t=>{try{let n=await $.createCountry(t);return e.value.unshift(n),r.value.total+=1,n}catch(e){throw console.error(`Error creating country:`,e),e}},p=async(n,r)=>{try{let i=await $.updateCountry(n,r),a=e.value.findIndex(e=>e.id===n);return a!==-1&&(e.value[a]=i),t.value?.id===n&&(t.value=i),i}catch(e){throw console.error(`Error updating country:`,e),e}},m=async n=>{try{await $.deleteCountry(n);let i=e.value.findIndex(e=>e.id===n);i!==-1&&e.value.splice(i,1),--r.value.total,t.value?.id===n&&(t.value=null)}catch(e){throw console.error(`Error deleting country:`,e),e}},h=async e=>{try{i.value=!0;let t=e||{},r=await $.getTrashedCountries(t);n.value=r.data}catch(e){throw console.error(`Error fetching trashed countries:`,e),e}finally{i.value=!1}},g=async t=>{try{let i=await $.restoreCountry(t),a=n.value.findIndex(e=>e.id===t);return a!==-1&&n.value.splice(a,1),e.value.unshift(i),r.value.total+=1,i}catch(e){throw console.error(`Error restoring country:`,e),e}},_=async e=>{try{await $.forceDeleteCountry(e);let t=n.value.findIndex(t=>t.id===e);t!==-1&&n.value.splice(t,1)}catch(e){throw console.error(`Error permanently deleting country:`,e),e}},v=e=>{a.value={...a.value,...e}},y=()=>{a.value={}},b=()=>{t.value=null},S=()=>{e.value=[],t.value=null,n.value=[],r.value={current_page:1,per_page:20,total:0,last_page:1,from:null,to:null,has_more_pages:!1,next_page_url:null,prev_page_url:null,first_page_url:``,last_page_url:``},a.value={},i.value=!1},C=async()=>{try{return await $.getCountriesForSelect()}catch(e){return console.error(`Error fetching countries for select:`,e),[]}};return{countries:e,currentCountry:t,trashedCountries:n,pagination:r,loading:i,filters:a,activeCountries:o,inactiveCountries:s,countriesForSelect:c,fetchCountries:u,fetchCountry:d,createCountry:f,updateCountry:p,deleteCountry:m,fetchTrashedCountries:h,restoreCountry:g,forceDeleteCountry:_,updateFilters:v,clearFilters:y,clearCurrentCountry:b,reset:S,fetchCountriesForSelect:C}});export{oe as b,ie as c,ne as d,P as e,M as f};