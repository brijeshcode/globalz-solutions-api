import{E as e,G as t,J as ee,O as n,S as te,a4 as r,a5 as i,aC as a,aD as o,aE as s,aG as c,ae as ne,ag as re,ah as l,aj as u,ak as d,am as ie,an as f,ao as ae,aq as oe,as as p,at as se,j as ce}from"./index-DaMCECFo.js";import"./GlobalConfig-DCFE7Hv9.js";import{b as le}from"./accountsStore-C1zR2Ccm.js";import"./tableUtils-DX_RsmET.js";import{d as m}from"./common-D-kmVZlF.js";const h={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},g={class:`mb-8`},_={class:`flex items-center justify-between`},v={class:`flex items-center space-x-4`},y={class:`text-3xl font-bold text-gray-900 dark:text-gray-100`},b={class:`text-sm text-gray-600 dark:text-gray-400 mt-1`},x={class:`flex items-center space-x-3`},S={key:0,class:`flex items-center justify-center py-12`},C={key:1,class:`bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6`},w={class:`flex items-center`},T={class:`text-red-600 dark:text-red-400 mt-1`},E={key:2,class:`space-y-8`},D={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},O={class:`px-6 py-5`},k={class:`grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2 lg:grid-cols-3`},A={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},j={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},M={key:0},N={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},P={key:1},F={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},I={class:`mt-1`},L={key:2,class:`sm:col-span-2 lg:col-span-3`},R={class:`mt-1 text-sm text-gray-900 dark:text-gray-100 whitespace-pre-line`},z={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},B={class:`px-6 py-5`},V={class:`grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2`},H={key:0},U={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},W={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},ue={key:1},de={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},fe={key:2},pe={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},me={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},he={class:`px-6 py-5`},ge={class:`grid grid-cols-1 gap-5 sm:grid-cols-3`},_e={class:`bg-gray-50 dark:bg-gray-700 overflow-hidden shadow rounded-lg`},ve={class:`p-5`},ye={class:`flex items-center`},be={class:`flex-shrink-0`},xe={class:`ml-5 w-0 flex-1`},Se={class:`text-lg font-medium text-gray-900 dark:text-gray-100`},Ce={class:`bg-gray-50 dark:bg-gray-700 overflow-hidden shadow rounded-lg`},we={class:`p-5`},Te={class:`flex items-center`},Ee={class:`flex-shrink-0`},De={class:`ml-5 w-0 flex-1`},Oe={class:`text-lg font-medium text-gray-900 dark:text-gray-100`},ke={class:`bg-gray-50 dark:bg-gray-700 overflow-hidden shadow rounded-lg`},Ae={class:`p-5`},je={class:`flex items-center`},Me={class:`flex-shrink-0`},Ne={class:`ml-5 w-0 flex-1`},Pe={class:`text-sm text-gray-900 dark:text-gray-100`},Fe={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Ie={class:`overflow-hidden`},Le={class:`divide-y divide-gray-200 dark:divide-gray-700`},Re={class:`flex items-center justify-between`},ze={class:`flex items-center`},Be={class:`flex-shrink-0`},Ve={class:`h-8 w-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center`},He={class:`ml-4`},Ue={class:`text-sm font-medium text-gray-900 dark:text-gray-100`},We={class:`text-sm text-gray-500 dark:text-gray-400`},Ge={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Ke={class:`px-6 py-8 text-center`};var G=ae({__name:`ViewPage`,setup(ae){let G=i(),K=r(),qe=re(()=>parseInt(K.params.id)),q=le(),J=a(null),Y=a(!1),X=a(``),Z=a(null),Q=a([]),Je=async()=>{try{Y.value=!0,X.value=``,J.value=await q.fetchAccount(qe.value),J.value&&await Promise.all([Ye(),Xe()])}catch(e){X.value=e.message||`Failed to load account details`,console.error(`Error loading account:`,e)}finally{Y.value=!1}},Ye=async()=>{try{Z.value={transaction_count:0,current_balance:0,last_activity:null}}catch(e){console.error(`Error loading account stats:`,e)}},Xe=async()=>{try{Q.value=[]}catch(e){console.error(`Error loading recent transactions:`,e)}},Ze=()=>{G.push({name:`accounts.index`})},Qe=()=>{J.value&&G.push({name:`accounts.edit`,params:{id:J.value.id.toString()}})},$e=()=>{J.value&&G.push({name:`transactions.index`,query:{account_id:J.value.id}})},$=e=>new Intl.NumberFormat(`en-US`,{style:`currency`,currency:`USD`}).format(e);return oe(()=>{Je()}),(r,i)=>(p(),d(`div`,h,[l(`div`,g,[l(`div`,_,[l(`div`,v,[l(`button`,{onClick:Ze,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[f(o(te),{class:`w-5 h-5`})]),l(`div`,null,[l(`h1`,y,c(J.value?.name||`Account Details`),1),l(`p`,b,` Account ID: `+c(J.value?.id),1)])]),l(`div`,x,[J.value?(p(),d(`span`,{key:0,class:s([`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium`,J.value?.is_active?`bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`:`bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300`])},c(J.value?.is_active?`Active`:`Inactive`),3)):u(``,!0),l(`button`,{onClick:Qe,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700`},[f(o(ce),{class:`w-4 h-4 mr-2`}),i[0]||=ie(` Edit `,-1)])])])]),Y.value?(p(),d(`div`,S,i[1]||=[l(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`},null,-1),l(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading account details...`,-1)])):X.value?(p(),d(`div`,C,[l(`div`,w,[f(o(ee),{class:`w-6 h-6 text-red-500 mr-3`}),l(`div`,null,[i[2]||=l(`h3`,{class:`text-lg font-medium text-red-800 dark:text-red-300`},`Error Loading Account`,-1),l(`p`,T,c(X.value),1)])])])):J.value?(p(),d(`div`,E,[l(`div`,D,[i[9]||=l(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` General Information `)],-1),l(`div`,O,[l(`dl`,k,[l(`div`,null,[i[3]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Account Name`,-1),l(`dd`,A,c(J.value.name),1)]),l(`div`,null,[i[4]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Account ID`,-1),l(`dd`,j,c(J.value.id),1)]),J.value.account_type?(p(),d(`div`,M,[i[5]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Account Type`,-1),l(`dd`,N,c(J.value.account_type.name),1)])):u(``,!0),J.value.currency?(p(),d(`div`,P,[i[6]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Currency`,-1),l(`dd`,F,c(J.value.currency.name)+` (`+c(J.value.currency.code)+`)`,1)])):u(``,!0),l(`div`,null,[i[7]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Status`,-1),l(`dd`,I,[l(`span`,{class:s([`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium`,J.value.is_active?`bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`:`bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300`])},c(J.value.is_active?`Active`:`Inactive`),3)])]),J.value.description?(p(),d(`div`,L,[i[8]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Description`,-1),l(`dd`,R,c(J.value.description),1)])):u(``,!0)])])]),l(`div`,z,[i[14]||=l(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` System Information `)],-1),l(`div`,B,[l(`dl`,V,[J.value.created_by?(p(),d(`div`,H,[i[10]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Created By`,-1),l(`dd`,U,c(J.value.created_by.name),1)])):u(``,!0),l(`div`,null,[i[11]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Created At`,-1),l(`dd`,W,c(o(m)(J.value.created_at)),1)]),J.value.updated_by?(p(),d(`div`,ue,[i[12]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Last Updated By`,-1),l(`dd`,de,c(J.value.updated_by.name),1)])):u(``,!0),J.value.updated_at===J.value.created_at?u(``,!0):(p(),d(`div`,fe,[i[13]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Last Updated`,-1),l(`dd`,pe,c(o(m)(J.value.updated_at)),1)]))])])]),l(`div`,me,[i[18]||=l(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` Account Usage Statistics `)],-1),l(`div`,he,[l(`div`,ge,[l(`div`,_e,[l(`div`,ve,[l(`div`,ye,[l(`div`,be,[f(o(n),{class:`h-6 w-6 text-gray-400`})]),l(`div`,xe,[l(`dl`,null,[i[15]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400 truncate`},` Total Transactions `,-1),l(`dd`,Se,c(Z.value?.transaction_count||0),1)])])])])]),l(`div`,Ce,[l(`div`,we,[l(`div`,Te,[l(`div`,Ee,[f(o(e),{class:`h-6 w-6 text-gray-400`})]),l(`div`,De,[l(`dl`,null,[i[16]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400 truncate`},` Current Balance `,-1),l(`dd`,Oe,c($(Z.value?.current_balance||0)),1)])])])])]),l(`div`,ke,[l(`div`,Ae,[l(`div`,je,[l(`div`,Me,[f(o(t),{class:`h-6 w-6 text-gray-400`})]),l(`div`,Ne,[l(`dl`,null,[i[17]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400 truncate`},` Last Activity `,-1),l(`dd`,Pe,c(Z.value?.last_activity?o(m)(Z.value.last_activity):`No activity`),1)])])])])])])])]),Q.value&&Q.value.length>0?(p(),d(`div`,Fe,[l(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[l(`div`,{class:`flex items-center justify-between`},[i[19]||=l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` Recent Transactions `,-1),l(`button`,{onClick:$e,class:`text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` View All ï¿½ `)])]),l(`div`,Ie,[l(`ul`,Le,[(p(!0),d(ne,null,se(Q.value,t=>(p(),d(`li`,{key:t.id,class:`px-6 py-4`},[l(`div`,Re,[l(`div`,ze,[l(`div`,Be,[l(`div`,Ve,[f(o(e),{class:`h-4 w-4 text-indigo-600 dark:text-indigo-400`})])]),l(`div`,He,[l(`p`,Ue,c(t.description||`Transaction`),1),l(`p`,We,c(o(m)(t.date)),1)])]),l(`div`,{class:s([`text-sm font-medium`,t.amount>=0?`text-green-600 dark:text-green-400`:`text-red-600 dark:text-red-400`])},c(t.amount>=0?`+`:``)+c($(t.amount)),3)])]))),128))])])])):(p(),d(`div`,Ge,[i[22]||=l(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` Recent Transactions `)],-1),l(`div`,Ke,[f(o(n),{class:`mx-auto h-12 w-12 text-gray-400`}),i[20]||=l(`h3`,{class:`mt-4 text-sm font-medium text-gray-900 dark:text-gray-100`},`No transactions`,-1),i[21]||=l(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},` No transactions have been recorded for this account. `,-1)])]))])):u(``,!0)]))}}),K=G;export{K as default};