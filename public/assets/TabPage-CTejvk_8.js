import{$ as e,A as t,C as n,F as r,H as i,K as a,Q as o,S as s,X as c,Y as l,Z as u,_ as d,a$ as f,a4 as p,a5 as m,a7 as h,aB as g,aC as _,aD as v,aE as y,aF as b,aG as x,aH as S,aI as C,aJ as w,aL as T,aN as E,aO as D,aQ as O,aT as k,aU as A,aV as j,aW as M,aX as N,aY as P,aZ as F,ae as I,af as L,ag as R,ah as z,aj as ee,ao as B,as as V,au as H,av as U,ay as W,az as G,c as K,e as q,f as J,h as Y,i as X,j as te,l as ne,p as re,s as Z,x as ie,y as ae}from"./index-D8iTb-rV.js";import{b as Q}from"./useAuth-B8r2duc8.js";import"./GlobalConfig-Dep5CV3r.js";import"./tableUtils-jdfVzp2e.js";import{c as $}from"./currenciesStore-CiR8_uqg.js";import{b as oe}from"./PageHeader-CtCtKe2W.js";import{b as se}from"./ConfirmationModal-Dep2o9A4.js";import{b as ce}from"./StatusBadge-L4PB143K.js";import{d as le,e as ue,g as de}from"./common-DPsEy-Xi.js";import{b as fe}from"./companyStore-CD_Qd312.js";import{b as pe}from"./Modal-CXW4MSkT.js";import{b as me,c as he}from"./usersStore-C-skwquS.js";import{b as ge}from"./ImportModal-BmFSuOKR.js";import{b as _e}from"./taxCodesStore-hIogPr0D.js";import{b as ve}from"./warehousesStore-CttTxfI7.js";import{b as ye}from"./Tabs-DQHS4kf9.js";import{b as be}from"./DetailsModal-DJ-I6hRp.js";import{b as xe}from"./SimpleButton-CXw6n7mM.js";import{b as Se}from"./countriesStore-Dvhi-WCt.js";const Ce={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},we={class:`max-w-4xl mx-auto`},Te={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Ee={class:`px-6 py-8`},De={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Oe={class:`space-y-4`},ke={key:0,class:`flex items-center space-x-4`},Ae={class:`flex-shrink-0`},je=[`src`],Me=[`disabled`],Ne=[`disabled`],Pe=[`disabled`],Fe={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ie={class:`space-y-4`},Le={key:0,class:`flex items-center space-x-4`},Re={class:`flex-shrink-0`},ze=[`src`],Be=[`disabled`],Ve=[`disabled`],He=[`disabled`],Ue={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},We={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Ge=[`disabled`],Ke={key:0,class:`flex items-center justify-center`},qe={key:1};var Je=w({__name:`IndexPage`,emits:[`success`],setup(e,{emit:t}){let n=t,r=fe(),i=N(!1),a=N({}),o=N(),s=N(),c=N(null),l=N(null),u=N(null),d=N(null),p=N({name:``,address:``,email:``,phone:``,website:``,tax_number:``,logo:{preview_url:null,thumbnail_url:null},stamp:{preview_url:null,thumbnail_url:null}}),m=g(()=>Object.keys(a.value).length>0),h=e=>a.value[e]||``,v=e=>{a.value[e]&&delete a.value[e]},x=()=>{a.value={}},w=e=>{a.value={},Object.keys(e).forEach(t=>{e[t]&&e[t].length>0&&(a.value[t]=e[t][0])})},D=()=>{x();let e=!0;return p.value.name.trim()?p.value.name.length>255&&(a.value.name=`Tax name must be 255 characters or less`,e=!1):(a.value.name=`Tax name is required`,e=!1),e},O=e=>{let t=e.target,n=t.files?.[0];if(n){if(!n.type.startsWith(`image/`)){a.value.logo=`Please select a valid image file`;return}if(n.size>5*1024*1024){a.value.logo=`File size must be less than 5MB`;return}c.value=n,v(`logo`);let e=new FileReader;e.onload=e=>{u.value=e.target?.result},e.readAsDataURL(n)}},k=e=>{let t=e.target,n=t.files?.[0];if(n){if(!n.type.startsWith(`image/`)){a.value.stamp=`Please select a valid image file`;return}if(n.size>5*1024*1024){a.value.stamp=`File size must be less than 5MB`;return}l.value=n,v(`stamp`);let e=new FileReader;e.onload=e=>{d.value=e.target?.result},e.readAsDataURL(n)}},A=()=>{c.value=null,u.value=null,p.value.logo={preview_url:null,thumbnail_url:null},o.value&&(o.value.value=``),v(`logo`)},j=()=>{l.value=null,d.value=null,p.value.stamp={preview_url:null,thumbnail_url:null},s.value&&(s.value.value=``),v(`stamp`)},M=async()=>{try{r.company.name||await r.fetchCompany(),p.value={...r.company}}catch(e){console.error(`Error loading company data:`,e)}},F=async()=>{if(D())try{if(i.value=!0,c.value||l.value){let e=new FormData,t={name:p.value.name,tax_number:p.value.tax_number,email:p.value.email,phone:p.value.phone,address:p.value.address,website:p.value.website,logo:null,stamp:null};Object.entries(t).forEach(([t,n])=>{n!=null&&n!==``&&t!==`logo`&&t!==`stamp`&&e.append(t,n.toString())}),c.value&&e.append(`logo`,c.value),l.value&&e.append(`stamp`,l.value),await r.saveCompanyWithFiles(e)}else{let e={name:p.value.name,tax_number:p.value.tax_number,email:p.value.email,phone:p.value.phone,address:p.value.address,website:p.value.website,logo:null,stamp:null};await r.saveCompany(e)}n(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&w(e.response.data.errors)}finally{i.value=!1}};return T(async()=>{await M()}),(e,t)=>(E(),b(`div`,Ce,[_(`div`,we,[t[17]||=_(`div`,{class:`mb-8`},[_(`div`,{class:`flex items-center space-x-4 mb-2`},[_(`div`,null,[_(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Company Details `),_(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add company details here `)])])],-1),_(`div`,Te,[_(`div`,Ee,[_(`form`,{onSubmit:W(F,[`prevent`]),class:`space-y-8`},[_(`div`,null,[_(`div`,De,[_(`div`,null,[C(K,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[0]||=()=>v(`name`),modelValue:p.value.name,"onUpdate:modelValue":t[1]||=e=>p.value.name=e,placeholder:`Enter Company name`,error:h(`name`),required:``,label:`Company Name`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`])]),_(`div`,null,[C(K,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[2]||=()=>v(`tax_number`),modelValue:p.value.tax_number,"onUpdate:modelValue":t[3]||=e=>p.value.tax_number=e,placeholder:`Enter Company tax number`,error:h(`tax_number`),required:``,label:`Company Tax Number`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`])]),_(`div`,null,[C(K,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[4]||=()=>v(`email`),modelValue:p.value.email,"onUpdate:modelValue":t[5]||=e=>p.value.email=e,placeholder:`Enter Company email`,error:h(`email`),label:`Company Email`,class:``},null,8,[`disabled`,`modelValue`,`error`])]),_(`div`,null,[C(K,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[6]||=()=>v(`phone`),modelValue:p.value.phone,"onUpdate:modelValue":t[7]||=e=>p.value.phone=e,placeholder:`Enter Company phone`,error:h(`phone`),label:`Company Phone`,class:``},null,8,[`disabled`,`modelValue`,`error`])]),_(`div`,null,[C(K,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[8]||=()=>v(`address`),modelValue:p.value.address,"onUpdate:modelValue":t[9]||=e=>p.value.address=e,placeholder:`Enter Company address`,error:h(`address`),label:`Company address`,class:``},null,8,[`disabled`,`modelValue`,`error`])]),_(`div`,null,[C(K,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[10]||=()=>v(`website`),modelValue:p.value.website,"onUpdate:modelValue":t[11]||=e=>p.value.website=e,placeholder:`Enter Company website`,error:h(`website`),label:`Company Website`,class:``},null,8,[`disabled`,`modelValue`,`error`])]),_(`div`,null,[t[14]||=_(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Company Logo `,-1),_(`div`,Oe,[p.value.logo||u.value?(E(),b(`div`,ke,[_(`div`,Ae,[_(`img`,{src:u.value||p.value.logo?.thumbnail_url,alt:`Company Logo`,class:`h-16 w-16 object-cover rounded-lg border border-gray-300 dark:border-gray-600`},null,8,je)]),_(`button`,{type:`button`,onClick:A,disabled:i.value,class:`text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 disabled:opacity-50`},` Remove `,8,Me)])):y(``,!0),_(`div`,null,[_(`input`,{ref_key:`logoInput`,ref:o,type:`file`,accept:`image/*`,onChange:O,class:`hidden`,disabled:i.value},null,40,Ne),_(`button`,{type:`button`,onClick:t[12]||=e=>o.value?.click(),disabled:i.value,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed`},[C(P(Y),{class:`h-4 w-4 mr-2`}),S(` `+f(p.value.logo||u.value?`Change Logo`:`Upload Logo`),1)],8,Pe)])]),h(`logo`)?(E(),b(`p`,Fe,f(h(`logo`)),1)):y(``,!0)]),_(`div`,null,[t[15]||=_(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Company Stamp `,-1),_(`div`,Ie,[p.value.stamp||d.value?(E(),b(`div`,Le,[_(`div`,Re,[_(`img`,{src:d.value||p.value.stamp?.thumbnail_url,alt:`Company Stamp`,class:`h-16 w-16 object-cover rounded-lg border border-gray-300 dark:border-gray-600`},null,8,ze)]),_(`button`,{type:`button`,onClick:j,disabled:i.value,class:`text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 disabled:opacity-50`},` Remove `,8,Be)])):y(``,!0),_(`div`,null,[_(`input`,{ref_key:`stampInput`,ref:s,type:`file`,accept:`image/*`,onChange:k,class:`hidden`,disabled:i.value},null,40,Ve),_(`button`,{type:`button`,onClick:t[13]||=e=>s.value?.click(),disabled:i.value,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed`},[C(P(Y),{class:`h-4 w-4 mr-2`}),S(` `+f(p.value.stamp||d.value?`Change Stamp`:`Upload Stamp`),1)],8,He)])]),h(`stamp`)?(E(),b(`p`,Ue,f(h(`stamp`)),1)):y(``,!0)])])]),_(`div`,We,[_(`button`,{type:`submit`,disabled:i.value||m.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[i.value?(E(),b(`div`,Ke,t[16]||=[_(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),S(` Saving... `,-1)])):(E(),b(`span`,qe,`Save`))],8,Ge)])],32)])])])]))}}),Ye=Je;const Xe={class:`space-y-6`},Ze={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},Qe={class:`grid grid-cols-1 md:grid-cols-5 gap-4`},$e={class:`md:col-span-2`},et={class:`relative`},tt={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},nt={key:0,class:`p-8 text-center`},rt={key:1,class:`p-8 text-center`},it={class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},at={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},ot={key:0,class:`mt-6`},st={key:2,class:`overflow-x-auto`},ct={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},lt={class:`bg-gray-50 dark:bg-gray-700`},ut={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},dt={class:`flex flex-col`},ft={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},pt={class:`flex flex-col`},mt={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},ht={class:`flex flex-col`},gt={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},_t={class:`flex flex-col`},vt={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},yt={class:`px-6 py-4 whitespace-nowrap`},bt={class:`flex items-center`},xt={class:`flex-shrink-0 h-10 w-10`},St={class:`h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center`},Ct={class:`ml-4`},wt={class:`text-sm font-medium text-gray-900 dark:text-white`},Tt={class:`text-sm text-gray-500 dark:text-gray-400`},Et={key:0,class:`px-2 bg-green-200 rounded-full text-green-800`},Dt={class:`px-6 py-4`},Ot=[`title`],kt={key:0,class:`text-gray-500`},At={class:`px-6 py-4 whitespace-nowrap`},jt={class:`text-sm text-gray-900 dark:text-white`},Mt={class:`text-sm text-gray-500 dark:text-gray-400`},Nt={class:`px-6 py-4 whitespace-nowrap`},Pt=[`innerHTML`],Ft={class:`px-6 py-4 whitespace-nowrap`},It={class:`px-6 py-4 whitespace-nowrap`},Lt={class:`text-sm text-gray-900 dark:text-white`},Rt={class:`text-sm text-gray-600 dark:text-gray-400`},zt={class:`text-xs text-gray-500 dark:text-gray-500`},Bt={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},Vt={class:`flex items-center justify-end space-x-2`},Ht=[`onClick`],Ut=[`onClick`],Wt=[`onClick`],Gt=[`onClick`],Kt=[`onClick`],qt={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},Jt={class:`flex items-center justify-between`},Yt={class:`flex-1 flex justify-between sm:hidden`},Xt=[`disabled`],Zt=[`disabled`],Qt={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},$t={class:`text-sm text-gray-700 dark:text-gray-300`},en={class:`font-medium`},tn={class:`font-medium`},nn={class:`font-medium`},rn={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},an=[`disabled`],on=[`disabled`],sn={class:`space-y-4`},cn={class:`max-h-96 overflow-y-auto`},ln={class:`flex justify-end space-x-3 pt-4`},un=[`disabled`];var dn=w({__name:`IndexPage`,emits:[`create`,`edit`],setup(n,{emit:i}){B();let a=ee(),s=ve(),c=i,p=N(!1),h=N(!1),x=N(null),w=N(null),I=N(!1),L=N(null),R=N(!1),z=N(!1),V=N(!1),W=N(null),K=M({search:``,is_active:void 0,city:``,per_page:15,sort_by:``,sort_direction:`asc`,page:1}),J=N({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}),Y=g(()=>I.value?s.trashedWarehouses:s.warehouses),X=g(()=>s.pagination),te=g(()=>s.loading),ie=g(()=>[{key:`name`,label:`Name`,type:`text`},{key:`is_active`,label:`Status`,type:`status`},{key:`full_address`,label:`Full Address`,type:`text`,colSpan:`md:col-span-2`},{key:`city`,label:`City`,type:`text`},{key:`state`,label:`State`,type:`text`},{key:`country`,label:`Country`,type:`text`},{key:`postal_code`,label:`Postal Code`,type:`text`},{key:`note`,label:`Note`,type:`text`,colSpan:`md:col-span-2`,fallback:`No note provided`},{key:`created_by.name`,label:`Created By`,type:`text`,subKey:`created_at`},{key:`updated_by.name`,label:`Last Updated By`,type:`text`,subKey:`updated_at`}]);g(()=>Y.value.length>0||I.value),k(()=>({...K}),e=>{let{page:t,...n}=e;s.updateFilters(n)},{deep:!0});let Q=async(e=1)=>{try{let t={...K,page:e};I.value?await s.fetchTrashedWarehouses(t):await s.fetchWarehouses(t)}catch{a.error(`Failed to load warehouses`,{title:`Error`})}},$=async()=>{if(W.value)try{V.value=!0,await s.setDefaultWarehouse(W.value),await Q(),z.value=!1,W.value=null,a.success(`Default warehouse updated successfully`,{title:`Success`})}catch{a.error(`Failed to set default warehouse`,{title:`Error`})}finally{V.value=!1}},de=()=>{w.value&&clearTimeout(w.value),w.value=setTimeout(()=>{Q(1)},300)},fe=e=>{K.sort_by===e?K.sort_direction=K.sort_direction===`asc`?`desc`:`asc`:(K.sort_by=e,K.sort_direction=`asc`),Q(1)},me=e=>{e>=1&&X.value&&e<=X.value.last_page&&(K.page=e,Q(e))},he=e=>{L.value=e,R.value=!0},ge=e=>{x.value=e,J.value={title:`Delete Warehouse`,message:`Are you sure you want to delete "${e.name}"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},h.value=!0},_e=e=>{x.value=e,J.value={title:`Restore Warehouse`,message:`Are you sure you want to restore "${e.name}"?`,buttonText:`Restore`,loadingText:`Restoring...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`restore`},h.value=!0},ye=e=>{x.value=e,J.value={title:`Permanently Delete Warehouse`,message:`Are you sure you want to permanently delete "${e.name}"? This action cannot be undone.`,buttonText:`Delete Permanently`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`forceDelete`},h.value=!0},Se=async()=>{x.value&&(await s.deleteWarehouse(x.value.id),Ce())},Ce=()=>{h.value=!1,x.value=null,J.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},we=()=>{c(`create`)},Te=e=>{c(`edit`,e)};return T(()=>{Q()}),(n,i)=>{let a=O(`Select`);return E(),b(`div`,Xe,[C(oe,{title:`Warehouses`,description:`Manage warehouses for your inventory system`,"create-button-text":`Create New Warehouse`,onCreate:we},{actions:A(()=>[C(xe,{onClick:i[0]||=e=>z.value=!0},{default:A(()=>i[18]||=[S(`Set Default`,-1)]),_:1,__:[18]}),C(xe,{onClick:we},{default:A(()=>i[19]||=[S(`Create New Warehouse`,-1)]),_:1,__:[19]})]),_:1}),_(`div`,Ze,[_(`div`,Qe,[_(`div`,$e,[i[20]||=_(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Warehouses `,-1),_(`div`,et,[j(_(`input`,{id:`search`,"onUpdate:modelValue":i[1]||=e=>K.search=e,type:`text`,placeholder:`Search by name, city, or address...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:de},null,544),[[U,K.search]]),C(P(re),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),_(`div`,null,[i[22]||=_(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Status `,-1),j(_(`select`,{id:`status`,"onUpdate:modelValue":i[2]||=e=>K.is_active=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:Q},i[21]||=[_(`option`,{value:``},`All Status`,-1),_(`option`,{value:`true`},`Active`,-1),_(`option`,{value:`false`},`Inactive`,-1)],544),[[H,K.is_active]])]),_(`div`,null,[i[23]||=_(`label`,{for:`city`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` City `,-1),j(_(`input`,{id:`city`,"onUpdate:modelValue":i[3]||=e=>K.city=e,type:`text`,placeholder:`Filter by city`,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:de},null,544),[[U,K.city]])]),_(`div`,null,[i[25]||=_(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),j(_(`select`,{id:`per-page`,"onUpdate:modelValue":i[4]||=e=>K.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:Q},i[24]||=[_(`option`,{value:15},`15`,-1),_(`option`,{value:25},`25`,-1),_(`option`,{value:50},`50`,-1),_(`option`,{value:100},`100`,-1)],544),[[H,K.per_page]])])])]),_(`div`,tt,[te.value?(E(),b(`div`,nt,[C(P(r),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),i[26]||=_(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading warehouses...`,-1)])):Y.value.length===0?(E(),b(`div`,rt,[C(P(m),{class:`h-12 w-12 mx-auto text-gray-400`}),_(`h3`,it,f(I.value?`No trashed warehouses found`:`No warehouses found`),1),_(`p`,at,f(K.search?`Try adjusting your search criteria.`:`Get started by creating your first warehouse.`),1),!K.search&&!I.value?(E(),b(`div`,ot,[_(`button`,{onClick:we,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[C(P(ae),{class:`h-5 w-5 mr-2`}),i[27]||=S(` Add Your First Warehouse `,-1)])])):y(``,!0)])):(E(),b(`div`,st,[_(`table`,ct,[_(`thead`,lt,[_(`tr`,null,[_(`th`,ut,[_(`button`,{onClick:i[5]||=e=>fe(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[28]||=_(`span`,null,`Name`,-1),_(`div`,dt,[C(P(l),{class:F([`h-3 w-3`,K.sort_by===`name`&&K.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,K.sort_by===`name`&&K.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),i[32]||=_(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Address `,-1),_(`th`,ft,[_(`button`,{onClick:i[6]||=e=>fe(`city`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[29]||=_(`span`,null,`Location`,-1),_(`div`,pt,[C(P(l),{class:F([`h-3 w-3`,K.sort_by===`city`&&K.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,K.sort_by===`city`&&K.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),i[33]||=_(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Note `,-1),_(`th`,mt,[_(`button`,{onClick:i[7]||=e=>fe(`is_active`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[30]||=_(`span`,null,`Status`,-1),_(`div`,ht,[C(P(l),{class:F([`h-3 w-3`,K.sort_by===`is_active`&&K.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,K.sort_by===`is_active`&&K.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),_(`th`,gt,[_(`button`,{onClick:i[8]||=e=>fe(`created_by`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[31]||=_(`span`,null,`Created By`,-1),_(`div`,_t,[C(P(l),{class:F([`h-3 w-3`,K.sort_by===`created_by`&&K.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,K.sort_by===`created_by`&&K.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),i[34]||=_(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),_(`tbody`,vt,[(E(!0),b(G,null,D(Y.value,e=>(E(),b(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[_(`td`,yt,[_(`div`,bt,[_(`div`,xt,[_(`div`,St,[C(P(m),{class:`h-5 w-5 text-blue-600 dark:text-blue-400`})])]),_(`div`,Ct,[_(`div`,wt,f(e.name),1),_(`div`,Tt,[S(` ID: `+f(e.id)+` `,1),e.is_default?(E(),b(`span`,Et,`Default`)):y(``,!0)])])])]),_(`td`,Dt,[_(`div`,{class:`text-sm text-gray-900 dark:text-white max-w-xs truncate`,title:e.full_address},[S(f(e.address_line_1)+` `,1),e.address_line_2?(E(),b(`span`,kt,`, `+f(e.address_line_2),1)):y(``,!0)],8,Ot)]),_(`td`,At,[_(`div`,jt,f(e.city)+`, `+f(e.state),1),_(`div`,Mt,f(e.country)+` `+f(e.postal_code),1)]),_(`td`,Nt,[_(`div`,{class:`text-sm text-gray-500 dark:text-gray-400`,innerHTML:P(ue)(e.note)},null,8,Pt)]),_(`td`,Ft,[C(ce,{active:e.is_active},null,8,[`active`])]),_(`td`,It,[_(`div`,Lt,[_(`div`,Rt,f(e.created_by?.name||`-`),1),_(`div`,zt,f(P(le)(e.created_at)),1)])]),_(`td`,Bt,[_(`div`,Vt,[I.value?(E(),b(G,{key:1},[_(`button`,{onClick:t=>_e(e),class:`text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 transition-colors duration-200`,title:`Restore Warehouse`},[C(P(Z),{class:`h-4 w-4`})],8,Gt),_(`button`,{onClick:t=>ye(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Permanently Delete`},[C(P(q),{class:`h-4 w-4`})],8,Kt)],64)):(E(),b(G,{key:0},[_(`button`,{onClick:t=>he(e),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[C(P(o),{class:`w-4 h-4`})],8,Ht),_(`button`,{onClick:t=>Te(e),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit Warehouse`},[C(P(t),{class:`h-4 w-4`})],8,Ut),_(`button`,{onClick:t=>ge(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete Warehouse`},[C(P(ne),{class:`h-4 w-4`})],8,Wt)],64))])])]))),128))])])])),X.value&&X.value.total>0?(E(),b(`div`,qt,[_(`div`,Jt,[_(`div`,Yt,[_(`button`,{onClick:i[9]||=e=>me(X.value.current_page-1),disabled:X.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,Xt),_(`button`,{onClick:i[10]||=e=>me(X.value.current_page+1),disabled:X.value.current_page>=X.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,Zt)]),_(`div`,Qt,[_(`div`,null,[_(`p`,$t,[i[35]||=S(` Showing `,-1),_(`span`,en,f(X.value.from),1),i[36]||=S(` to `,-1),_(`span`,tn,f(X.value.to),1),i[37]||=S(` of `,-1),_(`span`,nn,f(X.value.total),1),i[38]||=S(` results `,-1)])]),_(`div`,null,[_(`nav`,rn,[_(`button`,{onClick:i[11]||=e=>me(X.value.current_page-1),disabled:X.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[C(P(d),{class:`h-5 w-5`})],8,an),_(`button`,{onClick:i[12]||=e=>me(X.value.current_page+1),disabled:X.value.current_page>=X.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[C(P(u),{class:`h-5 w-5`})],8,on)])])])])])):y(``,!0)]),C(se,{show:h.value,"onUpdate:show":i[13]||=e=>h.value=e,type:`delete`,title:J.value.title,message:J.value.message,"confirm-text":J.value.buttonText,"loading-text":J.value.loadingText,loading:p.value,onConfirm:Se,onCancel:Ce},null,8,[`show`,`title`,`message`,`confirm-text`,`loading-text`,`loading`]),C(be,{show:R.value,"onUpdate:show":i[14]||=e=>R.value=e,item:L.value,title:`Warehouse Details`,"display-fields":ie.value,size:`lg`},null,8,[`show`,`item`,`display-fields`]),C(pe,{title:`Set default Warehouse`,modelValue:z.value,onClose:i[17]||=e=>z.value=!1,size:`2xl`,showCloseButton:!0,closeOnEscape:!1},{default:A(()=>[_(`div`,sn,[_(`div`,cn,[C(a,{label:`Warehouse`,modelValue:W.value,"onUpdate:modelValue":i[15]||=e=>W.value=e,options:Y.value.map(e=>({value:e.id,label:e.name,disabled:!e.is_active})),placeholder:`Select a warehouse to set as default`},null,8,[`modelValue`,`options`])]),_(`div`,ln,[_(`button`,{onClick:i[16]||=e=>z.value=!1,type:`button`,class:`px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`},` Cancel `),_(`button`,{onClick:$,disabled:V.value||!W.value,type:`button`,class:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[V.value?(E(),v(P(r),{key:0,class:`h-4 w-4 mr-2 animate-spin`})):y(``,!0),S(` `+f(V.value?`Saving...`:`Save Default`),1)],8,un)])])]),_:1},8,[`modelValue`])])}}}),fn=dn;function pn(){let e=N({}),t=g(()=>Object.keys(e.value).length>0),n=t=>e.value[t]?.[0],r=n=>{let r={};return!n.name||n.name.trim().length===0?r.name=[`Warehouse name is required`]:n.name.trim().length>255&&(r.name=[`Warehouse name must not exceed 255 characters`]),n.note&&n.note.length>1e3&&(r.note=[`Note must not exceed 1000 characters`]),e.value=r,!t.value},i=n=>{let r={};return n.name!==void 0&&(!n.name||n.name.trim().length===0?r.name=[`Warehouse name is required`]:n.name.trim().length>255&&(r.name=[`Warehouse name must not exceed 255 characters`])),n.note!==void 0&&n.note&&n.note.length>1e3&&(r.note=[`Note must not exceed 1000 characters`]),n.address_line_1!==void 0&&(!n.address_line_1||n.address_line_1.trim().length===0||n.address_line_1.trim().length>255&&(r.address_line_1=[`Address line 1 must not exceed 255 characters`])),n.address_line_2!==void 0&&n.address_line_2&&n.address_line_2.length>255&&(r.address_line_2=[`Address line 2 must not exceed 255 characters`]),n.city!==void 0&&(!n.city||n.city.trim().length===0||n.city.trim().length>100&&(r.city=[`City must not exceed 100 characters`])),n.state!==void 0&&(!n.state||n.state.trim().length===0||n.state.trim().length>100&&(r.state=[`State must not exceed 100 characters`])),n.postal_code!==void 0&&(!n.postal_code||n.postal_code.trim().length===0||n.postal_code.trim().length>20&&(r.postal_code=[`Postal code must not exceed 20 characters`])),n.country!==void 0&&(!n.country||n.country.trim().length===0||n.country.trim().length>100&&(r.country=[`Country must not exceed 100 characters`])),e.value=r,!t.value},a=()=>{e.value={}},o=t=>{e.value[t]&&delete e.value[t]},s=t=>{e.value=t};return{errors:e,hasErrors:t,getFieldError:n,validateCreateRequest:r,validateUpdateRequest:i,clearErrors:a,clearFieldError:o,setServerErrors:s}}const mn={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},hn={class:`max-w-4xl mx-auto`},gn={class:`mb-8`},_n={class:`flex items-center space-x-4 mb-2`},vn={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},yn={class:`px-6 py-8`},bn={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},xn={key:0,class:`mt-1 text-xs text-gray-500`},Sn={class:`flex items-start pt-6`},Cn={class:`flex items-center h-5`},wn=[`disabled`],Tn={class:`space-y-6`},En={class:`grid grid-cols-1 md:grid-cols-3 gap-6`},Dn={class:`md:max-w-md`},On=[`disabled`],kn={class:`flex justify-between items-center mt-1`},An={key:0,class:`text-sm text-red-600 dark:text-red-400`},jn={class:`text-xs text-gray-500 ml-auto`},Mn={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Nn=[`disabled`],Pn=[`disabled`],Fn={key:0,class:`flex items-center justify-center`},In={key:1},Ln={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Rn={class:`flex`},zn={class:`flex-shrink-0`};var Bn=w({__name:`CreatePage`,emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=t,r=ve(),{errors:a,hasErrors:o,getFieldError:s,validateCreateRequest:c,clearFieldError:l,setServerErrors:u,clearErrors:d}=pn(),p=N(!1),m=N({name:``,address_line_1:``,address_line_2:``,city:``,state:``,postal_code:``,country:``,note:``,is_active:!0}),v=g(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return s(`note`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):p.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),w=g(()=>m.value.name.trim().length>0&&m.value.name.length<=255&&(m.value.address_line_2?.length||0)<=255&&(m.value.note?.length||0)<=1e3),D=()=>{m.value={name:``,address_line_1:``,address_line_2:``,city:``,state:``,postal_code:``,country:``,note:``,is_active:!0},d()},O=async()=>{if(d(),c(m.value))try{p.value=!0,await r.createWarehouse(m.value),D(),n(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&u(e.response.data.errors)}finally{p.value=!1}},k=()=>{D(),n(`cancel`)},A=()=>{n(`back`)};return T(()=>{D()}),(e,t)=>(E(),b(`div`,mn,[_(`div`,hn,[_(`div`,gn,[_(`div`,_n,[_(`button`,{onClick:A,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[C(P(h),{class:`w-5 h-5`})]),t[17]||=_(`div`,null,[_(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create Warehouse `),_(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new warehouse location for inventory management `)],-1)])]),_(`div`,vn,[_(`div`,yn,[_(`form`,{onSubmit:W(O,[`prevent`]),class:`space-y-8`},[_(`div`,null,[t[19]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),_(`div`,bn,[_(`div`,null,[C(K,{type:`text`,maxlength:255,disabled:p.value,onBlur:t[0]||=()=>P(l)(`name`),modelValue:m.value.name,"onUpdate:modelValue":t[1]||=e=>m.value.name=e,placeholder:`Enter warehouse name`,error:P(s)(`name`),required:``,label:`Warehouse Name`},null,8,[`disabled`,`modelValue`,`error`]),m.value.name.length>0?(E(),b(`p`,xn,f(m.value.name.length)+`/255 characters `,1)):y(``,!0)]),_(`div`,Sn,[_(`div`,Cn,[j(_(`input`,{id:`is_active`,"onUpdate:modelValue":t[2]||=e=>m.value.is_active=e,type:`checkbox`,disabled:p.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,wn),[[V,m.value.is_active]])]),t[18]||=_(`div`,{class:`ml-3`},[_(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),_(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this warehouse will be available for inventory operations `)],-1)])])]),_(`div`,null,[t[20]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Address Information `,-1),_(`div`,Tn,[_(`div`,null,[C(K,{type:`text`,maxlength:255,disabled:p.value,onBlur:t[3]||=()=>P(l)(`address_line_1`),modelValue:m.value.address_line_1,"onUpdate:modelValue":t[4]||=e=>m.value.address_line_1=e,placeholder:`Enter street address`,error:P(s)(`address_line_1`),label:`Address Line 1`},null,8,[`disabled`,`modelValue`,`error`])]),_(`div`,null,[C(K,{type:`text`,maxlength:255,disabled:p.value,onBlur:t[5]||=()=>P(l)(`address_line_2`),modelValue:m.value.address_line_2,"onUpdate:modelValue":t[6]||=e=>m.value.address_line_2=e,placeholder:`Apartment, suite, unit, building, floor, etc. (optional)`,error:P(s)(`address_line_2`),label:`Address Line 2`},null,8,[`disabled`,`modelValue`,`error`])]),_(`div`,En,[_(`div`,null,[C(K,{type:`text`,maxlength:100,disabled:p.value,onBlur:t[7]||=()=>P(l)(`city`),modelValue:m.value.city,"onUpdate:modelValue":t[8]||=e=>m.value.city=e,placeholder:`Enter city`,error:P(s)(`city`),label:`City`},null,8,[`disabled`,`modelValue`,`error`])]),_(`div`,null,[C(K,{type:`text`,maxlength:100,disabled:p.value,onBlur:t[9]||=()=>P(l)(`state`),modelValue:m.value.state,"onUpdate:modelValue":t[10]||=e=>m.value.state=e,placeholder:`Enter state/province`,error:P(s)(`state`),label:`State/Province`},null,8,[`disabled`,`modelValue`,`error`])]),_(`div`,null,[C(K,{type:`text`,maxlength:20,disabled:p.value,onBlur:t[11]||=()=>P(l)(`postal_code`),modelValue:m.value.postal_code,"onUpdate:modelValue":t[12]||=e=>m.value.postal_code=e,placeholder:`Enter postal code`,error:P(s)(`postal_code`),label:`Postal Code`},null,8,[`disabled`,`modelValue`,`error`])])]),_(`div`,Dn,[C(K,{type:`text`,maxlength:100,disabled:p.value,onBlur:t[13]||=()=>P(l)(`country`),modelValue:m.value.country,"onUpdate:modelValue":t[14]||=e=>m.value.country=e,placeholder:`Enter country`,error:P(s)(`country`),label:`Country`},null,8,[`disabled`,`modelValue`,`error`])])])]),_(`div`,null,[t[22]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Additional Information `,-1),_(`div`,null,[t[21]||=_(`label`,{for:`note`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Note `,-1),j(_(`textarea`,{id:`note`,"onUpdate:modelValue":t[15]||=e=>m.value.note=e,rows:`4`,placeholder:`Enter additional notes about this warehouse (optional)`,disabled:p.value,class:F([v.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:t[16]||=()=>P(l)(`note`),maxlength:`1000`},null,42,On),[[U,m.value.note]]),_(`div`,kn,[P(s)(`note`)?(E(),b(`p`,An,f(P(s)(`note`)),1)):y(``,!0),_(`p`,jn,f(m.value.note?.length||0)+`/1000 characters `,1)])])]),_(`div`,Mn,[_(`button`,{type:`button`,onClick:k,disabled:p.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,Nn),_(`button`,{type:`submit`,disabled:p.value||P(o)||!w.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[p.value?(E(),b(`div`,Fn,t[23]||=[_(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),S(` Creating... `,-1)])):(E(),b(`span`,In,`Create Warehouse`))],8,Pn)])],32)])]),_(`div`,Ln,[_(`div`,Rn,[_(`div`,zn,[C(P(i),{class:`h-5 w-5 text-blue-400`})]),t[24]||=x(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> About Warehouses </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Warehouses are physical locations where your inventory is stored and managed. Each warehouse should have: </p><ul class="list-disc list-inside space-y-1"><li>A unique, descriptive name for easy identification</li><li>Complete address information for shipping and logistics</li><li>Active status to control availability for transactions</li><li>Optional notes for special handling instructions or details</li></ul></div></div>`,1)])])])]))}}),Vn=Bn;const Hn={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Un={class:`max-w-4xl mx-auto`},Wn={class:`mb-8`},Gn={class:`flex items-center space-x-4 mb-2`},Kn={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},qn={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Jn={class:`px-6 py-8`},Yn={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Xn={key:0,class:`mt-1 text-xs text-gray-500`},Zn={class:`flex items-start pt-6`},Qn={class:`flex items-center h-5`},$n=[`disabled`],er={class:`space-y-6`},tr={class:`grid grid-cols-1 md:grid-cols-3 gap-6`},nr={class:`md:max-w-md`},rr=[`disabled`],ir={class:`flex justify-between items-center mt-1`},ar={key:0,class:`text-sm text-red-600 dark:text-red-400`},or={class:`text-xs text-gray-500 ml-auto`},sr={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},cr=[`disabled`],lr=[`disabled`],ur={key:0,class:`flex items-center justify-center`},dr={key:1},fr={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},pr={class:`flex flex-col items-center`},mr={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},hr={class:`flex`},gr={class:`flex-shrink-0`};var _r=w({__name:`EditPage`,props:{id:{},warehouse:{}},emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=e,r=t,a=ve(),{errors:o,hasErrors:s,getFieldError:l,validateUpdateRequest:u,clearFieldError:d,setServerErrors:p,clearErrors:m}=pn(),v=N(!1),w=N(!1),D=N({name:``,address_line_1:``,address_line_2:``,city:``,state:``,postal_code:``,country:``,note:``,is_active:!0}),O=N({name:``,address_line_1:``,address_line_2:``,city:``,state:``,postal_code:``,country:``,note:``,is_active:!0}),A=g(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return l(`note`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):v.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),M=g(()=>D.value.name.trim().length>0&&D.value.name.length<=255&&(D.value.address_line_2?.length||0)<=255&&(D.value.note?.length||0)<=1e3),I=async()=>{try{w.value=!0;let e=n.warehouse||await a.fetchWarehouse(n.id);e&&(D.value={name:e.name,address_line_1:e.address_line_1||``,address_line_2:e.address_line_2||``,city:e.city||``,state:e.state||``,postal_code:e.postal_code||``,country:e.country||``,note:e.note||``,is_active:e.is_active},O.value={name:e.name,address_line_1:e.address_line_1||``,address_line_2:e.address_line_2||``,city:e.city||``,state:e.state||``,postal_code:e.postal_code||``,country:e.country||``,note:e.note||``,is_active:e.is_active},m())}catch(e){console.error(`Error loading warehouse:`,e)}finally{w.value=!1}},L=async()=>{if(m(),u(D.value))try{v.value=!0;let e={name:D.value.name,address_line_1:D.value.address_line_1,address_line_2:D.value.address_line_2,city:D.value.city,state:D.value.state,postal_code:D.value.postal_code,country:D.value.country,note:D.value.note,is_active:D.value.is_active};await a.updateWarehouse(n.id,e),O.value={...D.value},r(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&p(e.response.data.errors)}finally{v.value=!1}},R=()=>{r(`cancel`)},z=()=>{r(`back`)};return T(()=>{I()}),k(()=>n.id,()=>{n.id&&I()}),(e,t)=>(E(),b(`div`,Hn,[_(`div`,Un,[_(`div`,Wn,[_(`div`,Gn,[_(`button`,{onClick:z,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[C(P(h),{class:`w-5 h-5`})]),t[17]||=_(`div`,null,[_(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Warehouse `),_(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update warehouse information and location details `)],-1)])]),w.value?(E(),b(`div`,Kn,t[18]||=[_(`div`,{class:`flex items-center justify-center`},[_(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),_(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading warehouse...`)],-1)])):D.value?(E(),b(`div`,qn,[_(`div`,Jn,[_(`form`,{onSubmit:W(L,[`prevent`]),class:`space-y-8`},[_(`div`,null,[t[21]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),_(`div`,Yn,[_(`div`,null,[t[19]||=_(`label`,{for:`name`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[S(` Warehouse Name `),_(`span`,{class:`text-red-500 ml-1`},`*`)],-1),C(K,{id:`name`,modelValue:D.value.name,"onUpdate:modelValue":t[0]||=e=>D.value.name=e,type:`text`,placeholder:`Enter warehouse name`,disabled:v.value,error:P(l)(`name`),maxlength:255,required:``,onBlur:t[1]||=()=>P(d)(`name`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),D.value.name.length>0?(E(),b(`p`,Xn,f(D.value.name.length)+`/255 characters `,1)):y(``,!0)]),_(`div`,Zn,[_(`div`,Qn,[j(_(`input`,{id:`is_active`,"onUpdate:modelValue":t[2]||=e=>D.value.is_active=e,type:`checkbox`,disabled:v.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,$n),[[V,D.value.is_active]])]),t[20]||=_(`div`,{class:`ml-3`},[_(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),_(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this warehouse will be available for inventory operations `)],-1)])])]),_(`div`,null,[t[22]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Address Information `,-1),_(`div`,er,[_(`div`,null,[C(K,{id:`address_line_1`,modelValue:D.value.address_line_1,"onUpdate:modelValue":t[3]||=e=>D.value.address_line_1=e,type:`text`,label:`Address Line 1`,placeholder:`Enter street address`,disabled:v.value,error:P(l)(`address_line_1`),maxlength:255,onBlur:t[4]||=()=>P(d)(`address_line_1`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),_(`div`,null,[C(K,{id:`address_line_2`,modelValue:D.value.address_line_2,"onUpdate:modelValue":t[5]||=e=>D.value.address_line_2=e,type:`text`,label:`Address Line 2`,placeholder:`Apartment, suite, unit, building, floor, etc. (optional)`,disabled:v.value,error:P(l)(`address_line_2`),maxlength:255,onBlur:t[6]||=()=>P(d)(`address_line_2`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),_(`div`,tr,[_(`div`,null,[C(K,{id:`city`,modelValue:D.value.city,"onUpdate:modelValue":t[7]||=e=>D.value.city=e,type:`text`,label:`City`,placeholder:`Enter city`,disabled:v.value,error:P(l)(`city`),maxlength:100,onBlur:t[8]||=()=>P(d)(`city`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),_(`div`,null,[C(K,{id:`state`,modelValue:D.value.state,"onUpdate:modelValue":t[9]||=e=>D.value.state=e,type:`text`,label:`State/Province`,placeholder:`Enter state/province`,disabled:v.value,error:P(l)(`state`),maxlength:100,onBlur:t[10]||=()=>P(d)(`state`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),_(`div`,null,[C(K,{id:`postal_code`,modelValue:D.value.postal_code,"onUpdate:modelValue":t[11]||=e=>D.value.postal_code=e,type:`text`,label:`Postal Code`,placeholder:`Enter postal code`,disabled:v.value,error:P(l)(`postal_code`),maxlength:20,onBlur:t[12]||=()=>P(d)(`postal_code`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])]),_(`div`,nr,[C(K,{id:`country`,modelValue:D.value.country,"onUpdate:modelValue":t[13]||=e=>D.value.country=e,type:`text`,label:`Country`,placeholder:`Enter country`,disabled:v.value,error:P(l)(`country`),maxlength:100,onBlur:t[14]||=()=>P(d)(`country`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])])]),_(`div`,null,[t[24]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Additional Information `,-1),_(`div`,null,[t[23]||=_(`label`,{for:`note`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Note `,-1),j(_(`textarea`,{id:`note`,"onUpdate:modelValue":t[15]||=e=>D.value.note=e,rows:`4`,placeholder:`Enter additional notes about this warehouse (optional)`,disabled:v.value,class:F([A.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:t[16]||=()=>P(d)(`note`),maxlength:`1000`},null,42,rr),[[U,D.value.note]]),_(`div`,ir,[P(l)(`note`)?(E(),b(`p`,ar,f(P(l)(`note`)),1)):y(``,!0),_(`p`,or,f(D.value.note?.length||0)+`/1000 characters `,1)])])]),_(`div`,sr,[_(`button`,{type:`button`,onClick:R,disabled:v.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,cr),_(`button`,{type:`submit`,disabled:v.value||P(s)||!M.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[v.value?(E(),b(`div`,ur,t[25]||=[_(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),S(` Updating... `,-1)])):(E(),b(`span`,dr,`Update Warehouse`))],8,lr)])],32)])])):(E(),b(`div`,fr,[_(`div`,pr,[C(P(c),{class:`w-12 h-12 text-red-400 mb-4`}),t[26]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Warehouse Not Found `,-1),t[27]||=_(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The warehouse you're trying to edit could not be found. `,-1),_(`button`,{onClick:z,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` ← Back to Warehouses `)])])),D.value?(E(),b(`div`,mr,[_(`div`,hr,[_(`div`,gr,[C(P(i),{class:`h-5 w-5 text-blue-400`})]),t[28]||=x(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Warehouse Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update the warehouse details carefully as this information is used for: </p><ul class="list-disc list-inside space-y-1"><li>Shipping labels and delivery addresses</li><li>Inventory location tracking</li><li>Logistics and distribution planning</li><li>System availability for transactions</li></ul></div></div>`,1)])])):y(``,!0)])]))}}),vr=_r;const yr={class:`space-y-6`},br={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},xr={class:`grid grid-cols-1 md:grid-cols-4 gap-4`},Sr={class:`md:col-span-2`},Cr={class:`relative`},wr={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},Tr={key:0,class:`p-8 text-center`},Er={key:1,class:`p-8 text-center`},Dr={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},Or={key:0,class:`mt-6`},kr={key:2,class:`overflow-x-auto`},Ar={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},jr={class:`bg-gray-50 dark:bg-gray-700`},Mr={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Nr={class:`flex flex-col`},Pr={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Fr={class:`flex flex-col`},Ir={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Lr={class:`flex flex-col`},Rr={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},zr={class:`px-6 py-4 whitespace-nowrap`},Br={class:`flex items-center`},Vr={class:`flex-shrink-0 h-10 w-10`},Hr={class:`h-10 w-10 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center`},Ur={class:`ml-4`},Wr={class:`text-sm font-medium text-gray-900 dark:text-white`},Gr={class:`text-sm text-gray-500 dark:text-gray-400`},Kr={class:`px-6 py-4 whitespace-nowrap`},qr={class:`text-sm font-mono font-semibold text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded`},Jr={class:`px-6 py-4 whitespace-nowrap`},Yr={class:`text-sm text-gray-900 dark:text-white`},Xr={class:`font-medium`},Zr={class:`text-gray-500 dark:text-gray-400 ml-2`},Qr={class:`text-xs text-gray-500 dark:text-gray-400`},$r={class:`px-6 py-4 whitespace-nowrap`},ei={class:`text-sm text-gray-900 dark:text-white`},ti={class:`text-xs text-gray-500 dark:text-gray-400`},ni={class:`px-6 py-4 whitespace-nowrap`},ri={class:`text-sm text-gray-900 dark:text-white`},ii={class:`text-sm text-gray-600 dark:text-gray-400`},ai={class:`text-xs text-gray-500 dark:text-gray-500`},oi={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},si={class:`flex items-center justify-end space-x-2`},ci=[`onClick`],li=[`onClick`],ui=[`onClick`],di={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},fi={class:`flex items-center justify-between`},pi={class:`flex-1 flex justify-between sm:hidden`},mi=[`disabled`],hi=[`disabled`],gi={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},_i={class:`text-sm text-gray-700 dark:text-gray-300`},vi={class:`font-medium`},yi={class:`font-medium`},bi={class:`font-medium`},xi={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},Si=[`disabled`],Ci=[`disabled`],wi={class:`space-y-4`},Ti={class:`max-h-96 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg`},Ei={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},Di={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},Oi={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white`},ki={class:`px-6 py-4 whitespace-nowrap`},Ai={class:`flex items-center`},ji={class:`flex-shrink-0 h-8 w-8`},Mi={class:`h-8 w-8 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center`},Ni={class:`text-xs font-semibold text-green-600 dark:text-green-400`},Pi={class:`ml-3`},Fi={class:`text-sm font-medium text-gray-900 dark:text-white`},Ii={class:`text-sm text-gray-500 dark:text-gray-400`},Li={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400`},Ri={class:`px-6 py-4 whitespace-nowrap`},zi=[`value`,`placeholder`,`onInput`],Bi={class:`flex justify-end space-x-3 pt-4`},Vi=[`disabled`];var Hi=w({__name:`IndexPage`,emits:[`create`,`edit`],setup(n,{emit:i}){B();let a=ee(),c=$(),p=i,m=N(!1),h=N(!1),x=N({}),w=N(!1),O=N(!1),I=N(null),L=N(null),R=N(null),z=N(!1),V=M({search:``,symbol_position:``,per_page:15,sort_by:``,sort_direction:`asc`,page:1}),W=N({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}),K=g(()=>c.currencies),q=g(()=>c.pagination),J=g(()=>c.loading),Y=g(()=>K.value.filter(e=>e.code!==`USD`&&e.id!==1)),X=g(()=>Object.values(x.value).some(e=>e>0)),te=g(()=>[{key:`name`,label:`Name`,type:`text`},{key:`code`,label:`Code`,type:`text`},{key:`symbol`,label:`Symbol`,type:`text`},{key:`symbol_position`,label:`Symbol Position`,type:`text`},{key:`decimal_places`,label:`Decimal Places`,type:`text`},{key:`decimal_separator`,label:`Decimal Separator`,type:`text`},{key:`thousand_separator`,label:`Thousand Separator`,type:`text`,fallback:`None`},{key:`created_by.name`,label:`Created By`,type:`text`,subKey:`created_at`},{key:`updated_by.name`,label:`Last Updated By`,type:`text`,subKey:`updated_at`}]);k(()=>({...V}),e=>{let{page:t,...n}=e;c.updateFilters(n)},{deep:!0});let Z=async(e=1)=>{try{let t={...V,page:e};await c.fetchCurrencies(t)}catch{a.error(`Failed to load currencies`,{title:`Error`})}},ie=()=>{L.value&&clearTimeout(L.value),L.value=setTimeout(()=>{Z(1)},300)},Q=e=>{V.sort_by===e?V.sort_direction=V.sort_direction===`asc`?`desc`:`asc`:(V.sort_by=e,V.sort_direction=`asc`),Z(1)},ce=e=>{e>=1&&q.value&&e<=q.value.last_page&&(V.page=e,Z(e))},ue=e=>{R.value=e,z.value=!0},de=e=>{`.`.repeat(e.decimal_places);let t=e.decimal_places>0?e.decimal_separator+`56`.substring(0,e.decimal_places):``,n=`1`+(e.thousand_separator||``)+`234`,r=n+t;return e.symbol_position===`before`?`${e.symbol}${r}`:`${r}${e.symbol}`},fe=e=>{I.value=e,W.value={title:`Delete Currency`,message:`Are you sure you want to delete "${e.name} (${e.code})"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},O.value=!0},me=async()=>{I.value&&(await c.deleteCurrency(I.value.id),he())},he=()=>{O.value=!1,I.value=null,W.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},ge=()=>{p(`create`)},_e=e=>{p(`edit`,e)},ve=e=>{if(!e)return`0`;let t=typeof e==`string`?parseFloat(e):e;return Math.abs(t)<1e-6?t.toFixed(20).replace(/\.?0+$/,``):t.toString()},ye=e=>{let t=K.value.find(t=>t.id===e);return t?.current_rate?ve(t.current_rate):null},Se=()=>{let e={};Y.value.forEach(t=>{if(t.current_rate){let n=typeof t.current_rate==`string`?parseFloat(t.current_rate):t.current_rate;e[t.id]=n}else e[t.id]=0}),x.value=e},Ce=(e,t)=>{let n=t.target,r=n.value.trim();if(r===``||r===null){x.value[e]=0;return}let i=parseFloat(r);isNaN(i)||(x.value[e]=i)},we=()=>{m.value=!0,Se()},Te=()=>{m.value=!1,x.value={}},Ee=async()=>{if(X.value)try{h.value=!0;let e=Object.entries(x.value).filter(([e,t])=>t>0).map(([e,t])=>({currency_id:parseInt(e),rate:t}));await c.changeRates(e),await Z(),Te()}catch{a.error(`Failed to update currency rates`,{title:`Error`})}finally{h.value=!1}};return T(()=>{Z()}),(n,i)=>(E(),b(`div`,yr,[C(oe,{title:`Currencies`,description:`Manage currencies for your financial transactions`},{actions:A(()=>[C(xe,{onClick:we},{default:A(()=>i[12]||=[S(`Change Rate`,-1)]),_:1,__:[12]}),C(xe,{onClick:ge},{default:A(()=>i[13]||=[S(`Create New Currency`,-1)]),_:1,__:[13]})]),_:1}),_(`div`,br,[_(`div`,xr,[_(`div`,Sr,[i[14]||=_(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Currencies `,-1),_(`div`,Cr,[j(_(`input`,{id:`search`,"onUpdate:modelValue":i[0]||=e=>V.search=e,type:`text`,placeholder:`Search by name, code, or symbol...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:ie},null,544),[[U,V.search]]),C(P(re),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),_(`div`,null,[i[16]||=_(`label`,{for:`symbol_position`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Symbol Position `,-1),j(_(`select`,{id:`symbol_position`,"onUpdate:modelValue":i[1]||=e=>V.symbol_position=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:Z},i[15]||=[_(`option`,{value:``},`All Positions`,-1),_(`option`,{value:`before`},`Before`,-1),_(`option`,{value:`after`},`After`,-1)],544),[[H,V.symbol_position]])]),_(`div`,null,[i[18]||=_(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),j(_(`select`,{id:`per-page`,"onUpdate:modelValue":i[2]||=e=>V.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:Z},i[17]||=[_(`option`,{value:15},`15`,-1),_(`option`,{value:25},`25`,-1),_(`option`,{value:50},`50`,-1),_(`option`,{value:100},`100`,-1)],544),[[H,V.per_page]])])])]),_(`div`,wr,[J.value?(E(),b(`div`,Tr,[C(P(r),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),i[19]||=_(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading currencies...`,-1)])):K.value.length===0?(E(),b(`div`,Er,[C(P(s),{class:`h-12 w-12 mx-auto text-gray-400`}),i[21]||=_(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},` No currencies found `,-1),_(`p`,Dr,f(V.search?`Try adjusting your search criteria.`:`Get started by creating your first currency.`),1),V.search?y(``,!0):(E(),b(`div`,Or,[_(`button`,{onClick:ge,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[C(P(ae),{class:`h-5 w-5 mr-2`}),i[20]||=S(` Add Your First Currency `,-1)])]))])):(E(),b(`div`,kr,[_(`table`,Ar,[_(`thead`,jr,[_(`tr`,null,[_(`th`,Mr,[_(`button`,{onClick:i[3]||=e=>Q(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[22]||=_(`span`,null,`Currency`,-1),_(`div`,Nr,[C(P(l),{class:F([`h-3 w-3`,V.sort_by===`name`&&V.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,V.sort_by===`name`&&V.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),_(`th`,Pr,[_(`button`,{onClick:i[4]||=e=>Q(`code`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[23]||=_(`span`,null,`Code`,-1),_(`div`,Fr,[C(P(l),{class:F([`h-3 w-3`,V.sort_by===`code`&&V.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,V.sort_by===`code`&&V.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),i[25]||=_(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Symbol & Position `,-1),i[26]||=_(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Formatting `,-1),_(`th`,Ir,[_(`button`,{onClick:i[5]||=e=>Q(`created_by`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[24]||=_(`span`,null,`Created By`,-1),_(`div`,Lr,[C(P(l),{class:F([`h-3 w-3`,V.sort_by===`created_by`&&V.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,V.sort_by===`created_by`&&V.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),i[27]||=_(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),_(`tbody`,Rr,[(E(!0),b(G,null,D(K.value,e=>(E(),b(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[_(`td`,zr,[_(`div`,Br,[_(`div`,Vr,[_(`div`,Hr,[C(P(s),{class:`h-5 w-5 text-green-600 dark:text-green-400`})])]),_(`div`,Ur,[_(`div`,Wr,f(e.name),1),_(`div`,Gr,` ID: `+f(e.id),1)])])]),_(`td`,Kr,[_(`div`,qr,f(e.code),1)]),_(`td`,Jr,[_(`div`,Yr,[_(`span`,Xr,f(e.symbol),1),_(`span`,Zr,` (`+f(e.symbol_position)+`) `,1)]),_(`div`,Qr,` Example: `+f(de(e)),1)]),_(`td`,$r,[_(`div`,ei,f(e.decimal_places)+` decimals `,1),_(`div`,ti,` Dec: "`+f(e.decimal_separator)+`" | Thou: "`+f(e.thousand_separator||`none`)+`" `,1)]),_(`td`,ni,[_(`div`,ri,[_(`div`,ii,f(e.created_by?.name||`-`),1),_(`div`,ai,f(P(le)(e.created_at)),1)])]),_(`td`,oi,[_(`div`,si,[_(`button`,{onClick:t=>ue(e),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[C(P(o),{class:`w-4 h-4`})],8,ci),_(`button`,{onClick:t=>_e(e),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit Currency`},[C(P(t),{class:`h-4 w-4`})],8,li),_(`button`,{onClick:t=>fe(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete Currency`},[C(P(ne),{class:`h-4 w-4`})],8,ui)])])]))),128))])])])),q.value&&q.value.total>0?(E(),b(`div`,di,[_(`div`,fi,[_(`div`,pi,[_(`button`,{onClick:i[6]||=e=>ce(q.value.current_page-1),disabled:q.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,mi),_(`button`,{onClick:i[7]||=e=>ce(q.value.current_page+1),disabled:q.value.current_page>=q.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,hi)]),_(`div`,gi,[_(`div`,null,[_(`p`,_i,[i[28]||=S(` Showing `,-1),_(`span`,vi,f(q.value.from),1),i[29]||=S(` to `,-1),_(`span`,yi,f(q.value.to),1),i[30]||=S(` of `,-1),_(`span`,bi,f(q.value.total),1),i[31]||=S(` results `,-1)])]),_(`div`,null,[_(`nav`,xi,[_(`button`,{onClick:i[8]||=e=>ce(q.value.current_page-1),disabled:q.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[C(P(d),{class:`h-5 w-5`})],8,Si),_(`button`,{onClick:i[9]||=e=>ce(q.value.current_page+1),disabled:q.value.current_page>=q.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[C(P(u),{class:`h-5 w-5`})],8,Ci)])])])])])):y(``,!0)]),C(se,{show:O.value,"onUpdate:show":i[10]||=e=>O.value=e,type:`delete`,title:W.value.title,message:W.value.message,"confirm-text":W.value.buttonText,"loading-text":W.value.loadingText,loading:w.value,onConfirm:me,onCancel:he},null,8,[`show`,`title`,`message`,`confirm-text`,`loading-text`,`loading`]),C(be,{show:z.value,"onUpdate:show":i[11]||=e=>z.value=e,item:R.value,title:`Currency Details`,"display-fields":te.value,size:`lg`},null,8,[`show`,`item`,`display-fields`]),C(pe,{title:`Currency rate to USD`,modelValue:m.value,onClose:Te,size:`2xl`,showCloseButton:!0,closeOnEscape:!1},{default:A(()=>[_(`div`,wi,[i[33]||=_(`div`,{class:`bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},[_(`div`,{class:`flex items-center`},[_(`div`,{class:`flex-shrink-0`},[_(`svg`,{class:`h-5 w-5 text-blue-400`,fill:`currentColor`,viewBox:`0 0 20 20`},[_(`path`,{"fill-rule":`evenodd`,d:`M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z`,"clip-rule":`evenodd`})])]),_(`div`,{class:`ml-3`},[_(`p`,{class:`text-sm text-blue-800 dark:text-blue-200`},[_(`strong`,null,`Note:`),S(` All rates are relative to USD. Enter the exchange rate for 1 USD to the respective currency. `)])])])],-1),_(`div`,Ti,[_(`table`,Ei,[i[32]||=_(`thead`,{class:`bg-gray-50 dark:bg-gray-700 sticky top-0 z-10`},[_(`tr`,null,[_(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` # `),_(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Currency `),_(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Current Rate `),_(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` New Rate (1 USD =) `)])],-1),_(`tbody`,Di,[(E(!0),b(G,null,D(Y.value,(e,t)=>(E(),b(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700`},[_(`td`,Oi,f(t+1),1),_(`td`,ki,[_(`div`,Ai,[_(`div`,ji,[_(`div`,Mi,[_(`span`,Ni,f(e.code.substring(0,2)),1)])]),_(`div`,Pi,[_(`div`,Fi,f(e.name),1),_(`div`,Ii,f(e.code),1)])])]),_(`td`,Li,f(ye(e.id)||`Not set`),1),_(`td`,Ri,[_(`input`,{value:ve(x.value[e.id]),type:`text`,placeholder:`Enter rate for ${e.name}`,onInput:t=>Ce(e.id,t),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm`},null,40,zi)])]))),128))])])]),_(`div`,Bi,[_(`button`,{onClick:Te,type:`button`,class:`px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`},` Cancel `),_(`button`,{onClick:Ee,disabled:h.value||!X.value,type:`button`,class:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[h.value?(E(),v(P(r),{key:0,class:`h-4 w-4 mr-2 animate-spin`})):y(``,!0),S(` `+f(h.value?`Updating...`:`Update Rates`),1)],8,Vi)])])]),_:1},8,[`modelValue`])]))}}),Ui=Hi;function Wi(){let e=N({}),t=g(()=>Object.keys(e.value).length>0),n=t=>e.value[t]?.[0],r=n=>{let r={};return!n.name||n.name.trim().length===0?r.name=[`Currency name is required`]:n.name.trim().length>255&&(r.name=[`Currency name must not exceed 255 characters`]),!n.code||n.code.trim().length===0?r.code=[`Currency code is required`]:n.code.trim().length===3?/^[A-Z]+$/.test(n.code.trim())||(r.code=[`Currency code must contain only uppercase letters`]):r.code=[`Currency code must be exactly 3 characters (e.g., USD, EUR)`],!n.symbol||n.symbol.trim().length===0?r.symbol=[`Currency symbol is required`]:n.symbol.trim().length>10&&(r.symbol=[`Currency symbol must not exceed 10 characters`]),!n.symbol_position||n.symbol_position.trim().length===0?r.symbol_position=[`Symbol position is required`]:[`before`,`after`].includes(n.symbol_position)||(r.symbol_position=[`Symbol position must be either "before" or "after"`]),n.decimal_places===void 0||n.decimal_places===null?r.decimal_places=[`Decimal places is required`]:n.decimal_places<0||n.decimal_places>4?r.decimal_places=[`Decimal places must be between 0 and 4`]:Number.isInteger(n.decimal_places)||(r.decimal_places=[`Decimal places must be a whole number`]),!n.decimal_separator||n.decimal_separator.trim().length===0?r.decimal_separator=[`Decimal separator is required`]:n.decimal_separator.trim().length>1?r.decimal_separator=[`Decimal separator must be a single character`]:[`.`,`,`].includes(n.decimal_separator)||(r.decimal_separator=[`Decimal separator must be either "." or ","`]),!n.thousand_separator||n.thousand_separator.trim().length===0?r.thousand_separator=[`Thousand separator is required`]:n.thousand_separator.trim().length>1?r.thousand_separator=[`Thousand separator must be a single character`]:[`,`,`.`,` `,``].includes(n.thousand_separator)||(r.thousand_separator=[`Thousand separator must be ",", ".", space, or empty`]),n.decimal_separator&&n.thousand_separator&&n.decimal_separator===n.thousand_separator&&n.thousand_separator!==``&&(r.decimal_separator=[`Decimal separator and thousand separator must be different`],r.thousand_separator=[`Decimal separator and thousand separator must be different`]),e.value=r,!t.value},i=n=>{let r={};return n.name!==void 0&&(!n.name||n.name.trim().length===0?r.name=[`Currency name is required`]:n.name.trim().length>255&&(r.name=[`Currency name must not exceed 255 characters`])),n.code!==void 0&&(!n.code||n.code.trim().length===0?r.code=[`Currency code is required`]:n.code.trim().length===3?/^[A-Z]+$/.test(n.code.trim())||(r.code=[`Currency code must contain only uppercase letters`]):r.code=[`Currency code must be exactly 3 characters (e.g., USD, EUR)`]),n.symbol!==void 0&&(!n.symbol||n.symbol.trim().length===0?r.symbol=[`Currency symbol is required`]:n.symbol.trim().length>10&&(r.symbol=[`Currency symbol must not exceed 10 characters`])),n.symbol_position!==void 0&&(!n.symbol_position||n.symbol_position.trim().length===0?r.symbol_position=[`Symbol position is required`]:[`before`,`after`].includes(n.symbol_position)||(r.symbol_position=[`Symbol position must be either "before" or "after"`])),n.decimal_places!==void 0&&(n.decimal_places===null?r.decimal_places=[`Decimal places is required`]:n.decimal_places<0||n.decimal_places>4?r.decimal_places=[`Decimal places must be between 0 and 4`]:Number.isInteger(n.decimal_places)||(r.decimal_places=[`Decimal places must be a whole number`])),n.decimal_separator!==void 0&&(!n.decimal_separator||n.decimal_separator.trim().length===0?r.decimal_separator=[`Decimal separator is required`]:n.decimal_separator.trim().length>1?r.decimal_separator=[`Decimal separator must be a single character`]:[`.`,`,`].includes(n.decimal_separator)||(r.decimal_separator=[`Decimal separator must be either "." or ","`])),n.thousand_separator!==void 0&&(!n.thousand_separator||n.thousand_separator.trim().length===0?r.thousand_separator=[`Thousand separator is required`]:n.thousand_separator.trim().length>1?r.thousand_separator=[`Thousand separator must be a single character`]:[`,`,`.`,` `,``].includes(n.thousand_separator)||(r.thousand_separator=[`Thousand separator must be ",", ".", space, or empty`])),n.decimal_separator!==void 0&&n.thousand_separator!==void 0&&n.decimal_separator&&n.thousand_separator&&n.decimal_separator===n.thousand_separator&&n.thousand_separator!==``&&(r.decimal_separator=[`Decimal separator and thousand separator must be different`],r.thousand_separator=[`Decimal separator and thousand separator must be different`]),e.value=r,!t.value},a=()=>{e.value={}},o=t=>{e.value[t]&&delete e.value[t]},s=t=>{e.value=t};return{errors:e,hasErrors:t,getFieldError:n,validateCreateRequest:r,validateUpdateRequest:i,clearErrors:a,clearFieldError:o,setServerErrors:s}}const Gi={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Ki={class:`max-w-4xl mx-auto`},qi={class:`mb-8`},Ji={class:`flex items-center space-x-4 mb-2`},Yi={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Xi={class:`px-6 py-8`},Zi={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Qi={key:0,class:`mt-1 text-xs text-gray-500`},$i={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},ea={key:0,class:`mt-1 text-xs text-gray-500`},ta=[`disabled`],na={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},ra={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},ia={class:`text-lg font-mono text-gray-900 dark:text-white`},aa={class:`grid grid-cols-1 md:grid-cols-4 gap-6`},oa=[`disabled`],sa={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},ca=[`disabled`],la={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},ua=[`disabled`],da={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},fa=[`disabled`],pa={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},ma={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},ha={class:`space-y-1`},ga={class:`text-sm font-mono text-gray-900 dark:text-white`},_a={class:`text-sm font-mono text-gray-900 dark:text-white`},va={class:`text-sm font-mono text-gray-900 dark:text-white`},ya={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},ba=[`disabled`],xa=[`disabled`],Sa={key:0,class:`flex items-center justify-center`},Ca={key:1},wa={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Ta={class:`flex`},Ea={class:`flex-shrink-0`};var Da=w({__name:`CreatePage`,emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=t,r=$(),{errors:a,hasErrors:o,getFieldError:s,validateCreateRequest:c,clearFieldError:l,setServerErrors:u,clearErrors:d}=Wi(),p=N(!1),m=N({name:``,code:``,symbol:``,symbol_position:``,decimal_places:2,calculation_type:`multiply`,decimal_separator:`.`,thousand_separator:`,`}),v=g(()=>m.value.name.trim().length>0&&m.value.name.length<=255&&m.value.code.trim().length===3&&/^[A-Z]+$/.test(m.value.code.trim())&&m.value.symbol.trim().length>0&&m.value.symbol.length<=10&&[`before`,`after`].includes(m.value.symbol_position)&&typeof m.value.decimal_places==`number`&&m.value.decimal_places>=0&&m.value.decimal_places<=4&&[`divide`,`multiply`].includes(m.value.calculation_type)&&[`.`,`,`].includes(m.value.decimal_separator)&&m.value.thousand_separator!==void 0),w=g(()=>m.value.symbol&&m.value.symbol_position&&typeof m.value.decimal_places==`number`&&m.value.decimal_separator&&m.value.thousand_separator!==void 0),D=()=>{m.value.code=m.value.code.toUpperCase()},O=()=>{if(!m.value.symbol||!m.value.symbol_position)return``;let e=`123.45`;return m.value.symbol_position===`before`?`${m.value.symbol}${e}`:`${e}${m.value.symbol}`},k=e=>{if(!w.value)return``;let t=e.toFixed(m.value.decimal_places).split(`.`),n=t[0],r=t[1];m.value.thousand_separator&&n.length>3&&(n=n.replace(/\B(?=(\d{3})+(?!\d))/g,m.value.thousand_separator));let i=n;return m.value.decimal_places>0&&r&&(i+=m.value.decimal_separator+r),m.value.symbol_position===`before`?`${m.value.symbol}${i}`:`${i}${m.value.symbol}`},A=()=>{m.value={name:``,code:``,symbol:``,symbol_position:``,decimal_places:2,calculation_type:`multiply`,decimal_separator:`.`,thousand_separator:`,`},d()},M=async()=>{if(d(),c(m.value))try{p.value=!0,await r.createCurrency(m.value),A(),n(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&u(e.response.data.errors)}finally{p.value=!1}},I=()=>{A(),n(`cancel`)},L=()=>{n(`back`)};return T(()=>{A()}),(e,t)=>(E(),b(`div`,Gi,[_(`div`,Ki,[_(`div`,qi,[_(`div`,Ji,[_(`button`,{onClick:L,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[C(P(h),{class:`w-5 h-5`})]),t[16]||=_(`div`,null,[_(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create Currency `),_(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new currency for your financial transactions `)],-1)])]),_(`div`,Yi,[_(`div`,Xi,[_(`form`,{onSubmit:W(M,[`prevent`]),class:`space-y-8`},[_(`div`,null,[t[18]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),_(`div`,Zi,[_(`div`,null,[C(K,{type:`text`,maxlength:255,disabled:p.value,onBlur:t[0]||=()=>P(l)(`name`),modelValue:m.value.name,"onUpdate:modelValue":t[1]||=e=>m.value.name=e,placeholder:`Enter currency name (e.g., US Dollar)`,error:P(s)(`name`),required:``,label:`Currency Name`},null,8,[`disabled`,`modelValue`,`error`]),m.value.name.length>0?(E(),b(`p`,Qi,f(m.value.name.length)+`/255 characters `,1)):y(``,!0)]),_(`div`,null,[C(K,{type:`text`,maxlength:3,disabled:p.value,onBlur:t[2]||=()=>P(l)(`code`),onInput:D,modelValue:m.value.code,"onUpdate:modelValue":t[3]||=e=>m.value.code=e,placeholder:`Enter currency code (e.g., USD)`,error:P(s)(`code`),required:``,label:`Currency Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),t[17]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` 3-letter ISO code (automatically converted to uppercase) `,-1)])])]),_(`div`,null,[t[22]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Symbol Configuration `,-1),_(`div`,$i,[_(`div`,null,[C(K,{type:`text`,maxlength:10,disabled:p.value,onBlur:t[4]||=()=>P(l)(`symbol`),modelValue:m.value.symbol,"onUpdate:modelValue":t[5]||=e=>m.value.symbol=e,placeholder:`Enter currency symbol (e.g., $)`,error:P(s)(`symbol`),required:``,label:`Currency Symbol`},null,8,[`disabled`,`modelValue`,`error`]),m.value.symbol.length>0?(E(),b(`p`,ea,f(m.value.symbol.length)+`/10 characters `,1)):y(``,!0)]),_(`div`,null,[t[20]||=_(`label`,{for:`symbol_position`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[S(` Symbol Position `),_(`span`,{class:`text-red-500 ml-1`},`*`)],-1),j(_(`select`,{id:`symbol_position`,"onUpdate:modelValue":t[6]||=e=>m.value.symbol_position=e,disabled:p.value,onBlur:t[7]||=()=>P(l)(`symbol_position`),class:F([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,P(s)(`symbol_position`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[19]||=[_(`option`,{value:``},`Select position`,-1),_(`option`,{value:`before`},`Before amount ($123.45)`,-1),_(`option`,{value:`after`},`After amount (123.45$)`,-1)],42,ta),[[H,m.value.symbol_position]]),P(s)(`symbol_position`)?(E(),b(`p`,na,f(P(s)(`symbol_position`)),1)):y(``,!0)])]),m.value.symbol&&m.value.symbol_position?(E(),b(`div`,ra,[t[21]||=_(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Preview:`,-1),_(`p`,ia,f(O()),1)])):y(``,!0)]),_(`div`,null,[t[33]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Number Formatting `,-1),_(`div`,aa,[_(`div`,null,[t[24]||=_(`label`,{for:`decimal_places`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[S(` Decimal Places `),_(`span`,{class:`text-red-500 ml-1`},`*`)],-1),j(_(`select`,{id:`decimal_places`,"onUpdate:modelValue":t[8]||=e=>m.value.decimal_places=e,disabled:p.value,onBlur:t[9]||=()=>P(l)(`decimal_places`),class:F([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,P(s)(`decimal_places`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[23]||=[_(`option`,{value:``},`Select`,-1),_(`option`,{value:0},`0 (no decimals)`,-1),_(`option`,{value:1},`1 decimal`,-1),_(`option`,{value:2},`2 decimals`,-1),_(`option`,{value:3},`3 decimals`,-1),_(`option`,{value:4},`4 decimals`,-1)],42,oa),[[H,m.value.decimal_places,void 0,{number:!0}]]),P(s)(`decimal_places`)?(E(),b(`p`,sa,f(P(s)(`decimal_places`)),1)):y(``,!0)]),_(`div`,null,[t[26]||=_(`label`,{for:`calculation_type`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[S(` Calculation Type `),_(`span`,{class:`text-red-500 ml-1`},`*`)],-1),j(_(`select`,{id:`calculation_type`,"onUpdate:modelValue":t[10]||=e=>m.value.calculation_type=e,disabled:p.value,onBlur:t[11]||=()=>P(l)(`calculation_type`),class:F([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,P(s)(`calculation_type`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[25]||=[_(`option`,{value:`multiply`},`Multiply`,-1),_(`option`,{value:`divide`},`Divide`,-1)],42,ca),[[H,m.value.calculation_type]]),P(s)(`calculation_type`)?(E(),b(`p`,la,f(P(s)(`calculation_type`)),1)):y(``,!0),t[27]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` How to convert to USD `,-1)]),_(`div`,null,[t[29]||=_(`label`,{for:`decimal_separator`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[S(` Decimal Separator `),_(`span`,{class:`text-red-500 ml-1`},`*`)],-1),j(_(`select`,{id:`decimal_separator`,"onUpdate:modelValue":t[12]||=e=>m.value.decimal_separator=e,disabled:p.value,onBlur:t[13]||=()=>P(l)(`decimal_separator`),class:F([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,P(s)(`decimal_separator`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[28]||=[_(`option`,{value:``},`Select`,-1),_(`option`,{value:`.`},`Period (.)`,-1),_(`option`,{value:`,`},`Comma (,)`,-1)],42,ua),[[H,m.value.decimal_separator]]),P(s)(`decimal_separator`)?(E(),b(`p`,da,f(P(s)(`decimal_separator`)),1)):y(``,!0)]),_(`div`,null,[t[31]||=_(`label`,{for:`thousand_separator`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[S(` Thousand Separator `),_(`span`,{class:`text-red-500 ml-1`},`*`)],-1),j(_(`select`,{id:`thousand_separator`,"onUpdate:modelValue":t[14]||=e=>m.value.thousand_separator=e,disabled:p.value,onBlur:t[15]||=()=>P(l)(`thousand_separator`),class:F([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,P(s)(`thousand_separator`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[30]||=[x(`<option value="">Select</option><option value=",">Comma (,)</option><option value=".">Period (.)</option><option value=" ">Space ( )</option><option value="">None</option>`,5)],42,fa),[[H,m.value.thousand_separator]]),P(s)(`thousand_separator`)?(E(),b(`p`,pa,f(P(s)(`thousand_separator`)),1)):y(``,!0)])]),w.value?(E(),b(`div`,ma,[t[32]||=_(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Formatting Preview:`,-1),_(`div`,ha,[_(`p`,ga,` Small: `+f(k(12.3)),1),_(`p`,_a,` Medium: `+f(k(1234.56)),1),_(`p`,va,` Large: `+f(k(1234567.89)),1)])])):y(``,!0)]),_(`div`,ya,[_(`button`,{type:`button`,onClick:I,disabled:p.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,ba),_(`button`,{type:`submit`,disabled:p.value||P(o)||!v.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[p.value?(E(),b(`div`,Sa,t[34]||=[_(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),S(` Creating... `,-1)])):(E(),b(`span`,Ca,`Create Currency`))],8,xa)])],32)])]),_(`div`,wa,[_(`div`,Ta,[_(`div`,Ea,[C(P(i),{class:`h-5 w-5 text-blue-400`})]),t[35]||=x(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> About Currencies </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Currencies define how monetary values are displayed and formatted in your system: </p><ul class="list-disc list-inside space-y-1"><li><strong>Name:</strong> Full currency name (e.g., &quot;US Dollar&quot;)</li><li><strong>Code:</strong> 3-letter ISO code (e.g., &quot;USD&quot;, &quot;EUR&quot;)</li><li><strong>Symbol:</strong> Currency symbol (e.g., &quot;$&quot;, &quot;€&quot;, &quot;£&quot;)</li><li><strong>Position:</strong> Where the symbol appears relative to the amount</li><li><strong>Calculation Type:</strong> How to convert to USD - Divide (for stronger currencies) or Multiply (for weaker currencies)</li><li><strong>Formatting:</strong> How numbers are displayed with separators and decimals</li></ul></div></div>`,1)])])])]))}}),Oa=Da;const ka={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Aa={class:`max-w-4xl mx-auto`},ja={class:`mb-8`},Ma={class:`flex items-center space-x-4 mb-2`},Na={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Pa={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Fa={class:`px-6 py-8`},Ia={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},La={key:0,class:`mt-1 text-xs text-gray-500`},Ra={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},za={key:0,class:`mt-1 text-xs text-gray-500`},Ba=[`disabled`],Va={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ha={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},Ua={class:`text-lg font-mono text-gray-900 dark:text-white`},Wa={class:`grid grid-cols-1 md:grid-cols-4 gap-6`},Ga=[`disabled`],Ka={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},qa=[`disabled`],Ja={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ya=[`disabled`],Xa={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Za=[`disabled`],Qa={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},$a={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},eo={class:`space-y-1`},to={class:`text-sm font-mono text-gray-900 dark:text-white`},no={class:`text-sm font-mono text-gray-900 dark:text-white`},ro={class:`text-sm font-mono text-gray-900 dark:text-white`},io={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},ao=[`disabled`],oo=[`disabled`],so={key:0,class:`flex items-center justify-center`},co={key:1},lo={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},uo={class:`flex flex-col items-center`},fo={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},po={class:`flex`},mo={class:`flex-shrink-0`};var ho=w({__name:`EditPage`,props:{id:{},currency:{}},emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=e,r=t,a=$(),{errors:o,hasErrors:s,getFieldError:l,validateUpdateRequest:u,clearFieldError:d,setServerErrors:p,clearErrors:m}=Wi(),v=N(!1),w=N(!1),D=N({name:``,code:``,symbol:``,symbol_position:``,decimal_places:2,calculation_type:`multiply`,decimal_separator:`.`,thousand_separator:`,`}),O=N({name:``,code:``,symbol:``,symbol_position:``,decimal_places:2,calculation_type:`multiply`,decimal_separator:`.`,thousand_separator:`,`}),A=g(()=>D.value.name.trim().length>0&&D.value.name.length<=255&&D.value.code.trim().length===3&&/^[A-Z]+$/.test(D.value.code.trim())&&D.value.symbol.trim().length>0&&D.value.symbol.length<=10&&[`before`,`after`].includes(D.value.symbol_position)&&typeof D.value.decimal_places==`number`&&D.value.decimal_places>=0&&D.value.decimal_places<=4&&[`divide`,`multiply`].includes(D.value.calculation_type)&&[`.`,`,`].includes(D.value.decimal_separator)&&D.value.thousand_separator!==void 0),M=g(()=>D.value.symbol&&D.value.symbol_position&&typeof D.value.decimal_places==`number`&&D.value.decimal_separator&&D.value.thousand_separator!==void 0),I=()=>{D.value.code=D.value.code.toUpperCase()},L=()=>{if(!D.value.symbol||!D.value.symbol_position)return``;let e=`123.45`;return D.value.symbol_position===`before`?`${D.value.symbol}${e}`:`${e}${D.value.symbol}`},R=e=>{if(!M.value)return``;let t=e.toFixed(D.value.decimal_places).split(`.`),n=t[0],r=t[1];D.value.thousand_separator&&n.length>3&&(n=n.replace(/\B(?=(\d{3})+(?!\d))/g,D.value.thousand_separator));let i=n;return D.value.decimal_places>0&&r&&(i+=D.value.decimal_separator+r),D.value.symbol_position===`before`?`${D.value.symbol}${i}`:`${i}${D.value.symbol}`},z=async()=>{try{w.value=!0;let e=n.currency||await a.fetchCurrency(n.id);e&&(D.value={name:e.name,code:e.code,symbol:e.symbol,symbol_position:e.symbol_position,decimal_places:e.decimal_places,calculation_type:e.calculation_type||`multiply`,decimal_separator:e.decimal_separator,thousand_separator:e.thousand_separator},O.value={name:e.name,code:e.code,symbol:e.symbol,symbol_position:e.symbol_position,decimal_places:e.decimal_places,calculation_type:e.calculation_type||`multiply`,decimal_separator:e.decimal_separator,thousand_separator:e.thousand_separator},m())}catch(e){console.error(`Error loading currency:`,e)}finally{w.value=!1}},ee=async()=>{if(m(),u(D.value))try{v.value=!0;let e={name:D.value.name,code:D.value.code,symbol:D.value.symbol,symbol_position:D.value.symbol_position,decimal_places:D.value.decimal_places,calculation_type:D.value.calculation_type,decimal_separator:D.value.decimal_separator,thousand_separator:D.value.thousand_separator};await a.updateCurrency(n.id,e),O.value={...D.value},r(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&p(e.response.data.errors)}finally{v.value=!1}},B=()=>{r(`cancel`)},V=()=>{r(`back`)};return T(()=>{z()}),k(()=>n.id,()=>{n.id&&z()}),(e,t)=>(E(),b(`div`,ka,[_(`div`,Aa,[_(`div`,ja,[_(`div`,Ma,[_(`button`,{onClick:V,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[C(P(h),{class:`w-5 h-5`})]),t[16]||=_(`div`,null,[_(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Currency `),_(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update currency information and formatting settings `)],-1)])]),w.value?(E(),b(`div`,Na,t[17]||=[_(`div`,{class:`flex items-center justify-center`},[_(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),_(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading currency...`)],-1)])):D.value?(E(),b(`div`,Pa,[_(`div`,Fa,[_(`form`,{onSubmit:W(ee,[`prevent`]),class:`space-y-8`},[_(`div`,null,[t[19]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),_(`div`,Ia,[_(`div`,null,[C(K,{type:`text`,maxlength:255,disabled:v.value,onBlur:t[0]||=()=>P(d)(`name`),modelValue:D.value.name,"onUpdate:modelValue":t[1]||=e=>D.value.name=e,placeholder:`Enter currency name (e.g., US Dollar)`,error:P(l)(`name`),required:``,label:`Currency Name`},null,8,[`disabled`,`modelValue`,`error`]),D.value.name.length>0?(E(),b(`p`,La,f(D.value.name.length)+`/255 characters `,1)):y(``,!0)]),_(`div`,null,[C(K,{type:`text`,maxlength:3,disabled:v.value,onBlur:t[2]||=()=>P(d)(`code`),onInput:I,modelValue:D.value.code,"onUpdate:modelValue":t[3]||=e=>D.value.code=e,placeholder:`Enter currency code (e.g., USD)`,error:P(l)(`code`),required:``,label:`Currency Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),t[18]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` 3-letter ISO code (automatically converted to uppercase) `,-1)])])]),_(`div`,null,[t[23]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Symbol Configuration `,-1),_(`div`,Ra,[_(`div`,null,[C(K,{type:`text`,maxlength:10,disabled:v.value,onBlur:t[4]||=()=>P(d)(`symbol`),modelValue:D.value.symbol,"onUpdate:modelValue":t[5]||=e=>D.value.symbol=e,placeholder:`Enter currency symbol (e.g., $)`,error:P(l)(`symbol`),required:``,label:`Currency Symbol`},null,8,[`disabled`,`modelValue`,`error`]),D.value.symbol.length>0?(E(),b(`p`,za,f(D.value.symbol.length)+`/10 characters `,1)):y(``,!0)]),_(`div`,null,[t[21]||=_(`label`,{for:`symbol_position`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[S(` Symbol Position `),_(`span`,{class:`text-red-500 ml-1`},`*`)],-1),j(_(`select`,{id:`symbol_position`,"onUpdate:modelValue":t[6]||=e=>D.value.symbol_position=e,disabled:v.value,onBlur:t[7]||=()=>P(d)(`symbol_position`),class:F([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,P(l)(`symbol_position`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[20]||=[_(`option`,{value:``},`Select position`,-1),_(`option`,{value:`before`},`Before amount ($123.45)`,-1),_(`option`,{value:`after`},`After amount (123.45$)`,-1)],42,Ba),[[H,D.value.symbol_position]]),P(l)(`symbol_position`)?(E(),b(`p`,Va,f(P(l)(`symbol_position`)),1)):y(``,!0)])]),D.value.symbol&&D.value.symbol_position?(E(),b(`div`,Ha,[t[22]||=_(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Preview:`,-1),_(`p`,Ua,f(L()),1)])):y(``,!0)]),_(`div`,null,[t[34]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Number Formatting `,-1),_(`div`,Wa,[_(`div`,null,[t[25]||=_(`label`,{for:`decimal_places`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[S(` Decimal Places `),_(`span`,{class:`text-red-500 ml-1`},`*`)],-1),j(_(`select`,{id:`decimal_places`,"onUpdate:modelValue":t[8]||=e=>D.value.decimal_places=e,disabled:v.value,onBlur:t[9]||=()=>P(d)(`decimal_places`),class:F([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,P(l)(`decimal_places`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[24]||=[_(`option`,{value:``},`Select`,-1),_(`option`,{value:0},`0 (no decimals)`,-1),_(`option`,{value:1},`1 decimal`,-1),_(`option`,{value:2},`2 decimals`,-1),_(`option`,{value:3},`3 decimals`,-1),_(`option`,{value:4},`4 decimals`,-1)],42,Ga),[[H,D.value.decimal_places,void 0,{number:!0}]]),P(l)(`decimal_places`)?(E(),b(`p`,Ka,f(P(l)(`decimal_places`)),1)):y(``,!0)]),_(`div`,null,[t[27]||=_(`label`,{for:`calculation_type`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[S(` Calculation Type `),_(`span`,{class:`text-red-500 ml-1`},`*`)],-1),j(_(`select`,{id:`calculation_type`,"onUpdate:modelValue":t[10]||=e=>D.value.calculation_type=e,disabled:v.value,onBlur:t[11]||=()=>P(d)(`calculation_type`),class:F([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,P(l)(`calculation_type`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[26]||=[_(`option`,{value:``},`Select`,-1),_(`option`,{value:`multiply`},`Multiply`,-1),_(`option`,{value:`divide`},`Divide`,-1)],42,qa),[[H,D.value.calculation_type]]),P(l)(`calculation_type`)?(E(),b(`p`,Ja,f(P(l)(`calculation_type`)),1)):y(``,!0),t[28]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` How to convert to USD `,-1)]),_(`div`,null,[t[30]||=_(`label`,{for:`decimal_separator`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[S(` Decimal Separator `),_(`span`,{class:`text-red-500 ml-1`},`*`)],-1),j(_(`select`,{id:`decimal_separator`,"onUpdate:modelValue":t[12]||=e=>D.value.decimal_separator=e,disabled:v.value,onBlur:t[13]||=()=>P(d)(`decimal_separator`),class:F([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,P(l)(`decimal_separator`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[29]||=[_(`option`,{value:``},`Select`,-1),_(`option`,{value:`.`},`Period (.)`,-1),_(`option`,{value:`,`},`Comma (,)`,-1)],42,Ya),[[H,D.value.decimal_separator]]),P(l)(`decimal_separator`)?(E(),b(`p`,Xa,f(P(l)(`decimal_separator`)),1)):y(``,!0)]),_(`div`,null,[t[32]||=_(`label`,{for:`thousand_separator`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[S(` Thousand Separator `),_(`span`,{class:`text-red-500 ml-1`},`*`)],-1),j(_(`select`,{id:`thousand_separator`,"onUpdate:modelValue":t[14]||=e=>D.value.thousand_separator=e,disabled:v.value,onBlur:t[15]||=()=>P(d)(`thousand_separator`),class:F([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,P(l)(`thousand_separator`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[31]||=[x(`<option value="">Select</option><option value=",">Comma (,)</option><option value=".">Period (.)</option><option value=" ">Space ( )</option><option value="">None</option>`,5)],42,Za),[[H,D.value.thousand_separator]]),P(l)(`thousand_separator`)?(E(),b(`p`,Qa,f(P(l)(`thousand_separator`)),1)):y(``,!0)])]),M.value?(E(),b(`div`,$a,[t[33]||=_(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Formatting Preview:`,-1),_(`div`,eo,[_(`p`,to,` Small: `+f(R(12.3)),1),_(`p`,no,` Medium: `+f(R(1234.56)),1),_(`p`,ro,` Large: `+f(R(1234567.89)),1)])])):y(``,!0)]),_(`div`,io,[_(`button`,{type:`button`,onClick:B,disabled:v.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,ao),_(`button`,{type:`submit`,disabled:v.value||P(s)||!A.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[v.value?(E(),b(`div`,so,t[35]||=[_(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),S(` Updating... `,-1)])):(E(),b(`span`,co,`Update Currency`))],8,oo)])],32)])])):(E(),b(`div`,lo,[_(`div`,uo,[C(P(c),{class:`w-12 h-12 text-red-400 mb-4`}),t[36]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Currency Not Found `,-1),t[37]||=_(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The currency you're trying to edit could not be found. `,-1),_(`button`,{onClick:V,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` ← Back to Currencies `)])])),D.value?(E(),b(`div`,fo,[_(`div`,po,[_(`div`,mo,[C(P(i),{class:`h-5 w-5 text-blue-400`})]),t[38]||=x(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Currency Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update the currency details carefully as this information affects: </p><ul class="list-disc list-inside space-y-1"><li>How monetary amounts are displayed throughout the system</li><li>Financial reports and transaction formatting</li><li>Invoice and receipt generation</li><li>API responses for integrations</li></ul></div></div>`,1)])])):y(``,!0)])]))}}),go=ho;const _o={class:`space-y-6`},vo={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},yo={class:`grid grid-cols-1 md:grid-cols-4 gap-4`},bo={class:`md:col-span-2`},xo={class:`relative`},So={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},Co={key:0,class:`p-8 text-center`},wo={key:1,class:`p-8 text-center`},To={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},Eo={key:0,class:`mt-6`},Do={key:2,class:`overflow-x-auto`},Oo={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},ko={class:`bg-gray-50 dark:bg-gray-700`},Ao={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},jo={class:`flex flex-col`},Mo={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},No={class:`flex flex-col`},Po={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Fo={class:`flex flex-col`},Io={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},Lo={class:`px-6 py-4 whitespace-nowrap`},Ro={class:`flex items-center`},zo={class:`flex-shrink-0 h-10 w-10`},Bo={class:`h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center`},Vo={class:`ml-4`},Ho={class:`text-sm font-medium text-gray-900 dark:text-white`},Uo={class:`text-sm text-gray-500 dark:text-gray-400`},Wo={class:`px-6 py-4 whitespace-nowrap`},Go={class:`text-sm text-gray-900 dark:text-white`},Ko={class:`flex items-center space-x-2`},qo={class:`font-mono font-semibold bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-xs`},Jo={class:`font-mono font-semibold bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 px-2 py-1 rounded text-xs`},Yo={class:`px-6 py-4 whitespace-nowrap`},Xo={class:`text-sm text-gray-900 dark:text-white`},Zo={key:0,class:`font-mono bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-2 py-1 rounded text-sm`},Qo={key:1,class:`text-gray-400 text-sm`},$o={class:`px-6 py-4 whitespace-nowrap`},es={class:`px-6 py-4 whitespace-nowrap`},ts={class:`text-sm text-gray-900 dark:text-white`},ns={class:`text-sm text-gray-600 dark:text-gray-400`},rs={class:`text-xs text-gray-500 dark:text-gray-500`},os={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},ss={class:`flex items-center justify-end space-x-2`},cs=[`onClick`],ls=[`onClick`],us=[`onClick`],ds={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},fs={class:`flex items-center justify-between`},ps={class:`flex-1 flex justify-between sm:hidden`},ms=[`disabled`],hs=[`disabled`],gs={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},_s={class:`text-sm text-gray-700 dark:text-gray-300`},vs={class:`font-medium`},ys={class:`font-medium`},bs={class:`font-medium`},xs={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},Ss=[`disabled`],Cs=[`disabled`];var ws=w({__name:`IndexPage`,emits:[`create`,`edit`],setup(n,{emit:i}){B();let s=ee(),c=Se(),p=i,m=N(!1),h=N(!1),v=N(null),x=N(null),w=N(null),O=N(!1),A=M({search:``,is_active:``,per_page:15,sort_by:``,sort_direction:`asc`,page:1}),I=N({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}),L=g(()=>c.countries),R=g(()=>c.pagination),z=g(()=>c.loading),V=g(()=>[{key:`name`,label:`Country Name`,type:`text`},{key:`code`,label:`Country Code`,type:`text`},{key:`iso2`,label:`ISO2 Code`,type:`text`},{key:`phone_code`,label:`Phone Code`,type:`text`,fallback:`None`},{key:`is_active`,label:`Status`,type:`status`},{key:`display_name`,label:`Display Name`,type:`text`},{key:`full_display`,label:`Full Display`,type:`text`},{key:`created_by.name`,label:`Created By`,type:`text`,subKey:`created_at`},{key:`updated_by.name`,label:`Last Updated By`,type:`text`,subKey:`updated_at`}]);k(()=>({...A}),e=>{let{page:t,...n}=e;c.updateFilters(n)},{deep:!0});let W=async(e=1)=>{try{let t={...A,page:e};await c.fetchCountries(t)}catch{s.error(`Failed to load countries`,{title:`Error`})}},K=()=>{x.value&&clearTimeout(x.value),x.value=setTimeout(()=>{W(1)},300)},q=e=>{A.sort_by===e?A.sort_direction=A.sort_direction===`asc`?`desc`:`asc`:(A.sort_by=e,A.sort_direction=`asc`),W(1)},J=e=>{e>=1&&R.value&&e<=R.value.last_page&&(A.page=e,W(e))},Y=e=>{w.value=e,O.value=!0},X=e=>{v.value=e,I.value={title:`Delete Country`,message:`Are you sure you want to delete "${e.name} (${e.iso2})"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},h.value=!0},te=async()=>{v.value&&(await c.deleteCountry(v.value.id),Z())},Z=()=>{h.value=!1,v.value=null,I.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},ie=()=>{p(`create`)},Q=e=>{p(`edit`,e)};return T(()=>{W()}),(n,i)=>(E(),b(`div`,_o,[C(oe,{title:`Countries`,description:`Manage countries and their information`,"create-button-text":`Create New Country`,onCreate:ie}),_(`div`,vo,[_(`div`,yo,[_(`div`,bo,[i[12]||=_(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Countries `,-1),_(`div`,xo,[j(_(`input`,{id:`search`,"onUpdate:modelValue":i[0]||=e=>A.search=e,type:`text`,placeholder:`Search by name, code, ISO2, or phone code...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:K},null,544),[[U,A.search]]),C(P(re),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),_(`div`,null,[i[14]||=_(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Status `,-1),j(_(`select`,{id:`status`,"onUpdate:modelValue":i[1]||=e=>A.is_active=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:W},i[13]||=[_(`option`,{value:``},`All Status`,-1),_(`option`,{value:`true`},`Active`,-1),_(`option`,{value:`false`},`Inactive`,-1)],544),[[H,A.is_active]])]),_(`div`,null,[i[16]||=_(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),j(_(`select`,{id:`per-page`,"onUpdate:modelValue":i[2]||=e=>A.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:W},i[15]||=[_(`option`,{value:15},`15`,-1),_(`option`,{value:25},`25`,-1),_(`option`,{value:50},`50`,-1),_(`option`,{value:100},`100`,-1)],544),[[H,A.per_page]])])])]),_(`div`,So,[z.value?(E(),b(`div`,Co,[C(P(r),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),i[17]||=_(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading countries...`,-1)])):L.value.length===0?(E(),b(`div`,wo,[C(P(a),{class:`h-12 w-12 mx-auto text-gray-400`}),i[19]||=_(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},` No countries found `,-1),_(`p`,To,f(A.search?`Try adjusting your search criteria.`:`Get started by creating your first country.`),1),A.search?y(``,!0):(E(),b(`div`,Eo,[_(`button`,{onClick:ie,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[C(P(ae),{class:`h-5 w-5 mr-2`}),i[18]||=S(` Add Your First Country `,-1)])]))])):(E(),b(`div`,Do,[_(`table`,Oo,[_(`thead`,ko,[_(`tr`,null,[_(`th`,Ao,[_(`button`,{onClick:i[3]||=e=>q(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[20]||=_(`span`,null,`Country`,-1),_(`div`,jo,[C(P(l),{class:F([`h-3 w-3`,A.sort_by===`name`&&A.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,A.sort_by===`name`&&A.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),i[23]||=_(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Codes `,-1),i[24]||=_(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Phone Code `,-1),_(`th`,Mo,[_(`button`,{onClick:i[4]||=e=>q(`is_active`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[21]||=_(`span`,null,`Status`,-1),_(`div`,No,[C(P(l),{class:F([`h-3 w-3`,A.sort_by===`is_active`&&A.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,A.sort_by===`is_active`&&A.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),_(`th`,Po,[_(`button`,{onClick:i[5]||=e=>q(`created_at`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[22]||=_(`span`,null,`Created`,-1),_(`div`,Fo,[C(P(l),{class:F([`h-3 w-3`,A.sort_by===`created_at`&&A.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,A.sort_by===`created_at`&&A.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),i[25]||=_(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),_(`tbody`,Io,[(E(!0),b(G,null,D(L.value,e=>(E(),b(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[_(`td`,Lo,[_(`div`,Ro,[_(`div`,zo,[_(`div`,Bo,[C(P(a),{class:`h-5 w-5 text-blue-600 dark:text-blue-400`})])]),_(`div`,Vo,[_(`div`,Ho,f(e.name),1),_(`div`,Uo,` ID: `+f(e.id),1)])])]),_(`td`,Wo,[_(`div`,Go,[_(`div`,Ko,[_(`span`,qo,f(e.code),1),_(`span`,Jo,f(e.iso2),1)])])]),_(`td`,Yo,[_(`div`,Xo,[e.phone_code?(E(),b(`span`,Zo,f(e.phone_code),1)):(E(),b(`span`,Qo,`-`))])]),_(`td`,$o,[C(ce,{active:e.is_active},null,8,[`active`])]),_(`td`,es,[_(`div`,ts,[_(`div`,ns,f(e.created_by?.name||`-`),1),_(`div`,rs,f(P(le)(e.created_at)),1)])]),_(`td`,os,[_(`div`,ss,[_(`button`,{onClick:t=>Y(e),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[C(P(o),{class:`w-4 h-4`})],8,cs),_(`button`,{onClick:t=>Q(e),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit Country`},[C(P(t),{class:`h-4 w-4`})],8,ls),_(`button`,{onClick:t=>X(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete Country`},[C(P(ne),{class:`h-4 w-4`})],8,us)])])]))),128))])])])),R.value&&R.value.total>0?(E(),b(`div`,ds,[_(`div`,fs,[_(`div`,ps,[_(`button`,{onClick:i[6]||=e=>J(R.value.current_page-1),disabled:R.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,ms),_(`button`,{onClick:i[7]||=e=>J(R.value.current_page+1),disabled:R.value.current_page>=R.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,hs)]),_(`div`,gs,[_(`div`,null,[_(`p`,_s,[i[26]||=S(` Showing `,-1),_(`span`,vs,f(R.value.from),1),i[27]||=S(` to `,-1),_(`span`,ys,f(R.value.to),1),i[28]||=S(` of `,-1),_(`span`,bs,f(R.value.total),1),i[29]||=S(` results `,-1)])]),_(`div`,null,[_(`nav`,xs,[_(`button`,{onClick:i[8]||=e=>J(R.value.current_page-1),disabled:R.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[C(P(d),{class:`h-5 w-5`})],8,Ss),_(`button`,{onClick:i[9]||=e=>J(R.value.current_page+1),disabled:R.value.current_page>=R.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[C(P(u),{class:`h-5 w-5`})],8,Cs)])])])])])):y(``,!0)]),C(se,{show:h.value,"onUpdate:show":i[10]||=e=>h.value=e,type:`delete`,title:I.value.title,message:I.value.message,"confirm-text":I.value.buttonText,"loading-text":I.value.loadingText,loading:m.value,onConfirm:te,onCancel:Z},null,8,[`show`,`title`,`message`,`confirm-text`,`loading-text`,`loading`]),C(be,{show:O.value,"onUpdate:show":i[11]||=e=>O.value=e,item:w.value,title:`Country Details`,"display-fields":V.value,size:`lg`},null,8,[`show`,`item`,`display-fields`])]))}}),Ts=ws;function Es(){let e=N({}),t=g(()=>Object.keys(e.value).length>0),n=t=>e.value[t]?.[0],r=n=>{let r={};return!n.name||n.name.trim().length===0?r.name=[`Country name is required`]:n.name.trim().length>255&&(r.name=[`Country name must not exceed 255 characters`]),!n.code||n.code.trim().length===0?r.code=[`Country code is required`]:n.code.trim().length===3?/^[A-Z]+$/.test(n.code.trim())||(r.code=[`Country code must contain only uppercase letters`]):r.code=[`Country code must be exactly 3 characters (e.g., USA, CAN)`],!n.iso2||n.iso2.trim().length===0?r.iso2=[`ISO2 code is required`]:n.iso2.trim().length===2?/^[A-Z]+$/.test(n.iso2.trim())||(r.iso2=[`ISO2 code must contain only uppercase letters`]):r.iso2=[`ISO2 code must be exactly 2 characters (e.g., US, CA)`],n.phone_code!==void 0&&n.phone_code!==null&&n.phone_code.trim().length>0&&(n.phone_code.length>10?r.phone_code=[`Phone code must not exceed 10 characters`]:/^\+\d+$/.test(n.phone_code)||(r.phone_code=[`Phone code must start with + followed by numbers (e.g., +1, +44)`])),e.value=r,!t.value},i=n=>{let r={};return n.name!==void 0&&(!n.name||n.name.trim().length===0?r.name=[`Country name is required`]:n.name.trim().length>255&&(r.name=[`Country name must not exceed 255 characters`])),n.code!==void 0&&(!n.code||n.code.trim().length===0?r.code=[`Country code is required`]:n.code.trim().length===3?/^[A-Z]+$/.test(n.code.trim())||(r.code=[`Country code must contain only uppercase letters`]):r.code=[`Country code must be exactly 3 characters (e.g., USA, CAN)`]),n.iso2!==void 0&&(!n.iso2||n.iso2.trim().length===0?r.iso2=[`ISO2 code is required`]:n.iso2.trim().length===2?/^[A-Z]+$/.test(n.iso2.trim())||(r.iso2=[`ISO2 code must contain only uppercase letters`]):r.iso2=[`ISO2 code must be exactly 2 characters (e.g., US, CA)`]),n.phone_code!==void 0&&n.phone_code!==null&&n.phone_code.trim().length>0&&(n.phone_code.length>10?r.phone_code=[`Phone code must not exceed 10 characters`]:/^\+\d+$/.test(n.phone_code)||(r.phone_code=[`Phone code must start with + followed by numbers (e.g., +1, +44)`])),e.value=r,!t.value},a=()=>{e.value={}},o=t=>{e.value[t]&&delete e.value[t]},s=t=>{e.value=t};return{errors:e,hasErrors:t,getFieldError:n,validateCreateRequest:r,validateUpdateRequest:i,clearErrors:a,clearFieldError:o,setServerErrors:s}}var Ds=JSON.parse(`[{"Country Name":"Afghanistan","ISO2":"AF","ISO3":"AFG","Phone Code":93,"Currency":"Afghani"},{"Country Name":"Albania","ISO2":"AL","ISO3":"ALB","Phone Code":355,"Currency":"Lek"},{"Country Name":"Algeria","ISO2":"DZ","ISO3":"DZA","Phone Code":213,"Currency":"Dinar"},{"Country Name":"American Samoa","ISO2":"AS","ISO3":"ASM","Phone Code":"1-684","Currency":"Dollar"},{"Country Name":"Andorra","ISO2":"AD","ISO3":"AND","Phone Code":376,"Currency":"Euro"},{"Country Name":"Angola","ISO2":"AO","ISO3":"AGO","Phone Code":244,"Currency":"Kwanza"},{"Country Name":"Anguilla","ISO2":"AI","ISO3":"AIA","Phone Code":"1-264","Currency":"Dollar"},{"Country Name":"Antarctica","ISO2":"AQ","ISO3":"ATA","Phone Code":672,"Currency":""},{"Country Name":"Antigua and Barbuda","ISO2":"AG","ISO3":"ATG","Phone Code":"1-268","Currency":"Dollar"},{"Country Name":"Argentina","ISO2":"AR","ISO3":"ARG","Phone Code":54,"Currency":"Peso"},{"Country Name":"Armenia","ISO2":"AM","ISO3":"ARM","Phone Code":374,"Currency":"Dram"},{"Country Name":"Aruba","ISO2":"AW","ISO3":"ABW","Phone Code":297,"Currency":"Guilder"},{"Country Name":"Australia","ISO2":"AU","ISO3":"AUS","Phone Code":61,"Currency":"Dollar"},{"Country Name":"Austria","ISO2":"AT","ISO3":"AUT","Phone Code":43,"Currency":"Euro"},{"Country Name":"Azerbaijan","ISO2":"AZ","ISO3":"AZE","Phone Code":994,"Currency":"Manat"},{"Country Name":"Bahamas","ISO2":"BS","ISO3":"BHS","Phone Code":"1-242","Currency":"Dollar"},{"Country Name":"Bahrain","ISO2":"BH","ISO3":"BHR","Phone Code":973,"Currency":"Dinar"},{"Country Name":"Bangladesh","ISO2":"BD","ISO3":"BGD","Phone Code":880,"Currency":"Taka"},{"Country Name":"Barbados","ISO2":"BB","ISO3":"BRB","Phone Code":"1-246","Currency":"Dollar"},{"Country Name":"Belarus","ISO2":"BY","ISO3":"BLR","Phone Code":375,"Currency":"Ruble"},{"Country Name":"Belgium","ISO2":"BE","ISO3":"BEL","Phone Code":32,"Currency":"Euro"},{"Country Name":"Belize","ISO2":"BZ","ISO3":"BLZ","Phone Code":501,"Currency":"Dollar"},{"Country Name":"Benin","ISO2":"BJ","ISO3":"BEN","Phone Code":229,"Currency":"Franc"},{"Country Name":"Bermuda","ISO2":"BM","ISO3":"BMU","Phone Code":"1-441","Currency":"Dollar"},{"Country Name":"Bhutan","ISO2":"BT","ISO3":"BTN","Phone Code":975,"Currency":"Ngultrum"},{"Country Name":"Bolivia","ISO2":"BO","ISO3":"BOL","Phone Code":591,"Currency":"Boliviano"},{"Country Name":"Bosnia and Herzegovina","ISO2":"BA","ISO3":"BIH","Phone Code":387,"Currency":"Marka"},{"Country Name":"Botswana","ISO2":"BW","ISO3":"BWA","Phone Code":267,"Currency":"Pula"},{"Country Name":"Brazil","ISO2":"BR","ISO3":"BRA","Phone Code":55,"Currency":"Real"},{"Country Name":"British Indian Ocean Territory","ISO2":"IO","ISO3":"IOT","Phone Code":246,"Currency":"Dollar"},{"Country Name":"British Virgin Islands","ISO2":"VG","ISO3":"VGB","Phone Code":"1-284","Currency":"Dollar"},{"Country Name":"Brunei","ISO2":"BN","ISO3":"BRN","Phone Code":673,"Currency":"Dollar"},{"Country Name":"Bulgaria","ISO2":"BG","ISO3":"BGR","Phone Code":359,"Currency":"Lev"},{"Country Name":"Burkina Faso","ISO2":"BF","ISO3":"BFA","Phone Code":226,"Currency":"Franc"},{"Country Name":"Burundi","ISO2":"BI","ISO3":"BDI","Phone Code":257,"Currency":"Franc"},{"Country Name":"Cambodia","ISO2":"KH","ISO3":"KHM","Phone Code":855,"Currency":"Riels"},{"Country Name":"Cameroon","ISO2":"CM","ISO3":"CMR","Phone Code":237,"Currency":"Franc"},{"Country Name":"Canada","ISO2":"CA","ISO3":"CAN","Phone Code":1,"Currency":"Dollar"},{"Country Name":"Cape Verde","ISO2":"CV","ISO3":"CPV","Phone Code":238,"Currency":"Escudo"},{"Country Name":"Cayman Islands","ISO2":"KY","ISO3":"CYM","Phone Code":"1-345","Currency":"Dollar"},{"Country Name":"Central African Republic","ISO2":"CF","ISO3":"CAF","Phone Code":236,"Currency":"Franc"},{"Country Name":"Chad","ISO2":"TD","ISO3":"TCD","Phone Code":235,"Currency":"Franc"},{"Country Name":"Chile","ISO2":"CL","ISO3":"CHL","Phone Code":56,"Currency":"Peso"},{"Country Name":"China","ISO2":"CN","ISO3":"CHN","Phone Code":86,"Currency":"Yuan Renminbi"},{"Country Name":"Christmas Island","ISO2":"CX","ISO3":"CXR","Phone Code":61,"Currency":"Dollar"},{"Country Name":"Cocos Islands","ISO2":"CC","ISO3":"CCK","Phone Code":61,"Currency":"Dollar"},{"Country Name":"Colombia","ISO2":"CO","ISO3":"COL","Phone Code":57,"Currency":"Peso"},{"Country Name":"Comoros","ISO2":"KM","ISO3":"COM","Phone Code":269,"Currency":"Franc"},{"Country Name":"Cook Islands","ISO2":"CK","ISO3":"COK","Phone Code":682,"Currency":"Dollar"},{"Country Name":"Costa Rica","ISO2":"CR","ISO3":"CRI","Phone Code":506,"Currency":"Colon"},{"Country Name":"Croatia","ISO2":"HR","ISO3":"HRV","Phone Code":385,"Currency":"Kuna"},{"Country Name":"Cuba","ISO2":"CU","ISO3":"CUB","Phone Code":53,"Currency":"Peso"},{"Country Name":"Curacao","ISO2":"CW","ISO3":"CUW","Phone Code":599,"Currency":"Guilder"},{"Country Name":"Cyprus","ISO2":"CY","ISO3":"CYP","Phone Code":357,"Currency":"Euro"},{"Country Name":"Czech Republic","ISO2":"CZ","ISO3":"CZE","Phone Code":420,"Currency":"Koruna"},{"Country Name":"Democratic Republic of the Congo","ISO2":"CD","ISO3":"COD","Phone Code":243,"Currency":"Franc"},{"Country Name":"Denmark","ISO2":"DK","ISO3":"DNK","Phone Code":45,"Currency":"Krone"},{"Country Name":"Djibouti","ISO2":"DJ","ISO3":"DJI","Phone Code":253,"Currency":"Franc"},{"Country Name":"Dominica","ISO2":"DM","ISO3":"DMA","Phone Code":"1-767","Currency":"Dollar"},{"Country Name":"Dominican Republic","ISO2":"DO","ISO3":"DOM","Phone Code":"1-809, 1-829, 1-849","Currency":"Peso"},{"Country Name":"East Timor","ISO2":"TL","ISO3":"TLS","Phone Code":670,"Currency":"Dollar"},{"Country Name":"Ecuador","ISO2":"EC","ISO3":"ECU","Phone Code":593,"Currency":"Dollar"},{"Country Name":"Egypt","ISO2":"EG","ISO3":"EGY","Phone Code":20,"Currency":"Pound"},{"Country Name":"El Salvador","ISO2":"SV","ISO3":"SLV","Phone Code":503,"Currency":"Dollar"},{"Country Name":"Equatorial Guinea","ISO2":"GQ","ISO3":"GNQ","Phone Code":240,"Currency":"Franc"},{"Country Name":"Eritrea","ISO2":"ER","ISO3":"ERI","Phone Code":291,"Currency":"Nakfa"},{"Country Name":"Estonia","ISO2":"EE","ISO3":"EST","Phone Code":372,"Currency":"Euro"},{"Country Name":"Ethiopia","ISO2":"ET","ISO3":"ETH","Phone Code":251,"Currency":"Birr"},{"Country Name":"Falkland Islands","ISO2":"FK","ISO3":"FLK","Phone Code":500,"Currency":"Pound"},{"Country Name":"Faroe Islands","ISO2":"FO","ISO3":"FRO","Phone Code":298,"Currency":"Krone"},{"Country Name":"Fiji","ISO2":"FJ","ISO3":"FJI","Phone Code":679,"Currency":"Dollar"},{"Country Name":"Finland","ISO2":"FI","ISO3":"FIN","Phone Code":358,"Currency":"Euro"},{"Country Name":"France","ISO2":"FR","ISO3":"FRA","Phone Code":33,"Currency":"Euro"},{"Country Name":"French Polynesia","ISO2":"PF","ISO3":"PYF","Phone Code":689,"Currency":"Franc"},{"Country Name":"Gabon","ISO2":"GA","ISO3":"GAB","Phone Code":241,"Currency":"Franc"},{"Country Name":"Gambia","ISO2":"GM","ISO3":"GMB","Phone Code":220,"Currency":"Dalasi"},{"Country Name":"Georgia","ISO2":"GE","ISO3":"GEO","Phone Code":995,"Currency":"Lari"},{"Country Name":"Germany","ISO2":"DE","ISO3":"DEU","Phone Code":49,"Currency":"Euro"},{"Country Name":"Ghana","ISO2":"GH","ISO3":"GHA","Phone Code":233,"Currency":"Cedi"},{"Country Name":"Gibraltar","ISO2":"GI","ISO3":"GIB","Phone Code":350,"Currency":"Pound"},{"Country Name":"Greece","ISO2":"GR","ISO3":"GRC","Phone Code":30,"Currency":"Euro"},{"Country Name":"Greenland","ISO2":"GL","ISO3":"GRL","Phone Code":299,"Currency":"Krone"},{"Country Name":"Grenada","ISO2":"GD","ISO3":"GRD","Phone Code":"1-473","Currency":"Dollar"},{"Country Name":"Guam","ISO2":"GU","ISO3":"GUM","Phone Code":"1-671","Currency":"Dollar"},{"Country Name":"Guatemala","ISO2":"GT","ISO3":"GTM","Phone Code":502,"Currency":"Quetzal"},{"Country Name":"Guernsey","ISO2":"GG","ISO3":"GGY","Phone Code":"44-1481","Currency":"Pound"},{"Country Name":"Guinea","ISO2":"GN","ISO3":"GIN","Phone Code":224,"Currency":"Franc"},{"Country Name":"Guinea-Bissau","ISO2":"GW","ISO3":"GNB","Phone Code":245,"Currency":"Franc"},{"Country Name":"Guyana","ISO2":"GY","ISO3":"GUY","Phone Code":592,"Currency":"Dollar"},{"Country Name":"Haiti","ISO2":"HT","ISO3":"HTI","Phone Code":509,"Currency":"Gourde"},{"Country Name":"Honduras","ISO2":"HN","ISO3":"HND","Phone Code":504,"Currency":"Lempira"},{"Country Name":"Hong Kong","ISO2":"HK","ISO3":"HKG","Phone Code":852,"Currency":"Dollar"},{"Country Name":"Hungary","ISO2":"HU","ISO3":"HUN","Phone Code":36,"Currency":"Forint"},{"Country Name":"Iceland","ISO2":"IS","ISO3":"ISL","Phone Code":354,"Currency":"Krona"},{"Country Name":"India","ISO2":"IN","ISO3":"IND","Phone Code":91,"Currency":"Rupee"},{"Country Name":"Indonesia","ISO2":"ID","ISO3":"IDN","Phone Code":62,"Currency":"Rupiah"},{"Country Name":"Iran","ISO2":"IR","ISO3":"IRN","Phone Code":98,"Currency":"Rial"},{"Country Name":"Iraq","ISO2":"IQ","ISO3":"IRQ","Phone Code":964,"Currency":"Dinar"},{"Country Name":"Ireland","ISO2":"IE","ISO3":"IRL","Phone Code":353,"Currency":"Euro"},{"Country Name":"Isle of Man","ISO2":"IM","ISO3":"IMN","Phone Code":"44-1624","Currency":"Pound"},{"Country Name":"Israel","ISO2":"IL","ISO3":"ISR","Phone Code":972,"Currency":"Shekel"},{"Country Name":"Italy","ISO2":"IT","ISO3":"ITA","Phone Code":39,"Currency":"Euro"},{"Country Name":"Ivory Coast","ISO2":"CI","ISO3":"CIV","Phone Code":225,"Currency":"Franc"},{"Country Name":"Jamaica","ISO2":"JM","ISO3":"JAM","Phone Code":"1-876","Currency":"Dollar"},{"Country Name":"Japan","ISO2":"JP","ISO3":"JPN","Phone Code":81,"Currency":"Yen"},{"Country Name":"Jersey","ISO2":"JE","ISO3":"JEY","Phone Code":"44-1534","Currency":"Pound"},{"Country Name":"Jordan","ISO2":"JO","ISO3":"JOR","Phone Code":962,"Currency":"Dinar"},{"Country Name":"Kazakhstan","ISO2":"KZ","ISO3":"KAZ","Phone Code":7,"Currency":"Tenge"},{"Country Name":"Kenya","ISO2":"KE","ISO3":"KEN","Phone Code":254,"Currency":"Shilling"},{"Country Name":"Kiribati","ISO2":"KI","ISO3":"KIR","Phone Code":686,"Currency":"Dollar"},{"Country Name":"Kosovo","ISO2":"XK","ISO3":"XKX","Phone Code":383,"Currency":"Euro"},{"Country Name":"Kuwait","ISO2":"KW","ISO3":"KWT","Phone Code":965,"Currency":"Dinar"},{"Country Name":"Kyrgyzstan","ISO2":"KG","ISO3":"KGZ","Phone Code":996,"Currency":"Som"},{"Country Name":"Laos","ISO2":"LA","ISO3":"LAO","Phone Code":856,"Currency":"Kip"},{"Country Name":"Latvia","ISO2":"LV","ISO3":"LVA","Phone Code":371,"Currency":"Euro"},{"Country Name":"Lebanon","ISO2":"LB","ISO3":"LBN","Phone Code":961,"Currency":"Pound"},{"Country Name":"Lesotho","ISO2":"LS","ISO3":"LSO","Phone Code":266,"Currency":"Loti"},{"Country Name":"Liberia","ISO2":"LR","ISO3":"LBR","Phone Code":231,"Currency":"Dollar"},{"Country Name":"Libya","ISO2":"LY","ISO3":"LBY","Phone Code":218,"Currency":"Dinar"},{"Country Name":"Liechtenstein","ISO2":"LI","ISO3":"LIE","Phone Code":423,"Currency":"Franc"},{"Country Name":"Lithuania","ISO2":"LT","ISO3":"LTU","Phone Code":370,"Currency":"Euro"},{"Country Name":"Luxembourg","ISO2":"LU","ISO3":"LUX","Phone Code":352,"Currency":"Euro"},{"Country Name":"Macau","ISO2":"MO","ISO3":"MAC","Phone Code":853,"Currency":"Pataca"},{"Country Name":"Macedonia","ISO2":"MK","ISO3":"MKD","Phone Code":389,"Currency":"Denar"},{"Country Name":"Madagascar","ISO2":"MG","ISO3":"MDG","Phone Code":261,"Currency":"Ariary"},{"Country Name":"Malawi","ISO2":"MW","ISO3":"MWI","Phone Code":265,"Currency":"Kwacha"},{"Country Name":"Malaysia","ISO2":"MY","ISO3":"MYS","Phone Code":60,"Currency":"Ringgit"},{"Country Name":"Maldives","ISO2":"MV","ISO3":"MDV","Phone Code":960,"Currency":"Rufiyaa"},{"Country Name":"Mali","ISO2":"ML","ISO3":"MLI","Phone Code":223,"Currency":"Franc"},{"Country Name":"Malta","ISO2":"MT","ISO3":"MLT","Phone Code":356,"Currency":"Euro"},{"Country Name":"Marshall Islands","ISO2":"MH","ISO3":"MHL","Phone Code":692,"Currency":"Dollar"},{"Country Name":"Mauritania","ISO2":"MR","ISO3":"MRT","Phone Code":222,"Currency":"Ouguiya"},{"Country Name":"Mauritius","ISO2":"MU","ISO3":"MUS","Phone Code":230,"Currency":"Rupee"},{"Country Name":"Mayotte","ISO2":"YT","ISO3":"MYT","Phone Code":262,"Currency":"Euro"},{"Country Name":"Mexico","ISO2":"MX","ISO3":"MEX","Phone Code":52,"Currency":"Peso"},{"Country Name":"Micronesia","ISO2":"FM","ISO3":"FSM","Phone Code":691,"Currency":"Dollar"},{"Country Name":"Moldova","ISO2":"MD","ISO3":"MDA","Phone Code":373,"Currency":"Leu"},{"Country Name":"Monaco","ISO2":"MC","ISO3":"MCO","Phone Code":377,"Currency":"Euro"},{"Country Name":"Mongolia","ISO2":"MN","ISO3":"MNG","Phone Code":976,"Currency":"Tugrik"},{"Country Name":"Montenegro","ISO2":"ME","ISO3":"MNE","Phone Code":382,"Currency":"Euro"},{"Country Name":"Montserrat","ISO2":"MS","ISO3":"MSR","Phone Code":"1-664","Currency":"Dollar"},{"Country Name":"Morocco","ISO2":"MA","ISO3":"MAR","Phone Code":212,"Currency":"Dirham"},{"Country Name":"Mozambique","ISO2":"MZ","ISO3":"MOZ","Phone Code":258,"Currency":"Metical"},{"Country Name":"Myanmar","ISO2":"MM","ISO3":"MMR","Phone Code":95,"Currency":"Kyat"},{"Country Name":"Namibia","ISO2":"NA","ISO3":"NAM","Phone Code":264,"Currency":"Dollar"},{"Country Name":"Nauru","ISO2":"NR","ISO3":"NRU","Phone Code":674,"Currency":"Dollar"},{"Country Name":"Nepal","ISO2":"NP","ISO3":"NPL","Phone Code":977,"Currency":"Rupee"},{"Country Name":"Netherlands","ISO2":"NL","ISO3":"NLD","Phone Code":31,"Currency":"Euro"},{"Country Name":"Netherlands Antilles","ISO2":"AN","ISO3":"ANT","Phone Code":599,"Currency":"Guilder"},{"Country Name":"New Caledonia","ISO2":"NC","ISO3":"NCL","Phone Code":687,"Currency":"Franc"},{"Country Name":"New Zealand","ISO2":"NZ","ISO3":"NZL","Phone Code":64,"Currency":"Dollar"},{"Country Name":"Nicaragua","ISO2":"NI","ISO3":"NIC","Phone Code":505,"Currency":"Cordoba"},{"Country Name":"Niger","ISO2":"NE","ISO3":"NER","Phone Code":227,"Currency":"Franc"},{"Country Name":"Nigeria","ISO2":"NG","ISO3":"NGA","Phone Code":234,"Currency":"Naira"},{"Country Name":"Niue","ISO2":"NU","ISO3":"NIU","Phone Code":683,"Currency":"Dollar"},{"Country Name":"North Korea","ISO2":"KP","ISO3":"PRK","Phone Code":850,"Currency":"Won"},{"Country Name":"Northern Mariana Islands","ISO2":"MP","ISO3":"MNP","Phone Code":"1-670","Currency":"Dollar"},{"Country Name":"Norway","ISO2":"NO","ISO3":"NOR","Phone Code":47,"Currency":"Krone"},{"Country Name":"Oman","ISO2":"OM","ISO3":"OMN","Phone Code":968,"Currency":"Rial"},{"Country Name":"Pakistan","ISO2":"PK","ISO3":"PAK","Phone Code":92,"Currency":"Rupee"},{"Country Name":"Palau","ISO2":"PW","ISO3":"PLW","Phone Code":680,"Currency":"Dollar"},{"Country Name":"Palestine","ISO2":"PS","ISO3":"PSE","Phone Code":970,"Currency":"Shekel"},{"Country Name":"Panama","ISO2":"PA","ISO3":"PAN","Phone Code":507,"Currency":"Balboa"},{"Country Name":"Papua New Guinea","ISO2":"PG","ISO3":"PNG","Phone Code":675,"Currency":"Kina"},{"Country Name":"Paraguay","ISO2":"PY","ISO3":"PRY","Phone Code":595,"Currency":"Guarani"},{"Country Name":"Peru","ISO2":"PE","ISO3":"PER","Phone Code":51,"Currency":"Sol"},{"Country Name":"Philippines","ISO2":"PH","ISO3":"PHL","Phone Code":63,"Currency":"Peso"},{"Country Name":"Pitcairn","ISO2":"PN","ISO3":"PCN","Phone Code":64,"Currency":"Dollar"},{"Country Name":"Poland","ISO2":"PL","ISO3":"POL","Phone Code":48,"Currency":"Zloty"},{"Country Name":"Portugal","ISO2":"PT","ISO3":"PRT","Phone Code":351,"Currency":"Euro"},{"Country Name":"Puerto Rico","ISO2":"PR","ISO3":"PRI","Phone Code":"1-787, 1-939","Currency":"Dollar"},{"Country Name":"Qatar","ISO2":"QA","ISO3":"QAT","Phone Code":974,"Currency":"Rial"},{"Country Name":"Republic of the Congo","ISO2":"CG","ISO3":"COG","Phone Code":242,"Currency":"Franc"},{"Country Name":"Reunion","ISO2":"RE","ISO3":"REU","Phone Code":262,"Currency":"Euro"},{"Country Name":"Romania","ISO2":"RO","ISO3":"ROU","Phone Code":40,"Currency":"Leu"},{"Country Name":"Russia","ISO2":"RU","ISO3":"RUS","Phone Code":7,"Currency":"Ruble"},{"Country Name":"Rwanda","ISO2":"RW","ISO3":"RWA","Phone Code":250,"Currency":"Franc"},{"Country Name":"Saint Barthelemy","ISO2":"BL","ISO3":"BLM","Phone Code":590,"Currency":"Euro"},{"Country Name":"Saint Helena","ISO2":"SH","ISO3":"SHN","Phone Code":290,"Currency":"Pound"},{"Country Name":"Saint Kitts and Nevis","ISO2":"KN","ISO3":"KNA","Phone Code":"1-869","Currency":"Dollar"},{"Country Name":"Saint Lucia","ISO2":"LC","ISO3":"LCA","Phone Code":"1-758","Currency":"Dollar"},{"Country Name":"Saint Martin","ISO2":"MF","ISO3":"MAF","Phone Code":590,"Currency":"Euro"},{"Country Name":"Saint Pierre and Miquelon","ISO2":"PM","ISO3":"SPM","Phone Code":508,"Currency":"Euro"},{"Country Name":"Saint Vincent and the Grenadines","ISO2":"VC","ISO3":"VCT","Phone Code":"1-784","Currency":"Dollar"},{"Country Name":"Samoa","ISO2":"WS","ISO3":"WSM","Phone Code":685,"Currency":"Tala"},{"Country Name":"San Marino","ISO2":"SM","ISO3":"SMR","Phone Code":378,"Currency":"Euro"},{"Country Name":"Sao Tome and Principe","ISO2":"ST","ISO3":"STP","Phone Code":239,"Currency":"Dobra"},{"Country Name":"Saudi Arabia","ISO2":"SA","ISO3":"SAU","Phone Code":966,"Currency":"Rial"},{"Country Name":"Senegal","ISO2":"SN","ISO3":"SEN","Phone Code":221,"Currency":"Franc"},{"Country Name":"Serbia","ISO2":"RS","ISO3":"SRB","Phone Code":381,"Currency":"Dinar"},{"Country Name":"Seychelles","ISO2":"SC","ISO3":"SYC","Phone Code":248,"Currency":"Rupee"},{"Country Name":"Sierra Leone","ISO2":"SL","ISO3":"SLE","Phone Code":232,"Currency":"Leone"},{"Country Name":"Singapore","ISO2":"SG","ISO3":"SGP","Phone Code":65,"Currency":"Dollar"},{"Country Name":"Sint Maarten","ISO2":"SX","ISO3":"SXM","Phone Code":"1-721","Currency":"Guilder"},{"Country Name":"Slovakia","ISO2":"SK","ISO3":"SVK","Phone Code":421,"Currency":"Euro"},{"Country Name":"Slovenia","ISO2":"SI","ISO3":"SVN","Phone Code":386,"Currency":"Euro"},{"Country Name":"Solomon Islands","ISO2":"SB","ISO3":"SLB","Phone Code":677,"Currency":"Dollar"},{"Country Name":"Somalia","ISO2":"SO","ISO3":"SOM","Phone Code":252,"Currency":"Shilling"},{"Country Name":"South Africa","ISO2":"ZA","ISO3":"ZAF","Phone Code":27,"Currency":"Rand"},{"Country Name":"South Korea","ISO2":"KR","ISO3":"KOR","Phone Code":82,"Currency":"Won"},{"Country Name":"South Sudan","ISO2":"SS","ISO3":"SSD","Phone Code":211,"Currency":"Pound"},{"Country Name":"Spain","ISO2":"ES","ISO3":"ESP","Phone Code":34,"Currency":"Euro"},{"Country Name":"Sri Lanka","ISO2":"LK","ISO3":"LKA","Phone Code":94,"Currency":"Rupee"},{"Country Name":"Sudan","ISO2":"SD","ISO3":"SDN","Phone Code":249,"Currency":"Pound"},{"Country Name":"Suriname","ISO2":"SR","ISO3":"SUR","Phone Code":597,"Currency":"Dollar"},{"Country Name":"Svalbard and Jan Mayen","ISO2":"SJ","ISO3":"SJM","Phone Code":47,"Currency":"Krone"},{"Country Name":"Swaziland","ISO2":"SZ","ISO3":"SWZ","Phone Code":268,"Currency":"Lilangeni"},{"Country Name":"Sweden","ISO2":"SE","ISO3":"SWE","Phone Code":46,"Currency":"Krona"},{"Country Name":"Switzerland","ISO2":"CH","ISO3":"CHE","Phone Code":41,"Currency":"Franc"},{"Country Name":"Syria","ISO2":"SY","ISO3":"SYR","Phone Code":963,"Currency":"Pound"},{"Country Name":"Taiwan","ISO2":"TW","ISO3":"TWN","Phone Code":886,"Currency":"Dollar"},{"Country Name":"Tajikistan","ISO2":"TJ","ISO3":"TJK","Phone Code":992,"Currency":"Somoni"},{"Country Name":"Tanzania","ISO2":"TZ","ISO3":"TZA","Phone Code":255,"Currency":"Shilling"},{"Country Name":"Thailand","ISO2":"TH","ISO3":"THA","Phone Code":66,"Currency":"Baht"},{"Country Name":"Togo","ISO2":"TG","ISO3":"TGO","Phone Code":228,"Currency":"Franc"},{"Country Name":"Tokelau","ISO2":"TK","ISO3":"TKL","Phone Code":690,"Currency":"Dollar"},{"Country Name":"Tonga","ISO2":"TO","ISO3":"TON","Phone Code":676,"Currency":"Pa'anga"},{"Country Name":"Trinidad and Tobago","ISO2":"TT","ISO3":"TTO","Phone Code":"1-868","Currency":"Dollar"},{"Country Name":"Tunisia","ISO2":"TN","ISO3":"TUN","Phone Code":216,"Currency":"Dinar"},{"Country Name":"Turkey","ISO2":"TR","ISO3":"TUR","Phone Code":90,"Currency":"Lira"},{"Country Name":"Turkmenistan","ISO2":"TM","ISO3":"TKM","Phone Code":993,"Currency":"Manat"},{"Country Name":"Turks and Caicos Islands","ISO2":"TC","ISO3":"TCA","Phone Code":"1-649","Currency":"Dollar"},{"Country Name":"Tuvalu","ISO2":"TV","ISO3":"TUV","Phone Code":688,"Currency":"Dollar"},{"Country Name":"U.S. Virgin Islands","ISO2":"VI","ISO3":"VIR","Phone Code":"1-340","Currency":"Dollar"},{"Country Name":"Uganda","ISO2":"UG","ISO3":"UGA","Phone Code":256,"Currency":"Shilling"},{"Country Name":"Ukraine","ISO2":"UA","ISO3":"UKR","Phone Code":380,"Currency":"Hryvnia"},{"Country Name":"United Arab Emirates","ISO2":"AE","ISO3":"ARE","Phone Code":971,"Currency":"Dirham"},{"Country Name":"United Kingdom","ISO2":"GB","ISO3":"GBR","Phone Code":44,"Currency":"Pound"},{"Country Name":"United States","ISO2":"US","ISO3":"USA","Phone Code":1,"Currency":"Dollar"},{"Country Name":"Uruguay","ISO2":"UY","ISO3":"URY","Phone Code":598,"Currency":"Peso"},{"Country Name":"Uzbekistan","ISO2":"UZ","ISO3":"UZB","Phone Code":998,"Currency":"Som"},{"Country Name":"Vanuatu","ISO2":"VU","ISO3":"VUT","Phone Code":678,"Currency":"Vatu"},{"Country Name":"Vatican","ISO2":"VA","ISO3":"VAT","Phone Code":379,"Currency":"Euro"},{"Country Name":"Venezuela","ISO2":"VE","ISO3":"VEN","Phone Code":58,"Currency":"Bolivar"},{"Country Name":"Vietnam","ISO2":"VN","ISO3":"VNM","Phone Code":84,"Currency":"Dong"},{"Country Name":"Wallis and Futuna","ISO2":"WF","ISO3":"WLF","Phone Code":681,"Currency":"Franc"},{"Country Name":"Western Sahara","ISO2":"EH","ISO3":"ESH","Phone Code":212,"Currency":"Dirham"},{"Country Name":"Yemen","ISO2":"YE","ISO3":"YEM","Phone Code":967,"Currency":"Rial"},{"Country Name":"Zambia","ISO2":"ZM","ISO3":"ZMB","Phone Code":260,"Currency":"Kwacha"},{"Country Name":"Zimbabwe","ISO2":"ZW","ISO3":"ZWE","Phone Code":263,"Currency":"Dollar"}]`);const Os={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},ks={class:`max-w-4xl mx-auto`},As={class:`mb-8`},js={class:`flex items-center space-x-4 mb-2`},Ms={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Ns={class:`px-6 py-8`},Ps={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Fs={class:`md:col-span-2 relative`},Is={class:`relative`},Ls=[`disabled`],Rs={key:0,class:`absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-auto`},zs=[`onClick`],Bs={class:`flex justify-between items-center`},Vs={class:`flex space-x-2 text-sm text-gray-500 dark:text-gray-400`},Hs={key:0},Us={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ws={key:1,class:`mt-1 text-xs text-gray-500`},Gs={class:`md:col-span-2`},Ks={class:`flex items-start`},qs={class:`flex items-center h-5`},Js=[`disabled`],Ys={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Xs={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},Zs={class:`flex items-center space-x-2`},Qs={class:`font-mono font-semibold bg-gray-100 dark:bg-gray-600 px-2 py-1 rounded text-sm`},$s={class:`font-mono font-semibold bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 px-2 py-1 rounded text-sm`},ec={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},tc={key:0,class:`flex items-center`},nc={class:`p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg`},rc={class:`font-mono bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-3 py-2 rounded text-lg`},ic={key:0,class:`p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg`},ac={class:`space-y-2`},oc={class:`text-sm text-blue-700 dark:text-blue-400`},sc={class:`text-sm text-blue-700 dark:text-blue-400`},cc={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},lc=[`disabled`],uc=[`disabled`],dc={key:0,class:`flex items-center justify-center`},fc={key:1},pc={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},mc={class:`flex`},hc={class:`flex-shrink-0`};var gc=w({__name:`CreatePage`,emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=t,r=Se(),{errors:a,hasErrors:o,getFieldError:s,validateCreateRequest:c,clearFieldError:l,setServerErrors:u,clearErrors:d}=Es(),p=N(!1),m=N({name:``,code:``,iso2:``,phone_code:``,is_active:!0}),v=N(!1),w=N([]),O=N(-1),k=g(()=>m.value.name.trim().length>0&&m.value.name.length<=255&&m.value.code.trim().length===3&&/^[A-Z]+$/.test(m.value.code.trim())&&m.value.iso2.trim().length===2&&/^[A-Z]+$/.test(m.value.iso2.trim())&&(m.value.phone_code===``||m.value.phone_code&&/^\+\d+$/.test(m.value.phone_code))),A=()=>{m.value.code=m.value.code.toUpperCase()},M=()=>{m.value.iso2=m.value.iso2.toUpperCase()},I=()=>{let e=m.value.phone_code||``;e=e.replace(/[^\d+]/g,``),e&&!e.startsWith(`+`)&&(e=`+`+e),e.length>10&&(e=e.substring(0,10)),m.value.phone_code=e},L=()=>{let e=m.value.name.toLowerCase().trim();if(e.length===0){w.value=[],v.value=!1;return}w.value=Ds.filter(t=>t[`Country Name`].toLowerCase().includes(e)).slice(0,10),v.value=w.value.length>0,O.value=-1},R=()=>{m.value.name&&w.value.length>0&&(v.value=!0)},z=()=>{setTimeout(()=>{v.value=!1,l(`name`)},200)},ee=e=>{if(!(!v.value||w.value.length===0))switch(e.key){case`ArrowDown`:e.preventDefault(),O.value=Math.min(O.value+1,w.value.length-1);break;case`ArrowUp`:e.preventDefault(),O.value=Math.max(O.value-1,-1);break;case`Enter`:e.preventDefault(),O.value>=0&&O.value<w.value.length&&B(w.value[O.value]);break;case`Escape`:v.value=!1,O.value=-1;break}},B=e=>{if(m.value.name=e[`Country Name`],m.value.code=e.ISO3,m.value.iso2=e.ISO2,e[`Phone Code`]){let t=e[`Phone Code`].toString();m.value.phone_code=t.startsWith(`+`)?t:`+${t}`}else m.value.phone_code=``;v.value=!1,O.value=-1,l(`name`)},H=()=>{m.value={name:``,code:``,iso2:``,phone_code:``,is_active:!0},d()},q=async()=>{if(d(),c(m.value))try{p.value=!0,await r.createCountry(m.value),H(),n(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&u(e.response.data.errors)}finally{p.value=!1}},J=()=>{H(),n(`cancel`)},Y=()=>{n(`back`)};return T(()=>{H()}),(e,t)=>(E(),b(`div`,Os,[_(`div`,ks,[_(`div`,As,[_(`div`,js,[_(`button`,{onClick:Y,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[C(P(h),{class:`w-5 h-5`})]),t[8]||=_(`div`,null,[_(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create Country `),_(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new country to the system `)],-1)])]),_(`div`,Ms,[_(`div`,Ns,[_(`form`,{onSubmit:W(q,[`prevent`]),class:`space-y-8`},[_(`div`,null,[t[11]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),_(`div`,Ps,[_(`div`,Fs,[t[9]||=_(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},[S(` Country Name `),_(`span`,{class:`text-red-500`},`*`)],-1),_(`div`,Is,[j(_(`input`,{type:`text`,maxlength:255,disabled:p.value,onInput:L,onFocus:R,onBlur:z,onKeydown:ee,"onUpdate:modelValue":t[0]||=e=>m.value.name=e,placeholder:`Enter country name (e.g., United States)`,class:F([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,P(s)(`name`)?`border-red-300 text-red-900 placeholder-red-300`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},null,42,Ls),[[U,m.value.name]]),v.value&&w.value.length>0?(E(),b(`div`,Rs,[(E(!0),b(G,null,D(w.value,(e,t)=>(E(),b(`div`,{key:t,onClick:t=>B(e),class:F([`px-3 py-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700`,O.value===t?`bg-indigo-100 dark:bg-indigo-900 text-indigo-900 dark:text-indigo-100`:`text-gray-900 dark:text-gray-100`])},[_(`div`,Bs,[_(`span`,null,f(e[`Country Name`]),1),_(`div`,Vs,[_(`span`,null,f(e.ISO2),1),_(`span`,null,f(e.ISO3),1),e[`Phone Code`]?(E(),b(`span`,Hs,`+`+f(e[`Phone Code`]),1)):y(``,!0)])])],10,zs))),128))])):y(``,!0)]),P(s)(`name`)?(E(),b(`p`,Us,f(P(s)(`name`)),1)):y(``,!0),m.value.name.length>0?(E(),b(`p`,Ws,f(m.value.name.length)+`/255 characters `,1)):y(``,!0)]),_(`div`,Gs,[_(`div`,Ks,[_(`div`,qs,[j(_(`input`,{id:`is_active`,"onUpdate:modelValue":t[1]||=e=>m.value.is_active=e,type:`checkbox`,disabled:p.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Js),[[V,m.value.is_active]])]),t[10]||=_(`div`,{class:`ml-3`},[_(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),_(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this country will be available for selection `)],-1)])])])]),_(`div`,null,[t[15]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Country Codes `,-1),_(`div`,Ys,[_(`div`,null,[C(K,{type:`text`,maxlength:3,disabled:p.value,onBlur:t[2]||=()=>P(l)(`code`),onInput:A,modelValue:m.value.code,"onUpdate:modelValue":t[3]||=e=>m.value.code=e,placeholder:`Enter 3-letter code (e.g., USA)`,error:P(s)(`code`),required:``,label:`Country Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),t[12]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` 3-letter country code (automatically converted to uppercase) `,-1)]),_(`div`,null,[C(K,{type:`text`,maxlength:2,disabled:p.value,onBlur:t[4]||=()=>P(l)(`iso2`),onInput:M,modelValue:m.value.iso2,"onUpdate:modelValue":t[5]||=e=>m.value.iso2=e,placeholder:`Enter 2-letter ISO code (e.g., US)`,error:P(s)(`iso2`),required:``,label:`ISO2 Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),t[13]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` 2-letter ISO code (automatically converted to uppercase) `,-1)])]),m.value.code&&m.value.iso2?(E(),b(`div`,Xs,[t[14]||=_(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Preview:`,-1),_(`div`,Zs,[_(`span`,Qs,f(m.value.code),1),_(`span`,$s,f(m.value.iso2),1)])])):y(``,!0)]),_(`div`,null,[t[18]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Phone Information `,-1),_(`div`,ec,[_(`div`,null,[C(K,{type:`text`,maxlength:10,disabled:p.value,onBlur:t[6]||=()=>P(l)(`phone_code`),onInput:I,modelValue:m.value.phone_code,"onUpdate:modelValue":t[7]||=e=>m.value.phone_code=e,placeholder:`Enter phone code (e.g., +1)`,error:P(s)(`phone_code`),label:`Phone Code (Optional)`},null,8,[`disabled`,`modelValue`,`error`]),t[16]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` International dialing code with + prefix (e.g., +1, +44, +91) `,-1)]),m.value.phone_code?(E(),b(`div`,tc,[_(`div`,nc,[t[17]||=_(`p`,{class:`text-sm font-medium text-purple-700 dark:text-purple-300 mb-1`},`Phone Code Preview:`,-1),_(`span`,rc,f(m.value.phone_code),1)])])):y(``,!0)])]),m.value.name&&m.value.code&&m.value.iso2?(E(),b(`div`,ic,[t[21]||=_(`h4`,{class:`text-sm font-medium text-blue-800 dark:text-blue-300 mb-2`},`Country Preview`,-1),_(`div`,ac,[_(`p`,oc,[t[19]||=_(`strong`,null,`Display Name:`,-1),S(` `+f(m.value.name)+` (`+f(m.value.iso2)+`) `,1)]),_(`p`,sc,[t[20]||=_(`strong`,null,`Full Display:`,-1),S(` `+f(m.value.name)+` (`+f(m.value.iso2)+`)`+f(m.value.phone_code?` `+m.value.phone_code:``),1)])])])):y(``,!0),_(`div`,cc,[_(`button`,{type:`button`,onClick:J,disabled:p.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,lc),_(`button`,{type:`submit`,disabled:p.value||P(o)||!k.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[p.value?(E(),b(`div`,dc,t[22]||=[_(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),S(` Creating... `,-1)])):(E(),b(`span`,fc,`Create Country`))],8,uc)])],32)])]),_(`div`,pc,[_(`div`,mc,[_(`div`,hc,[C(P(i),{class:`h-5 w-5 text-blue-400`})]),t[23]||=x(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> About Countries </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Countries are used throughout the system for addresses, phone numbers, and localization: </p><ul class="list-disc list-inside space-y-1"><li><strong>Name:</strong> Full country name (e.g., &quot;United States&quot;)</li><li><strong>Code:</strong> 3-letter country code (e.g., &quot;USA&quot;, &quot;CAN&quot;, &quot;GBR&quot;)</li><li><strong>ISO2:</strong> 2-letter ISO code (e.g., &quot;US&quot;, &quot;CA&quot;, &quot;GB&quot;)</li><li><strong>Phone Code:</strong> International dialing code (e.g., &quot;+1&quot;, &quot;+44&quot;)</li><li><strong>Status:</strong> Active countries appear in dropdown lists</li></ul></div></div>`,1)])])])]))}}),_c=gc;const vc={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},yc={class:`max-w-4xl mx-auto`},bc={class:`mb-8`},xc={class:`flex items-center space-x-4 mb-2`},Sc={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Cc={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},wc={class:`px-6 py-8`},Tc={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Ec={class:`md:col-span-2 relative`},Dc={class:`relative`},Oc=[`disabled`],kc={key:0,class:`absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-auto`},Ac=[`onClick`],jc={class:`flex justify-between items-center`},Mc={class:`flex space-x-2 text-sm text-gray-500 dark:text-gray-400`},Nc={key:0},Pc={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Fc={key:1,class:`mt-1 text-xs text-gray-500`},Ic={class:`md:col-span-2`},Lc={class:`flex items-start`},Rc={class:`flex items-center h-5`},zc=[`disabled`],Bc={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Vc={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},Hc={class:`flex items-center space-x-2`},Uc={class:`font-mono font-semibold bg-gray-100 dark:bg-gray-600 px-2 py-1 rounded text-sm`},Wc={class:`font-mono font-semibold bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 px-2 py-1 rounded text-sm`},Gc={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Kc={key:0,class:`flex items-center`},qc={class:`p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg`},Jc={class:`font-mono bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-3 py-2 rounded text-lg`},Yc={key:0,class:`p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg`},Xc={class:`space-y-2`},Zc={class:`text-sm text-blue-700 dark:text-blue-400`},Qc={class:`text-sm text-blue-700 dark:text-blue-400`},$c={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},el=[`disabled`],tl=[`disabled`],nl={key:0,class:`flex items-center justify-center`},rl={key:1},il={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},al={class:`flex flex-col items-center`},ol={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},sl={class:`flex`},cl={class:`flex-shrink-0`};var ll=w({__name:`EditPage`,props:{id:{},country:{}},emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=e,r=t,a=Se(),{errors:o,hasErrors:s,getFieldError:l,validateUpdateRequest:u,clearFieldError:d,setServerErrors:p,clearErrors:m}=Es(),v=N(!1),w=N(!1),O=N({name:``,code:``,iso2:``,phone_code:``,is_active:!0}),A=N({name:``,code:``,iso2:``,phone_code:``,is_active:!0}),M=N(!1),I=N([]),L=N(-1),R=g(()=>O.value.name.trim().length>0&&O.value.name.length<=255&&O.value.code.trim().length===3&&/^[A-Z]+$/.test(O.value.code.trim())&&O.value.iso2.trim().length===2&&/^[A-Z]+$/.test(O.value.iso2.trim())&&(O.value.phone_code===``||O.value.phone_code&&/^\+\d+$/.test(O.value.phone_code))),z=()=>{O.value.code=O.value.code.toUpperCase()},ee=()=>{O.value.iso2=O.value.iso2.toUpperCase()},B=()=>{let e=O.value.phone_code||``;e=e.replace(/[^\d+]/g,``),e&&!e.startsWith(`+`)&&(e=`+`+e),e.length>10&&(e=e.substring(0,10)),O.value.phone_code=e},H=async()=>{try{w.value=!0;let e=n.country||await a.fetchCountry(n.id);e&&(O.value={name:e.name,code:e.code,iso2:e.iso2,phone_code:e.phone_code||``,is_active:e.is_active},A.value={name:e.name,code:e.code,iso2:e.iso2,phone_code:e.phone_code||``,is_active:e.is_active},m())}catch(e){console.error(`Error loading country:`,e)}finally{w.value=!1}},q=async()=>{if(m(),u(O.value))try{v.value=!0;let e={name:O.value.name,code:O.value.code,iso2:O.value.iso2,phone_code:O.value.phone_code||void 0,is_active:O.value.is_active};await a.updateCountry(n.id,e),A.value={...O.value},r(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&p(e.response.data.errors)}finally{v.value=!1}},J=()=>{r(`cancel`)},Y=()=>{r(`back`)},X=()=>{let e=O.value.name.toLowerCase().trim();if(e.length===0){I.value=[],M.value=!1;return}I.value=Ds.filter(t=>t[`Country Name`].toLowerCase().includes(e)).slice(0,10),M.value=I.value.length>0,L.value=-1},te=()=>{O.value.name&&I.value.length>0&&(M.value=!0)},ne=()=>{setTimeout(()=>{M.value=!1,d(`name`)},200)},re=e=>{if(!(!M.value||I.value.length===0))switch(e.key){case`ArrowDown`:e.preventDefault(),L.value=Math.min(L.value+1,I.value.length-1);break;case`ArrowUp`:e.preventDefault(),L.value=Math.max(L.value-1,-1);break;case`Enter`:e.preventDefault(),L.value>=0&&L.value<I.value.length&&Z(I.value[L.value]);break;case`Escape`:M.value=!1,L.value=-1;break}},Z=e=>{if(O.value.name=e[`Country Name`],O.value.code=e.ISO3,O.value.iso2=e.ISO2,e[`Phone Code`]){let t=e[`Phone Code`].toString();O.value.phone_code=t.startsWith(`+`)?t:`+${t}`}else O.value.phone_code=``;M.value=!1,L.value=-1,d(`name`)};return T(()=>{H()}),k(()=>n.id,()=>{n.id&&H()}),(e,t)=>(E(),b(`div`,vc,[_(`div`,yc,[_(`div`,bc,[_(`div`,xc,[_(`button`,{onClick:Y,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[C(P(h),{class:`w-5 h-5`})]),t[8]||=_(`div`,null,[_(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Country `),_(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update country information and settings `)],-1)])]),w.value?(E(),b(`div`,Sc,t[9]||=[_(`div`,{class:`flex items-center justify-center`},[_(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),_(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading country...`)],-1)])):O.value?(E(),b(`div`,Cc,[_(`div`,wc,[_(`form`,{onSubmit:W(q,[`prevent`]),class:`space-y-8`},[_(`div`,null,[t[12]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),_(`div`,Tc,[_(`div`,Ec,[t[10]||=_(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},[S(` Country Name `),_(`span`,{class:`text-red-500`},`*`)],-1),_(`div`,Dc,[j(_(`input`,{type:`text`,maxlength:255,disabled:v.value,onInput:X,onFocus:te,onBlur:ne,onKeydown:re,"onUpdate:modelValue":t[0]||=e=>O.value.name=e,placeholder:`Enter country name (e.g., United States)`,class:F([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,P(l)(`name`)?`border-red-300 text-red-900 placeholder-red-300`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},null,42,Oc),[[U,O.value.name]]),M.value&&I.value.length>0?(E(),b(`div`,kc,[(E(!0),b(G,null,D(I.value,(e,t)=>(E(),b(`div`,{key:t,onClick:t=>Z(e),class:F([`px-3 py-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700`,L.value===t?`bg-indigo-100 dark:bg-indigo-900 text-indigo-900 dark:text-indigo-100`:`text-gray-900 dark:text-gray-100`])},[_(`div`,jc,[_(`span`,null,f(e[`Country Name`]),1),_(`div`,Mc,[_(`span`,null,f(e.ISO2),1),_(`span`,null,f(e.ISO3),1),e[`Phone Code`]?(E(),b(`span`,Nc,`+`+f(e[`Phone Code`]),1)):y(``,!0)])])],10,Ac))),128))])):y(``,!0)]),P(l)(`name`)?(E(),b(`p`,Pc,f(P(l)(`name`)),1)):y(``,!0),O.value.name.length>0?(E(),b(`p`,Fc,f(O.value.name.length)+`/255 characters `,1)):y(``,!0)]),_(`div`,Ic,[_(`div`,Lc,[_(`div`,Rc,[j(_(`input`,{id:`is_active`,"onUpdate:modelValue":t[1]||=e=>O.value.is_active=e,type:`checkbox`,disabled:v.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,zc),[[V,O.value.is_active]])]),t[11]||=_(`div`,{class:`ml-3`},[_(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),_(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this country will be available for selection `)],-1)])])])]),_(`div`,null,[t[16]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Country Codes `,-1),_(`div`,Bc,[_(`div`,null,[C(K,{type:`text`,maxlength:3,disabled:v.value,onBlur:t[2]||=()=>P(d)(`code`),onInput:z,modelValue:O.value.code,"onUpdate:modelValue":t[3]||=e=>O.value.code=e,placeholder:`Enter 3-letter code (e.g., USA)`,error:P(l)(`code`),required:``,label:`Country Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),t[13]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` 3-letter country code (automatically converted to uppercase) `,-1)]),_(`div`,null,[C(K,{type:`text`,maxlength:2,disabled:v.value,onBlur:t[4]||=()=>P(d)(`iso2`),onInput:ee,modelValue:O.value.iso2,"onUpdate:modelValue":t[5]||=e=>O.value.iso2=e,placeholder:`Enter 2-letter ISO code (e.g., US)`,error:P(l)(`iso2`),required:``,label:`ISO2 Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),t[14]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` 2-letter ISO code (automatically converted to uppercase) `,-1)])]),O.value.code&&O.value.iso2?(E(),b(`div`,Vc,[t[15]||=_(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Preview:`,-1),_(`div`,Hc,[_(`span`,Uc,f(O.value.code),1),_(`span`,Wc,f(O.value.iso2),1)])])):y(``,!0)]),_(`div`,null,[t[19]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Phone Information `,-1),_(`div`,Gc,[_(`div`,null,[C(K,{type:`text`,maxlength:10,disabled:v.value,onBlur:t[6]||=()=>P(d)(`phone_code`),onInput:B,modelValue:O.value.phone_code,"onUpdate:modelValue":t[7]||=e=>O.value.phone_code=e,placeholder:`Enter phone code (e.g., +1)`,error:P(l)(`phone_code`),label:`Phone Code (Optional)`},null,8,[`disabled`,`modelValue`,`error`]),t[17]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` International dialing code with + prefix (e.g., +1, +44, +91) `,-1)]),O.value.phone_code?(E(),b(`div`,Kc,[_(`div`,qc,[t[18]||=_(`p`,{class:`text-sm font-medium text-purple-700 dark:text-purple-300 mb-1`},`Phone Code Preview:`,-1),_(`span`,Jc,f(O.value.phone_code),1)])])):y(``,!0)])]),O.value.name&&O.value.code&&O.value.iso2?(E(),b(`div`,Yc,[t[22]||=_(`h4`,{class:`text-sm font-medium text-blue-800 dark:text-blue-300 mb-2`},`Country Preview`,-1),_(`div`,Xc,[_(`p`,Zc,[t[20]||=_(`strong`,null,`Display Name:`,-1),S(` `+f(O.value.name)+` (`+f(O.value.iso2)+`) `,1)]),_(`p`,Qc,[t[21]||=_(`strong`,null,`Full Display:`,-1),S(` `+f(O.value.name)+` (`+f(O.value.iso2)+`)`+f(O.value.phone_code?` `+O.value.phone_code:``),1)])])])):y(``,!0),_(`div`,$c,[_(`button`,{type:`button`,onClick:J,disabled:v.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,el),_(`button`,{type:`submit`,disabled:v.value||P(s)||!R.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[v.value?(E(),b(`div`,nl,t[23]||=[_(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),S(` Updating... `,-1)])):(E(),b(`span`,rl,`Update Country`))],8,tl)])],32)])])):(E(),b(`div`,il,[_(`div`,al,[C(P(c),{class:`w-12 h-12 text-red-400 mb-4`}),t[24]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Country Not Found `,-1),t[25]||=_(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The country you're trying to edit could not be found. `,-1),_(`button`,{onClick:Y,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` ← Back to Countries `)])])),O.value?(E(),b(`div`,ol,[_(`div`,sl,[_(`div`,cl,[C(P(i),{class:`h-5 w-5 text-blue-400`})]),t[26]||=x(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Country Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update country details carefully as this information affects: </p><ul class="list-disc list-inside space-y-1"><li>Address validation and formatting</li><li>Phone number formatting with country codes</li><li>Dropdown selections throughout the system</li><li>Localization and regional settings</li></ul></div></div>`,1)])])):y(``,!0)])]))}}),ul=ll;const dl={class:`space-y-6`},fl={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},pl={class:`grid grid-cols-1 md:grid-cols-5 gap-4`},ml={class:`md:col-span-2`},hl={class:`relative`},gl={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},_l={key:0,class:`p-8 text-center`},vl={key:1,class:`p-8 text-center`},yl={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},bl={key:0,class:`mt-6`},xl={key:2,class:`overflow-x-auto`},Sl={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},Cl={class:`bg-gray-50 dark:bg-gray-700`},wl={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Tl={class:`flex flex-col`},El={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Dl={class:`flex flex-col`},Ol={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},kl={class:`flex flex-col`},Al={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},jl={class:`flex flex-col`},Ml={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Nl={class:`flex flex-col`},Pl={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Fl={class:`flex flex-col`},Il={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},Ll={class:`px-6 py-4 whitespace-nowrap`},Rl={class:`flex items-center`},zl={class:`flex-shrink-0 h-10 w-10`},Bl={class:`h-10 w-10 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center`},Vl={class:`ml-4`},Hl={class:`text-sm font-medium text-gray-900 dark:text-white flex items-center space-x-2`},Ul={class:`font-mono font-semibold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 px-2 py-1 rounded text-xs`},Wl={key:0,class:`bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded text-xs font-medium`},Gl={class:`text-sm text-gray-500 dark:text-gray-400`},Kl={class:`px-6 py-4 whitespace-nowrap`},ql={class:`text-sm text-gray-900 dark:text-white`},Jl={class:`font-medium`},Yl={key:0,class:`text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs`},Xl={class:`px-6 py-4 whitespace-nowrap`},Zl={class:`text-sm text-gray-900 dark:text-white`},Ql={class:`font-mono font-semibold bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-3 py-1 rounded-full text-sm`},$l={class:`px-6 py-4 whitespace-nowrap`},eu={class:`px-6 py-4 whitespace-nowrap`},tu={class:`px-6 py-4 whitespace-nowrap`},nu={class:`text-sm text-gray-900 dark:text-white`},ru={class:`text-sm text-gray-600 dark:text-gray-400`},iu={class:`text-xs text-gray-500 dark:text-gray-500`},au={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},ou={class:`flex items-center justify-end space-x-2`},su=[`onClick`],cu=[`onClick`],lu=[`onClick`],uu={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},du={class:`flex items-center justify-between`},fu={class:`flex-1 flex justify-between sm:hidden`},pu=[`disabled`],mu=[`disabled`],hu={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},gu={class:`text-sm text-gray-700 dark:text-gray-300`},_u={class:`font-medium`},vu={class:`font-medium`},yu={class:`font-medium`},bu={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},xu=[`disabled`],Su=[`disabled`];var Cu=w({__name:`IndexPage`,emits:[`create`,`edit`],setup(n,{emit:i}){B();let a=ee(),s=_e(),c=i,m=N(!1),h=N(!1),v=N(null),x=N(null),w=N(null),O=N(!1),A=M({search:``,is_active:``,type:``,per_page:15,sort_by:``,sort_direction:`asc`,page:1}),I=N({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}),L=g(()=>s.taxCodes),R=g(()=>s.pagination),z=g(()=>s.loading),V=g(()=>[{key:`code`,label:`Tax Code`,type:`text`},{key:`name`,label:`Name`,type:`text`},{key:`description`,label:`Description`,type:`text`,fallback:`No description`},{key:`tax_percent`,label:`Tax Percentage`,type:`text`,suffix:`%`},{key:`type`,label:`Type`,type:`badge`},{key:`is_active`,label:`Status`,type:`status`},{key:`is_default`,label:`Default Tax Code`,type:`boolean`},{key:`created_by.name`,label:`Created By`,type:`text`,subKey:`created_at`},{key:`updated_by.name`,label:`Last Updated By`,type:`text`,subKey:`updated_at`}]);k(()=>({...A}),e=>{let{page:t,...n}=e;s.updateFilters(n)},{deep:!0});let W=async(e=1)=>{try{let t={...A,page:e};await s.fetchTaxCodes(t)}catch{a.error(`Failed to load tax codes`,{title:`Error`})}},K=()=>{x.value&&clearTimeout(x.value),x.value=setTimeout(()=>{W(1)},300)},q=e=>{A.sort_by===e?A.sort_direction=A.sort_direction===`asc`?`desc`:`asc`:(A.sort_by=e,A.sort_direction=`asc`),W(1)},J=e=>{e>=1&&R.value&&e<=R.value.last_page&&(A.page=e,W(e))},Y=e=>{w.value=e,O.value=!0},X=e=>{v.value=e,I.value={title:`Delete Tax Code`,message:`Are you sure you want to delete "${e.code} - ${e.name}"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},h.value=!0},te=async()=>{v.value&&(await s.deleteTaxCode(v.value.id),Z())},Z=()=>{h.value=!1,v.value=null,I.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},ie=()=>{c(`create`)},Q=e=>{c(`edit`,e)};return T(()=>{W()}),(n,i)=>(E(),b(`div`,dl,[C(oe,{title:`Tax Codes`,description:`Manage tax codes for calculations and reporting`,"create-button-text":`Create New Tax Code`,onCreate:ie}),_(`div`,fl,[_(`div`,pl,[_(`div`,ml,[i[16]||=_(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Tax Codes `,-1),_(`div`,hl,[j(_(`input`,{id:`search`,"onUpdate:modelValue":i[0]||=e=>A.search=e,type:`text`,placeholder:`Search by code, name, or description...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:K},null,544),[[U,A.search]]),C(P(re),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),_(`div`,null,[i[18]||=_(`label`,{for:`type`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Type `,-1),j(_(`select`,{id:`type`,"onUpdate:modelValue":i[1]||=e=>A.type=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:W},i[17]||=[_(`option`,{value:``},`All Types`,-1),_(`option`,{value:`inclusive`},`Inclusive`,-1),_(`option`,{value:`exclusive`},`Exclusive`,-1)],544),[[H,A.type]])]),_(`div`,null,[i[20]||=_(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Status `,-1),j(_(`select`,{id:`status`,"onUpdate:modelValue":i[2]||=e=>A.is_active=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:W},i[19]||=[_(`option`,{value:``},`All Status`,-1),_(`option`,{value:`true`},`Active`,-1),_(`option`,{value:`false`},`Inactive`,-1)],544),[[H,A.is_active]])]),_(`div`,null,[i[22]||=_(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),j(_(`select`,{id:`per-page`,"onUpdate:modelValue":i[3]||=e=>A.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:W},i[21]||=[_(`option`,{value:15},`15`,-1),_(`option`,{value:25},`25`,-1),_(`option`,{value:50},`50`,-1),_(`option`,{value:100},`100`,-1)],544),[[H,A.per_page]])])])]),_(`div`,gl,[z.value?(E(),b(`div`,_l,[C(P(r),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),i[23]||=_(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading tax codes...`,-1)])):L.value.length===0?(E(),b(`div`,vl,[C(P(p),{class:`h-12 w-12 mx-auto text-gray-400`}),i[25]||=_(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},` No tax codes found `,-1),_(`p`,yl,f(A.search?`Try adjusting your search criteria.`:`Get started by creating your first tax code.`),1),A.search?y(``,!0):(E(),b(`div`,bl,[_(`button`,{onClick:ie,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[C(P(ae),{class:`h-5 w-5 mr-2`}),i[24]||=S(` Add Your First Tax Code `,-1)])]))])):(E(),b(`div`,xl,[_(`table`,Sl,[_(`thead`,Cl,[_(`tr`,null,[_(`th`,wl,[_(`button`,{onClick:i[4]||=e=>q(`code`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[26]||=_(`span`,null,`Code`,-1),_(`div`,Tl,[C(P(l),{class:F([`h-3 w-3`,A.sort_by===`code`&&A.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,A.sort_by===`code`&&A.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),_(`th`,El,[_(`button`,{onClick:i[5]||=e=>q(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[27]||=_(`span`,null,`Name`,-1),_(`div`,Dl,[C(P(l),{class:F([`h-3 w-3`,A.sort_by===`name`&&A.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,A.sort_by===`name`&&A.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),_(`th`,Ol,[_(`button`,{onClick:i[6]||=e=>q(`tax_percent`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[28]||=_(`span`,null,`Tax Rate`,-1),_(`div`,kl,[C(P(l),{class:F([`h-3 w-3`,A.sort_by===`tax_percent`&&A.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,A.sort_by===`tax_percent`&&A.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),_(`th`,Al,[_(`button`,{onClick:i[7]||=e=>q(`type`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[29]||=_(`span`,null,`Type`,-1),_(`div`,jl,[C(P(l),{class:F([`h-3 w-3`,A.sort_by===`type`&&A.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,A.sort_by===`type`&&A.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),_(`th`,Ml,[_(`button`,{onClick:i[8]||=e=>q(`is_active`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[30]||=_(`span`,null,`Status`,-1),_(`div`,Nl,[C(P(l),{class:F([`h-3 w-3`,A.sort_by===`is_active`&&A.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,A.sort_by===`is_active`&&A.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),_(`th`,Pl,[_(`button`,{onClick:i[9]||=e=>q(`created_at`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[31]||=_(`span`,null,`Created`,-1),_(`div`,Fl,[C(P(l),{class:F([`h-3 w-3`,A.sort_by===`created_at`&&A.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,A.sort_by===`created_at`&&A.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),i[32]||=_(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),_(`tbody`,Il,[(E(!0),b(G,null,D(L.value,e=>(E(),b(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[_(`td`,Ll,[_(`div`,Rl,[_(`div`,zl,[_(`div`,Bl,[C(P(p),{class:`h-5 w-5 text-green-600 dark:text-green-400`})])]),_(`div`,Vl,[_(`div`,Hl,[_(`span`,Ul,f(e.code),1),e.is_default?(E(),b(`span`,Wl,` Default `)):y(``,!0)]),_(`div`,Gl,` ID: `+f(e.id),1)])])]),_(`td`,Kl,[_(`div`,ql,[_(`div`,Jl,f(e.name),1),e.description?(E(),b(`div`,Yl,f(e.description),1)):y(``,!0)])]),_(`td`,Xl,[_(`div`,Zl,[_(`span`,Ql,f(e.tax_percent)+`% `,1)])]),_(`td`,$l,[_(`span`,{class:F([`px-2 py-1 rounded-full text-xs font-medium`,e.type===`inclusive`?`bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300`:`bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-300`])},f(e.type===`inclusive`?`Inclusive`:`Exclusive`),3)]),_(`td`,eu,[C(ce,{active:e.is_active},null,8,[`active`])]),_(`td`,tu,[_(`div`,nu,[_(`div`,ru,f(e.created_by?.name||`-`),1),_(`div`,iu,f(P(le)(e.created_at)),1)])]),_(`td`,au,[_(`div`,ou,[_(`button`,{onClick:t=>Y(e),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[C(P(o),{class:`w-4 h-4`})],8,su),_(`button`,{onClick:t=>Q(e),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit Tax Code`},[C(P(t),{class:`h-4 w-4`})],8,cu),_(`button`,{onClick:t=>X(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete Tax Code`},[C(P(ne),{class:`h-4 w-4`})],8,lu)])])]))),128))])])])),R.value&&R.value.total>0?(E(),b(`div`,uu,[_(`div`,du,[_(`div`,fu,[_(`button`,{onClick:i[10]||=e=>J(R.value.current_page-1),disabled:R.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,pu),_(`button`,{onClick:i[11]||=e=>J(R.value.current_page+1),disabled:R.value.current_page>=R.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,mu)]),_(`div`,hu,[_(`div`,null,[_(`p`,gu,[i[33]||=S(` Showing `,-1),_(`span`,_u,f(R.value.from),1),i[34]||=S(` to `,-1),_(`span`,vu,f(R.value.to),1),i[35]||=S(` of `,-1),_(`span`,yu,f(R.value.total),1),i[36]||=S(` results `,-1)])]),_(`div`,null,[_(`nav`,bu,[_(`button`,{onClick:i[12]||=e=>J(R.value.current_page-1),disabled:R.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[C(P(d),{class:`h-5 w-5`})],8,xu),_(`button`,{onClick:i[13]||=e=>J(R.value.current_page+1),disabled:R.value.current_page>=R.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[C(P(u),{class:`h-5 w-5`})],8,Su)])])])])])):y(``,!0)]),C(se,{show:h.value,"onUpdate:show":i[14]||=e=>h.value=e,type:`delete`,title:I.value.title,message:I.value.message,"confirm-text":I.value.buttonText,"loading-text":I.value.loadingText,loading:m.value,onConfirm:te,onCancel:Z},null,8,[`show`,`title`,`message`,`confirm-text`,`loading-text`,`loading`]),C(be,{show:O.value,"onUpdate:show":i[15]||=e=>O.value=e,item:w.value,title:`Tax Code Details`,"display-fields":V.value,size:`lg`},null,8,[`show`,`item`,`display-fields`])]))}}),wu=Cu;const Tu={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Eu={class:`max-w-4xl mx-auto`},Du={class:`mb-8`},Ou={class:`flex items-center space-x-4 mb-2`},ku={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Au={class:`px-6 py-8`},ju={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Mu={class:`md:col-span-2`},Nu=[`disabled`],Pu={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Fu={key:1,class:`mt-1 text-xs text-gray-500`},Iu={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Lu=[`disabled`],Ru={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},zu={class:`mt-1 text-xs text-gray-500`},Bu={class:`flex`},Vu={class:`flex-shrink-0`},Hu={class:`ml-3`},Uu={class:`space-y-4`},Wu={class:`flex items-start`},Gu={class:`flex items-center h-5`},Ku=[`disabled`],qu={class:`flex items-start`},Ju={class:`flex items-center h-5`},Yu=[`disabled`],Xu={key:0,class:`p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg`},Zu={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},Qu={class:`space-y-2`},$u={key:0},ed={class:`text-sm text-blue-700 dark:text-blue-400`},td={class:`text-sm font-medium text-blue-700 dark:text-blue-400`},nd={key:1},rd={class:`text-sm text-blue-700 dark:text-blue-400`},id={class:`text-sm font-medium text-blue-700 dark:text-blue-400`},ad={class:`flex items-center justify-center`},od={class:`font-mono font-semibold bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-4 py-2 rounded-full text-lg`},sd={key:1,class:`p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},cd={class:`flex items-center space-x-2`},ld={class:`font-mono font-semibold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 px-2 py-1 rounded text-sm`},ud={class:`text-gray-700 dark:text-gray-300`},dd={key:0,class:`font-mono font-semibold bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-2 py-1 rounded text-sm`},fd={key:1,class:`bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded text-xs font-medium`},pd={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},md=[`disabled`],hd=[`disabled`],gd={key:0,class:`flex items-center justify-center`},_d={key:1},vd={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},yd={class:`flex`},bd={class:`flex-shrink-0`};var xd=w({__name:`CreatePage`,emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=t,r=_e(),a=N(!1),o=N({}),s=N({code:``,name:``,description:``,tax_percent:0,type:`exclusive`,is_active:!0,is_default:!1}),c=g(()=>Object.keys(o.value).length>0),l=g(()=>s.value.code.trim().length>0&&s.value.name.trim().length>0&&s.value.tax_percent>=0&&s.value.tax_percent<=100&&(s.value.type===`inclusive`||s.value.type===`exclusive`)),u=e=>o.value[e]||``,d=e=>{o.value[e]&&delete o.value[e]},p=()=>{o.value={}},m=e=>{o.value={},Object.keys(e).forEach(t=>{e[t]&&e[t].length>0&&(o.value[t]=e[t][0])})},v=()=>{p();let e=!0;return s.value.code.trim()?s.value.code.length>50&&(o.value.code=`Tax code must be 50 characters or less`,e=!1):(o.value.code=`Tax code is required`,e=!1),s.value.name.trim()?s.value.name.length>255&&(o.value.name=`Tax name must be 255 characters or less`,e=!1):(o.value.name=`Tax name is required`,e=!1),s.value.description&&s.value.description.length>500&&(o.value.description=`Description must be 500 characters or less`,e=!1),s.value.tax_percent<0?(o.value.tax_percent=`Tax percentage cannot be negative`,e=!1):s.value.tax_percent>100&&(o.value.tax_percent=`Tax percentage cannot exceed 100%`,e=!1),(!s.value.type||s.value.type!==`inclusive`&&s.value.type!==`exclusive`)&&(o.value.type=`Tax type is required`,e=!1),e},w=()=>{s.value.code=s.value.code.toUpperCase()},D=()=>{s.value={code:``,name:``,description:``,tax_percent:0,type:`exclusive`,is_active:!0,is_default:!1},p()},O=async()=>{if(v())try{a.value=!0,await r.createTaxCode(s.value),D(),n(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&m(e.response.data.errors)}finally{a.value=!1}},k=()=>{D(),n(`cancel`)},A=()=>{n(`back`)};return T(()=>{D()}),(e,t)=>(E(),b(`div`,Tu,[_(`div`,Eu,[_(`div`,Du,[_(`div`,Ou,[_(`button`,{onClick:A,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[C(P(h),{class:`w-5 h-5`})]),t[12]||=_(`div`,null,[_(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create Tax Code `),_(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new tax code for calculations and reporting `)],-1)])]),_(`div`,ku,[_(`div`,Au,[_(`form`,{onSubmit:W(O,[`prevent`]),class:`space-y-8`},[_(`div`,null,[t[16]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),_(`div`,ju,[_(`div`,null,[C(K,{type:`text`,maxlength:50,disabled:a.value,onBlur:t[0]||=()=>d(`code`),onInput:w,modelValue:s.value.code,"onUpdate:modelValue":t[1]||=e=>s.value.code=e,placeholder:`Enter tax code (e.g., VAT-10, GST-5)`,error:u(`code`),required:``,label:`Tax Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),t[13]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` Unique identifier for this tax code (automatically converted to uppercase) `,-1)]),_(`div`,null,[C(K,{type:`text`,maxlength:255,disabled:a.value,onBlur:t[2]||=()=>d(`name`),modelValue:s.value.name,"onUpdate:modelValue":t[3]||=e=>s.value.name=e,placeholder:`Enter tax name (e.g., Value Added Tax)`,error:u(`name`),required:``,label:`Tax Name`},null,8,[`disabled`,`modelValue`,`error`]),t[14]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` Descriptive name for this tax code `,-1)]),_(`div`,Mu,[t[15]||=_(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Description (Optional) `,-1),j(_(`textarea`,{"onUpdate:modelValue":t[4]||=e=>s.value.description=e,disabled:a.value,onBlur:t[5]||=()=>d(`description`),rows:`3`,maxlength:500,placeholder:`Enter detailed description of this tax code...`,class:F([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,u(`description`)?`border-red-300 text-red-900 placeholder-red-300`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},null,42,Nu),[[U,s.value.description]]),u(`description`)?(E(),b(`p`,Pu,f(u(`description`)),1)):y(``,!0),s.value.description?(E(),b(`p`,Fu,f(s.value.description.length)+`/500 characters `,1)):y(``,!0)])])]),_(`div`,null,[t[20]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Tax Configuration `,-1),_(`div`,Iu,[_(`div`,null,[C(K,{type:`number`,disabled:a.value,onBlur:t[6]||=()=>d(`tax_percent`),modelValue:s.value.tax_percent,"onUpdate:modelValue":t[7]||=e=>s.value.tax_percent=e,placeholder:`Enter tax percentage (e.g., 10.50)`,error:u(`tax_percent`),required:``,label:`Tax Percentage`,step:`0.01`,min:`0`,max:`100`},null,8,[`disabled`,`modelValue`,`error`]),t[17]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` Tax percentage rate (0.00 to 100.00) `,-1)]),_(`div`,null,[t[19]||=_(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},[S(` Tax Type `),_(`span`,{class:`text-red-500`},`*`)],-1),j(_(`select`,{"onUpdate:modelValue":t[8]||=e=>s.value.type=e,disabled:a.value,onChange:t[9]||=()=>d(`type`),class:F([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,u(`type`)?`border-red-300 text-red-900`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},t[18]||=[_(`option`,{value:``},`Select tax type`,-1),_(`option`,{value:`inclusive`},`Inclusive`,-1),_(`option`,{value:`exclusive`},`Exclusive`,-1)],42,Lu),[[H,s.value.type]]),u(`type`)?(E(),b(`p`,Ru,f(u(`type`)),1)):y(``,!0),_(`p`,zu,f(s.value.type===`inclusive`?`Tax is included in the price`:s.value.type===`exclusive`?`Tax is added to the price`:`Choose whether tax is included in or added to the price`),1)])]),s.value.type?(E(),b(`div`,{key:0,class:F([`mt-4 p-4 rounded-lg`,s.value.type===`inclusive`?`bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800`:`bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800`])},[_(`div`,Bu,[_(`div`,Vu,[C(P(i),{class:F([s.value.type===`inclusive`?`text-green-400`:`text-orange-400`,`h-5 w-5`])},null,8,[`class`])]),_(`div`,Hu,[_(`h4`,{class:F([`text-sm font-medium`,s.value.type===`inclusive`?`text-green-800 dark:text-green-300`:`text-orange-800 dark:text-orange-300`])},f(s.value.type===`inclusive`?`Inclusive Tax`:`Exclusive Tax`),3),_(`p`,{class:F([`mt-1 text-sm`,s.value.type===`inclusive`?`text-green-700 dark:text-green-400`:`text-orange-700 dark:text-orange-400`])},f(s.value.type===`inclusive`?`The tax is already included in the displayed price. The system will calculate the base amount by removing the tax from the total.`:`The tax will be added to the base price. The system will calculate the total by adding the tax to the base amount.`),3)])])],2)):y(``,!0)]),_(`div`,null,[t[23]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Status Settings `,-1),_(`div`,Uu,[_(`div`,Wu,[_(`div`,Gu,[j(_(`input`,{id:`is_active`,"onUpdate:modelValue":t[10]||=e=>s.value.is_active=e,type:`checkbox`,disabled:a.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Ku),[[V,s.value.is_active]])]),t[21]||=_(`div`,{class:`ml-3`},[_(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),_(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this tax code will be available for selection `)],-1)]),_(`div`,qu,[_(`div`,Ju,[j(_(`input`,{id:`is_default`,"onUpdate:modelValue":t[11]||=e=>s.value.is_default=e,type:`checkbox`,disabled:a.value,class:`h-4 w-4 text-yellow-600 focus:ring-yellow-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Yu),[[V,s.value.is_default]])]),t[22]||=_(`div`,{class:`ml-3`},[_(`label`,{for:`is_default`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Default Tax Code `),_(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this tax code will be selected by default for new items `)],-1)])])]),s.value.tax_percent&&s.value.type?(E(),b(`div`,Xu,[t[27]||=_(`h4`,{class:`text-sm font-medium text-blue-800 dark:text-blue-300 mb-3`},`Tax Calculation Preview`,-1),_(`div`,Zu,[_(`div`,Qu,[t[26]||=_(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},[_(`strong`,null,`Example with $100.00:`)],-1),s.value.type===`exclusive`?(E(),b(`div`,$u,[t[24]||=_(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},`Base Amount: $100.00`,-1),_(`p`,ed,`Tax Amount: $`+f((100*(s.value.tax_percent/100)).toFixed(2)),1),_(`p`,td,`Total: $`+f((100+100*(s.value.tax_percent/100)).toFixed(2)),1)])):(E(),b(`div`,nd,[t[25]||=_(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},`Total Amount: $100.00`,-1),_(`p`,rd,`Tax Amount: $`+f((100-100/(1+s.value.tax_percent/100)).toFixed(2)),1),_(`p`,id,`Base Amount: $`+f((100/(1+s.value.tax_percent/100)).toFixed(2)),1)]))]),_(`div`,ad,[_(`span`,od,f(s.value.tax_percent)+`% `,1)])])])):y(``,!0),s.value.code&&s.value.name?(E(),b(`div`,sd,[t[29]||=_(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Tax Code Preview:`,-1),_(`div`,cd,[_(`span`,ld,f(s.value.code),1),t[28]||=_(`span`,{class:`text-gray-700 dark:text-gray-300`},`-`,-1),_(`span`,ud,f(s.value.name),1),s.value.tax_percent?(E(),b(`span`,dd,f(s.value.tax_percent)+`% `,1)):y(``,!0),s.value.is_default?(E(),b(`span`,fd,` Default `)):y(``,!0)])])):y(``,!0),_(`div`,pd,[_(`button`,{type:`button`,onClick:k,disabled:a.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,md),_(`button`,{type:`submit`,disabled:a.value||c.value||!l.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[a.value?(E(),b(`div`,gd,t[30]||=[_(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),S(` Creating... `,-1)])):(E(),b(`span`,_d,`Create Tax Code`))],8,hd)])],32)])]),_(`div`,vd,[_(`div`,yd,[_(`div`,bd,[C(P(i),{class:`h-5 w-5 text-blue-400`})]),t[31]||=x(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> About Tax Codes </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Tax codes are used throughout the system for automatic tax calculations: </p><ul class="list-disc list-inside space-y-1"><li><strong>Code:</strong> Unique identifier (e.g., &quot;VAT-10&quot;, &quot;GST-5&quot;)</li><li><strong>Name:</strong> Descriptive name for the tax</li><li><strong>Percentage:</strong> Tax rate from 0.00% to 100.00%</li><li><strong>Type:</strong> Inclusive (tax included in price) or Exclusive (tax added to price)</li><li><strong>Default:</strong> Automatically selected for new items when enabled</li><li><strong>Status:</strong> Active tax codes appear in dropdown lists</li></ul></div></div>`,1)])])])]))}}),Sd=xd;const Cd={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},wd={class:`max-w-4xl mx-auto`},Td={class:`mb-8`},Ed={class:`flex items-center space-x-4 mb-2`},Dd={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Od={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},kd={class:`px-6 py-8`},Ad={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},jd={class:`md:col-span-2`},Md=[`disabled`],Nd={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Pd={key:1,class:`mt-1 text-xs text-gray-500`},Fd={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Id=[`disabled`],Ld={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Rd={class:`mt-1 text-xs text-gray-500`},zd={class:`flex`},Bd={class:`flex-shrink-0`},Vd={class:`ml-3`},Hd={class:`space-y-4`},Ud={class:`flex items-start`},Wd={class:`flex items-center h-5`},Gd=[`disabled`],Kd={class:`flex items-start`},qd={class:`flex items-center h-5`},Jd=[`disabled`],Yd={key:0,class:`p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg`},Xd={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},Zd={class:`space-y-2`},Qd={key:0},$d={class:`text-sm text-blue-700 dark:text-blue-400`},ef={class:`text-sm font-medium text-blue-700 dark:text-blue-400`},tf={key:1},nf={class:`text-sm text-blue-700 dark:text-blue-400`},rf={class:`text-sm font-medium text-blue-700 dark:text-blue-400`},af={class:`flex items-center justify-center`},sf={class:`font-mono font-semibold bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-4 py-2 rounded-full text-lg`},cf={key:1,class:`p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},lf={class:`flex items-center space-x-2`},uf={class:`font-mono font-semibold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 px-2 py-1 rounded text-sm`},df={class:`text-gray-700 dark:text-gray-300`},ff={key:0,class:`font-mono font-semibold bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-2 py-1 rounded text-sm`},pf={key:1,class:`bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded text-xs font-medium`},mf={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},hf=[`disabled`],gf=[`disabled`],_f={key:0,class:`flex items-center justify-center`},vf={key:1},yf={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},bf={class:`flex flex-col items-center`},xf={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Sf={class:`flex`},Cf={class:`flex-shrink-0`};var wf=w({__name:`EditPage`,props:{id:{},taxCode:{}},emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=e,r=t,a=_e(),o=N(!1),s=N(!1),l=N({}),u=N({code:``,name:``,description:``,tax_percent:0,type:`exclusive`,is_active:!0,is_default:!1}),d=N({code:``,name:``,description:``,tax_percent:0,type:`exclusive`,is_active:!0,is_default:!1}),p=g(()=>Object.keys(l.value).length>0),m=g(()=>u.value.code.trim().length>0&&u.value.name.trim().length>0&&u.value.tax_percent>=0&&u.value.tax_percent<=100&&(u.value.type===`inclusive`||u.value.type===`exclusive`)),v=e=>l.value[e]||``,w=e=>{l.value[e]&&delete l.value[e]},D=()=>{l.value={}},O=e=>{l.value={},Object.keys(e).forEach(t=>{e[t]&&e[t].length>0&&(l.value[t]=e[t][0])})},A=()=>{D();let e=!0;return u.value.code.trim()?u.value.code.length>50&&(l.value.code=`Tax code must be 50 characters or less`,e=!1):(l.value.code=`Tax code is required`,e=!1),u.value.name.trim()?u.value.name.length>255&&(l.value.name=`Tax name must be 255 characters or less`,e=!1):(l.value.name=`Tax name is required`,e=!1),u.value.description&&u.value.description.length>500&&(l.value.description=`Description must be 500 characters or less`,e=!1),u.value.tax_percent<0?(l.value.tax_percent=`Tax percentage cannot be negative`,e=!1):u.value.tax_percent>100&&(l.value.tax_percent=`Tax percentage cannot exceed 100%`,e=!1),(!u.value.type||u.value.type!==`inclusive`&&u.value.type!==`exclusive`)&&(l.value.type=`Tax type is required`,e=!1),e},M=()=>{u.value.code=u.value.code.toUpperCase()},I=async()=>{try{s.value=!0;let e=n.taxCode||await a.fetchTaxCode(n.id);e&&(u.value={code:e.code,name:e.name,description:e.description||``,tax_percent:parseFloat(e.tax_percent),type:e.type,is_active:e.is_active,is_default:e.is_default},d.value={code:e.code,name:e.name,description:e.description||``,tax_percent:parseFloat(e.tax_percent),type:e.type,is_active:e.is_active,is_default:e.is_default},D())}catch(e){console.error(`Error loading tax code:`,e)}finally{s.value=!1}},L=async()=>{if(A())try{o.value=!0;let e={code:u.value.code,name:u.value.name,description:u.value.description||void 0,tax_percent:u.value.tax_percent,type:u.value.type,is_active:u.value.is_active,is_default:u.value.is_default};await a.updateTaxCode(n.id,e),d.value={...u.value},r(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&O(e.response.data.errors)}finally{o.value=!1}},R=()=>{r(`cancel`)},z=()=>{r(`back`)};return T(()=>{I()}),k(()=>n.id,()=>{n.id&&I()}),(e,t)=>(E(),b(`div`,Cd,[_(`div`,wd,[_(`div`,Td,[_(`div`,Ed,[_(`button`,{onClick:z,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[C(P(h),{class:`w-5 h-5`})]),t[12]||=_(`div`,null,[_(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Tax Code `),_(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update tax code information and settings `)],-1)])]),s.value?(E(),b(`div`,Dd,t[13]||=[_(`div`,{class:`flex items-center justify-center`},[_(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),_(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading tax code...`)],-1)])):u.value?(E(),b(`div`,Od,[_(`div`,kd,[_(`form`,{onSubmit:W(L,[`prevent`]),class:`space-y-8`},[_(`div`,null,[t[17]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),_(`div`,Ad,[_(`div`,null,[C(K,{type:`text`,maxlength:50,disabled:o.value,onBlur:t[0]||=()=>w(`code`),onInput:M,modelValue:u.value.code,"onUpdate:modelValue":t[1]||=e=>u.value.code=e,placeholder:`Enter tax code (e.g., VAT-10, GST-5)`,error:v(`code`),required:``,label:`Tax Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),t[14]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` Unique identifier for this tax code (automatically converted to uppercase) `,-1)]),_(`div`,null,[C(K,{type:`text`,maxlength:255,disabled:o.value,onBlur:t[2]||=()=>w(`name`),modelValue:u.value.name,"onUpdate:modelValue":t[3]||=e=>u.value.name=e,placeholder:`Enter tax name (e.g., Value Added Tax)`,error:v(`name`),required:``,label:`Tax Name`},null,8,[`disabled`,`modelValue`,`error`]),t[15]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` Descriptive name for this tax code `,-1)]),_(`div`,jd,[t[16]||=_(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Description (Optional) `,-1),j(_(`textarea`,{"onUpdate:modelValue":t[4]||=e=>u.value.description=e,disabled:o.value,onBlur:t[5]||=()=>w(`description`),rows:`3`,maxlength:500,placeholder:`Enter detailed description of this tax code...`,class:F([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,v(`description`)?`border-red-300 text-red-900 placeholder-red-300`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},null,42,Md),[[U,u.value.description]]),v(`description`)?(E(),b(`p`,Nd,f(v(`description`)),1)):y(``,!0),u.value.description?(E(),b(`p`,Pd,f(u.value.description.length)+`/500 characters `,1)):y(``,!0)])])]),_(`div`,null,[t[21]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Tax Configuration `,-1),_(`div`,Fd,[_(`div`,null,[C(K,{type:`number`,disabled:o.value,onBlur:t[6]||=()=>w(`tax_percent`),modelValue:u.value.tax_percent,"onUpdate:modelValue":t[7]||=e=>u.value.tax_percent=e,placeholder:`Enter tax percentage (e.g., 10.50)`,error:v(`tax_percent`),required:``,label:`Tax Percentage`,step:`0.01`,min:`0`,max:`100`},null,8,[`disabled`,`modelValue`,`error`]),t[18]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` Tax percentage rate (0.00 to 100.00) `,-1)]),_(`div`,null,[t[20]||=_(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},[S(` Tax Type `),_(`span`,{class:`text-red-500`},`*`)],-1),j(_(`select`,{"onUpdate:modelValue":t[8]||=e=>u.value.type=e,disabled:o.value,onChange:t[9]||=()=>w(`type`),class:F([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,v(`type`)?`border-red-300 text-red-900`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},t[19]||=[_(`option`,{value:``},`Select tax type`,-1),_(`option`,{value:`inclusive`},`Inclusive`,-1),_(`option`,{value:`exclusive`},`Exclusive`,-1)],42,Id),[[H,u.value.type]]),v(`type`)?(E(),b(`p`,Ld,f(v(`type`)),1)):y(``,!0),_(`p`,Rd,f(u.value.type===`inclusive`?`Tax is included in the price`:u.value.type===`exclusive`?`Tax is added to the price`:`Choose whether tax is included in or added to the price`),1)])]),u.value.type?(E(),b(`div`,{key:0,class:F([`mt-4 p-4 rounded-lg`,u.value.type===`inclusive`?`bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800`:`bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800`])},[_(`div`,zd,[_(`div`,Bd,[C(P(i),{class:F([u.value.type===`inclusive`?`text-green-400`:`text-orange-400`,`h-5 w-5`])},null,8,[`class`])]),_(`div`,Vd,[_(`h4`,{class:F([`text-sm font-medium`,u.value.type===`inclusive`?`text-green-800 dark:text-green-300`:`text-orange-800 dark:text-orange-300`])},f(u.value.type===`inclusive`?`Inclusive Tax`:`Exclusive Tax`),3),_(`p`,{class:F([`mt-1 text-sm`,u.value.type===`inclusive`?`text-green-700 dark:text-green-400`:`text-orange-700 dark:text-orange-400`])},f(u.value.type===`inclusive`?`The tax is already included in the displayed price. The system will calculate the base amount by removing the tax from the total.`:`The tax will be added to the base price. The system will calculate the total by adding the tax to the base amount.`),3)])])],2)):y(``,!0)]),_(`div`,null,[t[24]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Status Settings `,-1),_(`div`,Hd,[_(`div`,Ud,[_(`div`,Wd,[j(_(`input`,{id:`is_active`,"onUpdate:modelValue":t[10]||=e=>u.value.is_active=e,type:`checkbox`,disabled:o.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Gd),[[V,u.value.is_active]])]),t[22]||=_(`div`,{class:`ml-3`},[_(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),_(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this tax code will be available for selection `)],-1)]),_(`div`,Kd,[_(`div`,qd,[j(_(`input`,{id:`is_default`,"onUpdate:modelValue":t[11]||=e=>u.value.is_default=e,type:`checkbox`,disabled:o.value,class:`h-4 w-4 text-yellow-600 focus:ring-yellow-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Jd),[[V,u.value.is_default]])]),t[23]||=_(`div`,{class:`ml-3`},[_(`label`,{for:`is_default`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Default Tax Code `),_(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this tax code will be selected by default for new items `)],-1)])])]),u.value.tax_percent&&u.value.type?(E(),b(`div`,Yd,[t[28]||=_(`h4`,{class:`text-sm font-medium text-blue-800 dark:text-blue-300 mb-3`},`Tax Calculation Preview`,-1),_(`div`,Xd,[_(`div`,Zd,[t[27]||=_(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},[_(`strong`,null,`Example with $100.00:`)],-1),u.value.type===`exclusive`?(E(),b(`div`,Qd,[t[25]||=_(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},`Base Amount: $100.00`,-1),_(`p`,$d,`Tax Amount: $`+f((100*(u.value.tax_percent/100)).toFixed(2)),1),_(`p`,ef,`Total: $`+f((100+100*(u.value.tax_percent/100)).toFixed(2)),1)])):(E(),b(`div`,tf,[t[26]||=_(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},`Total Amount: $100.00`,-1),_(`p`,nf,`Tax Amount: $`+f((100-100/(1+u.value.tax_percent/100)).toFixed(2)),1),_(`p`,rf,`Base Amount: $`+f((100/(1+u.value.tax_percent/100)).toFixed(2)),1)]))]),_(`div`,af,[_(`span`,sf,f(u.value.tax_percent)+`% `,1)])])])):y(``,!0),u.value.code&&u.value.name?(E(),b(`div`,cf,[t[30]||=_(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Tax Code Preview:`,-1),_(`div`,lf,[_(`span`,uf,f(u.value.code),1),t[29]||=_(`span`,{class:`text-gray-700 dark:text-gray-300`},`-`,-1),_(`span`,df,f(u.value.name),1),u.value.tax_percent?(E(),b(`span`,ff,f(u.value.tax_percent)+`% `,1)):y(``,!0),u.value.is_default?(E(),b(`span`,pf,` Default `)):y(``,!0)])])):y(``,!0),_(`div`,mf,[_(`button`,{type:`button`,onClick:R,disabled:o.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,hf),_(`button`,{type:`submit`,disabled:o.value||p.value||!m.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[o.value?(E(),b(`div`,_f,t[31]||=[_(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),S(` Updating... `,-1)])):(E(),b(`span`,vf,`Update Tax Code`))],8,gf)])],32)])])):(E(),b(`div`,yf,[_(`div`,bf,[C(P(c),{class:`w-12 h-12 text-red-400 mb-4`}),t[32]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Tax Code Not Found `,-1),t[33]||=_(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The tax code you're trying to edit could not be found. `,-1),_(`button`,{onClick:z,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` Back to Tax Codes `)])])),u.value?(E(),b(`div`,xf,[_(`div`,Sf,[_(`div`,Cf,[C(P(i),{class:`h-5 w-5 text-blue-400`})]),t[34]||=x(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Tax Code Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update tax code details carefully as this information affects: </p><ul class="list-disc list-inside space-y-1"><li>Tax calculations throughout the system</li><li>Invoice and receipt generation</li><li>Financial reporting and compliance</li><li>Item pricing and cost calculations</li><li>Default selections for new items (if set as default)</li></ul></div></div>`,1)])])):y(``,!0)])]))}}),Tf=wf;const Ef={class:`space-y-6`},Df={class:`flex flex-col sm:flex-row sm:items-center sm:justify-between`},Of={class:`mt-4 sm:mt-0 flex space-x-2`},kf={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},Af={class:`grid grid-cols-1 md:grid-cols-4 gap-4`},jf={class:`md:col-span-2`},Mf={class:`relative`},Nf={class:`mt-4 flex justify-end`},Pf={class:`w-32`},Ff={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},If={key:0,class:`p-8 text-center`},Lf={key:1,class:`p-8 text-center`},Rf={class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},zf={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},Bf={key:0,class:`mt-6`},Vf={key:2,class:`overflow-x-auto`},Hf={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},Uf={class:`bg-gray-50 dark:bg-gray-700`},Wf={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Gf={class:`flex flex-col`},Kf={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},qf={class:`flex flex-col`},Jf={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Yf={class:`flex flex-col`},Xf={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},Zf={class:`px-6 py-4 whitespace-nowrap`},Qf={class:`flex items-center`},$f={class:`flex-shrink-0 h-10 w-10`},ep={class:`h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center`},tp={class:`ml-4`},np={class:`text-sm font-medium text-gray-900 dark:text-white`},rp={class:`text-sm text-gray-500 dark:text-gray-400`},ip={class:`px-6 py-4`},ap={class:`text-sm text-gray-900 dark:text-white`},op={class:`px-6 py-4 whitespace-nowrap`},sp={class:`inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200`},cp={class:`px-6 py-4 whitespace-nowrap`},lp={class:`px-6 py-4 whitespace-nowrap`},up={class:`text-sm text-gray-900 dark:text-white`},dp={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},fp={class:`flex items-center justify-end space-x-2`},pp=[`onClick`],mp=[`onClick`],hp=[`onClick`,`title`],gp=[`onClick`],_p=[`onClick`],vp=[`onClick`],yp={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},bp={class:`flex items-center justify-between`},xp={class:`flex-1 flex justify-between sm:hidden`},Sp=[`disabled`],Cp=[`disabled`],wp={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},Tp={class:`text-sm text-gray-700 dark:text-gray-300`},Ep={class:`font-medium`},Dp={class:`font-medium`},Op={class:`font-medium`},kp={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},Ap=[`disabled`],jp=[`disabled`],Mp={class:`flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0`},Np={class:`inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6`},Pp={class:`sm:flex sm:items-start`},Fp={class:`mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/20 sm:mx-0 sm:h-10 sm:w-10`},Ip={class:`mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left`},Lp={class:`text-lg leading-6 font-medium text-gray-900 dark:text-white`},Rp={class:`mt-2`},zp={class:`text-sm text-gray-500 dark:text-gray-400`},Bp={class:`mt-5 sm:mt-4 sm:flex sm:flex-row-reverse`},Vp=[`disabled`],Hp={key:1,class:`fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50`},Up={class:`relative top-20 mx-auto p-5 border w-2/3 max-w-2xl shadow-lg rounded-md bg-white dark:bg-gray-800`},Wp={class:`flex justify-between items-center mb-4`},Gp={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Kp={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},qp={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Jp={class:`mt-1 inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200`},Yp={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Xp={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Zp={key:0,class:`text-xs text-gray-500 dark:text-gray-400`},Qp={key:0},$p={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},em={class:`text-xs text-gray-500 dark:text-gray-400`},tm={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},nm={class:`text-xs text-gray-500 dark:text-gray-400`},rm=`setups/users`;var im=w({__name:`Index`,emits:[`create`,`edit`],setup(n,{emit:i}){B();let a=ee(),s=i,c=N(!1),p=N(!1),m=N([]),h=N(null),w=N(!1),O=N(null),k=N(null),A=N(!1),V=N(null),K=N(!1),Y=N(``),X=N(`asc`),Q=M({search:``,role:``,is_active:``,per_page:15}),$=N({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``});g(()=>m.value.length>0||A.value);let oe=e=>{let t={super_admin:`Super Admin`,admin:`Admin`,salesman:`Salesman`,warehouse_manager:`Warehouse Manager`,developer:`Developer`};return t[e]||e},se=e=>{Y.value===e?X.value=X.value===`asc`?`desc`:`asc`:(Y.value=e,X.value=`asc`),ce(1)},ce=async(e=1)=>{c.value=!0;try{let t=new URLSearchParams({page:e.toString(),per_page:Q.per_page.toString()});Q.search&&t.append(`search`,Q.search),Q.role&&t.append(`role`,Q.role),Q.is_active!==``&&t.append(`is_active`,Q.is_active),Y.value&&(t.append(`sort_by`,Y.value),t.append(`sort_direction`,X.value));let n=A.value?`${rm}/trashed`:rm,r=await L(`${n}?${t}`);m.value=r.data.data||[],h.value=r.data.pagination}catch{a.error(`Failed to load users`,{title:`Error`})}finally{c.value=!1}},ue=e=>{V.value=e,K.value=!0},fe=()=>{K.value=!1,V.value=null},pe=()=>{k.value&&clearTimeout(k.value),k.value=setTimeout(()=>{ce(1)},300)},me=e=>{e>=1&&h.value&&e<=h.value.last_page&&ce(e)},he=e=>{O.value=e,$.value={title:`Delete User`,message:`Are you sure you want to delete "${e.name}"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},w.value=!0},ge=e=>{O.value=e;let t=e.is_active?`deactivate`:`activate`;$.value={title:`${t===`activate`?`Activate`:`Deactivate`} User`,message:`Are you sure you want to ${t} "${e.name}"?`,buttonText:t===`activate`?`Activate`:`Deactivate`,loadingText:`${t===`activate`?`Activating`:`Deactivating`}...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 ${t===`activate`?`bg-green-600 hover:bg-green-700 focus:ring-green-500`:`bg-orange-600 hover:bg-orange-700 focus:ring-orange-500`} text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`toggleStatus`},w.value=!0},_e=e=>{O.value=e,$.value={title:`Restore User`,message:`Are you sure you want to restore "${e.name}"?`,buttonText:`Restore`,loadingText:`Restoring...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`restore`},w.value=!0},ve=e=>{O.value=e,$.value={title:`Permanently Delete User`,message:`Are you sure you want to permanently delete "${e.name}"? This action cannot be undone.`,buttonText:`Delete Permanently`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`forceDelete`},w.value=!0},ye=async()=>{if(O.value){p.value=!0;try{let e=``,t=I,n={},r=``;switch($.value.action){case`delete`:e=`/${rm}/${O.value.id}`,t=I,r=`User deleted successfully`;break;case`toggleStatus`:e=`/${rm}/${O.value.id}/status`,t=z,n={},r=`User ${O.value.is_active?`deactivated`:`activated`} successfully`;break;case`restore`:e=`/${rm}/${O.value.id}/restore`,t=R,r=`User restored successfully`;break;case`forceDelete`:e=`/${rm}/${O.value.id}/force-delete`,t=I,r=`User permanently deleted successfully`;break}$.value.action===`toggleStatus`?await t(e,n):await t(e),a.success(r,{title:`Success`}),be(),await ce(h.value?.current_page||1)}catch{a.error(`Failed to perform action`,{title:`Error`})}finally{p.value=!1}}},be=()=>{w.value=!1,O.value=null,$.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},xe=()=>{s(`create`)},Se=e=>{s(`edit`,e)};return T(()=>{ce()}),(n,i)=>(E(),b(`div`,Ef,[_(`div`,Df,[i[13]||=_(`div`,null,[_(`h1`,{class:`text-2xl font-bold text-gray-900 dark:text-white`},`Users`),_(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` Manage system users and their access permissions `)],-1),_(`div`,Of,[y(``,!0),_(`button`,{onClick:xe,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[C(P(ae),{class:`h-5 w-5 mr-2`}),i[12]||=S(` Create New User `,-1)])])]),_(`div`,kf,[_(`div`,Af,[_(`div`,jf,[i[14]||=_(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Users `,-1),_(`div`,Mf,[j(_(`input`,{id:`search`,"onUpdate:modelValue":i[0]||=e=>Q.search=e,type:`text`,placeholder:`Search by name or email...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:pe},null,544),[[U,Q.search]]),C(P(re),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),_(`div`,null,[i[16]||=_(`label`,{for:`role`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Role `,-1),j(_(`select`,{id:`role`,"onUpdate:modelValue":i[1]||=e=>Q.role=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:ce},i[15]||=[x(`<option value="">All Roles</option><option value="super_admin">Super Admin</option><option value="admin">Admin</option><option value="salesman">Salesman</option><option value="warehouse_manager">Warehouse Manager</option>`,5)],544),[[H,Q.role]])]),_(`div`,null,[i[18]||=_(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Status `,-1),j(_(`select`,{id:`status`,"onUpdate:modelValue":i[2]||=e=>Q.is_active=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:ce},i[17]||=[_(`option`,{value:``},`All Status`,-1),_(`option`,{value:`1`},`Active`,-1),_(`option`,{value:`0`},`Inactive`,-1)],544),[[H,Q.is_active]])])]),_(`div`,Nf,[_(`div`,Pf,[i[20]||=_(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),j(_(`select`,{id:`per-page`,"onUpdate:modelValue":i[3]||=e=>Q.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:ce},i[19]||=[_(`option`,{value:`15`},`15`,-1),_(`option`,{value:`25`},`25`,-1),_(`option`,{value:`50`},`50`,-1),_(`option`,{value:`100`},`100`,-1)],544),[[H,Q.per_page]])])])]),_(`div`,Ff,[c.value?(E(),b(`div`,If,[C(P(r),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),i[21]||=_(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading users...`,-1)])):m.value.length===0?(E(),b(`div`,Lf,[C(P(J),{class:`h-12 w-12 mx-auto text-gray-400`}),_(`h3`,Rf,f(A.value?`No trashed users found`:`No users found`),1),_(`p`,zf,f(Q.search?`Try adjusting your search criteria.`:`Get started by creating your first user.`),1),!Q.search&&!A.value?(E(),b(`div`,Bf,[_(`button`,{onClick:xe,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[C(P(ae),{class:`h-5 w-5 mr-2`}),i[22]||=S(` Add Your First User `,-1)])])):y(``,!0)])):(E(),b(`div`,Vf,[_(`table`,Hf,[_(`thead`,Uf,[_(`tr`,null,[_(`th`,Wf,[_(`button`,{onClick:i[4]||=e=>se(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[23]||=_(`span`,null,`Name`,-1),_(`div`,Gf,[C(P(l),{class:F([`h-3 w-3`,Y.value===`name`&&X.value===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,Y.value===`name`&&X.value===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),i[26]||=_(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Email `,-1),_(`th`,Kf,[_(`button`,{onClick:i[5]||=e=>se(`role`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[24]||=_(`span`,null,`Role`,-1),_(`div`,qf,[C(P(l),{class:F([`h-3 w-3`,Y.value===`role`&&X.value===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,Y.value===`role`&&X.value===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),_(`th`,Jf,[_(`button`,{onClick:i[6]||=e=>se(`is_active`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[25]||=_(`span`,null,`Status`,-1),_(`div`,Yf,[C(P(l),{class:F([`h-3 w-3`,Y.value===`is_active`&&X.value===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),C(P(e),{class:F([`h-3 w-3 -mt-1`,Y.value===`is_active`&&X.value===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),i[27]||=_(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Last Login `,-1),i[28]||=_(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),_(`tbody`,Xf,[(E(!0),b(G,null,D(m.value,e=>(E(),b(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[_(`td`,Zf,[_(`div`,Qf,[_(`div`,$f,[_(`div`,ep,[C(P(J),{class:`h-5 w-5 text-blue-600 dark:text-blue-400`})])]),_(`div`,tp,[_(`div`,np,f(e.name),1),_(`div`,rp,f(e.employee?.name?`Employee: ${e.employee.name}`:`No employee linked`),1)])])]),_(`td`,ip,[_(`div`,ap,f(e.email),1)]),_(`td`,op,[_(`span`,sp,f(oe(e.role)),1)]),_(`td`,cp,[_(`span`,{class:F([`inline-flex px-2 py-1 text-xs font-semibold rounded-full`,P(de)(e.is_active)])},f(e.is_active?`Active`:`Inactive`),3)]),_(`td`,lp,[_(`div`,up,f(e.last_login_at?P(le)(e.last_login_at):`Never`),1)]),_(`td`,dp,[_(`div`,fp,[A.value?(E(),b(G,{key:1},[_(`button`,{onClick:t=>_e(e),class:`text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 transition-colors duration-200`,title:`Restore User`},[C(P(Z),{class:`h-4 w-4`})],8,_p),_(`button`,{onClick:t=>ve(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Permanently Delete`},[C(P(q),{class:`h-4 w-4`})],8,vp)],64)):(E(),b(G,{key:0},[_(`button`,{onClick:t=>ue(e),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[C(P(o),{class:`w-4 h-4`})],8,pp),_(`button`,{onClick:t=>Se(e),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit User`},[C(P(t),{class:`h-4 w-4`})],8,mp),_(`button`,{onClick:t=>ge(e),class:F([e.is_active?`text-orange-600 dark:text-orange-400 hover:text-orange-900 dark:hover:text-orange-300`:`text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300`,`transition-colors duration-200`]),title:e.is_active?`Deactivate User`:`Activate User`},[C(P(ie),{class:`h-4 w-4`})],10,hp),_(`button`,{onClick:t=>he(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete User`},[C(P(ne),{class:`h-4 w-4`})],8,gp)],64))])])]))),128))])])])),h.value&&h.value.total>0?(E(),b(`div`,yp,[_(`div`,bp,[_(`div`,xp,[_(`button`,{onClick:i[7]||=e=>me(h.value.current_page-1),disabled:h.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,Sp),_(`button`,{onClick:i[8]||=e=>me(h.value.current_page+1),disabled:h.value.current_page>=h.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,Cp)]),_(`div`,wp,[_(`div`,null,[_(`p`,Tp,[i[29]||=S(` Showing `,-1),_(`span`,Ep,f(h.value.from),1),i[30]||=S(` to `,-1),_(`span`,Dp,f(h.value.to),1),i[31]||=S(` of `,-1),_(`span`,Op,f(h.value.total),1),i[32]||=S(` results `,-1)])]),_(`div`,null,[_(`nav`,kp,[_(`button`,{onClick:i[9]||=e=>me(h.value.current_page-1),disabled:h.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[C(P(d),{class:`h-5 w-5`})],8,Ap),_(`button`,{onClick:i[10]||=e=>me(h.value.current_page+1),disabled:h.value.current_page>=h.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[C(P(u),{class:`h-5 w-5`})],8,jp)])])])])])):y(``,!0)]),w.value?(E(),b(`div`,{key:0,class:`fixed inset-0 z-50 overflow-y-auto`,onClick:i[11]||=W(e=>w.value=!1,[`self`])},[_(`div`,Mp,[i[33]||=_(`div`,{class:`fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity`},null,-1),_(`div`,Np,[_(`div`,Pp,[_(`div`,Fp,[C(P(te),{class:`h-6 w-6 text-red-600 dark:text-red-400`})]),_(`div`,Ip,[_(`h3`,Lp,f($.value.title),1),_(`div`,Rp,[_(`p`,zp,f($.value.message),1)])])]),_(`div`,Bp,[_(`button`,{onClick:ye,disabled:p.value,class:F($.value.buttonClass)},[p.value?(E(),v(P(r),{key:0,class:`h-4 w-4 animate-spin mr-2`})):y(``,!0),S(` `+f(p.value?$.value.loadingText:$.value.buttonText),1)],10,Vp),_(`button`,{onClick:be,class:`mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm transition-colors duration-200`},` Cancel `)])])])])):y(``,!0),K.value&&V.value?(E(),b(`div`,Hp,[_(`div`,Up,[_(`div`,Wp,[i[34]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` User Details `,-1),_(`button`,{onClick:fe,class:`text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`},[C(P(q),{class:`w-6 h-6`})])]),_(`div`,Gp,[_(`div`,null,[i[35]||=_(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Name`,-1),_(`p`,Kp,f(V.value.name),1)]),_(`div`,null,[i[36]||=_(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Email`,-1),_(`p`,qp,f(V.value.email),1)]),_(`div`,null,[i[37]||=_(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Role`,-1),_(`span`,Jp,f(oe(V.value.role)),1)]),_(`div`,null,[i[38]||=_(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Status`,-1),_(`span`,{class:F([P(de)(V.value.is_active),`mt-1 inline-flex px-2 py-1 text-xs font-semibold rounded-full`])},f(V.value.is_active?`Active`:`Inactive`),3)]),_(`div`,null,[i[39]||=_(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Last Login`,-1),_(`p`,Yp,f(V.value.last_login_at?P(le)(V.value.last_login_at):`Never`),1)]),_(`div`,null,[i[40]||=_(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Employee`,-1),_(`p`,Xp,f(V.value.employee?.name||`No employee linked`),1),V.value.employee?(E(),b(`p`,Zp,[S(` Code: `+f(V.value.employee.code)+` `,1),V.value.employee.department?(E(),b(`span`,Qp,` | Dept: `+f(V.value.employee.department.name),1)):y(``,!0)])):y(``,!0)]),_(`div`,null,[i[41]||=_(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Created By`,-1),_(`p`,$p,f(V.value.created_by?.name||`-`),1),_(`p`,em,f(P(le)(V.value.created_at)),1)]),_(`div`,null,[i[42]||=_(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Last Updated By`,-1),_(`p`,tm,f(V.value.updated_by?.name||`-`),1),_(`p`,nm,f(P(le)(V.value.updated_at)),1)])]),_(`div`,{class:`mt-6 flex justify-end space-x-3`},[_(`button`,{onClick:fe,class:`px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600`},` Close `)])])])):y(``,!0)]))}}),am=im;function om(){let e=N({}),t=g(()=>Object.keys(e.value).length>0),n=t=>e.value[t]?.[0],r=n=>{let r={};return!n.name||n.name.trim().length===0?r.name=[`Name is required`]:n.name.trim().length>255&&(r.name=[`Name must not exceed 255 characters`]),!n.email||n.email.trim().length===0?r.email=[`Email is required`]:n.email.trim().length>255?r.email=[`Email must not exceed 255 characters`]:a(n.email)||(r.email=[`Please enter a valid email address`]),!n.password||n.password.trim().length===0?r.password=[`Password is required`]:n.password.trim().length<8?r.password=[`Password must be at least 8 characters long`]:n.password.length>255&&(r.password=[`Password must not exceed 255 characters`]),!n.role||n.role.trim().length===0?r.role=[`Role is required`]:o(n.role)||(r.role=[`Please select a valid role`]),e.value=r,!t.value},i=n=>{let r={};return n.name!==void 0&&(!n.name||n.name.trim().length===0?r.name=[`Name is required`]:n.name.trim().length>255&&(r.name=[`Name must not exceed 255 characters`])),n.email!==void 0&&(!n.email||n.email.trim().length===0?r.email=[`Email is required`]:n.email.trim().length>255?r.email=[`Email must not exceed 255 characters`]:a(n.email)||(r.email=[`Please enter a valid email address`])),n.password!==void 0&&n.password&&n.password.trim().length>0&&(n.password.trim().length<8?r.password=[`Password must be at least 8 characters long`]:n.password.length>255&&(r.password=[`Password must not exceed 255 characters`])),n.role!==void 0&&(!n.role||n.role.trim().length===0?r.role=[`Role is required`]:o(n.role)||(r.role=[`Please select a valid role`])),e.value=r,!t.value},a=e=>{let t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},o=e=>{let t=[`super_admin`,`admin`,`salesman`,`warehouse_manager`,`developer`];return t.includes(e)},s=()=>{e.value={}},c=t=>{e.value[t]&&delete e.value[t]},l=t=>{e.value=t};return{errors:e,hasErrors:t,getFieldError:n,validateCreateRequest:r,validateUpdateRequest:i,clearErrors:s,clearFieldError:c,setServerErrors:l}}const sm={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},cm={class:`max-w-2xl mx-auto`},lm={class:`mb-8`},um={class:`flex items-center space-x-4 mb-2`},dm={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},fm={class:`px-6 py-8`},pm={key:0,class:`mt-1 text-xs text-gray-500`},mm={key:0,class:`mt-1 text-xs text-gray-500`},hm=[`disabled`],gm={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},_m=[`disabled`],vm=[`value`],ym={key:0,class:`mt-1 text-xs text-blue-600 dark:text-blue-400`},bm={key:1,class:`mt-1 text-sm text-red-600 dark:text-red-400`},xm={key:2,class:`mt-1 text-xs text-gray-500`},Sm={class:`flex items-start`},Cm={class:`flex items-center h-5`},wm=[`disabled`],Tm={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Em=[`disabled`],Dm=[`disabled`],Om={key:0,class:`flex items-center justify-center`},km={key:1},Am={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},jm={class:`flex`},Mm={class:`flex-shrink-0`},Nm={class:`space-y-4`},Pm={class:`flex items-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg`},Fm={class:`ml-3`},Im={key:0,class:`text-sm text-yellow-700 dark:text-yellow-300`},Lm={key:0,class:`text-sm text-gray-600 dark:text-gray-400`},Rm={class:`mb-2`},zm={class:`list-disc list-inside ml-4 space-y-1`};var Bm=w({__name:`Create`,emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=t,r=me(),{errors:a,hasErrors:o,getFieldError:s,validateCreateRequest:c,clearFieldError:l,setServerErrors:u,clearErrors:d}=om(),{getRoleDepartmentMapping:p,checkRoleDepartmentMatch:m,getRecommendedDepartments:v}=Q();p();let w=N(!1),M=N(!1),I=N([]),L=N(!1),R=N(null),z=N({name:``,email:``,password:``,role:``,employee_id:void 0,is_active:!0}),ee=g(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return s(`role`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):w.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),B=g(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return s(`employee_id`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):w.value||M.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),U=g(()=>z.value.name.trim().length>0&&z.value.email.trim().length>0&&z.value.password.trim().length>=8&&z.value.role.trim().length>0&&z.value.name.length<=255&&z.value.email.length<=255),K=async()=>{try{M.value=!0,I.value=await he.getUnassignedEmployees()}catch(e){console.error(`Error loading employees:`,e)}finally{M.value=!1}},q=()=>{z.value={name:``,email:``,password:``,role:``,employee_id:void 0,is_active:!0},d()},J=e=>{c(z.value);let t=s(e);t&&notifications.error(t)},Y=async()=>{if(d(),!c(z.value)){notifications.error(`Please fix the validation errors before submitting`);return}try{w.value=!0,await r.createUser(z.value),q(),n(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&u(e.response.data.errors)}finally{w.value=!1}},X=()=>{q(),n(`cancel`)},te=()=>{n(`back`)},ne=()=>{if(!z.value.role||!z.value.employee_id)return;let e=I.value.find(e=>e.id===z.value.employee_id);e&&(m(z.value.role,e.department?.name||``)||(R.value={role:z.value.role,employee:e},L.value=!0,z.value.employee_id=void 0))},re=()=>{R.value&&(z.value.employee_id=R.value.employee.id,L.value=!1,R.value=null)},Z=()=>{L.value=!1,R.value=null};return k(()=>z.value.employee_id,e=>{e&&ne()}),k(()=>z.value.role,()=>{z.value.employee_id&&ne()}),T(()=>{q(),K()}),(e,t)=>{let n=O(`Input`);return E(),b(G,null,[_(`div`,sm,[_(`div`,cm,[_(`div`,lm,[_(`div`,um,[_(`button`,{onClick:te,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[C(P(h),{class:`w-5 h-5`})]),t[12]||=_(`div`,null,[_(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create User `),_(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new system user with appropriate permissions `)],-1)])]),_(`div`,dm,[_(`div`,fm,[_(`form`,{onSubmit:W(Y,[`prevent`]),class:`space-y-6`},[_(`div`,null,[C(n,{type:`text`,maxlength:255,disabled:w.value,onBlur:t[0]||=()=>J(`name`),modelValue:z.value.name,"onUpdate:modelValue":t[1]||=e=>z.value.name=e,placeholder:`Enter user's full name`,error:P(s)(`name`),required:``,label:`Name`},null,8,[`disabled`,`modelValue`,`error`]),z.value.name.length>0?(E(),b(`p`,pm,f(z.value.name.length)+`/255 characters `,1)):y(``,!0)]),_(`div`,null,[C(n,{type:`email`,maxlength:255,disabled:w.value,onBlur:t[2]||=()=>J(`email`),modelValue:z.value.email,"onUpdate:modelValue":t[3]||=e=>z.value.email=e,placeholder:`Enter user's email address`,error:P(s)(`email`),required:``,label:`Email`},null,8,[`disabled`,`modelValue`,`error`]),z.value.email.length>0?(E(),b(`p`,mm,f(z.value.email.length)+`/255 characters `,1)):y(``,!0)]),_(`div`,null,[C(n,{type:`password`,maxlength:255,disabled:w.value,onBlur:t[4]||=()=>J(`password`),modelValue:z.value.password,"onUpdate:modelValue":t[5]||=e=>z.value.password=e,placeholder:`Enter user's password`,error:P(s)(`password`),required:``,label:`Password`},null,8,[`disabled`,`modelValue`,`error`]),t[13]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` Password should be at least 8 characters long `,-1)]),_(`div`,null,[t[15]||=_(`label`,{for:`role`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[S(` Role `),_(`span`,{class:`text-red-500`},`*`)],-1),j(_(`select`,{id:`role`,"onUpdate:modelValue":t[6]||=e=>z.value.role=e,disabled:w.value,onBlur:t[7]||=()=>J(`role`),class:F([ee.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},t[14]||=[x(`<option value="">Select a role</option><option value="super_admin">Super Admin</option><option value="admin">Admin</option><option value="salesman">Salesman</option><option value="warehouse_manager">Warehouse Manager</option>`,5)],42,hm),[[H,z.value.role]]),P(s)(`role`)?(E(),b(`p`,gm,f(P(s)(`role`)),1)):y(``,!0)]),_(`div`,null,[t[17]||=_(`label`,{for:`employee_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Employee (Optional) `,-1),j(_(`select`,{id:`employee_id`,"onUpdate:modelValue":t[8]||=e=>z.value.employee_id=e,disabled:w.value||M.value,onBlur:t[9]||=()=>P(l)(`employee_id`),class:F([B.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},[t[16]||=_(`option`,{value:``},`No employee assignment`,-1),(E(!0),b(G,null,D(I.value,e=>(E(),b(`option`,{key:e.id,value:e.id},f(e.department.name)+` | `+f(e.code)+` - `+f(e.name),9,vm))),128))],42,_m),[[H,z.value.employee_id]]),M.value?(E(),b(`p`,ym,` Loading employees... `)):P(s)(`employee_id`)?(E(),b(`p`,bm,f(P(s)(`employee_id`)),1)):(E(),b(`p`,xm,` Optionally link this user to an employee record `))]),_(`div`,Sm,[_(`div`,Cm,[j(_(`input`,{id:`is_active`,"onUpdate:modelValue":t[10]||=e=>z.value.is_active=e,type:`checkbox`,disabled:w.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,wm),[[V,z.value.is_active]])]),t[18]||=_(`div`,{class:`ml-3`},[_(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),_(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this user will be able to log in to the system `)],-1)]),_(`div`,Tm,[_(`button`,{type:`button`,onClick:X,disabled:w.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,Em),_(`button`,{type:`submit`,disabled:w.value||P(o)||!U.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[w.value?(E(),b(`div`,Om,t[19]||=[_(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),S(` Creating... `,-1)])):(E(),b(`span`,km,`Create User`))],8,Dm)])],32)])]),_(`div`,Am,[_(`div`,jm,[_(`div`,Mm,[C(P(i),{class:`h-5 w-5 text-blue-400`})]),t[20]||=x(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> User Roles &amp; Permissions </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400 space-y-2"><p><span class="font-medium">Super Admin:</span> Full system access and user management</p><p><span class="font-medium">Admin:</span> Administrative access with some restrictions</p><p><span class="font-medium">Salesman:</span> Sales-focused features and customer management</p><p><span class="font-medium">Warehouse Manager:</span> Inventory and warehouse operations</p></div></div>`,1)])])])]),C(pe,{modelValue:L.value,"onUpdate:modelValue":t[11]||=e=>L.value=e,title:`Role-Department Mismatch Warning`,size:`md`,"close-on-backdrop":!1,"close-on-escape":!1},{footer:A(()=>[_(`div`,{class:`flex justify-end space-x-3`},[_(`button`,{onClick:Z,type:`button`,class:`px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-400 dark:hover:bg-gray-700 transition-colors`},` Cancel `),_(`button`,{onClick:re,type:`button`,class:`px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors`},` Proceed Anyway `)])]),default:A(()=>[_(`div`,Nm,[_(`div`,Pm,[t[24]||=_(`div`,{class:`flex-shrink-0`},[_(`svg`,{class:`h-6 w-6 text-yellow-600 dark:text-yellow-400`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[_(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z`})])],-1),_(`div`,Fm,[R.value?(E(),b(`p`,Im,[t[21]||=S(` You are assigning a `,-1),_(`strong`,null,f(R.value.role.replace(`_`,` `).toUpperCase()),1),t[22]||=S(` role to an employee from the `,-1),_(`strong`,null,f(R.value.employee.department.name),1),t[23]||=S(` department. `,-1)])):y(``,!0)])]),R.value?(E(),b(`div`,Lm,[_(`p`,Rm,[_(`strong`,null,`Recommended departments for `+f(R.value.role.replace(`_`,` `))+`:`,1)]),_(`ul`,zm,[(E(!0),b(G,null,D(P(v)(R.value.role),e=>(E(),b(`li`,{key:e,class:`text-green-600 dark:text-green-400`},f(e),1))),128))]),t[25]||=_(`p`,{class:`mt-3 text-amber-600 dark:text-amber-400`},` Are you sure you want to proceed with this assignment? `,-1)])):y(``,!0)])]),_:1},8,[`modelValue`])],64)}}}),Vm=Bm;const Hm={class:`max-w-7xl px-4 sm:px-6 lg:px-8 py-8`},Um={class:`max-w-2xl`},Wm={class:`mb-8`},Gm={class:`flex items-center space-x-4 mb-2`},Km={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},qm={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Jm={class:`px-6 py-8`},Ym={key:0,class:`mt-1 text-xs text-gray-500`},Xm={key:0,class:`mt-1 text-xs text-gray-500`},Zm=[`disabled`],Qm={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},$m=[`disabled`],eh=[`value`],th={key:0,class:`mt-1 text-xs text-blue-600 dark:text-blue-400`},nh={key:1,class:`mt-1 text-sm text-red-600 dark:text-red-400`},rh={key:2,class:`mt-1 text-xs text-gray-500`},ih={class:`flex items-start`},ah={class:`flex items-center h-5`},oh=[`disabled`],sh={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},ch=[`disabled`],lh=[`disabled`],uh={key:0,class:`flex items-center justify-center`},dh={key:1},fh={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},ph={class:`flex flex-col items-center`},mh={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},hh={class:`flex`},gh={class:`flex-shrink-0`},_h={class:`space-y-4`},vh={class:`flex items-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg`},yh={class:`ml-3`},bh={key:0,class:`text-sm text-yellow-700 dark:text-yellow-300`},xh={key:0,class:`text-sm text-gray-600 dark:text-gray-400`},Sh={class:`mb-2`},Ch={class:`list-disc list-inside ml-4 space-y-1`};var wh=w({__name:`Edit`,props:{id:{},user:{}},emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=e,r=t,a=me(),{errors:o,hasErrors:s,getFieldError:l,validateUpdateRequest:u,clearFieldError:d,setServerErrors:p,clearErrors:m}=om(),{getRoleDepartmentMapping:v,checkRoleDepartmentMatch:w,getRecommendedDepartments:M}=Q();v();let I=N(!1),L=N(!1),R=N(!1),z=N([]),ee=N(!1),B=N(null),U=N({name:``,email:``,password:``,role:``,employee_id:void 0,is_active:!0}),K=N({name:``,email:``,password:``,role:``,employee_id:void 0,is_active:!0}),q=g(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return l(`role`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):I.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),J=g(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return l(`employee_id`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):I.value||R.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),Y=g(()=>U.value.name.trim().length>0&&U.value.email.trim().length>0&&U.value.role.trim().length>0&&U.value.name.length<=255&&U.value.email.length<=255&&(U.value.password===``||U.value.password.length>=8)),X=async()=>{try{R.value=!0;let e=await he.getUnassignedEmployees();if(U.value.employee_id){let t=n.user?.employee;t&&!e.find(e=>e.id===t.id)&&e.unshift({id:t.id,name:t.name,code:t.code,department:{name:t.department?.name}})}z.value=e}catch(e){console.error(`Error loading employees:`,e)}finally{R.value=!1}},te=async()=>{try{L.value=!0;let e=n.user||await a.fetchUser(n.id);e&&(U.value={name:e.name,email:e.email,password:``,role:e.role,employee_id:e.employee?.id,is_active:e.is_active},K.value={name:e.name,email:e.email,password:``,role:e.role,employee_id:e.employee?.id,is_active:e.is_active},m())}catch(e){console.error(`Error loading user:`,e)}finally{L.value=!1}},ne=async()=>{if(m(),u(U.value))try{I.value=!0;let e={name:U.value.name,email:U.value.email,role:U.value.role,employee_id:U.value.employee_id,is_active:U.value.is_active};U.value.password&&U.value.password.trim()!==``&&(e.password=U.value.password),await a.updateUser(n.id,e),K.value={...U.value},r(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&p(e.response.data.errors)}finally{I.value=!1}},re=()=>{r(`cancel`)},Z=()=>{r(`back`)},ie=()=>{if(!U.value.role||!U.value.employee_id)return;let e=z.value.find(e=>e.id===U.value.employee_id);e&&(w(U.value.role,e.department?.name||``)||(B.value={role:U.value.role,employee:e},ee.value=!0,U.value.employee_id=void 0))},ae=()=>{B.value&&(U.value.employee_id=B.value.employee.id,ee.value=!1,B.value=null)},$=()=>{ee.value=!1,B.value=null};return T(()=>{te(),X()}),k(()=>n.id,()=>{n.id&&te()}),k(()=>U.value.employee_id,e=>{e&&ie()}),k(()=>U.value.role,()=>{U.value.employee_id&&ie()}),(e,t)=>{let n=O(`Input`);return E(),b(G,null,[_(`div`,Hm,[_(`div`,Um,[_(`div`,Wm,[_(`div`,Gm,[_(`button`,{onClick:Z,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[C(P(h),{class:`w-5 h-5`})]),t[12]||=_(`div`,null,[_(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit User `),_(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update user information and permissions `)],-1)])]),L.value?(E(),b(`div`,Km,t[13]||=[_(`div`,{class:`flex items-center justify-center`},[_(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),_(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading user...`)],-1)])):U.value?(E(),b(`div`,qm,[_(`div`,Jm,[_(`form`,{onSubmit:W(ne,[`prevent`]),class:`space-y-6`},[_(`div`,null,[t[14]||=_(`label`,{for:`name`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[S(` Name `),_(`span`,{class:`text-red-500 ml-1`},`*`)],-1),C(n,{id:`name`,modelValue:U.value.name,"onUpdate:modelValue":t[0]||=e=>U.value.name=e,type:`text`,placeholder:`Enter user's full name`,disabled:I.value,error:P(l)(`name`),maxlength:255,required:``,onBlur:t[1]||=()=>P(d)(`name`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),U.value.name.length>0?(E(),b(`p`,Ym,f(U.value.name.length)+`/255 characters `,1)):y(``,!0)]),_(`div`,null,[t[15]||=_(`label`,{for:`email`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[S(` Email `),_(`span`,{class:`text-red-500 ml-1`},`*`)],-1),C(n,{id:`email`,modelValue:U.value.email,"onUpdate:modelValue":t[2]||=e=>U.value.email=e,type:`email`,placeholder:`Enter user's email address`,disabled:I.value,error:P(l)(`email`),maxlength:255,required:``,onBlur:t[3]||=()=>P(d)(`email`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),U.value.email.length>0?(E(),b(`p`,Xm,f(U.value.email.length)+`/255 characters `,1)):y(``,!0)]),_(`div`,null,[t[16]||=_(`label`,{for:`password`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Password `,-1),C(n,{id:`password`,modelValue:U.value.password,"onUpdate:modelValue":t[4]||=e=>U.value.password=e,type:`password`,placeholder:`Enter new password (leave blank to keep current)`,disabled:I.value,error:P(l)(`password`),maxlength:255,onBlur:t[5]||=()=>P(d)(`password`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),t[17]||=_(`p`,{class:`mt-1 text-xs text-gray-500`},` Leave blank to keep the current password. New password should be at least 8 characters long. `,-1)]),_(`div`,null,[t[19]||=_(`label`,{for:`role`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[S(` Role `),_(`span`,{class:`text-red-500`},`*`)],-1),j(_(`select`,{id:`role`,"onUpdate:modelValue":t[6]||=e=>U.value.role=e,disabled:I.value,onBlur:t[7]||=()=>P(d)(`role`),class:F([q.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},t[18]||=[x(`<option value="">Select a role</option><option value="super_admin">Super Admin</option><option value="admin">Admin</option><option value="salesman">Salesman</option><option value="warehouse_manager">Warehouse Manager</option>`,5)],42,Zm),[[H,U.value.role]]),P(l)(`role`)?(E(),b(`p`,Qm,f(P(l)(`role`)),1)):y(``,!0)]),_(`div`,null,[t[21]||=_(`label`,{for:`employee_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Employee (Optional) `,-1),j(_(`select`,{id:`employee_id`,"onUpdate:modelValue":t[8]||=e=>U.value.employee_id=e,disabled:I.value||R.value,onBlur:t[9]||=()=>P(d)(`employee_id`),class:F([J.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},[t[20]||=_(`option`,{value:``},`No employee assignment`,-1),(E(!0),b(G,null,D(z.value,e=>(E(),b(`option`,{key:e.id,value:e.id},f(e.department.name)+` | `+f(e.code)+` - `+f(e.name),9,eh))),128))],42,$m),[[H,U.value.employee_id]]),R.value?(E(),b(`p`,th,` Loading employees... `)):P(l)(`employee_id`)?(E(),b(`p`,nh,f(P(l)(`employee_id`)),1)):(E(),b(`p`,rh,` Optionally link this user to an employee record `))]),_(`div`,ih,[_(`div`,ah,[j(_(`input`,{id:`is_active`,"onUpdate:modelValue":t[10]||=e=>U.value.is_active=e,type:`checkbox`,disabled:I.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,oh),[[V,U.value.is_active]])]),t[22]||=_(`div`,{class:`ml-3`},[_(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),_(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this user will be able to log in to the system `)],-1)]),_(`div`,sh,[_(`button`,{type:`button`,onClick:re,disabled:I.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,ch),_(`button`,{type:`submit`,disabled:I.value||P(s)||!Y.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[I.value?(E(),b(`div`,uh,t[23]||=[_(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),S(` Updating... `,-1)])):(E(),b(`span`,dh,`Update User`))],8,lh)])],32)])])):(E(),b(`div`,fh,[_(`div`,ph,[C(P(c),{class:`w-12 h-12 text-red-400 mb-4`}),t[24]||=_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` User Not Found `,-1),t[25]||=_(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The user you're trying to edit could not be found. `,-1),_(`button`,{onClick:Z,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` ← Back to Users `)])])),U.value?(E(),b(`div`,mh,[_(`div`,hh,[_(`div`,gh,[C(P(i),{class:`h-5 w-5 text-blue-400`})]),t[26]||=x(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> User Roles &amp; Permissions </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400 space-y-2"><p><span class="font-medium">Super Admin:</span> Full system access and user management</p><p><span class="font-medium">Admin:</span> Administrative access with some restrictions</p><p><span class="font-medium">Salesman:</span> Sales-focused features and customer management</p><p><span class="font-medium">Warehouse Manager:</span> Inventory and warehouse operations</p></div></div>`,1)])])):y(``,!0)])]),C(pe,{modelValue:ee.value,"onUpdate:modelValue":t[11]||=e=>ee.value=e,title:`Role-Department Mismatch Warning`,size:`md`,"close-on-backdrop":!1,"close-on-escape":!1},{footer:A(()=>[_(`div`,{class:`flex justify-end space-x-3`},[_(`button`,{onClick:$,type:`button`,class:`px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-400 dark:hover:bg-gray-700 transition-colors`},` Cancel `),_(`button`,{onClick:ae,type:`button`,class:`px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors`},` Proceed Anyway `)])]),default:A(()=>[_(`div`,_h,[_(`div`,vh,[t[30]||=_(`div`,{class:`flex-shrink-0`},[_(`svg`,{class:`h-6 w-6 text-yellow-600 dark:text-yellow-400`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[_(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z`})])],-1),_(`div`,yh,[B.value?(E(),b(`p`,bh,[t[27]||=S(` You are assigning a `,-1),_(`strong`,null,f(B.value.role.replace(`_`,` `).toUpperCase()),1),t[28]||=S(` role to an employee from the `,-1),_(`strong`,null,f(B.value.employee.department.name),1),t[29]||=S(` department. `,-1)])):y(``,!0)])]),B.value?(E(),b(`div`,xh,[_(`p`,Sh,[_(`strong`,null,`Recommended departments for `+f(B.value.role.replace(`_`,` `))+`:`,1)]),_(`ul`,Ch,[(E(!0),b(G,null,D(P(M)(B.value.role),e=>(E(),b(`li`,{key:e,class:`text-green-600 dark:text-green-400`},f(e),1))),128))]),t[31]||=_(`p`,{class:`mt-3 text-amber-600 dark:text-amber-400`},` Are you sure you want to proceed with this assignment? `,-1)])):y(``,!0)])]),_:1},8,[`modelValue`])],64)}}}),Th=wh,Eh=class{baseUrl=`/setups/customers`;async importCustomers(e,t=!1){try{let n=new FormData;n.append(`file`,e),n.append(`update_existing`,t?`1`:`0`);let r=await z(`${this.baseUrl}/import`,n,{loadingMessage:`Importing customers...`,showSuccessNotification:!1,successMessage:`Customers imported successfully`});return r.data}catch(e){if(console.error(`Error importing customers setup:`,e),e.response&&e.response.status===422&&e.response.data)return e.response.data;throw e}}};const Dh=new Eh;var Oh=Dh;const kh={class:`space-y-6`},Ah={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`},jh={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-6 hover:shadow-lg transition-shadow duration-200`},Mh={class:`flex items-center justify-between mb-4`},Nh={class:`flex items-center`},Ph={class:`h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center`},Fh={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-6 opacity-60`},Ih={class:`flex items-center justify-between mb-4`},Lh={class:`flex items-center`},Rh={class:`h-12 w-12 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center`},zh={disabled:``,class:`w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-700 cursor-not-allowed`},Bh={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-6 opacity-60`},Vh={class:`flex items-center justify-between mb-4`},Hh={class:`flex items-center`},Uh={class:`h-12 w-12 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center`},Wh={disabled:``,class:`w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-700 cursor-not-allowed`};var Gh=w({__name:`IndexPage`,setup(e){let t=ee(),r=N(!1),i=N(!1),a=N(null),o=[`Download the template to see the required format`,`Required fields: customer name, email, phone, customer type, customer group`,`Optional fields: address, city, province, zone, payment term, credit limit`,`Ensure data is properly formatted (dates, numbers, etc.)`,`Maximum file size: 10MB`,`Check "Update existing records" to update customers if they already exist`],s=()=>{a.value=null},c=async()=>{try{t.info(`Template download will be available soon`,{title:`Coming Soon`})}catch{t.error(`Failed to download template`,{title:`Error`})}},l=async(e,n)=>{let r=[`text/csv`,`application/vnd.ms-excel`,`application/vnd.openxmlformats-officedocument.spreadsheetml.sheet`];if(!r.includes(e.type)&&!e.name.match(/\.(csv|xlsx|xls)$/)){t.error(`Please select a valid CSV or Excel file`,{title:`Invalid File Type`});return}let o=10*1024*1024;if(e.size>o){t.error(`File size exceeds 10MB limit`,{title:`File Too Large`});return}try{i.value=!0;let r=await Oh.importCustomers(e,n);if(r){a.value=r;let e=r.data?.total_imported||0,n=r.data?.total_updated||0,i=r.data?.total_errors||0;e>0||n>0?t.success(`Imported ${e}, Updated ${n}${i>0?`, ${i} errors`:``}`,{title:`Import Completed`}):i>0?t.warning(`Import completed with errors. Check the results for details.`,{title:`Import Completed`}):t.info(r.message||`Import completed`,{title:`Import Status`})}}catch(e){console.error(`Import error:`,e)}finally{i.value=!1}};return(e,t)=>(E(),b(`div`,kh,[t[8]||=_(`div`,{class:`flex flex-col sm:flex-row sm:items-center sm:justify-between`},[_(`div`,null,[_(`h1`,{class:`text-2xl font-bold text-gray-900 dark:text-white`},`Import Setup Data`),_(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` Import customers, suppliers, and other setup data from Excel or CSV files `)])],-1),_(`div`,Ah,[_(`div`,jh,[_(`div`,Mh,[_(`div`,Nh,[_(`div`,Ph,[C(P(J),{class:`h-6 w-6 text-blue-600 dark:text-blue-400`})]),t[2]||=_(`div`,{class:`ml-4`},[_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},` Customers `),_(`p`,{class:`text-sm text-gray-500 dark:text-gray-400`},` Import customer data `)],-1)])]),_(`button`,{onClick:t[0]||=e=>r.value=!0,class:`w-full inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`},[C(P(Y),{class:`h-4 w-4 mr-2`}),t[3]||=S(` Import Customers `,-1)])]),_(`div`,Fh,[_(`div`,Ih,[_(`div`,Lh,[_(`div`,Rh,[C(P(X),{class:`h-6 w-6 text-green-600 dark:text-green-400`})]),t[4]||=_(`div`,{class:`ml-4`},[_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},` Suppliers `),_(`p`,{class:`text-sm text-gray-500 dark:text-gray-400`},` Import supplier data `)],-1)])]),_(`button`,zh,[C(P(Y),{class:`h-4 w-4 mr-2`}),t[5]||=S(` Coming Soon `,-1)])]),_(`div`,Bh,[_(`div`,Vh,[_(`div`,Hh,[_(`div`,Uh,[C(P(n),{class:`h-6 w-6 text-purple-600 dark:text-purple-400`})]),t[6]||=_(`div`,{class:`ml-4`},[_(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},` Items `),_(`p`,{class:`text-sm text-gray-500 dark:text-gray-400`},` Import item data `)],-1)])]),_(`button`,Wh,[C(P(Y),{class:`h-4 w-4 mr-2`}),t[7]||=S(` Coming Soon `,-1)])])]),C(ge,{modelValue:r.value,"onUpdate:modelValue":t[1]||=e=>r.value=e,title:`Import Customers`,description:`Upload a CSV or Excel file to import customers into the system.`,"accept-types":`.csv,.xlsx,.xls`,"accept-types-label":`CSV or Excel files (max 10MB)`,instructions:o,loading:i.value,"import-result":a.value,onImport:l,onDownloadTemplate:c,onClearResult:s},null,8,[`modelValue`,`loading`,`import-result`])]))}}),Kh=Gh;const qh={class:`min-h-screen`};var Jh=w({__name:`TabPage`,setup(e){let t=N([{id:`company`,label:`Company`,icon:{type:`lucide`,name:`building`},color:`green`},{id:`users`,label:`Users`,icon:{type:`lucide`,name:`users`},color:`blue`},{id:`warehouses`,label:`Warehouses`,icon:{type:`lucide`,name:`warehouse`},color:`emerald`},{id:`taxs`,label:`Taxes`,icon:{type:`lucide`,name:`receipt`},color:`amber`},{id:`currencies`,label:`Currencies`,icon:{type:`lucide`,name:`coins`},color:`indigo`},{id:`countries`,label:`Countries`,icon:{type:`lucide`,name:`globe`},color:`purple`},{id:`import`,label:`Import`,icon:{type:`lucide`,name:`upload`},color:`teal`}]),n=N(`company`),r=N(`companyindex`),i=N(null),a=N(),o=N(),s=N(),c=N(),l=N(),u=N(),d=N(),f={users:{index:`userindex`,create:`usercreate`,edit:`useredit`},warehouses:{index:`warehouseindex`,create:`warehousecreate`,edit:`warehouseedit`},currencies:{index:`currencyindex`,create:`currencycreate`,edit:`currencyedit`},countries:{index:`countryindex`,create:`countrycreate`,edit:`countryedit`},taxcodes:{index:`taxcodeindex`,create:`taxcodecreate`,edit:`taxcodeedit`},company:{index:`companyindex`,create:`companyindex`,edit:`companyindex`},import:{index:`importindex`,create:`importindex`,edit:`importindex`}},p=e=>{let t=f[e];t&&(r.value=t.create)},m=(e,t)=>{let n=f[e];n&&(i.value={type:e,id:t.id,data:t},r.value=n.edit)},h=e=>{let t=f[e];t&&(r.value=t.index,i.value=null)},g=e=>{let t=f[e];if(t){r.value=t.index,i.value=null;let n={users:a,warehouses:o,currencies:s,countries:c,taxcodes:l,company:u,import:d},f=n[e];f?.value?.refreshData&&f.value.refreshData()}},_=(e,t)=>{n.value=e;let a={users:`userindex`,company:`companyindex`,warehouses:`warehouseindex`,currencies:`currencyindex`,countries:`countryindex`,taxs:`taxcodeindex`,import:`importindex`},o=a[e];o&&(r.value=o,i.value=null)};return(e,n)=>(E(),b(`div`,qh,[C(ye,{title:``,tabs:t.value,"default-tab":`company`,onTabChange:_},{company:A(()=>[r.value===`companyindex`?(E(),v(Ye,{key:0,ref_key:`companyIndexRef`,ref:u},null,512)):y(``,!0)]),users:A(()=>[r.value===`userindex`?(E(),v(am,{key:0,onCreate:n[0]||=e=>p(`users`),onEdit:n[1]||=e=>m(`users`,e),ref_key:`usersIndexRef`,ref:a},null,512)):y(``,!0),r.value===`usercreate`?(E(),v(Vm,{key:1,onBack:n[2]||=e=>h(`users`),onSuccess:n[3]||=e=>g(`users`),onCancel:n[4]||=e=>h(`users`)})):y(``,!0),r.value===`useredit`?(E(),v(Th,{key:2,onBack:n[5]||=e=>h(`users`),onSuccess:n[6]||=e=>g(`users`),onCancel:n[7]||=e=>h(`users`),id:i.value.id,user:i.value.data},null,8,[`id`,`user`])):y(``,!0)]),warehouses:A(()=>[r.value===`warehouseindex`?(E(),v(fn,{key:0,onCreate:n[8]||=e=>p(`warehouses`),onEdit:n[9]||=e=>m(`warehouses`,e),ref_key:`warehousesIndexRef`,ref:o},null,512)):y(``,!0),r.value===`warehousecreate`?(E(),v(Vn,{key:1,onBack:n[10]||=e=>h(`warehouses`),onSuccess:n[11]||=e=>g(`warehouses`),onCancel:n[12]||=e=>h(`warehouses`)})):y(``,!0),r.value===`warehouseedit`?(E(),v(vr,{key:2,onBack:n[13]||=e=>h(`warehouses`),onSuccess:n[14]||=e=>g(`warehouses`),onCancel:n[15]||=e=>h(`warehouses`),id:i.value.id,itemType:i.value.data},null,8,[`id`,`itemType`])):y(``,!0)]),taxs:A(()=>[r.value===`taxcodeindex`?(E(),v(wu,{key:0,onCreate:n[16]||=e=>p(`taxcodes`),onEdit:n[17]||=e=>m(`taxcodes`,e),ref_key:`taxCodesIndexRef`,ref:l},null,512)):y(``,!0),r.value===`taxcodecreate`?(E(),v(Sd,{key:1,onBack:n[18]||=e=>h(`taxcodes`),onSuccess:n[19]||=e=>g(`taxcodes`),onCancel:n[20]||=e=>h(`taxcodes`)})):y(``,!0),r.value===`taxcodeedit`?(E(),v(Tf,{key:2,onBack:n[21]||=e=>h(`taxcodes`),onSuccess:n[22]||=e=>g(`taxcodes`),onCancel:n[23]||=e=>h(`taxcodes`),id:i.value.id,taxCode:i.value.data},null,8,[`id`,`taxCode`])):y(``,!0)]),currencies:A(()=>[r.value===`currencyindex`?(E(),v(Ui,{key:0,onCreate:n[24]||=e=>p(`currencies`),onEdit:n[25]||=e=>m(`currencies`,e),ref_key:`currenciesIndexRef`,ref:s},null,512)):y(``,!0),r.value===`currencycreate`?(E(),v(Oa,{key:1,onBack:n[26]||=e=>h(`currencies`),onSuccess:n[27]||=e=>g(`currencies`),onCancel:n[28]||=e=>h(`currencies`)})):y(``,!0),r.value===`currencyedit`?(E(),v(go,{key:2,onBack:n[29]||=e=>h(`currencies`),onSuccess:n[30]||=e=>g(`currencies`),onCancel:n[31]||=e=>h(`currencies`),id:i.value.id,currency:i.value.data},null,8,[`id`,`currency`])):y(``,!0)]),countries:A(()=>[r.value===`countryindex`?(E(),v(Ts,{key:0,onCreate:n[32]||=e=>p(`countries`),onEdit:n[33]||=e=>m(`countries`,e),ref_key:`countriesIndexRef`,ref:c},null,512)):y(``,!0),r.value===`countrycreate`?(E(),v(_c,{key:1,onBack:n[34]||=e=>h(`countries`),onSuccess:n[35]||=e=>g(`countries`),onCancel:n[36]||=e=>h(`countries`)})):y(``,!0),r.value===`countryedit`?(E(),v(ul,{key:2,onBack:n[37]||=e=>h(`countries`),onSuccess:n[38]||=e=>g(`countries`),onCancel:n[39]||=e=>h(`countries`),id:i.value.id,country:i.value.data},null,8,[`id`,`country`])):y(``,!0)]),import:A(()=>[r.value===`importindex`?(E(),v(Kh,{key:0,ref_key:`importIndexRef`,ref:d},null,512)):y(``,!0)]),_:1},8,[`tabs`])]))}}),Yh=Jh;export{Yh as default};