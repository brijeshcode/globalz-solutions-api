import{B as e,a$ as t,a6 as ee,aB as n,aC as r,aP as i,aQ as a,aR as o,aS as s,aT as c,aV as te,aW as l,aX as ne,aZ as re,a_ as ie,aj as ae,an as u,ax as d,b6 as f,b9 as p,ba as m,bd as h,j as g,t as _}from"./index-C_SyKoIQ.js";import"./GlobalConfig-wPgXFcZ5.js";import"./tableUtils-ylneqlK-.js";import{c as v,d as oe}from"./common-qdv5PS_C.js";import{b as y}from"./currencyUtil-rn1oR5oW.js";import{b}from"./DataItems-UNSg6p0r.js";import{b as x,c as S}from"./SystemInfoCard-D7VI9YKS.js";import{b as C}from"./salaryStore-Bal7ta4a.js";const w={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},T={class:`mb-8`},E={class:`flex items-center justify-between`},D={class:`flex items-center space-x-4`},O={class:`text-3xl font-bold text-gray-900 dark:text-gray-100`},k={class:`text-sm text-gray-600 dark:text-gray-400 mt-1`},A={class:`flex items-center space-x-3`},j={key:0,class:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`},M={key:0,class:`flex items-center justify-center py-12`},N={key:1,class:`bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6`},P={class:`flex items-center`},F={class:`text-red-600 dark:text-red-400 mt-1`},I={key:2,class:`space-y-8`},L={class:`bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-6`},R={class:`flex items-center justify-between`},z={class:`flex`},B={class:`ml-4`},V={class:`text-lg font-semibold text-blue-900 dark:text-blue-100`},H={class:`text-sm text-blue-700 dark:text-blue-300 mt-1`},U={class:`text-xs text-blue-600 dark:text-blue-400 mt-1`},W={class:`text-right`},G={class:`text-3xl font-bold text-blue-900 dark:text-blue-100`},K={class:`font-medium text-blue-600 dark:text-blue-400`},se={class:`font-medium`},ce={class:`text-lg font-semibold text-gray-900 dark:text-gray-100`},le={class:`text-lg font-semibold text-gray-900 dark:text-gray-100`},ue={class:`text-lg font-semibold text-red-600 dark:text-red-400`},de={class:`text-lg font-semibold text-gray-900 dark:text-gray-100`},fe={class:`text-2xl font-bold text-green-600 dark:text-green-400`},pe={class:`bg-gray-50 dark:bg-gray-900/20 border border-gray-200 dark:border-gray-700 rounded-lg p-6`},me={class:`flex items-center justify-center space-x-2 text-sm text-gray-600 dark:text-gray-400`},he={class:`font-medium`},ge={class:`font-medium`},_e={class:`font-medium`},ve={class:`font-medium`},ye={class:`font-bold text-green-600 dark:text-green-400 text-lg`},be={class:`text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap bg-gray-50 dark:bg-gray-700 p-3 rounded-md`},xe={class:`text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap bg-gray-50 dark:bg-gray-700 p-3 rounded-md`},Se={key:3,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Ce={class:`text-center`};var q=ne({__name:`ViewPage`,setup(ne){let u=r(),q=n(),J=C(),{showError:we}=d(),Y=p(!0),X=p(null),Te=i(()=>Number(q.params.id)),Z=i(()=>J.currentSalary),Ee=[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],Q=e=>e>=1&&e<=12?Ee[e-1]:`Unknown`,De=async()=>{try{Y.value=!0,X.value=null,await J.fetchSalary(Te.value),J.currentSalary||(X.value=`Salary not found`)}catch(e){X.value=e.response?.data?.message||`Failed to load salary details`,we(X.value)}finally{Y.value=!1}},Oe=()=>{Z.value&&u.push({name:`employees.salaries.edit`,params:{id:Z.value.id}})},$=()=>{u.push({name:`employees.salaries.index`})};return re(()=>{De()}),ie(()=>{J.clearCurrentSalary()}),(n,r)=>(t(),c(`div`,w,[a(`div`,T,[a(`div`,E,[a(`div`,D,[a(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[l(m(ae),{class:`w-5 h-5`})]),a(`div`,null,[a(`h1`,O,h(Z.value?.employee?.name||`Salary Details`),1),a(`p`,k,` Salary Code: `+h(Z.value?.salary_code),1)])]),a(`div`,A,[Z.value?(t(),c(`span`,j,h(m(y)(Z.value.final_total)),1)):s(``,!0),Z.value?(t(),c(`button`,{key:1,onClick:Oe,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700`},[l(m(_),{class:`w-4 h-4 mr-2`}),r[0]||=te(` Edit `,-1)])):s(``,!0)])])]),Y.value?(t(),c(`div`,M,r[1]||=[a(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`},null,-1),a(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading salary details...`,-1)])):X.value?(t(),c(`div`,N,[a(`div`,P,[l(m(ee),{class:`w-6 h-6 text-red-500 mr-3`}),a(`div`,null,[r[2]||=a(`h3`,{class:`text-lg font-medium text-red-800 dark:text-red-300`},`Error Loading Salary`,-1),a(`p`,F,h(X.value),1)])])])):Z.value?(t(),c(`div`,I,[a(`div`,L,[a(`div`,R,[a(`div`,z,[l(m(e),{class:`h-8 w-8 text-blue-600 dark:text-blue-400`}),a(`div`,B,[a(`h3`,V,h(Q(Z.value.month))+` `+h(Z.value.year)+` Salary `,1),a(`p`,H,` Employee: `+h(Z.value.employee?.name)+` `+h(Z.value.employee?.code?`(${Z.value.employee.code})`:``),1),a(`p`,U,` Date: `+h(m(v)(Z.value.date)),1)])]),a(`div`,W,[r[3]||=a(`p`,{class:`text-sm text-blue-700 dark:text-blue-300`},`Final Total`,-1),a(`p`,G,h(m(y)(Z.value.final_total)),1)])])]),l(S,{title:`Salary Information`},{default:f(()=>[l(b,{label:`Salary Code`},{default:f(()=>[a(`span`,K,h(Z.value.salary_code),1)]),_:1}),l(b,{label:`Date`,value:m(v)(Z.value.date)},null,8,[`value`]),l(b,{label:`Employee`,value:Z.value.employee?.name},null,8,[`value`]),l(b,{label:`Employee Code`,value:Z.value.employee?.code},null,8,[`value`]),l(b,{label:`Period`},{default:f(()=>[a(`span`,se,h(Q(Z.value.month))+` `+h(Z.value.year),1)]),_:1}),l(b,{label:`Account`,value:Z.value.account?.name},null,8,[`value`])]),_:1}),l(S,{title:`Amount Breakdown`},{default:f(()=>[l(b,{label:`Sub Total`},{default:f(()=>[a(`span`,ce,h(m(y)(Z.value.sub_total)),1)]),_:1}),l(b,{label:`Base Salary`},{default:f(()=>[a(`span`,le,h(m(y)(Z.value.base_salary)),1)]),_:1}),l(b,{label:`Advance Payment`},{default:f(()=>[a(`span`,ue,` -`+h(m(y)(Z.value.advance_payment)),1)]),_:1}),l(b,{label:`Others`},{default:f(()=>[a(`span`,de,h(Z.value.others>=0?`+`:``)+h(m(y)(Z.value.others)),1)]),_:1}),l(b,{label:`Final Total`,class:`border-t border-gray-200 dark:border-gray-700 pt-4`},{default:f(()=>[a(`span`,fe,h(m(y)(Z.value.final_total)),1)]),_:1})]),_:1}),a(`div`,pe,[r[8]||=a(`h3`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-3`},`Calculation`,-1),a(`div`,me,[a(`span`,he,h(m(y)(Z.value.sub_total)),1),r[4]||=a(`span`,null,`-`,-1),a(`span`,ge,h(m(y)(Z.value.advance_payment)),1),r[5]||=a(`span`,null,`+`,-1),a(`span`,_e,h(m(y)(Z.value.others)),1),r[6]||=a(`span`,null,`+`,-1),a(`span`,ve,h(m(y)(Z.value.base_salary)),1),r[7]||=a(`span`,null,`=`,-1),a(`span`,ye,h(m(y)(Z.value.final_total)),1)])]),Z.value.others_note||Z.value.note?(t(),o(S,{key:0,title:`Notes`},{default:f(()=>[Z.value.others_note?(t(),o(b,{key:0,label:`Others Note`,class:`sm:col-span-3`},{default:f(()=>[a(`p`,be,h(Z.value.others_note),1)]),_:1})):s(``,!0),Z.value.note?(t(),o(b,{key:1,label:`General Notes`,class:`sm:col-span-3`},{default:f(()=>[a(`p`,xe,h(Z.value.note),1)]),_:1})):s(``,!0)]),_:1})):s(``,!0),l(x,{item:Z.value,formatDateTime:m(oe)},null,8,[`item`,`formatDateTime`])])):(t(),c(`div`,Se,[a(`div`,Ce,[l(m(g),{class:`h-12 w-12 mx-auto text-gray-400`}),r[9]||=a(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-2`},` Salary Not Found `,-1),r[10]||=a(`p`,{class:`text-gray-600 dark:text-gray-400 mb-4`},` The salary record you're looking for could not be found. `,-1),a(`button`,{onClick:$,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`},` Go Back `)])]))]))}}),J=u(q,[[`__scopeId`,`data-v-5886c47b`]]);export{J as default};