import{$ as e,A as t,F as n,N as r,_ as i,a4 as ee,a5 as a,a6 as o,a8 as te,a9 as s,aB as c,ab as l,ac as u,ae as d,af as f,ag as ne,ah as re,ai as p,aj as ie,al as ae,an as m,ao as h,at as oe,av as g,ax as _,ay as v,az as y,c as b,e as se,u as ce,y as le}from"./index-DAYJef18.js";import"./GlobalConfig-DCFE7Hv9.js";import{b as ue}from"./customersStore-h9nd7KgX.js";import"./tableUtils-DLdmKRvi.js";import{c as de,d as fe}from"./customerZonesStore-SxD5_Mif.js";import{b as pe,d as me,f as he}from"./customerPaymentTermsStore-COiIGmQq.js";import{b as ge}from"./useCustomerValidation-BQMySvJy.js";import{b as _e}from"./FileUpload-D9KLB2Cm.js";import{b as x}from"./documentService-csvTtVzj.js";import{b as ve}from"./common-DsZvguJR.js";const ye={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},be={class:`max-w-4xl mx-auto`},xe={class:`mb-8`},Se={class:`flex items-center space-x-4 mb-2`},Ce={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},we={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},S={class:`px-6 py-8`},C={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},w={key:0,class:`mt-1 text-xs text-gray-500`},T=[`disabled`],E=[`value`],D={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},O=[`disabled`],k=[`value`],Te={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ee={class:`flex items-start pt-6`},De={class:`flex items-center h-5`},Oe=[`disabled`],ke={class:`space-y-6`},Ae=[`disabled`],je={class:`flex justify-between items-center mt-1`},Me={key:0,class:`text-sm text-red-600 dark:text-red-400`},Ne={class:`text-xs text-gray-500 ml-auto`},Pe={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Fe=[`disabled`],Ie=[`value`],Le={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Re=[`disabled`],ze=[`value`],Be={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ve={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},He={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Ue={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},We=[`disabled`],Ge=[`value`],Ke={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},qe=[`disabled`],Je=[`value`],Ye={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Xe={class:`mb-6`},Ze=[`disabled`],Qe={class:`flex justify-between items-center mt-1`},$e={key:0,class:`text-sm text-red-600 dark:text-red-400`},et={class:`text-xs text-gray-500 ml-auto`},tt={key:0,class:`mb-4`},nt={class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},rt={class:`space-y-2`},it={class:`flex items-center space-x-3`},at={class:`flex-shrink-0`},ot={class:`text-sm font-medium text-gray-900 dark:text-gray-100`},st={class:`text-xs text-gray-500 dark:text-gray-400`},ct={class:`flex items-center space-x-2`},lt=[`onClick`,`disabled`],ut=[`onClick`,`disabled`],dt={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},ft=[`disabled`],pt=[`disabled`],mt={key:0,class:`flex items-center justify-center`},ht={key:1},gt={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},_t={class:`flex flex-col items-center`},vt={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},yt={class:`flex`},bt={class:`flex-shrink-0`};var A=ie({__name:`EditPage`,setup(ie){let A=e(),j=i(),M=l(()=>parseInt(j.params.id)),N=ue(),P=fe(),F=he(),I=me(),L=de(),R=pe(),{errors:xt,hasErrors:St,getFieldError:z,validateUpdateRequest:Ct,clearFieldError:B,setServerErrors:V,clearErrors:H}=ge(),U=_(!1),W=_(!1),G=_([]),K=_([]),q=_({name:``,customer_type_id:void 0,customer_group_id:void 0,customer_province_id:void 0,customer_zone_id:void 0,salesperson_id:void 0,customer_payment_term_id:void 0,opening_balance:void 0,credit_limit:void 0,address:``,city:``,telephone:``,mobile:``,email:``,url:``,discount_percentage:void 0,notes:``,attachments:[],documents:[],is_active:!0}),J=_({name:``,customer_type_id:void 0,customer_group_id:void 0,customer_province_id:void 0,customer_zone_id:void 0,salesperson_id:void 0,customer_payment_term_id:void 0,opening_balance:void 0,credit_limit:void 0,address:``,city:``,telephone:``,mobile:``,email:``,url:``,discount_percentage:void 0,notes:``,attachments:[],documents:[],is_active:!0}),wt=l(()=>P.customerTypes),Tt=l(()=>F.customerGroups),Et=l(()=>I.customerProvinces),Dt=l(()=>L.customerZones),Y=l(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return U.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),Ot=l(()=>q.value.name.trim().length>0&&q.value.name.length<=255);l(()=>G.value.length>0);let X=l(()=>(q.value.documents?.length||0)+G.value.length),Z=l(()=>q.value.documents||[]),Q=async()=>{try{W.value=!0;let e=await N.fetchCustomer(M.value);e&&(q.value={name:e.name,customer_type_id:e.customer_type?.id||void 0,customer_group_id:e.customer_group?.id||void 0,customer_province_id:e.customer_province?.id||void 0,customer_zone_id:e.customer_zone?.id||void 0,salesperson_id:e.salesperson_id||void 0,customer_payment_term_id:e.customer_payment_term?.id||void 0,opening_balance:e.opening_balance||void 0,credit_limit:e.credit_limit||void 0,address:e.address||``,city:e.city||``,telephone:e.telephone||``,mobile:e.mobile||``,email:e.email||``,url:e.url||``,discount_percentage:e.discount_percentage||void 0,notes:e.notes||``,attachments:e.attachments||[],documents:e.documents||[],is_active:e.is_active},J.value={...q.value},H())}catch(e){console.error(`Error loading customer:`,e)}finally{W.value=!1}},kt=e=>{if(X.value+e.length>10){B(`attachments`),V({attachments:[`Maximum 10 files allowed in total`]});return}B(`attachments`)},At=e=>{V({attachments:[e]})},jt=async(e,t)=>{let n=e.title||e.original_name,r=confirm(`Are you sure you want to delete "${n}"?\n\nThis action cannot be undone.`);if(r)try{U.value=!0,await x.delete(e.id),q.value.documents.splice(t,1),B(`attachments`)}catch(e){console.error(`Error deleting document:`,e)}finally{U.value=!1}},Mt=async e=>{try{await x.download(e)}catch(e){console.error(`Error downloading document:`,e)}},Nt=async()=>{if(H(),Ct(q.value))try{U.value=!0;let e;if(G.value.length>0){let t=new FormData;Object.entries(q.value).forEach(([e,n])=>{n!=null&&n!==``&&e!==`attachments`&&e!==`documents`&&(typeof n==`boolean`?t.append(e,n?`1`:`0`):t.append(e,n.toString()))}),G.value.forEach((e,n)=>{t.append(`documents[]`,e)}),e=t}else e={name:q.value.name,customer_type_id:q.value.customer_type_id,customer_group_id:q.value.customer_group_id,customer_province_id:q.value.customer_province_id,customer_zone_id:q.value.customer_zone_id,salesperson_id:q.value.salesperson_id,customer_payment_term_id:q.value.customer_payment_term_id,opening_balance:q.value.opening_balance,credit_limit:q.value.credit_limit,address:q.value.address,city:q.value.city,telephone:q.value.telephone,mobile:q.value.mobile,email:q.value.email,url:q.value.url,discount_percentage:q.value.discount_percentage,notes:q.value.notes,is_active:q.value.is_active};let t;e instanceof FormData?(e.append(`_method`,`PUT`),t=await N.updateCustomerWithFiles(M.value,e)):t=await N.updateCustomer(M.value,e),G.value=[],J.value={...q.value},A.push({name:`customer.index`})}catch(e){e.response?.status===422&&e.response?.data?.errors&&V(e.response.data.errors)}finally{U.value=!1}},Pt=()=>{A.push({name:`customer.index`})},$=()=>{A.push({name:`customer.index`})};return ae(async()=>{try{W.value=!0,await Promise.all([P.fetchCustomerTypes(),F.fetchCustomerGroups(),I.fetchCustomerProvinces(),L.fetchCustomerZones(),R.fetchCustomerPaymentTerms(),N.fetchSalespersons().then(e=>{K.value=e})])}catch(e){console.error(`Error loading dropdown data:`,e)}finally{W.value=!1}await Q()}),oe(()=>j.params.id,()=>{j.params.id&&Q()}),(e,i)=>(m(),f(`div`,ye,[u(`div`,be,[u(`div`,xe,[u(`div`,Se,[u(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[p(v(r),{class:`w-5 h-5`})]),i[36]||=u(`div`,null,[u(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Customer `),u(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update customer information and business details `)],-1)])]),W.value?(m(),f(`div`,Ce,i[37]||=[u(`div`,{class:`flex items-center justify-center`},[u(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),u(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading customer...`)],-1)])):q.value?(m(),f(`div`,we,[u(`div`,S,[u(`form`,{onSubmit:te(Nt,[`prevent`]),class:`space-y-8`},[u(`div`,null,[i[43]||=u(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Main Information `,-1),u(`div`,C,[u(`div`,null,[p(b,{id:`name`,modelValue:q.value.name,"onUpdate:modelValue":i[0]||=e=>q.value.name=e,label:`Customer Name`,type:`text`,placeholder:`Enter customer name`,disabled:U.value,error:v(z)(`name`),maxlength:255,required:``,onBlur:i[1]||=()=>v(B)(`name`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),q.value.name.length>0?(m(),f(`p`,w,c(q.value.name.length)+`/255 characters `,1)):d(``,!0)]),u(`div`,null,[i[39]||=u(`label`,{for:`customer_type_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Customer Type `,-1),g(u(`select`,{id:`customer_type_id`,"onUpdate:modelValue":i[2]||=e=>q.value.customer_type_id=e,disabled:U.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[3]||=()=>v(B)(`customer_type_id`)},[i[38]||=u(`option`,{value:``},`Select customer type`,-1),(m(!0),f(s,null,h(wt.value,e=>(m(),f(`option`,{key:e.id,value:e.id},c(e.name),9,E))),128))],40,T),[[a,q.value.customer_type_id]]),v(z)(`customer_type_id`)?(m(),f(`p`,D,c(v(z)(`customer_type_id`)),1)):d(``,!0)]),u(`div`,null,[i[41]||=u(`label`,{for:`customer_group_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Customer Group `,-1),g(u(`select`,{id:`customer_group_id`,"onUpdate:modelValue":i[4]||=e=>q.value.customer_group_id=e,disabled:U.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[5]||=()=>v(B)(`customer_group_id`)},[i[40]||=u(`option`,{value:``},`Select customer group`,-1),(m(!0),f(s,null,h(Tt.value,e=>(m(),f(`option`,{key:e.id,value:e.id},c(e.name),9,k))),128))],40,O),[[a,q.value.customer_group_id]]),v(z)(`customer_group_id`)?(m(),f(`p`,Te,c(v(z)(`customer_group_id`)),1)):d(``,!0)]),u(`div`,null,[p(b,{id:`opening_balance`,modelValue:q.value.opening_balance,"onUpdate:modelValue":i[6]||=e=>q.value.opening_balance=e,label:`Opening Balance`,type:`number`,step:`0.01`,placeholder:`0.00`,disabled:U.value,error:v(z)(`opening_balance`),onBlur:i[7]||=()=>v(B)(`opening_balance`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),u(`div`,null,[p(b,{id:`credit_limit`,modelValue:q.value.credit_limit,"onUpdate:modelValue":i[8]||=e=>q.value.credit_limit=e,label:`Credit Limit`,type:`number`,step:`0.01`,min:`0`,placeholder:`0.00`,disabled:U.value,error:v(z)(`credit_limit`),onBlur:i[9]||=()=>v(B)(`credit_limit`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),u(`div`,Ee,[u(`div`,De,[g(u(`input`,{id:`is_active`,"onUpdate:modelValue":i[10]||=e=>q.value.is_active=e,type:`checkbox`,disabled:U.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Oe),[[ee,q.value.is_active]])]),i[42]||=u(`div`,{class:`ml-3`},[u(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),u(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this customer will be available for transactions `)],-1)])])]),u(`div`,null,[i[49]||=u(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Contact Information `,-1),u(`div`,ke,[u(`div`,null,[i[44]||=u(`label`,{for:`address`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Address `,-1),g(u(`textarea`,{id:`address`,"onUpdate:modelValue":i[11]||=e=>q.value.address=e,rows:`3`,placeholder:`Enter customer address`,disabled:U.value,class:y([Y.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:i[12]||=()=>v(B)(`address`),maxlength:`1000`},null,42,Ae),[[o,q.value.address]]),u(`div`,je,[v(z)(`address`)?(m(),f(`p`,Me,c(v(z)(`address`)),1)):d(``,!0),u(`p`,Ne,c(q.value.address?.length||0)+`/1000 characters `,1)])]),u(`div`,Pe,[u(`div`,null,[p(b,{id:`city`,modelValue:q.value.city,"onUpdate:modelValue":i[13]||=e=>q.value.city=e,label:`City`,type:`text`,placeholder:`Enter city name`,disabled:U.value,error:v(z)(`city`),maxlength:255,onBlur:i[14]||=()=>v(B)(`city`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),u(`div`,null,[i[46]||=u(`label`,{for:`customer_province_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Province `,-1),g(u(`select`,{id:`customer_province_id`,"onUpdate:modelValue":i[15]||=e=>q.value.customer_province_id=e,disabled:U.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[16]||=()=>v(B)(`customer_province_id`)},[i[45]||=u(`option`,{value:``},`Select province`,-1),(m(!0),f(s,null,h(Et.value,e=>(m(),f(`option`,{key:e.id,value:e.id},c(e.name),9,Ie))),128))],40,Fe),[[a,q.value.customer_province_id]]),v(z)(`customer_province_id`)?(m(),f(`p`,Le,c(v(z)(`customer_province_id`)),1)):d(``,!0)])]),u(`div`,null,[i[48]||=u(`label`,{for:`customer_zone_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Customer Zone `,-1),g(u(`select`,{id:`customer_zone_id`,"onUpdate:modelValue":i[17]||=e=>q.value.customer_zone_id=e,disabled:U.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[18]||=()=>v(B)(`customer_zone_id`)},[i[47]||=u(`option`,{value:``},`Select zone`,-1),(m(!0),f(s,null,h(Dt.value,e=>(m(),f(`option`,{key:e.id,value:e.id},c(e.name),9,ze))),128))],40,Re),[[a,q.value.customer_zone_id]]),v(z)(`customer_zone_id`)?(m(),f(`p`,Be,c(v(z)(`customer_zone_id`)),1)):d(``,!0)]),u(`div`,Ve,[u(`div`,null,[p(b,{id:`telephone`,modelValue:q.value.telephone,"onUpdate:modelValue":i[19]||=e=>q.value.telephone=e,label:`Phone`,type:`tel`,placeholder:`Enter telephone number`,disabled:U.value,error:v(z)(`telephone`),maxlength:20,onBlur:i[20]||=()=>v(B)(`telephone`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),u(`div`,null,[p(b,{id:`mobile`,modelValue:q.value.mobile,"onUpdate:modelValue":i[21]||=e=>q.value.mobile=e,label:`Mobile`,type:`tel`,placeholder:`Enter mobile number`,disabled:U.value,error:v(z)(`mobile`),maxlength:20,onBlur:i[22]||=()=>v(B)(`mobile`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])]),u(`div`,He,[u(`div`,null,[p(b,{id:`email`,modelValue:q.value.email,"onUpdate:modelValue":i[23]||=e=>q.value.email=e,label:`Email`,type:`email`,placeholder:`Enter email address`,disabled:U.value,error:v(z)(`email`),maxlength:255,onBlur:i[24]||=()=>v(B)(`email`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),u(`div`,null,[p(b,{id:`url`,modelValue:q.value.url,"onUpdate:modelValue":i[25]||=e=>q.value.url=e,label:`Website`,type:`text`,placeholder:`Enter url URL`,disabled:U.value,error:v(z)(`url`),maxlength:255,onBlur:i[26]||=()=>v(B)(`url`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])])])]),u(`div`,null,[i[54]||=u(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Sales Information `,-1),u(`div`,Ue,[u(`div`,null,[i[51]||=u(`label`,{for:`salesperson_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Salesperson `,-1),g(u(`select`,{id:`salesperson_id`,"onUpdate:modelValue":i[27]||=e=>q.value.salesperson_id=e,disabled:U.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[28]||=()=>v(B)(`salesperson_id`)},[i[50]||=u(`option`,{value:``},`Select salesperson`,-1),(m(!0),f(s,null,h(K.value,e=>(m(),f(`option`,{key:e.id,value:e.id},c(e.name)+` (`+c(e.code)+`) `,9,Ge))),128))],40,We),[[a,q.value.salesperson_id]]),v(z)(`salesperson_id`)?(m(),f(`p`,Ke,c(v(z)(`salesperson_id`)),1)):d(``,!0)]),u(`div`,null,[i[53]||=u(`label`,{for:`customer_payment_term_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Payment Term `,-1),g(u(`select`,{id:`customer_payment_term_id`,"onUpdate:modelValue":i[29]||=e=>q.value.customer_payment_term_id=e,disabled:U.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[30]||=()=>v(B)(`customer_payment_term_id`)},[i[52]||=u(`option`,{value:``},`Select payment term`,-1),(m(!0),f(s,null,h(v(R).customerPaymentTerms,e=>(m(),f(`option`,{key:e.id,value:e.id},c(e.name),9,Je))),128))],40,qe),[[a,q.value.customer_payment_term_id]]),v(z)(`customer_payment_term_id`)?(m(),f(`p`,Ye,c(v(z)(`customer_payment_term_id`)),1)):d(``,!0)]),u(`div`,null,[p(b,{id:`discount_percentage`,modelValue:q.value.discount_percentage,"onUpdate:modelValue":i[31]||=e=>q.value.discount_percentage=e,label:`Discount Percentage (%)`,type:`number`,step:`0.01`,min:`0`,max:`100`,placeholder:`0.00`,disabled:U.value,error:v(z)(`discount_percentage`),onBlur:i[32]||=()=>v(B)(`discount_percentage`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])])]),u(`div`,null,[i[57]||=u(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Additional Information `,-1),u(`div`,Xe,[i[55]||=u(`label`,{for:`notes`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Notes `,-1),g(u(`textarea`,{id:`notes`,"onUpdate:modelValue":i[33]||=e=>q.value.notes=e,rows:`4`,placeholder:`Enter additional notes about this customer (optional)`,disabled:U.value,class:y([Y.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:i[34]||=()=>v(B)(`notes`),maxlength:`2000`},null,42,Ze),[[o,q.value.notes]]),u(`div`,Qe,[v(z)(`notes`)?(m(),f(`p`,$e,c(v(z)(`notes`)),1)):d(``,!0),u(`p`,et,c(q.value.notes?.length||0)+`/2000 characters `,1)])]),u(`div`,null,[i[56]||=u(`label`,{for:`attachments`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Attachments `,-1),Z.value.length>0?(m(),f(`div`,tt,[u(`h4`,nt,`Current Files (`+c(Z.value.length)+`)`,1),u(`div`,rt,[(m(!0),f(s,null,h(Z.value,(e,n)=>(m(),f(`div`,{key:e.id,class:`flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md`},[u(`div`,it,[u(`div`,at,[p(v(le),{class:`h-5 w-5 text-gray-400`})]),u(`div`,null,[u(`p`,ot,c(e.title||e.original_name),1),u(`p`,st,c(e.file_size_human)+` - `+c(v(ve)(e.created_at)),1)])]),u(`div`,ct,[u(`button`,{type:`button`,onClick:t=>Mt(e),disabled:U.value,class:`text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 disabled:opacity-50`,title:`Download file`},[p(v(t),{class:`h-4 w-4`})],8,lt),u(`button`,{type:`button`,onClick:t=>jt(e,n),disabled:U.value,class:`text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 disabled:opacity-50`,title:`Delete file`},[p(v(se),{class:`h-4 w-4`})],8,ut)])]))),128))])])):d(``,!0),p(_e,{modelValue:G.value,"onUpdate:modelValue":i[35]||=e=>G.value=e,"max-files":10,"max-size":10*1024*1024,disabled:U.value,accept:`.pdf,.jpg,.png`,onChange:kt,onError:At},null,8,[`modelValue`,`disabled`])])]),u(`div`,dt,[u(`button`,{type:`button`,onClick:Pt,disabled:U.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,ft),u(`button`,{type:`submit`,disabled:U.value||v(St)||!Ot.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[U.value?(m(),f(`div`,mt,i[58]||=[u(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),re(` Updating... `,-1)])):(m(),f(`span`,ht,`Update Customer`))],8,pt)])],32)])])):(m(),f(`div`,gt,[u(`div`,_t,[p(v(n),{class:`w-12 h-12 text-red-400 mb-4`}),i[59]||=u(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Customer Not Found `,-1),i[60]||=u(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The customer you're trying to edit could not be found. `,-1),u(`button`,{onClick:$,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` ← Back to Customers `)])])),q.value?(m(),f(`div`,vt,[u(`div`,yt,[u(`div`,bt,[p(v(ce),{class:`h-5 w-5 text-blue-400`})]),i[61]||=ne(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Customer Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update the customer details carefully as this information is used for: </p><ul class="list-disc list-inside space-y-1"><li>Sales orders and invoicing</li><li>Credit limit management and monitoring</li><li>Contact management and communication</li><li>Sales performance tracking</li></ul></div></div>`,1)])])):d(``,!0)])]))}}),j=A;export{j as default};