import{a$ as e,aG as t,aN as n,aP as r,aQ as i,aS as a,aT as o,aV as s,aX as c,at as l,b0 as u,b7 as d,b9 as f,bb as p,bc as m,bd as h}from"./index-CMapNz1K.js";import{b as g}from"./currencyUtil-CkSyUQEZ.js";var _=class{baseUrl=`/employee/business`;async getMonthlyCommission(e){try{let t=this.buildQueryParams(e),n=await l(`${this.baseUrl}/monthly/commission?${t}`,{loadingMessage:`Loading monthly commission...`,showLoading:!0});return n.data.data}catch(e){throw console.error(`Error fetching monthly commission:`,e),e}}async getEmployeeMonthlyCommission(e){try{let t=this.buildQueryParams(e),n=await l(`${this.baseUrl}/my-monthly/commission?${t}`,{loadingMessage:`Loading your monthly commission...`,showLoading:!0});return n.data.data}catch(e){throw console.error(`Error fetching employee monthly commission:`,e),e}}buildQueryParams(e){if(!e)return``;let t=new URLSearchParams;return Object.entries(e).forEach(([e,n])=>{n!=null&&n!==``&&t.append(e,String(n))}),t.toString()}};const v=new _,y={key:0,class:`rounded-lg shadow-md overflow-hidden`},b={class:`header p-2 flex justify-between`},x={class:`mr-4`},S={key:0,class:`overflow-x-auto`},C={class:`min-w-full border border-gray-300 dark:border-gray-600`},w={class:`bg-gray-100 dark:bg-gray-700 border-b-2 border-gray-300 dark:border-gray-600`},T={key:0,class:`px-3 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-300 dark:border-gray-600`},E={key:1,class:`px-3 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-300 dark:border-gray-600`},D={class:`bg-white dark:bg-gray-800`},O={class:`px-3 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white capitalize border-r border-gray-200 dark:border-gray-700`},k={class:`px-3 py-3 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700`},A={class:`px-3 py-3 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700`},j={key:0,class:`px-3 py-3 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700`},M={key:1,class:`px-3 py-3 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700`},N={class:`flex items-center`},P={class:`mr-2`},F={class:`w-20 bg-gray-200 rounded-full h-2 dark:bg-gray-700`},ee={class:`px-3 py-3 whitespace-nowrap text-sm text-gray-600 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700`},I={class:`px-3 py-3 whitespace-nowrap text-sm font-semibold text-green-600 dark:text-green-400`},L={class:`bg-gray-100 dark:bg-gray-700 border-t-2 border-gray-300 dark:border-gray-600`},R=[`colspan`],z={class:`px-3 py-4 whitespace-nowrap text-sm font-bold text-green-600 dark:text-green-400`},B={key:1,class:`text-center text-gray-500 dark:text-gray-400 py-8`};var V=c({__name:`MontlyCommissionBreakout`,props:{commissionData:{}},setup(c){let l=f({base_amount:!1,progress:!1}),p=r(()=>{let e=4;return l.value.base_amount&&e++,l.value.progress&&e++,e}),_=e=>e==null?`-`:g(e,!0);return(r,c)=>r.commissionData?(e(),o(`div`,y,[i(`div`,b,[c[4]||=i(`h2`,{class:`text-xl font-semibold mb-4 text-gray-900 dark:text-white`},`Commission Breakdown`,-1),i(`div`,null,[i(`label`,x,[d(i(`input`,{type:`checkbox`,"onUpdate:modelValue":c[0]||=e=>l.value.base_amount=e,class:`mr-1`},null,512),[[t,l.value.base_amount]]),c[2]||=s(` Base Amount `,-1)]),i(`label`,null,[d(i(`input`,{type:`checkbox`,"onUpdate:modelValue":c[1]||=e=>l.value.progress=e,class:`mr-1`},null,512),[[t,l.value.progress]]),c[3]||=s(` Progress `,-1)])])]),r.commissionData.commissions&&r.commissionData.commissions.length>0?(e(),o(`div`,S,[i(`table`,C,[i(`thead`,w,[i(`tr`,null,[c[5]||=i(`th`,{class:`px-3 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-300 dark:border-gray-600`},`Label`,-1),c[6]||=i(`th`,{class:`px-3 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-300 dark:border-gray-600`},`Range`,-1),c[7]||=i(`th`,{class:`px-3 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-300 dark:border-gray-600`},`Percent`,-1),l.value.base_amount?(e(),o(`th`,T,`Base Amount`)):a(``,!0),l.value.progress?(e(),o(`th`,E,`Progress`)):a(``,!0),c[8]||=i(`th`,{class:`px-3 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider border-r border-gray-300 dark:border-gray-600`},`Dynamic%`,-1),c[9]||=i(`th`,{class:`px-3 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider`},`Commission`,-1)])]),i(`tbody`,D,[(e(!0),o(n,null,u(r.commissionData.commissions,t=>(e(),o(`tr`,{key:t.rule_id,class:`border-b border-gray-200 dark:border-gray-700 hover:bg-blue-50 dark:hover:bg-gray-700 transition-colors duration-150 cursor-pointer`},[i(`td`,O,h(t.commission_label),1),i(`td`,k,h(_(t.minimum_amount))+` - `+h(_(t.maximum_amount)),1),i(`td`,A,h(t.percent)+`%`,1),l.value.base_amount?(e(),o(`td`,j,h(_(t.base_amount)),1)):a(``,!0),l.value.progress?(e(),o(`td`,M,[i(`div`,N,[i(`span`,P,h(t.achievement_percent.toFixed(2))+`%`,1),i(`div`,F,[i(`div`,{class:`bg-blue-600 dark:bg-blue-500 h-2 rounded-full`,style:m({width:Math.min(t.achievement_percent,100)+`%`})},null,4)])])])):a(``,!0),i(`td`,ee,h(t.percent_commission)+`%`,1),i(`td`,I,h(_(t.commission_amount)),1)]))),128))]),i(`tfoot`,L,[i(`tr`,null,[i(`td`,{colspan:p.value,class:`px-3 py-4 text-right text-sm font-semibold text-gray-900 dark:text-white border-r border-gray-300 dark:border-gray-600`},`Total Commission:`,8,R),i(`td`,z,h(_(r.commissionData.total_commission)),1)])])])])):(e(),o(`div`,B,c[10]||=[i(`p`,null,`No commission rules applied for this period.`,-1)]))])):a(``,!0)}}),H=V;const U={key:0,class:`rounded-lg shadow-md overflow-hidden`},W={key:0,class:`overflow-x-auto`},G={class:`min-w-full border border-gray-300 dark:border-gray-600`},K={class:`bg-white dark:bg-gray-800`},q={class:`px-3 py-2 whitespace-nowrap text-center text-sm font-medium text-gray-900 dark:text-white border-r border-gray-200 dark:border-gray-700`},J={class:`px-3 py-2 whitespace-nowrap text-center text-sm text-gray-900 dark:text-white bg-green-50/50 dark:bg-green-900/10 border-r border-gray-200 dark:border-gray-700`},Y={class:`px-3 py-2 whitespace-nowrap text-right text-sm text-gray-600 dark:text-gray-300 bg-green-50/50 dark:bg-green-900/10 border-r border-gray-200 dark:border-gray-700`},X={class:`px-3 py-2 whitespace-nowrap text-right text-sm text-gray-600 dark:text-gray-300 bg-red-50/50 dark:bg-red-900/10 border-r border-gray-200 dark:border-gray-700`},Z={class:`px-3 py-2 whitespace-nowrap text-right text-sm text-gray-600 dark:text-gray-300 bg-orange-50/50 dark:bg-orange-900/10`},Q={class:`bg-gray-100 dark:bg-gray-700 border-t-2 border-gray-300 dark:border-gray-600`},$={class:`px-3 py-4 text-center text-sm font-bold text-gray-900 dark:text-white border-r border-gray-300 dark:border-gray-600`},te={class:`px-3 py-4 text-right text-sm font-bold text-gray-900 dark:text-white border-r border-gray-300 dark:border-gray-600`},ne={class:`px-3 py-4 text-right text-sm font-bold text-gray-900 dark:text-white border-r border-gray-300 dark:border-gray-600`},re={class:`px-3 py-4 text-right text-sm font-bold text-gray-900 dark:text-white`},ie={key:1,class:`text-center text-gray-500 dark:text-gray-400 py-8`};var ae=c({__name:`EmployeeDailyBusinessBreadDown`,props:{commissionData:{}},setup(t){let s=t,c=new Date().getDate(),l=e=>{let t=new Date,n=t.getMonth()+1,r=t.getFullYear();return e===c&&s.commissionData.business_summary.month===n&&s.commissionData.business_summary.year===r},d=r(()=>s.commissionData.daily_business.reduce((e,t)=>e+t.invoice_count,0));return(t,r)=>t.commissionData?(e(),o(`div`,U,[r[3]||=i(`h2`,{class:`text-xl font-semibold mb-4 text-gray-900 dark:text-white`},`Daily Business`,-1),t.commissionData.daily_business&&t.commissionData.daily_business.length>0?(e(),o(`div`,W,[i(`table`,G,[r[1]||=i(`thead`,{class:`bg-gray-100 dark:bg-gray-700 border-b-2 border-gray-300 dark:border-gray-600`},[i(`tr`,null,[i(`th`,{class:`px-3 py-3 text-center text-xs font-bold text-gray-700 dark:text-gray-300 border-r border-gray-300 dark:border-gray-600 uppercase tracking-wider`},`Day`),i(`th`,{class:`px-3 py-3 text-center text-xs font-bold text-green-700 dark:text-green-300 bg-green-50 dark:bg-green-900/20 border-r border-gray-300 dark:border-gray-600 uppercase tracking-wider`},`# Invoice`),i(`th`,{class:`px-3 py-3 text-right text-xs font-bold text-green-700 dark:text-green-300 bg-green-50 dark:bg-green-900/20 border-r border-gray-300 dark:border-gray-600 uppercase tracking-wider`},`Sales`),i(`th`,{class:`px-3 py-3 text-right text-xs font-bold text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 border-r border-gray-300 dark:border-gray-600 uppercase tracking-wider`},`Returns`),i(`th`,{class:`px-3 py-3 text-right text-xs font-bold text-orange-700 dark:text-orange-300 bg-orange-50 dark:bg-orange-900/20 uppercase tracking-wider`},`Collection`)])],-1),i(`tbody`,K,[(e(!0),o(n,null,u(t.commissionData.daily_business,t=>(e(),o(`tr`,{key:t.day,class:p([`border-b border-gray-200 dark:border-gray-700 hover:bg-blue-50 dark:hover:bg-gray-700 transition-colors duration-150 cursor-pointer`,l(t.day)?`bg-yellow-100 dark:bg-yellow-900/30 font-semibold`:``])},[i(`td`,q,h(t.day),1),i(`td`,J,h(t.invoice_count),1),i(`td`,Y,h(t.sales),1),i(`td`,X,h(t.returns),1),i(`td`,Z,h(t.payments),1)],2))),128))]),i(`tfoot`,Q,[i(`tr`,null,[r[0]||=i(`td`,{class:`px-3 py-4 text-center text-sm font-bold text-gray-900 dark:text-white border-r border-gray-300 dark:border-gray-600`},`Total`,-1),i(`td`,$,h(d.value),1),i(`td`,te,h(t.commissionData.business_summary.total_sales),1),i(`td`,ne,h(t.commissionData.business_summary.total_returns),1),i(`td`,re,h(t.commissionData.business_summary.total_payments),1)])])])])):(e(),o(`div`,ie,r[2]||=[i(`p`,null,`No daily business data available for this period.`,-1)]))])):a(``,!0)}}),oe=ae;export{oe as b,H as c,v as d};