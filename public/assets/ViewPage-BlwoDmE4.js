import{Y as e,a2 as t,a8 as n,aH as r,aJ as i,aK as a,aM as o,aN as s,aP as c,aQ as l,aR as u,aT as d,aV as f,aW as p,ae as ee,av as te,aw as ne,b0 as m,b3 as h,b4 as g,b5 as _,b7 as v,q as re}from"./index-CZa1HfCv.js";import{b as ie}from"./useAuth-BrCftVS8.js";import"./GlobalConfig-Dep5CV3r.js";import{c as y}from"./accountsStore-CcocEeTf.js";import"./tableUtils-BFc6-TYF.js";import{d as b}from"./common-DNevajli.js";import{b as x}from"./currencyUtil-ClrPE82R.js";import{b as S}from"./DataItems-DQIn_OTv.js";import{b as C,c as w}from"./SystemInfoCard-6dneG9cB.js";const T={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},E={class:`mb-8`},D={class:`flex items-center justify-between`},O={class:`flex items-center space-x-4`},k={class:`text-3xl font-bold text-gray-900 dark:text-gray-100`},A={class:`text-sm text-gray-600 dark:text-gray-400 mt-1`},j={class:`flex items-center space-x-3`},M={key:0,class:`flex items-center justify-center py-12`},N={key:1,class:`bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6`},P={class:`flex items-center`},F={class:`text-red-600 dark:text-red-400 mt-1`},I={key:2,class:`space-y-8`},L={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},ae={class:`overflow-hidden`},R={class:`divide-y divide-gray-200 dark:divide-gray-700`},z={class:`flex items-center justify-between`},B={class:`flex items-center`},V={class:`flex-shrink-0`},H={class:`h-8 w-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center`},U={class:`ml-4`},W={class:`text-sm font-medium text-gray-900 dark:text-gray-100`},G={class:`text-sm text-gray-500 dark:text-gray-400`},K={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},q={class:`px-6 py-8 text-center`};var J=u({__name:`ViewPage`,setup(u){let J=ne(),Y=te(),oe=i(()=>parseInt(Y.params.id)),se=y(),{isSuperAdmin:ce}=ie(),X=h(null),Z=h(!1),Q=h(``),le=h(null),$=h([]),ue=async()=>{try{Z.value=!0,Q.value=``,X.value=await se.fetchAccount(oe.value),X.value&&await Promise.all([de(),fe()])}catch(e){Q.value=e.message||`Failed to load account details`,console.error(`Error loading account:`,e)}finally{Z.value=!1}},de=async()=>{try{le.value={transaction_count:0,current_balance:0,last_activity:null}}catch(e){console.error(`Error loading account stats:`,e)}},fe=async()=>{try{$.value=[]}catch(e){console.error(`Error loading recent transactions:`,e)}},pe=()=>{J.push({name:`accounts.index`})},me=()=>{X.value&&J.push({name:`accounts.edit`,params:{id:X.value.id.toString()}})},he=()=>{X.value&&J.push({name:`transactions.index`,query:{account_id:X.value.id}})};return d(()=>{ue()}),(i,u)=>(f(),s(`div`,T,[a(`div`,E,[a(`div`,D,[a(`div`,O,[a(`button`,{onClick:pe,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[l(g(ee),{class:`w-5 h-5`})]),a(`div`,null,[a(`h1`,k,v(X.value?.name||`Account Details`),1),a(`p`,A,` Account ID: `+v(X.value?.id),1)])]),a(`div`,j,[X.value?(f(),s(`span`,{key:0,class:_([`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium`,X.value?.is_active?`bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`:`bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300`])},v(X.value?.is_active?`Active`:`Inactive`),3)):o(``,!0),g(ce)?(f(),s(`button`,{key:1,onClick:me,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700`},[l(g(re),{class:`w-4 h-4 mr-2`}),u[0]||=c(` Edit `,-1)])):o(``,!0)])])]),Z.value?(f(),s(`div`,M,u[1]||=[a(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`},null,-1),a(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading account details...`,-1)])):Q.value?(f(),s(`div`,N,[a(`div`,P,[l(g(t),{class:`w-6 h-6 text-red-500 mr-3`}),a(`div`,null,[u[2]||=a(`h3`,{class:`text-lg font-medium text-red-800 dark:text-red-300`},`Error Loading Account`,-1),a(`p`,F,v(Q.value),1)])])])):X.value?(f(),s(`div`,I,[l(w,{title:`General Information`},{default:m(()=>[l(S,{label:`Account Name`,value:X.value.name},null,8,[`value`]),l(S,{label:`Account Type`,value:X.value.account_type?.name},null,8,[`value`]),l(S,{label:`Currency`,value:X.value.currency?.name},null,8,[`value`]),l(S,{label:`Starting balance`,value:g(x)(X.value.opening_balance,!0,X.value.currency)},null,8,[`value`]),l(S,{label:`Status`},{default:m(()=>[a(`span`,{class:_([`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium`,X.value.is_active?`bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`:`bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300`])},v(X.value.is_active?`Active`:`Inactive`),3)]),_:1}),l(S,{label:`Description`,value:X.value.description},null,8,[`value`])]),_:1}),l(C,{item:X.value,formatDateTime:g(b)},null,8,[`item`,`formatDateTime`]),o(``,!0),$.value&&$.value.length>0?(f(),s(`div`,L,[a(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[a(`div`,{class:`flex items-center justify-between`},[u[7]||=a(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` Recent Transactions `,-1),a(`button`,{onClick:he,class:`text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` View All ï¿½ `)])]),a(`div`,ae,[a(`ul`,R,[(f(!0),s(r,null,p($.value,t=>(f(),s(`li`,{key:t.id,class:`px-6 py-4`},[a(`div`,z,[a(`div`,B,[a(`div`,V,[a(`div`,H,[l(g(e),{class:`h-4 w-4 text-indigo-600 dark:text-indigo-400`})])]),a(`div`,U,[a(`p`,W,v(t.description||`Transaction`),1),a(`p`,G,v(g(b)(t.date)),1)])]),a(`div`,{class:_([`text-sm font-medium`,t.amount>=0?`text-green-600 dark:text-green-400`:`text-red-600 dark:text-red-400`])},v(t.amount>=0?`+`:``)+v(g(x)(t.amount)),3)])]))),128))])])])):(f(),s(`div`,K,[u[10]||=a(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[a(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` Recent Transactions `)],-1),a(`div`,q,[l(g(n),{class:`mx-auto h-12 w-12 text-gray-400`}),u[8]||=a(`h3`,{class:`mt-4 text-sm font-medium text-gray-900 dark:text-gray-100`},`No transactions`,-1),u[9]||=a(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},` No transactions have been recorded for this account. `,-1)])]))])):o(``,!0)]))}}),Y=J;export{Y as default};