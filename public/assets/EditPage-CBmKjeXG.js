import{M as e,T as t,X as n,a$ as r,a3 as ee,aD as te,aF as i,aG as a,aJ as ne,aK as o,aM as s,aN as c,aP as l,aQ as u,aR as re,aS as ie,aT as d,aU as f,aW as p,aY as m,aZ as h,ag as ae,ay as oe,az as se,b2 as ce,b4 as g,b6 as _,b7 as v,b8 as y,ba as b,d as le,f as x,h as ue}from"./index-BuHiL7JP.js";import"./GlobalConfig-Dep5CV3r.js";import"./tableUtils-jdfVzp2e.js";import{c as de}from"./common-CAcZd9q3.js";import{b as fe}from"./FileUpload-CaVwWjiF.js";import{b as S}from"./documentService-Dsk0YyFF.js";import{b as pe}from"./customerPaymentTermsStore-Mul5EbUr.js";import{b as me}from"./customersStore-BA_cK5yd.js";import{b as he}from"./useCustomerValidation-B4dEza29.js";import{c as ge,e as _e,g as ve,h as ye}from"./customerZonesStore-IgrtnN6R.js";const be={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},xe={class:`max-w-4xl mx-auto`},Se={class:`mb-8`},Ce={class:`flex items-center space-x-4 mb-2`},we={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Te={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},C={class:`px-6 py-8`},w={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},T={key:0,class:`mt-1 text-xs text-gray-500`},E=[`disabled`],D=[`value`],O={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ee=[`disabled`],De=[`value`],Oe={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},ke=[`disabled`],Ae=[`value`],je={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Me={class:`flex items-start pt-6`},Ne={class:`flex items-center h-5`},Pe=[`disabled`],Fe={class:`space-y-6`},Ie={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Le=[`disabled`],Re=[`value`],ze={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Be=[`disabled`],Ve={class:`flex justify-between items-center mt-1`},He={key:0,class:`text-sm text-red-600 dark:text-red-400`},Ue={class:`text-xs text-gray-500 ml-auto`},We={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Ge=[`disabled`],Ke=[`value`],qe={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Je={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Ye={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Xe={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},k=[`disabled`],Ze=[`value`],Qe={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},$e=[`disabled`],et=[`value`],tt={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},nt={class:`mb-6`},rt=[`disabled`],it={class:`flex justify-between items-center mt-1`},at={key:0,class:`text-sm text-red-600 dark:text-red-400`},ot={class:`text-xs text-gray-500 ml-auto`},st={key:0,class:`mb-4`},ct={class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},lt={class:`space-y-2`},ut={class:`flex items-center space-x-3`},dt={class:`flex-shrink-0`},ft={class:`text-sm font-medium text-gray-900 dark:text-gray-100`},pt={class:`text-xs text-gray-500 dark:text-gray-400`},mt={class:`flex items-center space-x-2`},ht=[`onClick`,`disabled`],gt=[`onClick`,`disabled`],_t={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},vt=[`disabled`],yt=[`disabled`],bt={key:0,class:`flex items-center justify-center`},xt={key:1},St={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Ct={class:`flex flex-col items-center`},wt={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Tt={class:`flex`},Et={class:`flex-shrink-0`};var A=f({__name:`EditPage`,setup(f){let A=se(),j=oe(),M=s(()=>parseInt(j.params.id)),N=me(),P=ye(),F=ve(),I=_e(),L=ge(),R=pe(),z=le(),{errors:Dt,hasErrors:Ot,getFieldError:B,validateUpdateRequest:kt,clearFieldError:V,setServerErrors:H,clearErrors:U}=he(),W=_(!1),G=_(!1),K=_([]),q=_([]),J=_({name:``,customer_type_id:void 0,customer_group_id:void 0,price_list_id:void 0,customer_province_id:void 0,customer_zone_id:void 0,salesperson_id:void 0,customer_payment_term_id:void 0,total_old_sales:void 0,credit_limit:void 0,address:``,city:``,telephone:``,mobile:``,email:``,url:``,discount_percentage:void 0,notes:``,attachments:[],documents:[],gps_coordinates:``,contact_name:``,mof_tax_number:``,is_active:!0}),Y=_({name:``,customer_type_id:void 0,customer_group_id:void 0,price_list_id:void 0,customer_province_id:void 0,customer_zone_id:void 0,salesperson_id:void 0,customer_payment_term_id:void 0,total_old_sales:void 0,credit_limit:void 0,address:``,city:``,telephone:``,mobile:``,email:``,url:``,discount_percentage:void 0,notes:``,gps_coordinates:``,contact_name:``,mof_tax_number:``,attachments:[],documents:[],is_active:!0}),At=s(()=>P.customerTypes),jt=s(()=>F.customerGroups),Mt=s(()=>z.itemPriceLists||[]),Nt=s(()=>I.customerProvinces),Pt=s(()=>L.customerZones),X=s(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return W.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),Ft=s(()=>J.value.name.trim().length>0&&J.value.name.length<=255);s(()=>K.value.length>0);let It=s(()=>(J.value.documents?.length||0)+K.value.length),Z=s(()=>J.value.documents||[]),Q=async()=>{try{G.value=!0;let e=await N.fetchCustomer(M.value);e&&(J.value={name:e.name,customer_type_id:e.customer_type?.id||void 0,customer_group_id:e.customer_group?.id||void 0,price_list_id:e.price_list_id||void 0,customer_province_id:e.customer_province?.id||void 0,customer_zone_id:e.customer_zone?.id||void 0,salesperson_id:e.salesperson?.id||void 0,customer_payment_term_id:e.customer_payment_term?.id||void 0,total_old_sales:e.total_old_sales||void 0,credit_limit:e.credit_limit||void 0,address:e.address||``,city:e.city||``,telephone:e.telephone||``,mobile:e.mobile||``,email:e.email||``,url:e.url||``,discount_percentage:e.discount_percentage||void 0,notes:e.notes||``,gps_coordinates:e.gps_coordinates||``,contact_name:e.contact_name||``,mof_tax_number:e.mof_tax_number||``,attachments:e.attachments||[],documents:e.documents||[],is_active:e.is_active},Y.value={...J.value},U())}catch(e){console.error(`Error loading customer:`,e)}finally{G.value=!1}},Lt=e=>{if(It.value+e.length>10){V(`attachments`),H({attachments:[`Maximum 10 files allowed in total`]});return}V(`attachments`)},Rt=e=>{H({attachments:[e]})},zt=async(e,t)=>{let n=e.title||e.original_name,r=confirm(`Are you sure you want to delete "${n}"?\n\nThis action cannot be undone.`);if(r)try{W.value=!0,await S.delete(e.id),J.value.documents.splice(t,1),V(`attachments`)}catch(e){console.error(`Error deleting document:`,e)}finally{W.value=!1}},Bt=async e=>{try{await S.download(e)}catch(e){console.error(`Error downloading document:`,e)}},Vt=async()=>{if(U(),kt(J.value))try{W.value=!0;let e;if(K.value.length>0){let t=new FormData;Object.entries(J.value).forEach(([e,n])=>{n!=null&&n!==``&&e!==`attachments`&&e!==`documents`&&(typeof n==`boolean`?t.append(e,n?`1`:`0`):t.append(e,n.toString()))}),K.value.forEach((e,n)=>{t.append(`documents[]`,e)}),e=t}else e={name:J.value.name,customer_type_id:J.value.customer_type_id,customer_group_id:J.value.customer_group_id,customer_province_id:J.value.customer_province_id,customer_zone_id:J.value.customer_zone_id,salesperson_id:J.value.salesperson_id,price_list_id:J.value.price_list_id,customer_payment_term_id:J.value.customer_payment_term_id,total_old_sales:J.value.total_old_sales,credit_limit:J.value.credit_limit,address:J.value.address,city:J.value.city,telephone:J.value.telephone,mobile:J.value.mobile,email:J.value.email,url:J.value.url,discount_percentage:J.value.discount_percentage,notes:J.value.notes,is_active:J.value.is_active};let t;e instanceof FormData?(e.append(`_method`,`PUT`),t=await N.updateCustomerWithFiles(M.value,e)):t=await N.updateCustomer(M.value,e),K.value=[],Y.value={...J.value},A.push({name:`customer.index`})}catch(e){e.response?.status===422&&e.response?.data?.errors&&H(e.response.data.errors)}finally{W.value=!1}},Ht=()=>{A.push({name:`customer.index`})},$=()=>{A.push({name:`customer.index`})};return p(async()=>{try{G.value=!0,await Promise.all([P.fetchCustomerTypes(),F.fetchCustomerGroups(),I.fetchCustomerProvinces(),L.fetchCustomerZones(),R.fetchCustomerPaymentTerms(),z.fetchItemPriceLists(),N.fetchSalespersons().then(e=>{q.value=e})])}catch(e){console.error(`Error loading dropdown data:`,e)}finally{G.value=!1}await Q()}),ce(()=>j.params.id,()=>{j.params.id&&Q()}),(s,f)=>{let p=r(`Input`);return m(),u(`div`,be,[c(`div`,xe,[c(`div`,Se,[c(`div`,Ce,[c(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[d(v(ae),{class:`w-5 h-5`})]),f[44]||=c(`div`,null,[c(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Customer `),c(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update customer information and business details `)],-1)])]),G.value?(m(),u(`div`,we,f[45]||=[c(`div`,{class:`flex items-center justify-center`},[c(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),c(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading customer...`)],-1)])):J.value?(m(),u(`div`,Te,[c(`div`,C,[c(`form`,{onSubmit:ne(Vt,[`prevent`]),class:`space-y-8`},[c(`div`,null,[f[53]||=c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Main Information `,-1),c(`div`,w,[c(`div`,null,[d(x,{id:`name`,modelValue:J.value.name,"onUpdate:modelValue":f[0]||=e=>J.value.name=e,label:`Customer Name`,type:`text`,placeholder:`Enter customer name`,disabled:W.value,error:v(B)(`name`),maxlength:255,required:``,onBlur:f[1]||=()=>v(V)(`name`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),J.value.name.length>0?(m(),u(`p`,T,b(J.value.name.length)+`/255 characters `,1)):l(``,!0)]),c(`div`,null,[f[47]||=c(`label`,{for:`customer_type_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Customer Type `,-1),g(c(`select`,{id:`customer_type_id`,"onUpdate:modelValue":f[2]||=e=>J.value.customer_type_id=e,disabled:W.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:f[3]||=()=>v(V)(`customer_type_id`)},[f[46]||=c(`option`,{value:``},`Select customer type`,-1),(m(!0),u(o,null,h(At.value,e=>(m(),u(`option`,{key:e.id,value:e.id},b(e.name),9,D))),128))],40,E),[[i,J.value.customer_type_id]]),v(B)(`customer_type_id`)?(m(),u(`p`,O,b(v(B)(`customer_type_id`)),1)):l(``,!0)]),c(`div`,null,[f[49]||=c(`label`,{for:`customer_group_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Customer Group `,-1),g(c(`select`,{id:`customer_group_id`,"onUpdate:modelValue":f[4]||=e=>J.value.customer_group_id=e,disabled:W.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:f[5]||=()=>v(V)(`customer_group_id`)},[f[48]||=c(`option`,{value:``},`Select customer group`,-1),(m(!0),u(o,null,h(jt.value,e=>(m(),u(`option`,{key:e.id,value:e.id},b(e.name),9,De))),128))],40,Ee),[[i,J.value.customer_group_id]]),v(B)(`customer_group_id`)?(m(),u(`p`,Oe,b(v(B)(`customer_group_id`)),1)):l(``,!0)]),c(`div`,null,[f[51]||=c(`label`,{for:`price_list_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Price List `,-1),g(c(`select`,{id:`price_list_id`,"onUpdate:modelValue":f[6]||=e=>J.value.price_list_id=e,disabled:W.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:f[7]||=()=>v(V)(`price_list_id`)},[f[50]||=c(`option`,{value:``},`Select price list`,-1),(m(!0),u(o,null,h(Mt.value,e=>(m(),u(`option`,{key:e.id,value:e.id},b(e.code)+` - `+b(e.description),9,Ae))),128))],40,ke),[[i,J.value.price_list_id]]),v(B)(`price_list_id`)?(m(),u(`p`,je,b(v(B)(`price_list_id`)),1)):l(``,!0)]),c(`div`,null,[d(x,{id:`total_old_sales`,modelValue:J.value.total_old_sales,"onUpdate:modelValue":f[8]||=e=>J.value.total_old_sales=e,label:`Total Old Sales`,type:`number`,step:`0.01`,placeholder:`0.00`,disabled:W.value,error:v(B)(`total_old_sales`),onBlur:f[9]||=()=>v(V)(`total_old_sales`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),c(`div`,null,[d(x,{id:`credit_limit`,modelValue:J.value.credit_limit,"onUpdate:modelValue":f[10]||=e=>J.value.credit_limit=e,label:`Credit Limit`,type:`number`,step:`0.01`,min:`0`,placeholder:`0.00`,disabled:W.value,error:v(B)(`credit_limit`),onBlur:f[11]||=()=>v(V)(`credit_limit`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),c(`div`,Me,[c(`div`,Ne,[g(c(`input`,{id:`is_active`,"onUpdate:modelValue":f[12]||=e=>J.value.is_active=e,type:`checkbox`,disabled:W.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Pe),[[te,J.value.is_active]])]),f[52]||=c(`div`,{class:`ml-3`},[c(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),c(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this customer will be available for transactions `)],-1)])])]),c(`div`,null,[f[59]||=c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Contact Information `,-1),c(`div`,Fe,[c(`div`,Ie,[c(`div`,null,[d(p,{type:`text`,maxlength:255,disabled:W.value,placeholder:`Enter contact person name`,label:`Contact Person`,onBlur:f[13]||=()=>v(V)(`contact_name`),modelValue:J.value.contact_name,"onUpdate:modelValue":f[14]||=e=>J.value.contact_name=e,error:v(B)(`contact_name`)},null,8,[`disabled`,`modelValue`,`error`])]),c(`div`,null,[d(x,{id:`city`,modelValue:J.value.city,"onUpdate:modelValue":f[15]||=e=>J.value.city=e,label:`City`,type:`text`,placeholder:`Enter city name`,disabled:W.value,error:v(B)(`city`),maxlength:255,onBlur:f[16]||=()=>v(V)(`city`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),c(`div`,null,[f[55]||=c(`label`,{for:`customer_province_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Province `,-1),g(c(`select`,{id:`customer_province_id`,"onUpdate:modelValue":f[17]||=e=>J.value.customer_province_id=e,disabled:W.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:f[18]||=()=>v(V)(`customer_province_id`)},[f[54]||=c(`option`,{value:``},`Select province`,-1),(m(!0),u(o,null,h(Nt.value,e=>(m(),u(`option`,{key:e.id,value:e.id},b(e.name),9,Re))),128))],40,Le),[[i,J.value.customer_province_id]]),v(B)(`customer_province_id`)?(m(),u(`p`,ze,b(v(B)(`customer_province_id`)),1)):l(``,!0)])]),c(`div`,null,[f[56]||=c(`label`,{for:`address`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Address `,-1),g(c(`textarea`,{id:`address`,"onUpdate:modelValue":f[19]||=e=>J.value.address=e,rows:`3`,placeholder:`Enter customer address`,disabled:W.value,class:y([X.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:f[20]||=()=>v(V)(`address`),maxlength:`1000`},null,42,Be),[[a,J.value.address]]),c(`div`,Ve,[v(B)(`address`)?(m(),u(`p`,He,b(v(B)(`address`)),1)):l(``,!0),c(`p`,Ue,b(J.value.address?.length||0)+`/1000 characters `,1)])]),c(`div`,We,[c(`div`,null,[d(p,{type:`text`,maxlength:255,disabled:W.value,placeholder:`Enter GPS`,label:`GPS Coordinates`,onBlur:f[21]||=()=>v(V)(`gps_coordinates`),modelValue:J.value.gps_coordinates,"onUpdate:modelValue":f[22]||=e=>J.value.gps_coordinates=e,error:v(B)(`gps_coordinates`)},null,8,[`disabled`,`modelValue`,`error`])]),c(`div`,null,[d(p,{type:`text`,maxlength:255,disabled:W.value,placeholder:`Enter mof`,label:`MOF Tax number`,onBlur:f[23]||=()=>v(V)(`mof_tax_number`),modelValue:J.value.mof_tax_number,"onUpdate:modelValue":f[24]||=e=>J.value.mof_tax_number=e,error:v(B)(`mof_tax_number`)},null,8,[`disabled`,`modelValue`,`error`])])]),c(`div`,null,[f[58]||=c(`label`,{for:`customer_zone_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Customer Zone `,-1),g(c(`select`,{id:`customer_zone_id`,"onUpdate:modelValue":f[25]||=e=>J.value.customer_zone_id=e,disabled:W.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:f[26]||=()=>v(V)(`customer_zone_id`)},[f[57]||=c(`option`,{value:``},`Select zone`,-1),(m(!0),u(o,null,h(Pt.value,e=>(m(),u(`option`,{key:e.id,value:e.id},b(e.name),9,Ke))),128))],40,Ge),[[i,J.value.customer_zone_id]]),v(B)(`customer_zone_id`)?(m(),u(`p`,qe,b(v(B)(`customer_zone_id`)),1)):l(``,!0)]),c(`div`,Je,[c(`div`,null,[d(x,{id:`telephone`,modelValue:J.value.telephone,"onUpdate:modelValue":f[27]||=e=>J.value.telephone=e,label:`Phone`,type:`tel`,placeholder:`Enter telephone number`,disabled:W.value,error:v(B)(`telephone`),maxlength:20,onBlur:f[28]||=()=>v(V)(`telephone`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),c(`div`,null,[d(p,{id:`mobile`,modelValue:J.value.mobile,"onUpdate:modelValue":f[29]||=e=>J.value.mobile=e,label:`Mobile`,type:`tel`,placeholder:`Enter mobile number`,disabled:W.value,error:v(B)(`mobile`),maxlength:20,onBlur:f[30]||=()=>v(V)(`mobile`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])]),c(`div`,Ye,[c(`div`,null,[d(x,{id:`email`,modelValue:J.value.email,"onUpdate:modelValue":f[31]||=e=>J.value.email=e,label:`Email`,type:`email`,placeholder:`Enter email address`,disabled:W.value,error:v(B)(`email`),maxlength:255,onBlur:f[32]||=()=>v(V)(`email`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),c(`div`,null,[d(x,{id:`url`,modelValue:J.value.url,"onUpdate:modelValue":f[33]||=e=>J.value.url=e,label:`Website`,type:`text`,placeholder:`Enter url URL`,disabled:W.value,error:v(B)(`url`),maxlength:255,onBlur:f[34]||=()=>v(V)(`url`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])])])]),c(`div`,null,[f[64]||=c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Sales Information `,-1),c(`div`,Xe,[c(`div`,null,[f[61]||=c(`label`,{for:`salesperson_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Salesperson `,-1),g(c(`select`,{id:`salesperson_id`,"onUpdate:modelValue":f[35]||=e=>J.value.salesperson_id=e,disabled:W.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:f[36]||=()=>v(V)(`salesperson_id`)},[f[60]||=c(`option`,{value:``},`Select salesperson`,-1),(m(!0),u(o,null,h(q.value,e=>(m(),u(`option`,{key:e.id,value:e.id},b(e.name)+` (`+b(e.code)+`) `,9,Ze))),128))],40,k),[[i,J.value.salesperson_id]]),v(B)(`salesperson_id`)?(m(),u(`p`,Qe,b(v(B)(`salesperson_id`)),1)):l(``,!0)]),c(`div`,null,[f[63]||=c(`label`,{for:`customer_payment_term_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Payment Term `,-1),g(c(`select`,{id:`customer_payment_term_id`,"onUpdate:modelValue":f[37]||=e=>J.value.customer_payment_term_id=e,disabled:W.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:f[38]||=()=>v(V)(`customer_payment_term_id`)},[f[62]||=c(`option`,{value:``},`Select payment term`,-1),(m(!0),u(o,null,h(v(R).customerPaymentTerms,e=>(m(),u(`option`,{key:e.id,value:e.id},b(e.name),9,et))),128))],40,$e),[[i,J.value.customer_payment_term_id]]),v(B)(`customer_payment_term_id`)?(m(),u(`p`,tt,b(v(B)(`customer_payment_term_id`)),1)):l(``,!0)]),c(`div`,null,[d(x,{id:`discount_percentage`,modelValue:J.value.discount_percentage,"onUpdate:modelValue":f[39]||=e=>J.value.discount_percentage=e,label:`Discount Percentage (%)`,type:`number`,step:`0.01`,min:`0`,max:`100`,placeholder:`0.00`,disabled:W.value,error:v(B)(`discount_percentage`),onBlur:f[40]||=()=>v(V)(`discount_percentage`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])])]),c(`div`,null,[f[67]||=c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Additional Information `,-1),c(`div`,nt,[f[65]||=c(`label`,{for:`notes`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Notes `,-1),g(c(`textarea`,{id:`notes`,"onUpdate:modelValue":f[41]||=e=>J.value.notes=e,rows:`4`,placeholder:`Enter additional notes about this customer (optional)`,disabled:W.value,class:y([X.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:f[42]||=()=>v(V)(`notes`),maxlength:`2000`},null,42,rt),[[a,J.value.notes]]),c(`div`,it,[v(B)(`notes`)?(m(),u(`p`,at,b(v(B)(`notes`)),1)):l(``,!0),c(`p`,ot,b(J.value.notes?.length||0)+`/2000 characters `,1)])]),c(`div`,null,[f[66]||=c(`label`,{for:`attachments`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Attachments `,-1),Z.value.length>0?(m(),u(`div`,st,[c(`h4`,ct,`Current Files (`+b(Z.value.length)+`)`,1),c(`div`,lt,[(m(!0),u(o,null,h(Z.value,(e,r)=>(m(),u(`div`,{key:e.id,class:`flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md`},[c(`div`,ut,[c(`div`,dt,[d(v(t),{class:`h-5 w-5 text-gray-400`})]),c(`div`,null,[c(`p`,ft,b(e.title||e.original_name),1),c(`p`,pt,b(e.file_size_human)+` - `+b(v(de)(e.created_at)),1)])]),c(`div`,mt,[c(`button`,{type:`button`,onClick:t=>Bt(e),disabled:W.value,class:`text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 disabled:opacity-50`,title:`Download file`},[d(v(n),{class:`h-4 w-4`})],8,ht),c(`button`,{type:`button`,onClick:t=>zt(e,r),disabled:W.value,class:`text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 disabled:opacity-50`,title:`Delete file`},[d(v(ue),{class:`h-4 w-4`})],8,gt)])]))),128))])])):l(``,!0),d(fe,{modelValue:K.value,"onUpdate:modelValue":f[43]||=e=>K.value=e,"max-files":10,"max-size":10*1024*1024,disabled:W.value,accept:`.pdf,.jpg,.png`,onChange:Lt,onError:Rt},null,8,[`modelValue`,`disabled`])])]),c(`div`,_t,[c(`button`,{type:`button`,onClick:Ht,disabled:W.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,vt),c(`button`,{type:`submit`,disabled:W.value||v(Ot)||!Ft.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[W.value?(m(),u(`div`,bt,f[68]||=[c(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),ie(` Updating... `,-1)])):(m(),u(`span`,xt,`Update Customer`))],8,yt)])],32)])])):(m(),u(`div`,St,[c(`div`,Ct,[d(v(ee),{class:`w-12 h-12 text-red-400 mb-4`}),f[69]||=c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Customer Not Found `,-1),f[70]||=c(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The customer you're trying to edit could not be found. `,-1),c(`button`,{onClick:$,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` ‚Üê Back to Customers `)])])),J.value?(m(),u(`div`,wt,[c(`div`,Tt,[c(`div`,Et,[d(v(e),{class:`h-5 w-5 text-blue-400`})]),f[71]||=re(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Customer Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update the customer details carefully as this information is used for: </p><ul class="list-disc list-inside space-y-1"><li>Sales orders and invoicing</li><li>Credit limit management and monitoring</li><li>Contact management and communication</li><li>Sales performance tracking</li></ul></div></div>`,1)])])):l(``,!0)])])}}}),j=A;export{j as default};