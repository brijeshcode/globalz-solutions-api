import{J as e,T as t,X as n,aK as r,aN as i,aO as a,aP as o,aQ as s,aS as c,aT as l,aU as ee,aW as u,aY as d,aZ as te,ag as f,ak as p,au as ne,ay as re,az as ie,b3 as m,b6 as h,b7 as g,ba as _,m as ae,q as v,y as oe}from"./index-CBWxuJFq.js";import{b as se}from"./useAuth-CNULHTDo.js";import"./GlobalConfig-Dep5CV3r.js";import"./tableUtils-jdfVzp2e.js";import{c as y}from"./common-CAcZd9q3.js";import{b,d as x}from"./currencyUtil-CE7H67Gr.js";import{b as S}from"./DataItems-DZEk-xK2.js";import{b as ce}from"./SupplierPaymentStore-B9OncXtH.js";const C={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},w={class:``},T={class:`mb-8`},E={class:`flex items-center justify-between`},D={class:`flex items-center space-x-4`},O={class:`text-sm text-gray-600 dark:text-gray-400`},k={key:0,class:`flex space-x-3`},A={key:0,class:`flex items-center justify-center py-12`},j={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},M={class:`px-6 py-8`},N={class:`mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-md`},P={class:`flex items-center justify-between`},F={class:`flex`},I={class:`ml-3`},L={class:`mt-1 text-sm text-blue-700 dark:text-blue-300`},R={class:`text-right`},z={class:`text-lg font-bold text-blue-900 dark:text-blue-100`},B={class:`space-y-8`},V={class:`grid grid-cols-1 md:grid-cols-3 gap-6`},H={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},U={class:`text-sm text-gray-900 dark:text-white`},W={key:0,class:`text-xs text-gray-500 dark:text-gray-400`},G={key:0,class:`text-sm text-gray-900 dark:text-white`},le={key:1,class:`text-xs text-gray-500 dark:text-gray-400`},ue={key:2,class:`text-sm text-gray-900 dark:text-white`},de={class:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6`},fe={class:`text-lg font-semibold text-gray-900 dark:text-white`},pe={class:`text-lg font-semibold text-green-600 dark:text-green-400`},me={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},he={class:`text-sm text-gray-900 dark:text-white`},ge={key:0,class:`text-xs text-gray-500 dark:text-gray-400`},_e={class:`text-sm text-gray-900 dark:text-white`},ve={class:`grid grid-cols-1 md:grid-cols-3 gap-6`},ye={key:0},be={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},xe={class:`flex-1 min-w-0`},Se={class:`text-sm font-medium text-gray-900 dark:text-white truncate`},Ce={class:`text-xs text-gray-500 dark:text-gray-400`},we=[`href`],Te={key:1},Ee={class:`grid grid-cols-1 gap-6`},De={class:`text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 p-3 rounded-md`},Oe={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},ke={class:`text-sm text-gray-900 dark:text-white`},Ae={class:`text-sm text-gray-900 dark:text-white`},je={class:`flex items-center justify-between pt-6 border-t border-gray-200 dark:border-gray-700`},Me={key:2,class:`text-center py-12`};var K=ee({__name:`ViewPage`,setup(ee){let p=ie(),K=re(),q=ne(),J=ce(),{isAdmin:Y}=se(),X=h(!1),Z=h(null),Q=()=>{p.push({name:`supplier.payments.index`})},$=()=>{p.push({name:`supplier.payments.edit`,params:{id:K.params.id}})},Ne=e=>{if(!e)return`0 Bytes`;let t=1024,n=[`Bytes`,`KB`,`MB`,`GB`],r=Math.floor(Math.log(e)/Math.log(t));return Math.round(e/t**+r*100)/100+` `+n[r]},Pe=async()=>{let e=Number(K.params.id);if(!e){q.error(`Invalid payment ID`),Q();return}X.value=!0;try{let t=await J.fetchSupplierPayment(e);Z.value=t}catch{q.error(`Failed to load supplier payment`),Z.value=null}finally{X.value=!1}};return u(async()=>{await Pe()}),(ee,u)=>(d(),s(`div`,C,[i(`div`,w,[i(`div`,T,[i(`div`,E,[i(`div`,D,[i(`button`,{onClick:Q,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[l(g(f),{class:`w-5 h-5`})]),i(`div`,null,[u[0]||=i(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Supplier Payment Details `,-1),i(`p`,O,_(Z.value?`${Z.value.prefix}${Z.value.code}`:`Loading...`),1)])]),Z.value&&!X.value?(d(),s(`div`,k,[g(Y)?(d(),s(`button`,{key:0,onClick:$,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[l(g(v),{class:`h-4 w-4 mr-2`}),u[1]||=c(` Edit Payment `,-1)])):o(``,!0)])):o(``,!0)])]),X.value?(d(),s(`div`,A,[l(g(e),{class:`h-8 w-8 animate-spin text-blue-600`}),u[2]||=i(`span`,{class:`ml-2 text-gray-600 dark:text-gray-400`},`Loading payment details...`,-1)])):Z.value?(d(),s(`div`,j,[i(`div`,M,[i(`div`,N,[i(`div`,P,[i(`div`,F,[l(g(oe),{class:`h-5 w-5 text-blue-400`}),i(`div`,I,[u[3]||=i(`h3`,{class:`text-sm font-medium text-blue-800 dark:text-blue-200`},` Payment Recorded `,-1),i(`div`,L,[i(`p`,null,`Created by `+_(Z.value.created_by_user?.name||`N/A`)+` on `+_(g(y)(Z.value.updated_at)),1)])])]),i(`div`,R,[u[4]||=i(`div`,{class:`text-sm font-medium text-blue-800 dark:text-blue-200`},`Total Amount (USD)`,-1),i(`div`,z,_(g(b)(Z.value.amount_usd,!0)),1)])])]),i(`div`,B,[i(`div`,null,[u[5]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Basic Information `,-1),i(`div`,V,[l(S,{label:`Payment Code`,value:`${Z.value.prefix}${Z.value.code}`},null,8,[`value`]),l(S,{label:`Payment Date`,value:g(y)(Z.value.date)},null,8,[`value`]),l(S,{label:`Created By`,value:Z.value.created_by_user?.name||`-`},null,8,[`value`])])]),i(`div`,null,[u[6]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Supplier Information `,-1),i(`div`,H,[l(S,{label:`Supplier Name`},{default:m(()=>[i(`div`,U,_(Z.value.supplier?.name||`-`),1),Z.value.supplier?.code?(d(),s(`div`,W,` Code: `+_(Z.value.supplier.code),1)):o(``,!0)]),_:1}),l(S,{label:`Supplier Contact`},{default:m(()=>[Z.value.supplier?.email?(d(),s(`div`,G,_(Z.value.supplier.email),1)):o(``,!0),Z.value.supplier?.phone?(d(),s(`div`,le,_(Z.value.supplier.phone),1)):o(``,!0),!Z.value.supplier?.email&&!Z.value.supplier?.phone?(d(),s(`div`,ue,` - `)):o(``,!0)]),_:1})])]),i(`div`,null,[u[7]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Payment Details `,-1),i(`div`,de,[l(S,{label:`Currency`,value:Z.value.currency?.name?`${Z.value.currency.name} (${Z.value.currency.code})`:`-`},null,8,[`value`]),g(x)(Z.value.currency?.code)?o(``,!0):(d(),a(S,{key:0,label:`Currency Rate`,value:Z.value.currency_rate*1},null,8,[`value`])),l(S,{label:`Amount`},{default:m(()=>[i(`div`,fe,_(g(b)(Z.value.amount,!0,Z.value.currency)),1)]),_:1}),g(x)(Z.value.currency?.code)?o(``,!0):(d(),a(S,{key:1,label:`Amount (USD)`},{default:m(()=>[i(`div`,pe,_(g(b)(Z.value.amount_usd,!0)),1)]),_:1}))])]),i(`div`,null,[u[8]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Account Information `,-1),i(`div`,me,[l(S,{label:`Account`},{default:m(()=>[i(`div`,he,_(Z.value.account?.name||`-`),1),Z.value.account?.account_number?(d(),s(`div`,ge,` Account Number: `+_(Z.value.account.account_number),1)):o(``,!0)]),_:1}),l(S,{label:`Account Type`},{default:m(()=>[i(`div`,_e,_(Z.value.account?.account_type||`-`),1)]),_:1})])]),i(`div`,null,[u[9]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Reference Information `,-1),i(`div`,ve,[l(S,{label:`Supplier Order #`,value:Z.value.supplier_order_number||`-`},null,8,[`value`]),l(S,{label:`Check Number`,value:Z.value.check_number||`-`},null,8,[`value`]),l(S,{label:`Bank Reference`,value:Z.value.bank_ref_number||`-`},null,8,[`value`])])]),Z.value.documents&&Z.value.documents.length>0?(d(),s(`div`,ye,[u[10]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Documents `,-1),i(`div`,be,[(d(!0),s(r,null,te(Z.value.documents,e=>(d(),s(`div`,{key:e.id,class:`flex items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors`},[l(g(t),{class:`h-5 w-5 text-gray-400 mr-3`}),i(`div`,xe,[i(`p`,Se,_(e.file_name||`Document`),1),i(`p`,Ce,_(Ne(e.file_size)),1)]),i(`a`,{href:e.preview_url,target:`_blank`,class:`ml-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300`},[l(g(n),{class:`h-4 w-4`})],8,we)]))),128))])])):o(``,!0),Z.value.note?(d(),s(`div`,Te,[u[11]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Notes `,-1),i(`div`,Ee,[l(S,{label:`Payment Notes`},{default:m(()=>[i(`div`,De,_(Z.value.note),1)]),_:1})])])):o(``,!0),i(`div`,null,[u[12]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Audit Trail `,-1),i(`div`,Oe,[l(S,{label:`Created By`},{default:m(()=>[i(`div`,ke,_(Z.value.created_by_user?.name||`-`),1)]),_:1}),l(S,{label:`Last Updated By`},{default:m(()=>[i(`div`,Ae,_(Z.value.updated_by_user?.name||`-`),1)]),_:1}),l(S,{label:`Last Updated`,value:g(y)(Z.value.updated_at)},null,8,[`value`])])]),i(`div`,je,[i(`button`,{type:`button`,onClick:Q,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[l(g(f),{class:`h-4 w-4 mr-2`}),u[13]||=c(` Back to Payments `,-1)]),g(Y)?(d(),s(`button`,{key:0,type:`button`,onClick:$,class:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`},[l(g(v),{class:`h-4 w-4 mr-2`}),u[14]||=c(` Edit Payment `,-1)])):o(``,!0)])])])])):X.value?o(``,!0):(d(),s(`div`,Me,[l(g(ae),{class:`mx-auto h-12 w-12 text-red-400`}),u[15]||=i(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},`Payment not found`,-1),u[16]||=i(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` The supplier payment you're looking for doesn't exist or has been deleted. `,-1),i(`div`,{class:`mt-6`},[i(`button`,{onClick:Q,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700`},` Back to Payments `)])]))])]))}}),q=p(K,[[`__scopeId`,`data-v-f789685a`]]);export{q as default};