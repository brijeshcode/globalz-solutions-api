import{A as e,D as t,E as n,F as r,G as i,H as a,K as o,L as s,P as c,Q as l,R as u,S as d,T as f,U as p,Z as m,_ as h,a2 as g,a3 as _,a4 as v,a6 as y,a7 as b,a9 as x,aa as S,ab as C,ac as w,ad as T,ae as E,af as D,ag as O,ah as k,aj as A,al as j,am as M,ap as N,ar as P,as as F,at as I,au as L,av as R,aw as z,ax as B,az as V,c as H,e as U,f as W,h as G,i as K,j as q,l as J,m as ee,o as Y,q as te,s as X,t as ne,v as Z,w as Q,x as re,y as ie}from"./index-Dr1ObvLr.js";import{b as ae,c as oe}from"./FileUpload-DQzKTMS8.js";import{b as se}from"./documentService-DB1jkKao.js";import{b as ce}from"./ConfirmationModal-DbYUJSl_.js";import{b as le}from"./Tabs-CtVtnH4W.js";import{b as ue,c as de,d as fe,e as pe,f as me}from"./countriesStore-BX__FdZG.js";var he=class{baseUrl=`/setups/supplier-types`;async getSupplierTypes(e){try{let t=this.buildQueryParams(e),n=await l(`${this.baseUrl}?${t}`,{loadingMessage:`Loading supplier types...`,showLoading:!0});return{data:n.data.data,pagination:n.data.pagination}}catch(e){throw console.error(`Error fetching supplier types:`,e),e}}async getSupplierType(e){try{let t=await l(`${this.baseUrl}/${e}`,{loadingMessage:`Loading supplier type...`});return t.data.data}catch(e){throw console.error(`Error fetching supplier type:`,e),e}}async createSupplierType(e){try{let t=await d(this.baseUrl,e,{loadingMessage:`Creating supplier type...`,showSuccessNotification:!0,successMessage:`Supplier type created successfully`});return t.data.data}catch(e){throw console.error(`Error creating supplier type:`,e),e}}async updateSupplierType(e,t){try{let n=await f(`${this.baseUrl}/${e}`,t,{loadingMessage:`Updating supplier type...`,showSuccessNotification:!0,successMessage:`Supplier type updated successfully`});return n.data.data}catch(e){throw console.error(`Error updating supplier type:`,e),e}}async deleteSupplierType(e){try{await c(`${this.baseUrl}/${e}`,{loadingMessage:`Deleting supplier type...`,showSuccessNotification:!0,successMessage:`Supplier type deleted successfully`})}catch(e){throw console.error(`Error deleting supplier type:`,e),e}}async getTrashedSupplierTypes(e){try{let t=this.buildQueryParams(e),n=await l(`${this.baseUrl}/trashed?${t}`,{loadingMessage:`Loading trashed supplier types...`});return{data:n.data.data,pagination:n.data.pagination}}catch(e){throw console.error(`Error fetching trashed supplier types:`,e),e}}async restoreSupplierType(e){try{let t=await u(`${this.baseUrl}/${e}/restore`,{},{loadingMessage:`Restoring supplier type...`,showSuccessNotification:!0,successMessage:`Supplier type restored successfully`});return t.data.data}catch(e){throw console.error(`Error restoring supplier type:`,e),e}}async forceDeleteSupplierType(e){try{await c(`${this.baseUrl}/${e}/force-delete`,{loadingMessage:`Permanently deleting supplier type...`,showSuccessNotification:!0,successMessage:`Supplier type permanently deleted`})}catch(e){throw console.error(`Error permanently deleting supplier type:`,e),e}}async getSupplierTypesForSelect(){try{let e=await l(`${this.baseUrl}`,{showLoading:!1}),t=e.data.data;return t.filter(e=>e.is_active).map(e=>({value:e.id,label:e.name,disabled:!1}))}catch(e){throw console.error(`Error fetching supplier types for select:`,e),e}}buildQueryParams(e){if(!e)return``;let t=new URLSearchParams;return Object.entries(e).forEach(([e,n])=>{n!=null&&n!==``&&t.append(e,String(n))}),t.toString()}};const $=new he,ge=h(`supplierTypes`,()=>{let e=R([]),t=R(null),n=R([]),r=R({current_page:1,per_page:20,total:0,last_page:1,from:null,to:null,has_more_pages:!1,next_page_url:null,prev_page_url:null,first_page_url:``,last_page_url:``}),i=R(!1),a=R({}),o=x(()=>e.value.filter(e=>e.is_active)),s=x(()=>e.value.filter(e=>!e.is_active)),c=x(()=>o.value.map(e=>({value:e.id,label:e.name,disabled:!1}))),l=async t=>{try{i.value=!0,t&&(a.value={...a.value,...t});let n=await $.getSupplierTypes(a.value);e.value=n.data,r.value=n.pagination}catch(e){throw console.error(`Error fetching supplier types:`,e),e}finally{i.value=!1}},u=async e=>{try{let n=await $.getSupplierType(e);return t.value=n,n}catch(e){throw console.error(`Error fetching supplier type:`,e),e}},d=async t=>{try{let n=await $.createSupplierType(t);return e.value.unshift(n),r.value.total+=1,n}catch(e){throw console.error(`Error creating supplier type:`,e),e}},f=async(n,r)=>{try{let i=await $.updateSupplierType(n,r),a=e.value.findIndex(e=>e.id===n);return a!==-1&&(e.value[a]=i),t.value?.id===n&&(t.value=i),i}catch(e){throw console.error(`Error updating supplier type:`,e),e}},p=async n=>{try{await $.deleteSupplierType(n);let i=e.value.findIndex(e=>e.id===n);i!==-1&&e.value.splice(i,1),--r.value.total,t.value?.id===n&&(t.value=null)}catch(e){throw console.error(`Error deleting supplier type:`,e),e}},m=async e=>{try{i.value=!0;let t=e||{},r=await $.getTrashedSupplierTypes(t);n.value=r.data}catch(e){throw console.error(`Error fetching trashed supplier types:`,e),e}finally{i.value=!1}},h=async t=>{try{let i=await $.restoreSupplierType(t),a=n.value.findIndex(e=>e.id===t);return a!==-1&&n.value.splice(a,1),e.value.unshift(i),r.value.total+=1,i}catch(e){throw console.error(`Error restoring supplier type:`,e),e}},g=async e=>{try{await $.forceDeleteSupplierType(e);let t=n.value.findIndex(t=>t.id===e);t!==-1&&n.value.splice(t,1)}catch(e){throw console.error(`Error permanently deleting supplier type:`,e),e}},_=e=>{a.value={...a.value,...e}},v=()=>{a.value={}},y=()=>{t.value=null},b=()=>{e.value=[],t.value=null,n.value=[],r.value={current_page:1,per_page:20,total:0,last_page:1,from:null,to:null,has_more_pages:!1,next_page_url:null,prev_page_url:null,first_page_url:``,last_page_url:``},a.value={},i.value=!1},S=async()=>{try{return await $.getSupplierTypesForSelect()}catch(e){return console.error(`Error fetching supplier types for select:`,e),[]}};return{supplierTypes:e,currentSupplierType:t,trashedSupplierTypes:n,pagination:r,loading:i,filters:a,activeSupplierTypes:o,inactiveSupplierTypes:s,supplierTypesForSelect:c,fetchSupplierTypes:l,fetchSupplierType:u,createSupplierType:d,updateSupplierType:f,deleteSupplierType:p,fetchTrashedSupplierTypes:m,restoreSupplierType:h,forceDeleteSupplierType:g,updateFilters:_,clearFilters:v,clearCurrentSupplierType:y,reset:b,fetchSupplierTypesForSelect:S}}),_e={class:`space-y-6`},ve={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},ye={class:`grid grid-cols-1 md:grid-cols-6 gap-4`},be={class:`md:col-span-2`},xe={class:`relative`},Se=[`value`],Ce=[`value`],we={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},Te={key:0,class:`p-8 text-center`},Ee={key:1,class:`p-8 text-center`},De={class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},Oe={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},ke={key:0,class:`mt-6`},Ae={key:2,class:`overflow-x-auto`},je={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},Me={class:`bg-gray-50 dark:bg-gray-700`},Ne={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Pe={class:`flex flex-col`},Fe={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Ie={class:`flex flex-col`},Le={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Re={class:`flex flex-col`},ze={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Be={class:`flex flex-col`},Ve={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},He={class:`flex flex-col`},Ue={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},We={class:`px-6 py-4 whitespace-nowrap`},Ge={class:`text-sm font-medium text-gray-900 dark:text-white`},Ke={class:`px-6 py-4 whitespace-nowrap`},qe={class:`flex items-center`},Je={class:`flex-shrink-0 h-10 w-10`},Ye={class:`h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center`},Xe={class:`ml-4`},Ze={class:`text-sm font-medium text-gray-900 dark:text-white`},Qe={class:`text-sm text-gray-500 dark:text-gray-400`},$e={class:`px-6 py-4`},et={class:`text-sm text-gray-900 dark:text-white`},tt=[`title`],nt={key:1,class:`text-gray-500 dark:text-gray-400`},rt={key:2,class:`text-gray-500 dark:text-gray-400`},it={class:`px-6 py-4 whitespace-nowrap`},at={class:`text-sm text-gray-900 dark:text-white`},ot={class:`text-sm text-gray-500 dark:text-gray-400`},st={class:`px-6 py-4 whitespace-nowrap`},ct={key:0,class:`text-xs text-gray-500 dark:text-gray-400`},lt={class:`px-6 py-4 whitespace-nowrap`},ut={class:`px-6 py-4 whitespace-nowrap`},dt={class:`text-sm text-gray-900 dark:text-white`},ft={class:`text-sm text-gray-600 dark:text-gray-400`},pt={class:`text-xs text-gray-500 dark:text-gray-500`},mt={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},ht={class:`flex items-center justify-end space-x-2`},gt=[`onClick`],_t=[`onClick`],vt=[`onClick`],yt=[`onClick`],bt=[`onClick`],xt={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},St={class:`flex items-center justify-between`},Ct={class:`flex-1 flex justify-between sm:hidden`},wt=[`disabled`],Tt=[`disabled`],Et={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},Dt={class:`text-sm text-gray-700 dark:text-gray-300`},Ot={class:`font-medium`},kt={class:`font-medium`},At={class:`font-medium`},jt={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},Mt=[`disabled`],Nt=[`disabled`];var Pt=k({__name:`IndexPage`,emits:[`create`,`edit`,`viewDetail`],setup(e,{emit:t}){m();let o=p(),s=oe(),c=ge(),l=ue(),u=t,d=R(!1),f=R(!1),h=R(null),g=R(null),y=R(!1),C=L({search:``,is_active:``,supplier_type_id:``,country_id:``,per_page:15,sort_by:``,sort_direction:`asc`,page:1}),E=R({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}),k=x(()=>y.value?s.trashedSuppliers:s.suppliers),N=x(()=>s.pagination),F=x(()=>s.loading),H=x(()=>c.supplierTypes),K=x(()=>l.countries);x(()=>k.value.length>0||y.value),P(()=>({...C}),e=>{let{page:t,...n}=e;s.updateFilters(n)},{deep:!0});let X=async(e=1)=>{try{let t={...C,page:e};y.value?await s.fetchTrashedSuppliers(t):await s.fetchSuppliers(t)}catch{o.error(`Failed to load suppliers`,{title:`Error`})}},ne=()=>{g.value&&clearTimeout(g.value),g.value=setTimeout(()=>{X(1)},300)},Z=e=>{C.sort_by===e?C.sort_direction=C.sort_direction===`asc`?`desc`:`asc`:(C.sort_by=e,C.sort_direction=`asc`),X(1)},Q=e=>{e>=1&&N.value&&e<=N.value.last_page&&(C.page=e,X(e))},ie=e=>new Date(e).toLocaleDateString(`en-US`,{year:`numeric`,month:`short`,day:`numeric`,hour:`2-digit`,minute:`2-digit`}),ae=e=>new Intl.NumberFormat(`en-US`,{minimumFractionDigits:2,maximumFractionDigits:2}).format(Math.abs(e)),se=e=>{h.value=e,E.value={title:`Delete Supplier`,message:`Are you sure you want to delete "${e.name}"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},f.value=!0},le=e=>{h.value=e,E.value={title:`Restore Supplier`,message:`Are you sure you want to restore "${e.name}"?`,buttonText:`Restore`,loadingText:`Restoring...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`restore`},f.value=!0},de=e=>{h.value=e,E.value={title:`Permanently Delete Supplier`,message:`Are you sure you want to permanently delete "${e.name}"? This action cannot be undone.`,buttonText:`Delete Permanently`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`forceDelete`},f.value=!0},fe=async()=>{h.value&&(await s.deleteSupplier(h.value.id),he())},he=()=>{f.value=!1,h.value=null,E.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},$=()=>{u(`create`)},Pt=e=>{u(`edit`,e)},Ft=e=>{u(`viewDetail`,e)};return A(async()=>{try{await Promise.all([c.fetchSupplierTypes(),l.fetchCountries()]),await X()}catch(e){console.error(`Error loading initial data:`,e)}}),(e,t)=>(j(),T(`div`,_e,[O(me,{title:`Suppliers`,description:`Manage suppliers for your business operations`,"create-button-text":`Create New Supplier`,onCreate:$}),S(`div`,ve,[S(`div`,ye,[S(`div`,be,[t[15]||=S(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Suppliers `,-1),S(`div`,xe,[I(S(`input`,{id:`search`,"onUpdate:modelValue":t[0]||=e=>C.search=e,type:`text`,placeholder:`Search by name, code, or email...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:ne},null,544),[[v,C.search]]),O(z(q),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),S(`div`,null,[t[17]||=S(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Status `,-1),I(S(`select`,{id:`status`,"onUpdate:modelValue":t[1]||=e=>C.is_active=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:X},t[16]||=[S(`option`,{value:``},`All Status`,-1),S(`option`,{value:`true`},`Active`,-1),S(`option`,{value:`false`},`Inactive`,-1)],544),[[_,C.is_active]])]),S(`div`,null,[t[19]||=S(`label`,{for:`supplier_type`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Type `,-1),I(S(`select`,{id:`supplier_type`,"onUpdate:modelValue":t[2]||=e=>C.supplier_type_id=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:X},[t[18]||=S(`option`,{value:``},`All Types`,-1),(j(!0),T(b,null,M(H.value,e=>(j(),T(`option`,{key:e.id,value:e.id},V(e.name),9,Se))),128))],544),[[_,C.supplier_type_id]])]),S(`div`,null,[t[21]||=S(`label`,{for:`country`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Country `,-1),I(S(`select`,{id:`country`,"onUpdate:modelValue":t[3]||=e=>C.country_id=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:X},[t[20]||=S(`option`,{value:``},`All Countries`,-1),(j(!0),T(b,null,M(K.value,e=>(j(),T(`option`,{key:e.id,value:e.id},V(e.name),9,Ce))),128))],544),[[_,C.country_id]])]),S(`div`,null,[t[23]||=S(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),I(S(`select`,{id:`per-page`,"onUpdate:modelValue":t[4]||=e=>C.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:X},t[22]||=[S(`option`,{value:15},`15`,-1),S(`option`,{value:25},`25`,-1),S(`option`,{value:50},`50`,-1),S(`option`,{value:100},`100`,-1)],544),[[_,C.per_page]])])])]),S(`div`,we,[F.value?(j(),T(`div`,Te,[O(z(te),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),t[24]||=S(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading suppliers...`,-1)])):k.value.length===0?(j(),T(`div`,Ee,[O(z(W),{class:`h-12 w-12 mx-auto text-gray-400`}),S(`h3`,De,V(y.value?`No trashed suppliers found`:`No suppliers found`),1),S(`p`,Oe,V(C.search?`Try adjusting your search criteria.`:`Get started by creating your first supplier.`),1),!C.search&&!y.value?(j(),T(`div`,ke,[S(`button`,{onClick:$,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[O(z(ee),{class:`h-5 w-5 mr-2`}),t[25]||=D(` Add Your First Supplier `,-1)])])):w(``,!0)])):(j(),T(`div`,Ae,[S(`table`,je,[S(`thead`,Me,[S(`tr`,null,[S(`th`,Ne,[S(`button`,{onClick:t[5]||=e=>Z(`code`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[26]||=S(`span`,null,`Code`,-1),S(`div`,Pe,[O(z(n),{class:B([`h-3 w-3`,C.sort_by===`code`&&C.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),O(z(a),{class:B([`h-3 w-3 -mt-1`,C.sort_by===`code`&&C.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),S(`th`,Fe,[S(`button`,{onClick:t[6]||=e=>Z(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[27]||=S(`span`,null,`Name`,-1),S(`div`,Ie,[O(z(n),{class:B([`h-3 w-3`,C.sort_by===`name`&&C.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),O(z(a),{class:B([`h-3 w-3 -mt-1`,C.sort_by===`name`&&C.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),t[31]||=S(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Contact `,-1),t[32]||=S(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Type / Country `,-1),S(`th`,Le,[S(`button`,{onClick:t[7]||=e=>Z(`balance`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[28]||=S(`span`,null,`Balance`,-1),S(`div`,Re,[O(z(n),{class:B([`h-3 w-3`,C.sort_by===`balance`&&C.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),O(z(a),{class:B([`h-3 w-3 -mt-1`,C.sort_by===`balance`&&C.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),S(`th`,ze,[S(`button`,{onClick:t[8]||=e=>Z(`is_active`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[29]||=S(`span`,null,`Status`,-1),S(`div`,Be,[O(z(n),{class:B([`h-3 w-3`,C.sort_by===`is_active`&&C.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),O(z(a),{class:B([`h-3 w-3 -mt-1`,C.sort_by===`is_active`&&C.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),S(`th`,Ve,[S(`button`,{onClick:t[9]||=e=>Z(`created_by`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[30]||=S(`span`,null,`Created By`,-1),S(`div`,He,[O(z(n),{class:B([`h-3 w-3`,C.sort_by===`created_by`&&C.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),O(z(a),{class:B([`h-3 w-3 -mt-1`,C.sort_by===`created_by`&&C.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),t[33]||=S(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),S(`tbody`,Ue,[(j(!0),T(b,null,M(k.value,e=>(j(),T(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[S(`td`,We,[S(`div`,Ge,V(e.code),1)]),S(`td`,Ke,[S(`div`,qe,[S(`div`,Je,[S(`div`,Ye,[O(z(W),{class:`h-5 w-5 text-blue-600 dark:text-blue-400`})])]),S(`div`,Xe,[S(`div`,Ze,V(e.name),1),S(`div`,Qe,` ID: `+V(e.id),1)])])]),S(`td`,$e,[S(`div`,et,[e.email?(j(),T(`div`,{key:0,class:`truncate max-w-xs`,title:e.email},V(e.email),9,tt)):w(``,!0),e.phone?(j(),T(`div`,nt,V(e.phone),1)):w(``,!0),e.mobile&&e.mobile!==e.phone?(j(),T(`div`,rt,V(e.mobile),1)):w(``,!0)])]),S(`td`,it,[S(`div`,at,V(e.supplier_type?.name||`-`),1),S(`div`,ot,V(e.country?.name||`-`),1)]),S(`td`,st,[S(`div`,{class:B([`text-sm font-medium`,e.balance>=0?`text-green-600 dark:text-green-400`:`text-red-600 dark:text-red-400`])},` $`+V(ae(e.balance)),3),e.opening_balance?(j(),T(`div`,ct,` Opening: $`+V(ae(e.opening_balance)),1)):w(``,!0)]),S(`td`,lt,[O(pe,{active:e.is_active},null,8,[`active`])]),S(`td`,ut,[S(`div`,dt,[S(`div`,ft,V(e.created_by?.name||`-`),1),S(`div`,pt,V(ie(e.created_at)),1)])]),S(`td`,mt,[S(`div`,ht,[y.value?(j(),T(b,{key:1},[S(`button`,{onClick:t=>le(e),class:`text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 transition-colors duration-200`,title:`Restore Supplier`},[O(z(J),{class:`h-4 w-4`})],8,yt),S(`button`,{onClick:t=>de(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Permanently Delete`},[O(z(U),{class:`h-4 w-4`})],8,bt)],64)):(j(),T(b,{key:0},[S(`button`,{onClick:t=>Ft(e),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[O(z(re),{class:`w-4 h-4`})],8,gt),S(`button`,{onClick:t=>Pt(e),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit Supplier`},[O(z(Y),{class:`h-4 w-4`})],8,_t),S(`button`,{onClick:t=>se(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete Supplier`},[O(z(G),{class:`h-4 w-4`})],8,vt)],64))])])]))),128))])])])),N.value&&N.value.total>0?(j(),T(`div`,xt,[S(`div`,St,[S(`div`,Ct,[S(`button`,{onClick:t[10]||=e=>Q(N.value.current_page-1),disabled:N.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,wt),S(`button`,{onClick:t[11]||=e=>Q(N.value.current_page+1),disabled:N.value.current_page>=N.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,Tt)]),S(`div`,Et,[S(`div`,null,[S(`p`,Dt,[t[34]||=D(` Showing `,-1),S(`span`,Ot,V(N.value.from),1),t[35]||=D(` to `,-1),S(`span`,kt,V(N.value.to),1),t[36]||=D(` of `,-1),S(`span`,At,V(N.value.total),1),t[37]||=D(` results `,-1)])]),S(`div`,null,[S(`nav`,jt,[S(`button`,{onClick:t[12]||=e=>Q(N.value.current_page-1),disabled:N.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[O(z(i),{class:`h-5 w-5`})],8,Mt),S(`button`,{onClick:t[13]||=e=>Q(N.value.current_page+1),disabled:N.value.current_page>=N.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[O(z(r),{class:`h-5 w-5`})],8,Nt)])])])])])):w(``,!0)]),O(ce,{show:f.value,"onUpdate:show":t[14]||=e=>f.value=e,type:`delete`,title:E.value.title,message:E.value.message,"confirm-text":E.value.buttonText,"loading-text":E.value.loadingText,loading:d.value,onConfirm:fe,onCancel:he},null,8,[`show`,`title`,`message`,`confirm-text`,`loading-text`,`loading`])]))}}),Ft=Pt,It=class{baseUrl=`/setups/supplier-payment-terms`;async getPaymentTerms(e){try{let t=this.buildQueryParams(e),n=await l(`${this.baseUrl}?${t}`,{loadingMessage:`Loading payment terms...`,showLoading:!0});return{data:n.data.data,pagination:n.data.pagination}}catch(e){throw console.error(`Error fetching payment terms:`,e),e}}async getPaymentTerm(e){try{let t=await l(`${this.baseUrl}/${e}`,{loadingMessage:`Loading payment term...`});return t.data.data}catch(e){throw console.error(`Error fetching payment term:`,e),e}}async createPaymentTerm(e){try{let t=await d(this.baseUrl,e,{loadingMessage:`Creating payment term...`,showSuccessNotification:!0,successMessage:`Payment term created successfully`});return t.data.data}catch(e){throw console.error(`Error creating payment term:`,e),e}}async updatePaymentTerm(e,t){try{let n=await f(`${this.baseUrl}/${e}`,t,{loadingMessage:`Updating payment term...`,showSuccessNotification:!0,successMessage:`Payment term updated successfully`});return n.data.data}catch(e){throw console.error(`Error updating payment term:`,e),e}}async deletePaymentTerm(e){try{await c(`${this.baseUrl}/${e}`,{loadingMessage:`Deleting payment term...`,showSuccessNotification:!0,successMessage:`Payment term deleted successfully`})}catch(e){throw console.error(`Error deleting payment term:`,e),e}}async getTrashedPaymentTerms(e){try{let t=this.buildQueryParams(e),n=await l(`${this.baseUrl}/trashed?${t}`,{loadingMessage:`Loading trashed payment terms...`});return{data:n.data.data,pagination:n.data.pagination}}catch(e){throw console.error(`Error fetching trashed payment terms:`,e),e}}async restorePaymentTerm(e){try{let t=await u(`${this.baseUrl}/${e}/restore`,{},{loadingMessage:`Restoring payment term...`,showSuccessNotification:!0,successMessage:`Payment term restored successfully`});return t.data.data}catch(e){throw console.error(`Error restoring payment term:`,e),e}}async forceDeletePaymentTerm(e){try{await c(`${this.baseUrl}/${e}/force-delete`,{loadingMessage:`Permanently deleting payment term...`,showSuccessNotification:!0,successMessage:`Payment term permanently deleted`})}catch(e){throw console.error(`Error permanently deleting payment term:`,e),e}}async getPaymentTermsForSelect(){try{let e=await l(`${this.baseUrl}`,{showLoading:!1}),t=e.data.data;return t.filter(e=>e.is_active).map(e=>({value:e.id,label:e.name,disabled:!1}))}catch(e){throw console.error(`Error fetching payment terms for select:`,e),e}}buildQueryParams(e){if(!e)return``;let t=new URLSearchParams;return Object.entries(e).forEach(([e,n])=>{n!=null&&n!==``&&t.append(e,String(n))}),t.toString()}};const Lt=new It,Rt=h(`paymentTerms`,()=>{let e=R([]),t=R(null),n=R([]),r=R({current_page:1,per_page:20,total:0,last_page:1,from:null,to:null,has_more_pages:!1,next_page_url:null,prev_page_url:null,first_page_url:``,last_page_url:``}),i=R(!1),a=R({}),o=x(()=>e.value.filter(e=>e.is_active)),s=x(()=>e.value.filter(e=>!e.is_active)),c=x(()=>o.value.map(e=>({value:e.id,label:e.name,disabled:!1}))),l=async t=>{try{i.value=!0,t&&(a.value={...a.value,...t});let n=await Lt.getPaymentTerms(a.value);e.value=n.data,r.value=n.pagination}catch(e){throw console.error(`Error fetching payment terms:`,e),e}finally{i.value=!1}},u=async e=>{try{let n=await Lt.getPaymentTerm(e);return t.value=n,n}catch(e){throw console.error(`Error fetching payment term:`,e),e}},d=async t=>{try{let n=await Lt.createPaymentTerm(t);return e.value.unshift(n),r.value.total+=1,n}catch(e){throw console.error(`Error creating payment term:`,e),e}},f=async(n,r)=>{try{let i=await Lt.updatePaymentTerm(n,r),a=e.value.findIndex(e=>e.id===n);return a!==-1&&(e.value[a]=i),t.value?.id===n&&(t.value=i),i}catch(e){throw console.error(`Error updating payment term:`,e),e}},p=async n=>{try{await Lt.deletePaymentTerm(n);let i=e.value.findIndex(e=>e.id===n);i!==-1&&e.value.splice(i,1),--r.value.total,t.value?.id===n&&(t.value=null)}catch(e){throw console.error(`Error deleting payment term:`,e),e}},m=async e=>{try{i.value=!0;let t=e||{},r=await Lt.getTrashedPaymentTerms(t);n.value=r.data}catch(e){throw console.error(`Error fetching trashed payment terms:`,e),e}finally{i.value=!1}},h=async t=>{try{let i=await Lt.restorePaymentTerm(t),a=n.value.findIndex(e=>e.id===t);return a!==-1&&n.value.splice(a,1),e.value.unshift(i),r.value.total+=1,i}catch(e){throw console.error(`Error restoring payment term:`,e),e}},g=async e=>{try{await Lt.forceDeletePaymentTerm(e);let t=n.value.findIndex(t=>t.id===e);t!==-1&&n.value.splice(t,1)}catch(e){throw console.error(`Error permanently deleting payment term:`,e),e}},_=e=>{a.value={...a.value,...e}},v=()=>{a.value={}},y=()=>{t.value=null},b=()=>{e.value=[],t.value=null,n.value=[],r.value={current_page:1,per_page:20,total:0,last_page:1,from:null,to:null,has_more_pages:!1,next_page_url:null,prev_page_url:null,first_page_url:``,last_page_url:``},a.value={},i.value=!1},S=async()=>{try{return await Lt.getPaymentTermsForSelect()}catch(e){return console.error(`Error fetching payment terms for select:`,e),[]}};return{paymentTerms:e,currentPaymentTerm:t,trashedPaymentTerms:n,pagination:r,loading:i,filters:a,activePaymentTerms:o,inactivePaymentTerms:s,paymentTermsForSelect:c,fetchPaymentTerms:l,fetchPaymentTerm:u,createPaymentTerm:d,updatePaymentTerm:f,deletePaymentTerm:p,fetchTrashedPaymentTerms:m,restorePaymentTerm:h,forceDeletePaymentTerm:g,updateFilters:_,clearFilters:v,clearCurrentPaymentTerm:y,reset:b,fetchPaymentTermsForSelect:S}});function zt(){let e=R({}),t=x(()=>Object.keys(e.value).length>0),n=t=>e.value[t]?.[0],r=n=>{let r={};if(!n.name||n.name.trim().length===0?r.name=[`Supplier name is required`]:n.name.trim().length>255&&(r.name=[`Supplier name must not exceed 255 characters`]),n.opening_balance!==void 0&&n.opening_balance!==null&&(isNaN(n.opening_balance)?r.opening_balance=[`Opening balance must be a valid number`]:n.opening_balance<-999999999999.99?r.opening_balance=[`Opening balance is too low`]:n.opening_balance>999999999999.99&&(r.opening_balance=[`Opening balance is too high`])),n.address!==void 0&&n.address!==null&&n.address.length>1e3&&(r.address=[`Address must not exceed 1000 characters`]),n.phone!==void 0&&n.phone!==null&&n.phone.length>20&&(r.phone=[`Phone number must not exceed 20 characters`]),n.mobile!==void 0&&n.mobile!==null&&n.mobile.length>20&&(r.mobile=[`Mobile number must not exceed 20 characters`]),n.url!==void 0&&n.url!==null&&(n.url.length>255?r.url=[`URL must not exceed 255 characters`]:n.url&&!l(n.url)&&(r.url=[`URL must be a valid web address`])),n.email!==void 0&&n.email!==null&&(n.email.length>255?r.email=[`Email must not exceed 255 characters`]:n.email&&!c(n.email)&&(r.email=[`Email must be a valid email address`])),n.contact_person!==void 0&&n.contact_person!==null&&n.contact_person.length>255&&(r.contact_person=[`Contact person name must not exceed 255 characters`]),n.contact_person_email!==void 0&&n.contact_person_email!==null&&(n.contact_person_email.length>255?r.contact_person_email=[`Contact person email must not exceed 255 characters`]:n.contact_person_email&&!c(n.contact_person_email)&&(r.contact_person_email=[`Contact person email must be a valid email address`])),n.contact_person_mobile!==void 0&&n.contact_person_mobile!==null&&n.contact_person_mobile.length>20&&(r.contact_person_mobile=[`Contact person mobile must not exceed 20 characters`]),n.ship_from!==void 0&&n.ship_from!==null&&n.ship_from.length>255&&(r.ship_from=[`Ship from location must not exceed 255 characters`]),n.bank_info!==void 0&&n.bank_info!==null&&n.bank_info.length>1e3&&(r.bank_info=[`Bank info must not exceed 1000 characters`]),n.discount_percentage!==void 0&&n.discount_percentage!==null&&(isNaN(n.discount_percentage)?r.discount_percentage=[`Discount percentage must be a valid number`]:n.discount_percentage<0?r.discount_percentage=[`Discount percentage cannot be negative`]:n.discount_percentage>100&&(r.discount_percentage=[`Discount percentage cannot exceed 100%`])),n.notes!==void 0&&n.notes!==null&&n.notes.length>2e3&&(r.notes=[`Notes must not exceed 2000 characters`]),n.attachments!==void 0&&n.attachments!==null){if(!Array.isArray(n.attachments))r.attachments=[`Attachments must be an array`];else for(let e=0;e<n.attachments.length;e++)if(typeof n.attachments[e]!=`string`||n.attachments[e].length>255){r.attachments=[`Each attachment must be a string with maximum 255 characters`];break}}return e.value=r,!t.value},i=n=>{let r={};if(n.name!==void 0&&(!n.name||n.name.trim().length===0?r.name=[`Supplier name is required`]:n.name.trim().length>255&&(r.name=[`Supplier name must not exceed 255 characters`])),n.opening_balance!==void 0&&n.opening_balance!==null&&(isNaN(n.opening_balance)?r.opening_balance=[`Opening balance must be a valid number`]:n.opening_balance<-999999999999.99?r.opening_balance=[`Opening balance is too low`]:n.opening_balance>999999999999.99&&(r.opening_balance=[`Opening balance is too high`])),n.address!==void 0&&n.address!==null&&n.address.length>1e3&&(r.address=[`Address must not exceed 1000 characters`]),n.phone!==void 0&&n.phone!==null&&n.phone.length>20&&(r.phone=[`Phone number must not exceed 20 characters`]),n.mobile!==void 0&&n.mobile!==null&&n.mobile.length>20&&(r.mobile=[`Mobile number must not exceed 20 characters`]),n.url!==void 0&&n.url!==null&&(n.url.length>255?r.url=[`URL must not exceed 255 characters`]:n.url&&!l(n.url)&&(r.url=[`URL must be a valid web address`])),n.email!==void 0&&n.email!==null&&(n.email.length>255?r.email=[`Email must not exceed 255 characters`]:n.email&&!c(n.email)&&(r.email=[`Email must be a valid email address`])),n.contact_person!==void 0&&n.contact_person!==null&&n.contact_person.length>255&&(r.contact_person=[`Contact person name must not exceed 255 characters`]),n.contact_person_email!==void 0&&n.contact_person_email!==null&&(n.contact_person_email.length>255?r.contact_person_email=[`Contact person email must not exceed 255 characters`]:n.contact_person_email&&!c(n.contact_person_email)&&(r.contact_person_email=[`Contact person email must be a valid email address`])),n.contact_person_mobile!==void 0&&n.contact_person_mobile!==null&&n.contact_person_mobile.length>20&&(r.contact_person_mobile=[`Contact person mobile must not exceed 20 characters`]),n.ship_from!==void 0&&n.ship_from!==null&&n.ship_from.length>255&&(r.ship_from=[`Ship from location must not exceed 255 characters`]),n.bank_info!==void 0&&n.bank_info!==null&&n.bank_info.length>1e3&&(r.bank_info=[`Bank info must not exceed 1000 characters`]),n.discount_percentage!==void 0&&n.discount_percentage!==null&&(isNaN(n.discount_percentage)?r.discount_percentage=[`Discount percentage must be a valid number`]:n.discount_percentage<0?r.discount_percentage=[`Discount percentage cannot be negative`]:n.discount_percentage>100&&(r.discount_percentage=[`Discount percentage cannot exceed 100%`])),n.notes!==void 0&&n.notes!==null&&n.notes.length>2e3&&(r.notes=[`Notes must not exceed 2000 characters`]),n.attachments!==void 0&&n.attachments!==null){if(!Array.isArray(n.attachments))r.attachments=[`Attachments must be an array`];else for(let e=0;e<n.attachments.length;e++)if(typeof n.attachments[e]!=`string`||n.attachments[e].length>255){r.attachments=[`Each attachment must be a string with maximum 255 characters`];break}}return e.value=r,!t.value},a=()=>{e.value={}},o=t=>{e.value[t]&&delete e.value[t]},s=t=>{e.value=t},c=e=>{let t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},l=e=>{try{return new URL(e),!0}catch{return!1}};return{errors:e,hasErrors:t,getFieldError:n,validateCreateRequest:r,validateUpdateRequest:i,clearErrors:a,clearFieldError:o,setServerErrors:s}}const Bt={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Vt={class:`max-w-4xl mx-auto`},Ht={class:`mb-8`},Ut={class:`flex items-center space-x-4 mb-2`},Wt={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Gt={class:`px-6 py-8`},Kt={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},qt={key:0,class:`mt-1 text-xs text-gray-500`},Jt=[`disabled`],Yt=[`value`],Xt={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Zt=[`disabled`],Qt=[`value`],$t={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},en={class:`flex items-start pt-6`},tn={class:`flex items-center h-5`},nn=[`disabled`],rn={class:`space-y-6`},an=[`disabled`],on={class:`flex justify-between items-center mt-1`},sn={key:0,class:`text-sm text-red-600 dark:text-red-400`},cn={class:`text-xs text-gray-500 ml-auto`},ln={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},un={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},dn={class:`grid grid-cols-1 md:grid-cols-3 gap-6`},fn={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},pn=[`disabled`],mn=[`value`],hn={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},gn=[`disabled`],_n=[`value`],vn={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},yn={class:`mt-6`},bn=[`disabled`],xn={class:`flex justify-between items-center mt-1`},Sn={key:0,class:`text-sm text-red-600 dark:text-red-400`},Cn={class:`text-xs text-gray-500 ml-auto`},wn={class:`mb-6`},Tn=[`disabled`],En={class:`flex justify-between items-center mt-1`},Dn={key:0,class:`text-sm text-red-600 dark:text-red-400`},On={class:`text-xs text-gray-500 ml-auto`},kn={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},An=[`disabled`],jn=[`disabled`],Mn={key:0,class:`flex items-center justify-center`},Nn={key:1},Pn={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Fn={class:`flex`},In={class:`flex-shrink-0`};var Ln=k({__name:`CreatePage`,emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=t,r=oe(),i=ge(),a=ue(),o=Rt(),c=de(),{errors:l,hasErrors:u,getFieldError:d,validateCreateRequest:f,clearFieldError:p,setServerErrors:m,clearErrors:h}=zt(),C=R(!1),k=R([]),N=R(),P=R({name:``,supplier_type_id:void 0,country_id:void 0,opening_balance:void 0,address:``,phone:``,mobile:``,url:``,email:``,contact_person:``,contact_person_email:``,contact_person_mobile:``,payment_term_id:void 0,ship_from:``,bank_info:``,discount_percentage:void 0,currency_id:void 0,notes:``,attachments:[],is_active:!0}),F=x(()=>i.supplierTypes),L=x(()=>a.countries),U=x(()=>o.paymentTerms),W=x(()=>c.currencies),G=x(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return C.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),K=x(()=>P.value.name.trim().length>0&&P.value.name.length<=255),q=()=>{P.value={name:``,supplier_type_id:void 0,country_id:void 0,opening_balance:void 0,address:``,phone:``,mobile:``,url:``,email:``,contact_person:``,contact_person_email:``,contact_person_mobile:``,payment_term_id:void 0,ship_from:``,bank_info:``,discount_percentage:void 0,currency_id:void 0,notes:``,attachments:[],is_active:!0},k.value=[],N.value&&(N.value.value=``),h()},J=e=>{p(`attachments`),k.value=e},ee=async()=>{if(h(),f(P.value))try{C.value=!0;let e;if(k.value.length>0){let t=new FormData;Object.entries(P.value).forEach(([e,n])=>{n!=null&&n!==``&&e!==`attachments`&&(typeof n==`boolean`?t.append(e,n?`1`:`0`):t.append(e,n.toString()))}),k.value.forEach((e,n)=>{t.append(`documents[]`,e)}),e=t}else e=P.value;let t;t=e instanceof FormData?await r.createSupplierWithFiles(e):await r.createSupplier(e),q(),n(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&m(e.response.data.errors)}finally{C.value=!1}},Y=()=>{q(),n(`cancel`)},te=()=>{n(`back`)};return A(async()=>{q();try{await Promise.all([i.fetchSupplierTypes(),a.fetchCountries(),o.fetchPaymentTerms(),c.fetchCurrencies()])}catch(e){console.error(`Error loading dropdown data:`,e)}}),(e,t)=>(j(),T(`div`,Bt,[S(`div`,Vt,[S(`div`,Ht,[S(`div`,Ut,[S(`button`,{onClick:te,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[O(z(s),{class:`w-5 h-5`})]),t[38]||=S(`div`,null,[S(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create Supplier `),S(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new supplier to your business network `)],-1)])]),S(`div`,Wt,[S(`div`,Gt,[S(`form`,{onSubmit:y(ee,[`prevent`]),class:`space-y-8`},[S(`div`,null,[t[44]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Main Information `,-1),S(`div`,Kt,[S(`div`,null,[O(H,{type:`text`,maxlength:255,disabled:C.value,onBlur:t[0]||=()=>z(p)(`name`),modelValue:P.value.name,"onUpdate:modelValue":t[1]||=e=>P.value.name=e,placeholder:`Enter supplier name`,error:z(d)(`name`),required:``,label:`Supplier Name`},null,8,[`disabled`,`modelValue`,`error`]),P.value.name.length>0?(j(),T(`p`,qt,V(P.value.name.length)+`/255 characters `,1)):w(``,!0)]),S(`div`,null,[t[40]||=S(`label`,{for:`supplier_type_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Supplier Type `,-1),I(S(`select`,{id:`supplier_type_id`,"onUpdate:modelValue":t[2]||=e=>P.value.supplier_type_id=e,disabled:C.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:t[3]||=()=>z(p)(`supplier_type_id`)},[t[39]||=S(`option`,{value:``},`Select supplier type`,-1),(j(!0),T(b,null,M(F.value,e=>(j(),T(`option`,{key:e.id,value:e.id},V(e.name),9,Yt))),128))],40,Jt),[[_,P.value.supplier_type_id]]),z(d)(`supplier_type_id`)?(j(),T(`p`,Xt,V(z(d)(`supplier_type_id`)),1)):w(``,!0)]),S(`div`,null,[t[42]||=S(`label`,{for:`country_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Country `,-1),I(S(`select`,{id:`country_id`,"onUpdate:modelValue":t[4]||=e=>P.value.country_id=e,disabled:C.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:t[5]||=()=>z(p)(`country_id`)},[t[41]||=S(`option`,{value:``},`Select country`,-1),(j(!0),T(b,null,M(L.value,e=>(j(),T(`option`,{key:e.id,value:e.id},V(e.name),9,Qt))),128))],40,Zt),[[_,P.value.country_id]]),z(d)(`country_id`)?(j(),T(`p`,$t,V(z(d)(`country_id`)),1)):w(``,!0)]),S(`div`,null,[O(H,{type:`number`,step:`0.01`,disabled:C.value,onBlur:t[6]||=()=>z(p)(`opening_balance`),modelValue:P.value.opening_balance,"onUpdate:modelValue":t[7]||=e=>P.value.opening_balance=e,placeholder:`0.00`,error:z(d)(`opening_balance`),label:`Opening Balance`},null,8,[`disabled`,`modelValue`,`error`])]),S(`div`,en,[S(`div`,tn,[I(S(`input`,{id:`is_active`,"onUpdate:modelValue":t[8]||=e=>P.value.is_active=e,type:`checkbox`,disabled:C.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,nn),[[g,P.value.is_active]])]),t[43]||=S(`div`,{class:`ml-3`},[S(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),S(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this supplier will be available for transactions `)],-1)])])]),S(`div`,null,[t[46]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Contact Information `,-1),S(`div`,rn,[S(`div`,null,[t[45]||=S(`label`,{for:`address`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Address `,-1),I(S(`textarea`,{id:`address`,"onUpdate:modelValue":t[9]||=e=>P.value.address=e,rows:`3`,placeholder:`Enter supplier address`,disabled:C.value,class:B([G.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:t[10]||=()=>z(p)(`address`),maxlength:`1000`},null,42,an),[[v,P.value.address]]),S(`div`,on,[z(d)(`address`)?(j(),T(`p`,sn,V(z(d)(`address`)),1)):w(``,!0),S(`p`,cn,V(P.value.address?.length||0)+`/1000 characters `,1)])]),S(`div`,ln,[S(`div`,null,[O(H,{type:`tel`,maxlength:20,disabled:C.value,onBlur:t[11]||=()=>z(p)(`phone`),modelValue:P.value.phone,"onUpdate:modelValue":t[12]||=e=>P.value.phone=e,placeholder:`Enter phone number`,error:z(d)(`phone`),label:`Phone`},null,8,[`disabled`,`modelValue`,`error`])]),S(`div`,null,[O(H,{type:`tel`,maxlength:20,disabled:C.value,onBlur:t[13]||=()=>z(p)(`mobile`),modelValue:P.value.mobile,"onUpdate:modelValue":t[14]||=e=>P.value.mobile=e,placeholder:`Enter mobile number`,error:z(d)(`mobile`),label:`Mobile`},null,8,[`disabled`,`modelValue`,`error`])])]),S(`div`,un,[S(`div`,null,[O(H,{type:`email`,maxlength:255,disabled:C.value,onBlur:t[15]||=()=>z(p)(`email`),modelValue:P.value.email,"onUpdate:modelValue":t[16]||=e=>P.value.email=e,placeholder:`Enter email address`,error:z(d)(`email`),label:`Email`},null,8,[`disabled`,`modelValue`,`error`])]),S(`div`,null,[O(H,{type:`text`,maxlength:255,disabled:C.value,onBlur:t[17]||=()=>z(p)(`url`),modelValue:P.value.url,"onUpdate:modelValue":t[18]||=e=>P.value.url=e,placeholder:`Enter website URL`,error:z(d)(`url`),label:`Website`},null,8,[`disabled`,`modelValue`,`error`])])]),S(`div`,dn,[S(`div`,null,[O(H,{type:`text`,maxlength:255,disabled:C.value,onBlur:t[19]||=()=>z(p)(`contact_person`),modelValue:P.value.contact_person,"onUpdate:modelValue":t[20]||=e=>P.value.contact_person=e,placeholder:`Enter contact person name`,error:z(d)(`contact_person`),label:`Contact Person`},null,8,[`disabled`,`modelValue`,`error`])]),S(`div`,null,[O(H,{type:`email`,maxlength:255,disabled:C.value,onBlur:t[21]||=()=>z(p)(`contact_person_email`),modelValue:P.value.contact_person_email,"onUpdate:modelValue":t[22]||=e=>P.value.contact_person_email=e,placeholder:`Enter contact person email`,error:z(d)(`contact_person_email`),label:`Contact Email`},null,8,[`disabled`,`modelValue`,`error`])]),S(`div`,null,[O(H,{type:`tel`,maxlength:20,disabled:C.value,onBlur:t[23]||=()=>z(p)(`contact_person_mobile`),modelValue:P.value.contact_person_mobile,"onUpdate:modelValue":t[24]||=e=>P.value.contact_person_mobile=e,placeholder:`Enter contact person mobile`,error:z(d)(`contact_person_mobile`),label:`Contact Mobile`},null,8,[`disabled`,`modelValue`,`error`])])])])]),S(`div`,null,[t[52]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Purchase Information `,-1),S(`div`,fn,[S(`div`,null,[t[48]||=S(`label`,{for:`payment_term_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Payment Term `,-1),I(S(`select`,{id:`payment_term_id`,"onUpdate:modelValue":t[25]||=e=>P.value.payment_term_id=e,disabled:C.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:t[26]||=()=>z(p)(`payment_term_id`)},[t[47]||=S(`option`,{value:``},`Select payment term`,-1),(j(!0),T(b,null,M(U.value,e=>(j(),T(`option`,{key:e.id,value:e.id},V(e.name),9,mn))),128))],40,pn),[[_,P.value.payment_term_id]]),z(d)(`payment_term_id`)?(j(),T(`p`,hn,V(z(d)(`payment_term_id`)),1)):w(``,!0)]),S(`div`,null,[t[50]||=S(`label`,{for:`currency_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Currency `,-1),I(S(`select`,{id:`currency_id`,"onUpdate:modelValue":t[27]||=e=>P.value.currency_id=e,disabled:C.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:t[28]||=()=>z(p)(`currency_id`)},[t[49]||=S(`option`,{value:``},`Select currency`,-1),(j(!0),T(b,null,M(W.value,e=>(j(),T(`option`,{key:e.id,value:e.id},V(e.name)+` (`+V(e.code)+`) `,9,_n))),128))],40,gn),[[_,P.value.currency_id]]),z(d)(`currency_id`)?(j(),T(`p`,vn,V(z(d)(`currency_id`)),1)):w(``,!0)]),S(`div`,null,[O(H,{type:`text`,maxlength:255,disabled:C.value,onBlur:t[29]||=()=>z(p)(`ship_from`),modelValue:P.value.ship_from,"onUpdate:modelValue":t[30]||=e=>P.value.ship_from=e,placeholder:`Enter shipping location`,error:z(d)(`ship_from`),label:`Ship From`},null,8,[`disabled`,`modelValue`,`error`])]),S(`div`,null,[O(H,{type:`number`,step:`0.01`,min:`0`,max:`100`,disabled:C.value,onBlur:t[31]||=()=>z(p)(`discount_percentage`),modelValue:P.value.discount_percentage,"onUpdate:modelValue":t[32]||=e=>P.value.discount_percentage=e,placeholder:`0.00`,error:z(d)(`discount_percentage`),label:`Discount Percentage (%)`},null,8,[`disabled`,`modelValue`,`error`])])]),S(`div`,yn,[t[51]||=S(`label`,{for:`bank_info`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Bank Information `,-1),I(S(`textarea`,{id:`bank_info`,"onUpdate:modelValue":t[33]||=e=>P.value.bank_info=e,rows:`3`,placeholder:`Enter bank account details, routing numbers, etc.`,disabled:C.value,class:B([G.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:t[34]||=()=>z(p)(`bank_info`),maxlength:`1000`},null,42,bn),[[v,P.value.bank_info]]),S(`div`,xn,[z(d)(`bank_info`)?(j(),T(`p`,Sn,V(z(d)(`bank_info`)),1)):w(``,!0),S(`p`,Cn,V(P.value.bank_info?.length||0)+`/1000 characters `,1)])])]),S(`div`,null,[t[55]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Additional Information `,-1),S(`div`,wn,[t[53]||=S(`label`,{for:`notes`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Notes `,-1),I(S(`textarea`,{id:`notes`,"onUpdate:modelValue":t[35]||=e=>P.value.notes=e,rows:`4`,placeholder:`Enter additional notes about this supplier (optional)`,disabled:C.value,class:B([G.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:t[36]||=()=>z(p)(`notes`),maxlength:`2000`},null,42,Tn),[[v,P.value.notes]]),S(`div`,En,[z(d)(`notes`)?(j(),T(`p`,Dn,V(z(d)(`notes`)),1)):w(``,!0),S(`p`,On,V(P.value.notes?.length||0)+`/2000 characters `,1)])]),S(`div`,null,[t[54]||=S(`label`,{for:`attachments`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Attachments `,-1),O(ae,{modelValue:k.value,"onUpdate:modelValue":t[37]||=e=>k.value=e,"max-files":10,"max-size":10*1024*1024,disabled:C.value,accept:`.pdf,.jpg,.png`,onChange:J},null,8,[`modelValue`,`disabled`])])]),S(`div`,kn,[S(`button`,{type:`button`,onClick:Y,disabled:C.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,An),S(`button`,{type:`submit`,disabled:C.value||z(u)||!K.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[C.value?(j(),T(`div`,Mn,t[56]||=[S(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),D(` Creating... `,-1)])):(j(),T(`span`,Nn,`Create Supplier`))],8,jn)])],32)])]),S(`div`,Pn,[S(`div`,Fn,[S(`div`,In,[O(z(X),{class:`h-5 w-5 text-blue-400`})]),t[57]||=E(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> About Suppliers </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Suppliers are vendors or companies that provide goods and services to your business. Each supplier should have: </p><ul class="list-disc list-inside space-y-1"><li>A unique name for easy identification</li><li>Complete contact information for communication</li><li>Payment terms and currency preferences</li><li>Active status to control availability for purchases</li><li>Optional notes for special terms or requirements</li></ul></div></div>`,1)])])])]))}}),Rn=Ln;const zn={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Bn={class:`max-w-4xl mx-auto`},Vn={class:`mb-8`},Hn={class:`flex items-center space-x-4 mb-2`},Un={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Wn={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Gn={class:`px-6 py-8`},Kn={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},qn={key:0,class:`mt-1 text-xs text-gray-500`},Jn=[`disabled`],Yn=[`value`],Xn={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Zn=[`disabled`],Qn=[`value`],$n={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},er={class:`flex items-start pt-6`},tr={class:`flex items-center h-5`},nr=[`disabled`],rr={class:`space-y-6`},ir=[`disabled`],ar={class:`flex justify-between items-center mt-1`},or={key:0,class:`text-sm text-red-600 dark:text-red-400`},sr={class:`text-xs text-gray-500 ml-auto`},cr={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},lr={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},ur={class:`grid grid-cols-1 md:grid-cols-3 gap-6`},dr={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},fr=[`disabled`],pr=[`value`],mr={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},hr=[`disabled`],gr=[`value`],_r={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},vr={class:`mt-6`},yr=[`disabled`],br={class:`flex justify-between items-center mt-1`},xr={key:0,class:`text-sm text-red-600 dark:text-red-400`},Sr={class:`text-xs text-gray-500 ml-auto`},Cr={class:`mb-6`},wr=[`disabled`],Tr={class:`flex justify-between items-center mt-1`},Er={key:0,class:`text-sm text-red-600 dark:text-red-400`},Dr={class:`text-xs text-gray-500 ml-auto`},Or={key:0,class:`mb-4`},kr={class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},Ar={class:`space-y-2`},jr={class:`flex items-center space-x-3`},Mr={class:`flex-shrink-0`},Nr={class:`text-sm font-medium text-gray-900 dark:text-gray-100`},Pr={class:`text-xs text-gray-500 dark:text-gray-400`},Fr={class:`flex items-center space-x-2`},Ir=[`onClick`,`disabled`],Lr=[`onClick`,`disabled`],Rr={class:`mt-2`},zr={key:1,class:`mt-2`},Br={class:`text-xs text-gray-500 dark:text-gray-400`},Vr={key:2,class:`mt-2`},Hr={class:`text-sm text-red-600 dark:text-red-400`},Ur={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Wr=[`disabled`],Gr=[`disabled`],Kr={key:0,class:`flex items-center justify-center`},qr={key:1},Jr={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Yr={class:`flex flex-col items-center`},Xr={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Zr={class:`flex`},Qr={class:`flex-shrink-0`};var $r=k({__name:`EditPage`,props:{id:{},supplier:{}},emits:[`back`,`success`,`cancel`],setup(e,{emit:n}){let r=e,i=n,a=oe(),o=ge(),c=ue(),l=Rt(),u=de(),{errors:d,hasErrors:f,getFieldError:p,validateUpdateRequest:m,clearFieldError:h,setServerErrors:C,clearErrors:k}=zt(),N=R(!1),F=R(!1),L=R([]),W=R({name:``,supplier_type_id:void 0,country_id:void 0,opening_balance:void 0,address:``,phone:``,mobile:``,url:``,email:``,contact_person:``,contact_person_email:``,contact_person_mobile:``,payment_term_id:void 0,ship_from:``,bank_info:``,discount_percentage:void 0,currency_id:void 0,notes:``,attachments:[],documents:[],is_active:!0}),G=R({name:``,supplier_type_id:void 0,country_id:void 0,opening_balance:void 0,address:``,phone:``,mobile:``,url:``,email:``,contact_person:``,contact_person_email:``,contact_person_mobile:``,payment_term_id:void 0,ship_from:``,bank_info:``,discount_percentage:void 0,currency_id:void 0,notes:``,attachments:[],documents:[],is_active:!0}),K=x(()=>o.supplierTypes),q=x(()=>c.countries),J=x(()=>l.paymentTerms),ee=x(()=>u.currencies),Y=x(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return N.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),te=x(()=>W.value.name.trim().length>0&&W.value.name.length<=255);x(()=>L.value.length>0);let ne=x(()=>(W.value.documents?.length||0)+L.value.length),Z=x(()=>W.value.documents||[]),re=async()=>{try{F.value=!0;let e=r.supplier||await a.fetchSupplier(r.id);e&&(W.value={name:e.name,supplier_type_id:e.supplier_type_id||void 0,country_id:e.country_id||void 0,opening_balance:e.opening_balance||void 0,address:e.address||``,phone:e.phone||``,mobile:e.mobile||``,url:e.url||``,email:e.email||``,contact_person:e.contact_person||``,contact_person_email:e.contact_person_email||``,contact_person_mobile:e.contact_person_mobile||``,payment_term_id:e.payment_term_id||void 0,ship_from:e.ship_from||``,bank_info:e.bank_info||``,discount_percentage:e.discount_percentage||void 0,currency_id:e.currency_id||void 0,notes:e.notes||``,attachments:e.attachments||[],documents:e.documents||[],is_active:e.is_active},G.value={...W.value},k())}catch(e){console.error(`Error loading supplier:`,e)}finally{F.value=!1}},ce=e=>{if(ne.value+e.length>10){h(`attachments`),C({attachments:[`Maximum 10 files allowed in total`]});return}h(`attachments`)},le=e=>{C({attachments:[e]})},fe=async(e,t)=>{let n=e.title||e.original_name,r=confirm(`Are you sure you want to delete "${n}"?\n\nThis action cannot be undone.`);if(r)try{N.value=!0,console.log(e.id),await se.delete(e.id),W.value.documents.splice(t,1),h(`attachments`)}catch(e){console.error(`Error deleting document:`,e)}finally{N.value=!1}},pe=async e=>{try{await se.download(e)}catch(e){console.error(`Error downloading document:`,e)}},me=e=>new Date(e).toLocaleDateString(`en-US`,{year:`numeric`,month:`short`,day:`numeric`}),he=async()=>{if(k(),m(W.value))try{N.value=!0;let e;if(L.value.length>0){let t=new FormData;Object.entries(W.value).forEach(([e,n])=>{n!=null&&n!==``&&e!==`attachments`&&(typeof n==`boolean`?t.append(e,n?`1`:`0`):t.append(e,n.toString()))}),W.value.attachments&&W.value.attachments.length>0&&W.value.attachments.forEach((e,n)=>{t.append(`existing_attachments[${n}]`,e)}),L.value.forEach((e,n)=>{t.append(`attachments[${n}]`,e)}),e=t}else e={name:W.value.name,supplier_type_id:W.value.supplier_type_id,country_id:W.value.country_id,opening_balance:W.value.opening_balance,address:W.value.address,phone:W.value.phone,mobile:W.value.mobile,url:W.value.url,email:W.value.email,contact_person:W.value.contact_person,contact_person_email:W.value.contact_person_email,contact_person_mobile:W.value.contact_person_mobile,payment_term_id:W.value.payment_term_id,ship_from:W.value.ship_from,bank_info:W.value.bank_info,discount_percentage:W.value.discount_percentage,currency_id:W.value.currency_id,notes:W.value.notes,attachments:W.value.attachments,is_active:W.value.is_active};let t;console.log(r.id),e instanceof FormData?(e.append(`_method`,`PUT`),t=await a.updateSupplierWithFiles(r.id,e)):t=await a.updateSupplier(r.id,e),L.value=[],G.value={...W.value},i(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&C(e.response.data.errors)}finally{N.value=!1}},$=()=>{i(`cancel`)},_e=()=>{i(`back`)};return A(async()=>{try{F.value=!0,await Promise.all([o.fetchSupplierTypes(),c.fetchCountries(),l.fetchPaymentTerms(),u.fetchCurrencies()])}catch(e){console.error(`Error loading dropdown data:`,e)}finally{F.value=!1}await re()}),P(()=>r.id,()=>{r.id&&re()}),(e,n)=>(j(),T(`div`,zn,[S(`div`,Bn,[S(`div`,Vn,[S(`div`,Hn,[S(`button`,{onClick:_e,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[O(z(s),{class:`w-5 h-5`})]),n[38]||=S(`div`,null,[S(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Supplier `),S(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update supplier information and business details `)],-1)])]),F.value?(j(),T(`div`,Un,n[39]||=[S(`div`,{class:`flex items-center justify-center`},[S(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),S(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading supplier...`)],-1)])):W.value?(j(),T(`div`,Wn,[S(`div`,Gn,[S(`form`,{onSubmit:y(he,[`prevent`]),class:`space-y-8`},[S(`div`,null,[n[45]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Main Information `,-1),S(`div`,Kn,[S(`div`,null,[O(H,{id:`name`,modelValue:W.value.name,"onUpdate:modelValue":n[0]||=e=>W.value.name=e,label:`Supplier Name`,type:`text`,placeholder:`Enter supplier name`,disabled:N.value,error:z(p)(`name`),maxlength:255,required:``,onBlur:n[1]||=()=>z(h)(`name`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),W.value.name.length>0?(j(),T(`p`,qn,V(W.value.name.length)+`/255 characters `,1)):w(``,!0)]),S(`div`,null,[n[41]||=S(`label`,{for:`supplier_type_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Supplier Type `,-1),I(S(`select`,{id:`supplier_type_id`,"onUpdate:modelValue":n[2]||=e=>W.value.supplier_type_id=e,disabled:N.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:n[3]||=()=>z(h)(`supplier_type_id`)},[n[40]||=S(`option`,{value:``},`Select supplier type`,-1),(j(!0),T(b,null,M(K.value,e=>(j(),T(`option`,{key:e.id,value:e.id},V(e.name),9,Yn))),128))],40,Jn),[[_,W.value.supplier_type_id]]),z(p)(`supplier_type_id`)?(j(),T(`p`,Xn,V(z(p)(`supplier_type_id`)),1)):w(``,!0)]),S(`div`,null,[n[43]||=S(`label`,{for:`country_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Country `,-1),I(S(`select`,{id:`country_id`,"onUpdate:modelValue":n[4]||=e=>W.value.country_id=e,disabled:N.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:n[5]||=()=>z(h)(`country_id`)},[n[42]||=S(`option`,{value:``},`Select country`,-1),(j(!0),T(b,null,M(q.value,e=>(j(),T(`option`,{key:e.id,value:e.id},V(e.name),9,Qn))),128))],40,Zn),[[_,W.value.country_id]]),z(p)(`country_id`)?(j(),T(`p`,$n,V(z(p)(`country_id`)),1)):w(``,!0)]),S(`div`,null,[O(H,{id:`opening_balance`,label:`Opening Balance`,modelValue:W.value.opening_balance,"onUpdate:modelValue":n[6]||=e=>W.value.opening_balance=e,type:`number`,required:``,step:`0.01`,placeholder:`0.00`,disabled:N.value,error:z(p)(`opening_balance`),onBlur:n[7]||=()=>z(h)(`opening_balance`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),S(`div`,er,[S(`div`,tr,[I(S(`input`,{id:`is_active`,"onUpdate:modelValue":n[8]||=e=>W.value.is_active=e,type:`checkbox`,disabled:N.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,nr),[[g,W.value.is_active]])]),n[44]||=S(`div`,{class:`ml-3`},[S(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),S(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this supplier will be available for transactions `)],-1)])])]),S(`div`,null,[n[54]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Contact Information `,-1),S(`div`,rr,[S(`div`,null,[n[46]||=S(`label`,{for:`address`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Address `,-1),I(S(`textarea`,{id:`address`,"onUpdate:modelValue":n[9]||=e=>W.value.address=e,rows:`3`,placeholder:`Enter supplier address`,disabled:N.value,class:B([Y.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:n[10]||=()=>z(h)(`address`),maxlength:`1000`},null,42,ir),[[v,W.value.address]]),S(`div`,ar,[z(p)(`address`)?(j(),T(`p`,or,V(z(p)(`address`)),1)):w(``,!0),S(`p`,sr,V(W.value.address?.length||0)+`/1000 characters `,1)])]),S(`div`,cr,[S(`div`,null,[n[47]||=S(`label`,{for:`phone`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Phone `,-1),O(H,{id:`phone`,modelValue:W.value.phone,"onUpdate:modelValue":n[11]||=e=>W.value.phone=e,type:`tel`,placeholder:`Enter phone number`,disabled:N.value,error:z(p)(`phone`),maxlength:20,onBlur:n[12]||=()=>z(h)(`phone`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),S(`div`,null,[n[48]||=S(`label`,{for:`mobile`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Mobile `,-1),O(H,{id:`mobile`,modelValue:W.value.mobile,"onUpdate:modelValue":n[13]||=e=>W.value.mobile=e,type:`tel`,placeholder:`Enter mobile number`,disabled:N.value,error:z(p)(`mobile`),maxlength:20,onBlur:n[14]||=()=>z(h)(`mobile`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])]),S(`div`,lr,[S(`div`,null,[n[49]||=S(`label`,{for:`email`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Email `,-1),O(H,{id:`email`,modelValue:W.value.email,"onUpdate:modelValue":n[15]||=e=>W.value.email=e,type:`email`,placeholder:`Enter email address`,disabled:N.value,error:z(p)(`email`),maxlength:255,onBlur:n[16]||=()=>z(h)(`email`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),S(`div`,null,[n[50]||=S(`label`,{for:`url`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Website `,-1),O(H,{id:`url`,modelValue:W.value.url,"onUpdate:modelValue":n[17]||=e=>W.value.url=e,type:`url`,placeholder:`Enter website URL`,disabled:N.value,error:z(p)(`url`),maxlength:255,onBlur:n[18]||=()=>z(h)(`url`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])]),S(`div`,ur,[S(`div`,null,[n[51]||=S(`label`,{for:`contact_person`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Contact Person `,-1),O(H,{id:`contact_person`,modelValue:W.value.contact_person,"onUpdate:modelValue":n[19]||=e=>W.value.contact_person=e,type:`text`,placeholder:`Enter contact person name`,disabled:N.value,error:z(p)(`contact_person`),maxlength:255,onBlur:n[20]||=()=>z(h)(`contact_person`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),S(`div`,null,[n[52]||=S(`label`,{for:`contact_person_email`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Contact Email `,-1),O(H,{id:`contact_person_email`,modelValue:W.value.contact_person_email,"onUpdate:modelValue":n[21]||=e=>W.value.contact_person_email=e,type:`email`,placeholder:`Enter contact person email`,disabled:N.value,error:z(p)(`contact_person_email`),maxlength:255,onBlur:n[22]||=()=>z(h)(`contact_person_email`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),S(`div`,null,[n[53]||=S(`label`,{for:`contact_person_mobile`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Contact Mobile `,-1),O(H,{id:`contact_person_mobile`,modelValue:W.value.contact_person_mobile,"onUpdate:modelValue":n[23]||=e=>W.value.contact_person_mobile=e,type:`tel`,placeholder:`Enter contact person mobile`,disabled:N.value,error:z(p)(`contact_person_mobile`),maxlength:20,onBlur:n[24]||=()=>z(h)(`contact_person_mobile`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])])])]),S(`div`,null,[n[62]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Purchase Information `,-1),S(`div`,dr,[S(`div`,null,[n[56]||=S(`label`,{for:`payment_term_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Payment Term `,-1),I(S(`select`,{id:`payment_term_id`,"onUpdate:modelValue":n[25]||=e=>W.value.payment_term_id=e,disabled:N.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:n[26]||=()=>z(h)(`payment_term_id`)},[n[55]||=S(`option`,{value:``},`Select payment term`,-1),(j(!0),T(b,null,M(J.value,e=>(j(),T(`option`,{key:e.id,value:e.id},V(e.name),9,pr))),128))],40,fr),[[_,W.value.payment_term_id]]),z(p)(`payment_term_id`)?(j(),T(`p`,mr,V(z(p)(`payment_term_id`)),1)):w(``,!0)]),S(`div`,null,[n[58]||=S(`label`,{for:`currency_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Currency `,-1),I(S(`select`,{id:`currency_id`,"onUpdate:modelValue":n[27]||=e=>W.value.currency_id=e,disabled:N.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:n[28]||=()=>z(h)(`currency_id`)},[n[57]||=S(`option`,{value:``},`Select currency`,-1),(j(!0),T(b,null,M(ee.value,e=>(j(),T(`option`,{key:e.id,value:e.id},V(e.name)+` (`+V(e.code)+`) `,9,gr))),128))],40,hr),[[_,W.value.currency_id]]),z(p)(`currency_id`)?(j(),T(`p`,_r,V(z(p)(`currency_id`)),1)):w(``,!0)]),S(`div`,null,[n[59]||=S(`label`,{for:`ship_from`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Ship From `,-1),O(H,{id:`ship_from`,modelValue:W.value.ship_from,"onUpdate:modelValue":n[29]||=e=>W.value.ship_from=e,type:`text`,placeholder:`Enter shipping location`,disabled:N.value,error:z(p)(`ship_from`),maxlength:255,onBlur:n[30]||=()=>z(h)(`ship_from`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),S(`div`,null,[n[60]||=S(`label`,{for:`discount_percentage`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Discount Percentage (%) `,-1),O(H,{id:`discount_percentage`,modelValue:W.value.discount_percentage,"onUpdate:modelValue":n[31]||=e=>W.value.discount_percentage=e,type:`number`,step:`0.01`,min:`0`,max:`100`,placeholder:`0.00`,disabled:N.value,error:z(p)(`discount_percentage`),onBlur:n[32]||=()=>z(h)(`discount_percentage`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])]),S(`div`,vr,[n[61]||=S(`label`,{for:`bank_info`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Bank Information `,-1),I(S(`textarea`,{id:`bank_info`,"onUpdate:modelValue":n[33]||=e=>W.value.bank_info=e,rows:`3`,placeholder:`Enter bank account details, routing numbers, etc.`,disabled:N.value,class:B([Y.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:n[34]||=()=>z(h)(`bank_info`),maxlength:`1000`},null,42,yr),[[v,W.value.bank_info]]),S(`div`,br,[z(p)(`bank_info`)?(j(),T(`p`,xr,V(z(p)(`bank_info`)),1)):w(``,!0),S(`p`,Sr,V(W.value.bank_info?.length||0)+`/1000 characters `,1)])])]),S(`div`,null,[n[65]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Additional Information `,-1),S(`div`,Cr,[n[63]||=S(`label`,{for:`notes`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Notes `,-1),I(S(`textarea`,{id:`notes`,"onUpdate:modelValue":n[35]||=e=>W.value.notes=e,rows:`4`,placeholder:`Enter additional notes about this supplier (optional)`,disabled:N.value,class:B([Y.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:n[36]||=()=>z(h)(`notes`),maxlength:`2000`},null,42,wr),[[v,W.value.notes]]),S(`div`,Tr,[z(p)(`notes`)?(j(),T(`p`,Er,V(z(p)(`notes`)),1)):w(``,!0),S(`p`,Dr,V(W.value.notes?.length||0)+`/2000 characters `,1)])]),S(`div`,null,[n[64]||=S(`label`,{for:`attachments`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Attachments `,-1),Z.value.length>0?(j(),T(`div`,Or,[S(`h4`,kr,`Current Files (`+V(Z.value.length)+`)`,1),S(`div`,Ar,[(j(!0),T(b,null,M(Z.value,(e,t)=>(j(),T(`div`,{key:e.id,class:`flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md`},[S(`div`,jr,[S(`div`,Mr,[O(z(Q),{class:`h-5 w-5 text-gray-400`})]),S(`div`,null,[S(`p`,Nr,V(e.title||e.original_name),1),S(`p`,Pr,V(e.file_size_human)+` - `+V(me(e.created_at)),1)])]),S(`div`,Fr,[S(`button`,{type:`button`,onClick:t=>pe(e),disabled:N.value,class:`text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 disabled:opacity-50`,title:`Download file`},[O(z(ie),{class:`h-4 w-4`})],8,Ir),S(`button`,{type:`button`,onClick:n=>fe(e,t),disabled:N.value,class:`text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 disabled:opacity-50`,title:`Remove file`},[O(z(U),{class:`h-4 w-4`})],8,Lr)])]))),128))])])):w(``,!0),S(`div`,Rr,[O(ae,{modelValue:L.value,"onUpdate:modelValue":n[37]||=e=>L.value=e,"max-files":10,"max-size":10*1024*1024,disabled:N.value,accept:`.pdf,.doc,.docx,.jpg,.jpeg,.png,.xlsx,.xls`,onChange:ce,onError:le},null,8,[`modelValue`,`disabled`])]),Z.value.length+L.value.length>0?(j(),T(`div`,zr,[S(`p`,Br,` Total files: `+V(Z.value.length+L.value.length)+`/10 `,1)])):w(``,!0),z(p)(`attachments`)?(j(),T(`div`,Vr,[S(`p`,Hr,V(z(p)(`attachments`)),1)])):w(``,!0)])]),S(`div`,Ur,[S(`button`,{type:`button`,onClick:$,disabled:N.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,Wr),S(`button`,{type:`submit`,disabled:N.value||z(f)||!te.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[N.value?(j(),T(`div`,Kr,n[66]||=[S(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),D(` Updating... `,-1)])):(j(),T(`span`,qr,`Update Supplier`))],8,Gr)])],32)])])):(j(),T(`div`,Jr,[S(`div`,Yr,[O(z(t),{class:`w-12 h-12 text-red-400 mb-4`}),n[67]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Supplier Not Found `,-1),n[68]||=S(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The supplier you're trying to edit could not be found. `,-1),S(`button`,{onClick:_e,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},`  Back to Suppliers `)])])),W.value?(j(),T(`div`,Xr,[S(`div`,Zr,[S(`div`,Qr,[O(z(X),{class:`h-5 w-5 text-blue-400`})]),n[69]||=E(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Supplier Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update the supplier details carefully as this information is used for: </p><ul class="list-disc list-inside space-y-1"><li>Purchase orders and invoicing</li><li>Payment processing and terms</li><li>Contact management and communication</li><li>System availability for transactions</li></ul></div></div>`,1)])])):w(``,!0)])]))}}),ei=$r;const ti={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},ni={class:`mb-8`},ri={class:`flex items-center justify-between`},ii={class:`flex items-center space-x-4`},ai={class:`text-3xl font-bold text-gray-900 dark:text-gray-100`},oi={class:`text-sm text-gray-600 dark:text-gray-400 mt-1`},si={class:`flex items-center space-x-3`},ci={key:0,class:`flex items-center justify-center py-12`},li={key:1,class:`bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6`},ui={class:`flex items-center`},di={class:`text-red-600 dark:text-red-400 mt-1`},fi={key:2,class:`space-y-8`},pi={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},mi={class:`px-6 py-5`},hi={class:`grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2 lg:grid-cols-3`},gi={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},_i={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},vi={key:0},yi={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},bi={key:1},xi={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Si={key:2},Ci={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},wi={key:3},Ti={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Ei={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Di={class:`px-6 py-5`},Oi={class:`grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2`},ki={key:0,class:`sm:col-span-2`},Ai={class:`mt-1 text-sm text-gray-900 dark:text-gray-100 whitespace-pre-line`},ji={key:1},Mi={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Ni=[`href`],Pi={key:2},Fi={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Ii=[`href`],Li={key:3},Ri={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},zi=[`href`],Bi={key:4},Vi={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Hi=[`href`],Ui={key:5,class:`sm:col-span-2`},Wi={class:`text-sm text-gray-900 dark:text-gray-100`},Gi={class:`bg-gray-50 dark:bg-gray-700 rounded-lg p-4`},Ki={class:`grid grid-cols-1 gap-2 sm:grid-cols-3`},qi={class:`font-medium`},Ji={key:0},Yi=[`href`],Xi={key:1},Zi=[`href`],Qi={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},$i={class:`px-6 py-5`},ea={class:`grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2`},ta={key:0},na={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},ra={key:1},ia={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},aa={key:2},oa={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},sa={key:3,class:`sm:col-span-2`},ca={class:`mt-1 text-sm text-gray-900 dark:text-gray-100 whitespace-pre-line`},la={key:4,class:`sm:col-span-2`},ua={class:`mt-1 text-sm text-gray-900 dark:text-gray-100 whitespace-pre-line`},da={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},fa={class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},pa={class:`flex items-center justify-between`},ma={class:`text-lg font-medium text-gray-900 dark:text-gray-100`},ha={class:`px-6 py-5`},ga={class:`grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3`},_a={class:`flex items-start space-x-3`},va={class:`flex-shrink-0`},ya={class:`flex-1 min-w-0`},ba={class:`text-sm font-medium text-gray-900 dark:text-gray-100 truncate`},xa={class:`text-xs text-gray-500 dark:text-gray-400 mt-1`},Sa={class:`text-xs text-gray-500 dark:text-gray-400`},Ca={class:`flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity`},wa={class:`flex space-x-2`},Ta=[`onClick`],Ea=[`onClick`],Da={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Oa={class:`px-6 py-8 text-center`},ka={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Aa={class:`px-6 py-5`},ja={class:`grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2`},Ma={key:0},Na={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Pa={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Fa={key:1},Ia={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},La={key:2},Ra={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},za={key:3,class:`fixed inset-0 z-50 overflow-y-auto`,"aria-labelledby":`modal-title`,role:`dialog`,"aria-modal":`true`},Ba={class:`flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0`},Va={class:`inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full sm:p-6`},Ha={class:`absolute top-0 right-0 pt-4 pr-4`},Ua={class:`mt-3 text-center sm:mt-5`},Wa={class:`text-lg leading-6 font-medium text-gray-900 dark:text-gray-100 mb-4`},Ga={key:0,class:`max-h-96 overflow-auto`},Ka=[`src`,`alt`],qa={key:1,class:`flex items-center justify-center py-8`},Ja={key:1,class:`h-96`},Ya=[`src`],Xa={key:1,class:`flex items-center justify-center py-8`},Za={key:2,class:`text-center py-8`},Qa={class:`mt-5 sm:mt-6 flex justify-center space-x-3`};var $a=k({__name:`DetailPage`,props:{id:{}},emits:[`back`,`edit`],setup(e,{emit:n}){let r=e,i=n,a=oe(),o=R(null),c=R(!1),l=R(``),u=R(!1),d=R(null),f=R(``),p=async()=>{try{c.value=!0,l.value=``,o.value=await a.fetchSupplier(r.id)}catch(e){l.value=e.message||`Failed to load supplier details`,console.error(`Error loading supplier:`,e)}finally{c.value=!1}},m=()=>{i(`back`)},h=()=>{o.value&&i(`edit`,o.value)},g=async e=>{await se.download(e)},_=async e=>{try{d.value=e,u.value=!0;let t=await se.preview(e.id);f.value=t.preview_url}catch(t){console.error(`Error getting preview URL:`,t),f.value=k(e)}},v=()=>{u.value=!1,d.value=null,f.value=``},y=e=>x(e)||E(e),x=e=>{let t=e.file_extension?.toLowerCase();return[`jpg`,`jpeg`,`png`,`gif`,`bmp`,`svg`,`webp`].includes(t||``)},E=e=>{let t=e.file_extension?.toLowerCase();return t===`pdf`},k=e=>{let t=`https://staging.globalzsolutions.com`;return`${t}/api/documents/${e.id}/preview`},P=e=>{let t=e?.toLowerCase();return[`jpg`,`jpeg`,`png`,`gif`,`bmp`,`svg`].includes(t)?ne:[`pdf`].includes(t)?Q:Z},F=e=>new Intl.NumberFormat(`en-US`,{style:`currency`,currency:`USD`}).format(e),I=e=>new Date(e).toLocaleDateString(`en-US`,{year:`numeric`,month:`long`,day:`numeric`,hour:`2-digit`,minute:`2-digit`});return A(()=>{p()}),(e,n)=>(j(),T(`div`,ti,[S(`div`,ni,[S(`div`,ri,[S(`div`,ii,[S(`button`,{onClick:m,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[O(z(s),{class:`w-5 h-5`})]),S(`div`,null,[S(`h1`,ai,V(o.value?.name||`Supplier Details`),1),S(`p`,oi,` Supplier Code: `+V(o.value?.code),1)])]),S(`div`,si,[o.value?(j(),T(`span`,{key:0,class:B([`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium`,o.value?.is_active?`bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`:`bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300`])},V(o.value?.is_active?`Active`:`Inactive`),3)):w(``,!0),S(`button`,{onClick:h,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700`},[O(z(K),{class:`w-4 h-4 mr-2`}),n[1]||=D(` Edit `,-1)])])])]),c.value?(j(),T(`div`,ci,n[2]||=[S(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`},null,-1),S(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading supplier details...`,-1)])):l.value?(j(),T(`div`,li,[S(`div`,ui,[O(z(t),{class:`w-6 h-6 text-red-500 mr-3`}),S(`div`,null,[n[3]||=S(`h3`,{class:`text-lg font-medium text-red-800 dark:text-red-300`},`Error Loading Supplier`,-1),S(`p`,di,V(l.value),1)])])])):o.value?(j(),T(`div`,fi,[S(`div`,pi,[n[10]||=S(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` General Information `)],-1),S(`div`,mi,[S(`dl`,hi,[S(`div`,null,[n[4]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Supplier Name`,-1),S(`dd`,gi,V(o.value.name),1)]),S(`div`,null,[n[5]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Code`,-1),S(`dd`,_i,V(o.value.code),1)]),o.value.supplier_type?(j(),T(`div`,vi,[n[6]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Type`,-1),S(`dd`,yi,V(o.value.supplier_type.name),1)])):w(``,!0),o.value.country?(j(),T(`div`,bi,[n[7]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Country`,-1),S(`dd`,xi,V(o.value.country.name),1)])):w(``,!0),o.value.opening_balance?(j(),T(`div`,Si,[n[8]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Opening Balance`,-1),S(`dd`,Ci,V(F(o.value.opening_balance)),1)])):w(``,!0),o.value.currency?(j(),T(`div`,wi,[n[9]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Currency`,-1),S(`dd`,Ti,V(o.value.currency.name)+` (`+V(o.value.currency.code)+`)`,1)])):w(``,!0)])])]),S(`div`,Ei,[n[17]||=S(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` Contact Information `)],-1),S(`div`,Di,[S(`dl`,Oi,[o.value.address?(j(),T(`div`,ki,[n[11]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Address`,-1),S(`dd`,Ai,V(o.value.address),1)])):w(``,!0),o.value.phone?(j(),T(`div`,ji,[n[12]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Phone`,-1),S(`dd`,Mi,[S(`a`,{href:`tel:${o.value.phone}`,class:`text-indigo-600 hover:text-indigo-500`},V(o.value.phone),9,Ni)])])):w(``,!0),o.value.mobile?(j(),T(`div`,Pi,[n[13]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Mobile`,-1),S(`dd`,Fi,[S(`a`,{href:`tel:${o.value.mobile}`,class:`text-indigo-600 hover:text-indigo-500`},V(o.value.mobile),9,Ii)])])):w(``,!0),o.value.email?(j(),T(`div`,Li,[n[14]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Email`,-1),S(`dd`,Ri,[S(`a`,{href:`mailto:${o.value.email}`,class:`text-indigo-600 hover:text-indigo-500`},V(o.value.email),9,zi)])])):w(``,!0),o.value.url?(j(),T(`div`,Bi,[n[15]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Website`,-1),S(`dd`,Vi,[S(`a`,{href:o.value.url,target:`_blank`,class:`text-indigo-600 hover:text-indigo-500`},V(o.value.url),9,Hi)])])):w(``,!0),o.value.contact_person?(j(),T(`div`,Ui,[n[16]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400 mb-2`},`Contact Person`,-1),S(`dd`,Wi,[S(`div`,Gi,[S(`div`,Ki,[S(`div`,null,[S(`span`,qi,V(o.value.contact_person),1)]),o.value.contact_person_email?(j(),T(`div`,Ji,[S(`a`,{href:`mailto:${o.value.contact_person_email}`,class:`text-indigo-600 hover:text-indigo-500`},V(o.value.contact_person_email),9,Yi)])):w(``,!0),o.value.contact_person_mobile?(j(),T(`div`,Xi,[S(`a`,{href:`tel:${o.value.contact_person_mobile}`,class:`text-indigo-600 hover:text-indigo-500`},V(o.value.contact_person_mobile),9,Zi)])):w(``,!0)])])])])):w(``,!0)])])]),S(`div`,Qi,[n[23]||=S(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` Business Information `)],-1),S(`div`,$i,[S(`dl`,ea,[o.value.payment_term?(j(),T(`div`,ta,[n[18]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Payment Term`,-1),S(`dd`,na,V(o.value.payment_term.name),1)])):w(``,!0),o.value.ship_from?(j(),T(`div`,ra,[n[19]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Ship From`,-1),S(`dd`,ia,V(o.value.ship_from),1)])):w(``,!0),o.value.discount_percentage?(j(),T(`div`,aa,[n[20]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Discount Percentage`,-1),S(`dd`,oa,V(o.value.discount_percentage)+`%`,1)])):w(``,!0),o.value.bank_info?(j(),T(`div`,sa,[n[21]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Bank Information`,-1),S(`dd`,ca,V(o.value.bank_info),1)])):w(``,!0),o.value.notes?(j(),T(`div`,la,[n[22]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Notes`,-1),S(`dd`,ua,V(o.value.notes),1)])):w(``,!0)])])]),o.value.documents&&o.value.documents.length>0?(j(),T(`div`,da,[S(`div`,fa,[S(`div`,pa,[S(`h3`,ma,` Documents (`+V(o.value.documents.length)+`) `,1)])]),S(`div`,ha,[S(`div`,ga,[(j(!0),T(b,null,M(o.value.documents,e=>(j(),T(`div`,{key:e.id,class:`relative group bg-gray-50 dark:bg-gray-700 rounded-lg p-4 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors`},[S(`div`,_a,[S(`div`,va,[(j(),C(N(P(e.file_extension)),{class:`h-8 w-8 text-gray-400`}))]),S(`div`,ya,[S(`p`,ba,V(e.title||e.original_name),1),S(`p`,xa,V(e.file_size_human),1),S(`p`,Sa,V(I(e.created_at)),1)]),S(`div`,Ca,[S(`div`,wa,[y(e)?(j(),T(`button`,{key:0,onClick:t=>_(e),class:`text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300`,title:`Preview`},[O(z(re),{class:`h-5 w-5`})],8,Ta)):w(``,!0),S(`button`,{onClick:t=>g(e),class:`text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300`,title:`Download`},[O(z(ie),{class:`h-5 w-5`})],8,Ea)])])])]))),128))])])])):(j(),T(`div`,Da,[n[26]||=S(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` Documents `)],-1),S(`div`,Oa,[O(z(Q),{class:`mx-auto h-12 w-12 text-gray-400`}),n[24]||=S(`h3`,{class:`mt-4 text-sm font-medium text-gray-900 dark:text-gray-100`},`No documents`,-1),n[25]||=S(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},` No documents have been uploaded for this supplier. `,-1)])])),S(`div`,ka,[n[31]||=S(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` System Information `)],-1),S(`div`,Aa,[S(`dl`,ja,[o.value.created_by?(j(),T(`div`,Ma,[n[27]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Created By`,-1),S(`dd`,Na,V(o.value.created_by.name),1)])):w(``,!0),S(`div`,null,[n[28]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Created At`,-1),S(`dd`,Pa,V(I(o.value.created_at)),1)]),o.value.updated_by?(j(),T(`div`,Fa,[n[29]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Last Updated By`,-1),S(`dd`,Ia,V(o.value.updated_by.name),1)])):w(``,!0),o.value.updated_at===o.value.created_at?w(``,!0):(j(),T(`div`,La,[n[30]||=S(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Last Updated`,-1),S(`dd`,Ra,V(I(o.value.updated_at)),1)]))])])])])):w(``,!0),u.value?(j(),T(`div`,za,[S(`div`,Ba,[S(`div`,{class:`fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity`,onClick:v}),S(`div`,Va,[S(`div`,Ha,[S(`button`,{onClick:v,class:`bg-white dark:bg-gray-800 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none`},[O(z(U),{class:`h-6 w-6`})])]),S(`div`,Ua,[S(`h3`,Wa,V(d.value?.title||d.value?.original_name),1),d.value&&x(d.value)?(j(),T(`div`,Ga,[f.value?(j(),T(`img`,{key:0,src:f.value,alt:d.value.original_name,class:`max-w-full h-auto mx-auto rounded-lg shadow-lg`},null,8,Ka)):(j(),T(`div`,qa,n[32]||=[S(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`},null,-1),S(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading preview...`,-1)]))])):d.value&&E(d.value)?(j(),T(`div`,Ja,[f.value?(j(),T(`iframe`,{key:0,src:f.value,class:`w-full h-full border rounded-lg`,title:`PDF Preview`,frameborder:`0`},null,8,Ya)):(j(),T(`div`,Xa,n[33]||=[S(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`},null,-1),S(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading preview...`,-1)]))])):(j(),T(`div`,Za,[O(z(Q),{class:`mx-auto h-12 w-12 text-gray-400 mb-4`}),n[34]||=S(`p`,{class:`text-gray-500 dark:text-gray-400`},`Preview not available for this file type.`,-1)]))]),S(`div`,Qa,[S(`button`,{onClick:n[0]||=e=>g(d.value),class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700`},[O(z(ie),{class:`h-4 w-4 mr-2`}),n[35]||=D(` Download `,-1)]),S(`button`,{onClick:v,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600`},` Close `)])])])])):w(``,!0)]))}}),eo=$a;const to={class:`space-y-6`},no={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},ro={class:`grid grid-cols-1 md:grid-cols-4 gap-4`},io={class:`md:col-span-2`},ao={class:`relative`},oo={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},so={key:0,class:`p-8 text-center`},co={key:1,class:`p-8 text-center`},lo={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},uo={key:0,class:`mt-6`},fo={key:2,class:`overflow-x-auto`},po={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},mo={class:`bg-gray-50 dark:bg-gray-700`},ho={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},go={class:`flex flex-col`},_o={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},vo={class:`flex flex-col`},yo={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},bo={class:`flex flex-col`},xo={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},So={class:`px-6 py-4 whitespace-nowrap`},Co={class:`flex items-center`},wo={class:`flex-shrink-0 h-10 w-10`},To={class:`h-10 w-10 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center`},Eo={class:`ml-4`},Do={class:`text-sm font-medium text-gray-900 dark:text-white`},Oo={class:`text-sm text-gray-500 dark:text-gray-400`},ko={class:`px-6 py-4`},Ao={class:`text-sm text-gray-900 dark:text-white max-w-xs`},jo=[`title`],Mo={class:`px-6 py-4 whitespace-nowrap`},No={class:`px-6 py-4 whitespace-nowrap`},Po={class:`text-sm text-gray-900 dark:text-white`},Fo={class:`text-sm text-gray-600 dark:text-gray-400`},Io={class:`text-xs text-gray-500 dark:text-gray-500`},Lo={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},Ro={class:`flex items-center justify-end space-x-2`},zo=[`onClick`],Bo=[`onClick`],Vo=[`onClick`],Ho={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},Uo={class:`flex items-center justify-between`},Wo={class:`flex-1 flex justify-between sm:hidden`},Go=[`disabled`],Ko=[`disabled`],qo={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},Jo={class:`text-sm text-gray-700 dark:text-gray-300`},Yo={class:`font-medium`},Xo={class:`font-medium`},Zo={class:`font-medium`},Qo={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},$o=[`disabled`],es=[`disabled`];var ts=k({__name:`IndexPage`,emits:[`create`,`edit`],setup(e,{emit:t}){m();let s=p(),c=ge(),l=t,u=R(!1),d=R(!1),f=R(null),h=R(null),g=R(null),y=R(!1),C=L({search:``,is_active:``,per_page:15,sort_by:`name`,sort_direction:`asc`,page:1}),E=R({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}),k=x(()=>c.supplierTypes),N=x(()=>c.pagination),F=x(()=>c.loading),H=x(()=>[{key:`name`,label:`Name`,type:`text`},{key:`description`,label:`Description`,type:`text`,fallback:`No description provided`},{key:`is_active`,label:`Status`,type:`status`},{key:`created_by.name`,label:`Created By`,type:`text`,subKey:`created_at`},{key:`updated_by.name`,label:`Last Updated By`,type:`text`,subKey:`updated_at`}]);P(()=>({...C}),e=>{let{page:t,...n}=e;c.updateFilters(n)},{deep:!0});let U=async(e=1)=>{try{let t={...C,page:e};await c.fetchSupplierTypes(t)}catch{s.error(`Failed to load supplier types`,{title:`Error`})}},W=()=>{h.value&&clearTimeout(h.value),h.value=setTimeout(()=>{U(1)},300)},K=e=>{C.sort_by===e?C.sort_direction=C.sort_direction===`asc`?`desc`:`asc`:(C.sort_by=e,C.sort_direction=`asc`),U(1)},J=e=>{e>=1&&N.value&&e<=N.value.last_page&&(C.page=e,U(e))},X=e=>{g.value=e,y.value=!0},ne=e=>new Date(e).toLocaleDateString(`en-US`,{year:`numeric`,month:`short`,day:`numeric`,hour:`2-digit`,minute:`2-digit`}),Z=e=>{f.value=e,E.value={title:`Delete Supplier Type`,message:`Are you sure you want to delete "${e.name}"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},d.value=!0},Q=async()=>{f.value&&(await c.deleteSupplierType(f.value.id),ie())},ie=()=>{d.value=!1,f.value=null,E.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},ae=()=>{l(`create`)},oe=e=>{l(`edit`,e)};return A(()=>{U()}),(e,t)=>(j(),T(`div`,to,[O(me,{title:`Supplier Types`,description:`Manage supplier types for categorizing your suppliers`,"create-button-text":`Create New Supplier Type`,onCreate:ae}),S(`div`,no,[S(`div`,ro,[S(`div`,io,[t[12]||=S(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Supplier Types `,-1),S(`div`,ao,[I(S(`input`,{id:`search`,"onUpdate:modelValue":t[0]||=e=>C.search=e,type:`text`,placeholder:`Search by name or description...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:W},null,544),[[v,C.search]]),O(z(q),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),S(`div`,null,[t[14]||=S(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Status `,-1),I(S(`select`,{id:`status`,"onUpdate:modelValue":t[1]||=e=>C.is_active=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:U},t[13]||=[S(`option`,{value:``},`All Status`,-1),S(`option`,{value:`true`},`Active`,-1),S(`option`,{value:`false`},`Inactive`,-1)],544),[[_,C.is_active]])]),S(`div`,null,[t[16]||=S(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),I(S(`select`,{id:`per-page`,"onUpdate:modelValue":t[2]||=e=>C.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:U},t[15]||=[S(`option`,{value:15},`15`,-1),S(`option`,{value:25},`25`,-1),S(`option`,{value:50},`50`,-1),S(`option`,{value:100},`100`,-1)],544),[[_,C.per_page]])])])]),S(`div`,oo,[F.value?(j(),T(`div`,so,[O(z(te),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),t[17]||=S(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading supplier types...`,-1)])):k.value.length===0?(j(),T(`div`,co,[O(z(o),{class:`h-12 w-12 mx-auto text-gray-400`}),t[19]||=S(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},` No supplier types found `,-1),S(`p`,lo,V(C.search?`Try adjusting your search criteria.`:`Get started by creating your first supplier type.`),1),C.search?w(``,!0):(j(),T(`div`,uo,[S(`button`,{onClick:ae,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[O(z(ee),{class:`h-5 w-5 mr-2`}),t[18]||=D(` Add Your First Supplier Type `,-1)])]))])):(j(),T(`div`,fo,[S(`table`,po,[S(`thead`,mo,[S(`tr`,null,[S(`th`,ho,[S(`button`,{onClick:t[3]||=e=>K(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[20]||=S(`span`,null,`Name`,-1),S(`div`,go,[O(z(n),{class:B([`h-3 w-3`,C.sort_by===`name`&&C.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),O(z(a),{class:B([`h-3 w-3 -mt-1`,C.sort_by===`name`&&C.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),t[23]||=S(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Description `,-1),S(`th`,_o,[S(`button`,{onClick:t[4]||=e=>K(`is_active`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[21]||=S(`span`,null,`Status`,-1),S(`div`,vo,[O(z(n),{class:B([`h-3 w-3`,C.sort_by===`is_active`&&C.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),O(z(a),{class:B([`h-3 w-3 -mt-1`,C.sort_by===`is_active`&&C.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),S(`th`,yo,[S(`button`,{onClick:t[5]||=e=>K(`created_at`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[22]||=S(`span`,null,`Created`,-1),S(`div`,bo,[O(z(n),{class:B([`h-3 w-3`,C.sort_by===`created_at`&&C.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),O(z(a),{class:B([`h-3 w-3 -mt-1`,C.sort_by===`created_at`&&C.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),t[24]||=S(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),S(`tbody`,xo,[(j(!0),T(b,null,M(k.value,e=>(j(),T(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[S(`td`,So,[S(`div`,Co,[S(`div`,wo,[S(`div`,To,[O(z(o),{class:`h-5 w-5 text-purple-600 dark:text-purple-400`})])]),S(`div`,Eo,[S(`div`,Do,V(e.name),1),S(`div`,Oo,` ID: `+V(e.id),1)])])]),S(`td`,ko,[S(`div`,Ao,[S(`p`,{class:`truncate`,title:e.description},V(e.description||`-`),9,jo)])]),S(`td`,Mo,[O(pe,{active:e.is_active},null,8,[`active`])]),S(`td`,No,[S(`div`,Po,[S(`div`,Fo,V(e.created_by?.name||`-`),1),S(`div`,Io,V(ne(e.created_at)),1)])]),S(`td`,Lo,[S(`div`,Ro,[S(`button`,{onClick:t=>X(e),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[O(z(re),{class:`w-4 h-4`})],8,zo),S(`button`,{onClick:t=>oe(e),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit Supplier Type`},[O(z(Y),{class:`h-4 w-4`})],8,Bo),S(`button`,{onClick:t=>Z(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete Supplier Type`},[O(z(G),{class:`h-4 w-4`})],8,Vo)])])]))),128))])])])),N.value&&N.value.total>0?(j(),T(`div`,Ho,[S(`div`,Uo,[S(`div`,Wo,[S(`button`,{onClick:t[6]||=e=>J(N.value.current_page-1),disabled:N.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,Go),S(`button`,{onClick:t[7]||=e=>J(N.value.current_page+1),disabled:N.value.current_page>=N.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,Ko)]),S(`div`,qo,[S(`div`,null,[S(`p`,Jo,[t[25]||=D(` Showing `,-1),S(`span`,Yo,V(N.value.from),1),t[26]||=D(` to `,-1),S(`span`,Xo,V(N.value.to),1),t[27]||=D(` of `,-1),S(`span`,Zo,V(N.value.total),1),t[28]||=D(` results `,-1)])]),S(`div`,null,[S(`nav`,Qo,[S(`button`,{onClick:t[8]||=e=>J(N.value.current_page-1),disabled:N.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[O(z(i),{class:`h-5 w-5`})],8,$o),S(`button`,{onClick:t[9]||=e=>J(N.value.current_page+1),disabled:N.value.current_page>=N.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[O(z(r),{class:`h-5 w-5`})],8,es)])])])])])):w(``,!0)]),O(ce,{show:d.value,"onUpdate:show":t[10]||=e=>d.value=e,type:`delete`,title:E.value.title,message:E.value.message,"confirm-text":E.value.buttonText,"loading-text":E.value.loadingText,loading:u.value,onConfirm:Q,onCancel:ie},null,8,[`show`,`title`,`message`,`confirm-text`,`loading-text`,`loading`]),O(fe,{show:y.value,"onUpdate:show":t[11]||=e=>y.value=e,item:g.value,title:`Supplier Type Details`,"display-fields":H.value,size:`lg`},null,8,[`show`,`item`,`display-fields`])]))}}),ns=ts;function rs(){let e=R({}),t=x(()=>Object.keys(e.value).length>0),n=t=>e.value[t]?.[0],r=n=>{let r={};return!n.name||n.name.trim().length===0?r.name=[`Supplier type name is required`]:n.name.trim().length>255&&(r.name=[`Supplier type name must not exceed 255 characters`]),n.description!==void 0&&n.description!==null&&n.description.length>500&&(r.description=[`Description must not exceed 500 characters`]),e.value=r,!t.value},i=n=>{let r={};return n.name!==void 0&&(!n.name||n.name.trim().length===0?r.name=[`Supplier type name is required`]:n.name.trim().length>255&&(r.name=[`Supplier type name must not exceed 255 characters`])),n.description!==void 0&&n.description!==null&&n.description.length>500&&(r.description=[`Description must not exceed 500 characters`]),e.value=r,!t.value},a=()=>{e.value={}},o=t=>{e.value[t]&&delete e.value[t]},s=t=>{e.value=t};return{errors:e,hasErrors:t,getFieldError:n,validateCreateRequest:r,validateUpdateRequest:i,clearErrors:a,clearFieldError:o,setServerErrors:s}}const os={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},ss={class:`max-w-4xl mx-auto`},cs={class:`mb-8`},ls={class:`flex items-center space-x-4 mb-2`},us={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},ds={class:`px-6 py-8`},fs={class:`grid grid-cols-1 gap-6`},ps={key:0,class:`mt-1 text-xs text-gray-500`},ms={class:`flex items-start`},hs={class:`flex items-center h-5`},gs=[`disabled`],_s=[`disabled`],vs={class:`flex justify-between items-center mt-1`},ys={key:0,class:`text-sm text-red-600 dark:text-red-400`},bs={class:`text-xs text-gray-500 ml-auto`},xs={key:0,class:`p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg`},Ss={class:`space-y-2`},Cs={class:`flex items-center`},ws={class:`flex-shrink-0 h-8 w-8`},Ts={class:`h-8 w-8 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center`},Es={class:`ml-3`},Ds={class:`text-sm font-medium text-purple-800 dark:text-purple-300`},Os={key:0,class:`text-xs text-purple-600 dark:text-purple-400 truncate max-w-md`},ks={class:`ml-auto`},As={key:0,class:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`},js={key:1,class:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300`},Ms={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Ns=[`disabled`],Ps=[`disabled`],Fs={key:0,class:`flex items-center justify-center`},Is={key:1},Ls={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Rs={class:`flex`},zs={class:`flex-shrink-0`};var Bs=k({__name:`CreatePage`,emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=t,r=ge(),{errors:i,hasErrors:a,getFieldError:c,validateCreateRequest:l,clearFieldError:u,setServerErrors:d,clearErrors:f}=rs(),p=R(!1),m=R({name:``,description:``,is_active:!0}),h=x(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return c(`description`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):p.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),_=x(()=>m.value.name.trim().length>0&&m.value.name.length<=255&&(m.value.description?.length||0)<=500),b=()=>{m.value={name:``,description:``,is_active:!0},f()},C=async()=>{if(f(),l(m.value))try{p.value=!0,await r.createSupplierType(m.value),b(),n(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&d(e.response.data.errors)}finally{p.value=!1}},k=()=>{b(),n(`cancel`)},M=()=>{n(`back`)};return A(()=>{b()}),(e,t)=>(j(),T(`div`,os,[S(`div`,ss,[S(`div`,cs,[S(`div`,ls,[S(`button`,{onClick:M,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[O(z(s),{class:`w-5 h-5`})]),t[5]||=S(`div`,null,[S(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create Supplier Type `),S(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new supplier type to categorize your suppliers `)],-1)])]),S(`div`,us,[S(`div`,ds,[S(`form`,{onSubmit:y(C,[`prevent`]),class:`space-y-8`},[S(`div`,null,[t[7]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),S(`div`,fs,[S(`div`,null,[O(H,{type:`text`,maxlength:255,disabled:p.value,onBlur:t[0]||=()=>z(u)(`name`),modelValue:m.value.name,"onUpdate:modelValue":t[1]||=e=>m.value.name=e,placeholder:`Enter supplier type name (e.g., Manufacturer, Distributor)`,error:z(c)(`name`),required:``,label:`Supplier Type Name`},null,8,[`disabled`,`modelValue`,`error`]),m.value.name.length>0?(j(),T(`p`,ps,V(m.value.name.length)+`/255 characters `,1)):w(``,!0)]),S(`div`,null,[S(`div`,ms,[S(`div`,hs,[I(S(`input`,{id:`is_active`,"onUpdate:modelValue":t[2]||=e=>m.value.is_active=e,type:`checkbox`,disabled:p.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,gs),[[g,m.value.is_active]])]),t[6]||=S(`div`,{class:`ml-3`},[S(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),S(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this supplier type will be available for selection `)],-1)])])])]),S(`div`,null,[t[9]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Description `,-1),S(`div`,null,[t[8]||=S(`label`,{for:`description`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Description (Optional) `,-1),I(S(`textarea`,{id:`description`,"onUpdate:modelValue":t[3]||=e=>m.value.description=e,rows:`4`,placeholder:`Enter a description for this supplier type...`,disabled:p.value,class:B([h.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:t[4]||=()=>z(u)(`description`),maxlength:`500`},null,42,_s),[[v,m.value.description]]),S(`div`,vs,[z(c)(`description`)?(j(),T(`p`,ys,V(z(c)(`description`)),1)):w(``,!0),S(`p`,bs,V(m.value.description?.length||0)+`/500 characters `,1)])])]),m.value.name?(j(),T(`div`,xs,[t[10]||=S(`h4`,{class:`text-sm font-medium text-purple-800 dark:text-purple-300 mb-2`},`Supplier Type Preview`,-1),S(`div`,Ss,[S(`div`,Cs,[S(`div`,ws,[S(`div`,Ts,[O(z(o),{class:`h-4 w-4 text-purple-600 dark:text-purple-400`})])]),S(`div`,Es,[S(`p`,Ds,V(m.value.name),1),m.value.description?(j(),T(`p`,Os,V(m.value.description),1)):w(``,!0)]),S(`div`,ks,[m.value.is_active?(j(),T(`span`,As,` Active `)):(j(),T(`span`,js,` Inactive `))])])])])):w(``,!0),S(`div`,Ms,[S(`button`,{type:`button`,onClick:k,disabled:p.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,Ns),S(`button`,{type:`submit`,disabled:p.value||z(a)||!_.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[p.value?(j(),T(`div`,Fs,t[11]||=[S(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),D(` Creating... `,-1)])):(j(),T(`span`,Is,`Create Supplier Type`))],8,Ps)])],32)])]),S(`div`,Ls,[S(`div`,Rs,[S(`div`,zs,[O(z(X),{class:`h-5 w-5 text-blue-400`})]),t[12]||=E(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> About Supplier Types </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Supplier types help categorize and organize your suppliers based on their business model or relationship: </p><ul class="list-disc list-inside space-y-1"><li><strong>Manufacturer:</strong> Companies that produce goods directly</li><li><strong>Distributor:</strong> Companies that distribute products from manufacturers</li><li><strong>Wholesaler:</strong> Companies that sell products in bulk quantities</li><li><strong>Retailer:</strong> Companies that sell directly to consumers</li><li><strong>Service Provider:</strong> Companies that provide services rather than products</li></ul></div></div>`,1)])])])]))}}),Vs=Bs;const Hs={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Us={class:`max-w-4xl mx-auto`},Ws={class:`mb-8`},Gs={class:`flex items-center space-x-4 mb-2`},Ks={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},qs={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Js={class:`px-6 py-8`},Ys={class:`grid grid-cols-1 gap-6`},Xs={key:0,class:`mt-1 text-xs text-gray-500`},Zs={class:`flex items-start`},Qs={class:`flex items-center h-5`},$s=[`disabled`],ec=[`disabled`],tc={class:`flex justify-between items-center mt-1`},nc={key:0,class:`text-sm text-red-600 dark:text-red-400`},rc={class:`text-xs text-gray-500 ml-auto`},ic={key:0,class:`p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg`},ac={class:`space-y-2`},oc={class:`flex items-center`},sc={class:`flex-shrink-0 h-8 w-8`},cc={class:`h-8 w-8 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center`},lc={class:`ml-3`},uc={class:`text-sm font-medium text-purple-800 dark:text-purple-300`},dc={key:0,class:`text-xs text-purple-600 dark:text-purple-400 truncate max-w-md`},fc={class:`ml-auto`},pc={key:0,class:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`},mc={key:1,class:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300`},hc={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},gc=[`disabled`],_c=[`disabled`],vc={key:0,class:`flex items-center justify-center`},yc={key:1},bc={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},xc={class:`flex flex-col items-center`},Sc={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Cc={class:`flex`},wc={class:`flex-shrink-0`};var Tc=k({__name:`EditPage`,props:{id:{},supplierType:{}},emits:[`back`,`success`,`cancel`],setup(e,{emit:n}){let r=e,i=n,a=ge(),{errors:c,hasErrors:l,getFieldError:u,validateUpdateRequest:d,clearFieldError:f,setServerErrors:p,clearErrors:m}=rs(),h=R(!1),_=R(!1),b=R({name:``,description:``,is_active:!0}),C=R({name:``,description:``,is_active:!0}),k=x(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return u(`description`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):h.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),M=x(()=>b.value.name.trim().length>0&&b.value.name.length<=255&&(b.value.description?.length||0)<=500),N=async()=>{try{_.value=!0;let e=r.supplierType||await a.fetchSupplierType(r.id);e&&(b.value={name:e.name,description:e.description||``,is_active:e.is_active},C.value={name:e.name,description:e.description||``,is_active:e.is_active},m())}catch(e){console.error(`Error loading supplier type:`,e)}finally{_.value=!1}},F=async()=>{if(m(),d(b.value))try{h.value=!0;let e={name:b.value.name,description:b.value.description||void 0,is_active:b.value.is_active};await a.updateSupplierType(r.id,e),C.value={...b.value},i(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&p(e.response.data.errors)}finally{h.value=!1}},L=()=>{i(`cancel`)},U=()=>{i(`back`)};return A(()=>{N()}),P(()=>r.id,()=>{r.id&&N()}),(e,n)=>(j(),T(`div`,Hs,[S(`div`,Us,[S(`div`,Ws,[S(`div`,Gs,[S(`button`,{onClick:U,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[O(z(s),{class:`w-5 h-5`})]),n[5]||=S(`div`,null,[S(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Supplier Type `),S(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update supplier type information and settings `)],-1)])]),_.value?(j(),T(`div`,Ks,n[6]||=[S(`div`,{class:`flex items-center justify-center`},[S(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),S(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading supplier type...`)],-1)])):b.value?(j(),T(`div`,qs,[S(`div`,Js,[S(`form`,{onSubmit:y(F,[`prevent`]),class:`space-y-8`},[S(`div`,null,[n[8]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),S(`div`,Ys,[S(`div`,null,[O(H,{type:`text`,maxlength:255,disabled:h.value,onBlur:n[0]||=()=>z(f)(`name`),modelValue:b.value.name,"onUpdate:modelValue":n[1]||=e=>b.value.name=e,placeholder:`Enter supplier type name (e.g., Manufacturer, Distributor)`,error:z(u)(`name`),required:``,label:`Supplier Type Name`},null,8,[`disabled`,`modelValue`,`error`]),b.value.name.length>0?(j(),T(`p`,Xs,V(b.value.name.length)+`/255 characters `,1)):w(``,!0)]),S(`div`,null,[S(`div`,Zs,[S(`div`,Qs,[I(S(`input`,{id:`is_active`,"onUpdate:modelValue":n[2]||=e=>b.value.is_active=e,type:`checkbox`,disabled:h.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,$s),[[g,b.value.is_active]])]),n[7]||=S(`div`,{class:`ml-3`},[S(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),S(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this supplier type will be available for selection `)],-1)])])])]),S(`div`,null,[n[10]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Description `,-1),S(`div`,null,[n[9]||=S(`label`,{for:`description`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Description (Optional) `,-1),I(S(`textarea`,{id:`description`,"onUpdate:modelValue":n[3]||=e=>b.value.description=e,rows:`4`,placeholder:`Enter a description for this supplier type...`,disabled:h.value,class:B([k.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:n[4]||=()=>z(f)(`description`),maxlength:`500`},null,42,ec),[[v,b.value.description]]),S(`div`,tc,[z(u)(`description`)?(j(),T(`p`,nc,V(z(u)(`description`)),1)):w(``,!0),S(`p`,rc,V(b.value.description?.length||0)+`/500 characters `,1)])])]),b.value.name?(j(),T(`div`,ic,[n[11]||=S(`h4`,{class:`text-sm font-medium text-purple-800 dark:text-purple-300 mb-2`},`Supplier Type Preview`,-1),S(`div`,ac,[S(`div`,oc,[S(`div`,sc,[S(`div`,cc,[O(z(o),{class:`h-4 w-4 text-purple-600 dark:text-purple-400`})])]),S(`div`,lc,[S(`p`,uc,V(b.value.name),1),b.value.description?(j(),T(`p`,dc,V(b.value.description),1)):w(``,!0)]),S(`div`,fc,[b.value.is_active?(j(),T(`span`,pc,` Active `)):(j(),T(`span`,mc,` Inactive `))])])])])):w(``,!0),S(`div`,hc,[S(`button`,{type:`button`,onClick:L,disabled:h.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,gc),S(`button`,{type:`submit`,disabled:h.value||z(l)||!M.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[h.value?(j(),T(`div`,vc,n[12]||=[S(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),D(` Updating... `,-1)])):(j(),T(`span`,yc,`Update Supplier Type`))],8,_c)])],32)])])):(j(),T(`div`,bc,[S(`div`,xc,[O(z(t),{class:`w-12 h-12 text-red-400 mb-4`}),n[13]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Supplier Type Not Found `,-1),n[14]||=S(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The supplier type you're trying to edit could not be found. `,-1),S(`button`,{onClick:U,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},`  Back to Supplier Types `)])])),b.value?(j(),T(`div`,Sc,[S(`div`,Cc,[S(`div`,wc,[O(z(X),{class:`h-5 w-5 text-blue-400`})]),n[15]||=E(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Supplier Type Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update supplier type details carefully as this information affects: </p><ul class="list-disc list-inside space-y-1"><li>Supplier categorization and organization</li><li>Reporting and analytics by supplier type</li><li>Dropdown selections when creating suppliers</li><li>Business intelligence and insights</li></ul></div></div>`,1)])])):w(``,!0)])]))}}),Ec=Tc;const Dc=[{value:`net`,label:`Net Terms`,description:`Payment due within specified days`},{value:`due_on_receipt`,label:`Due on Receipt`,description:`Payment due immediately upon receipt`},{value:`cash_on_delivery`,label:`Cash on Delivery`,description:`Payment due upon delivery`},{value:`advance`,label:`Advance Payment`,description:`Payment required in advance`},{value:`credit`,label:`Credit Terms`,description:`Extended credit payment terms`}],Oc={class:`space-y-6`},kc={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},Ac={class:`grid grid-cols-1 md:grid-cols-5 gap-4`},jc={class:`md:col-span-2`},Mc={class:`relative`},Nc={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},Pc={key:0,class:`p-8 text-center`},Fc={key:1,class:`p-8 text-center`},Ic={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},Lc={key:0,class:`mt-6`},Rc={key:2,class:`overflow-x-auto`},zc={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},Bc={class:`bg-gray-50 dark:bg-gray-700`},Vc={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Hc={class:`flex flex-col`},Uc={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Wc={class:`flex flex-col`},Gc={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Kc={class:`flex flex-col`},qc={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},Jc={class:`px-6 py-4 whitespace-nowrap`},Yc={class:`flex items-center`},Xc={class:`flex-shrink-0 h-10 w-10`},Zc={class:`h-10 w-10 rounded-full bg-emerald-100 dark:bg-emerald-900 flex items-center justify-center`},Qc={class:`ml-4`},$c={class:`text-sm font-medium text-gray-900 dark:text-white`},el={class:`text-sm text-gray-500 dark:text-gray-400 max-w-xs`},tl=[`title`],nl={class:`px-6 py-4`},rl={class:`text-sm text-gray-900 dark:text-white`},il={class:`flex items-center space-x-2`},al={key:0,class:`text-xs text-gray-500 dark:text-gray-400 mt-1`},ol={class:`px-6 py-4`},sl={key:0,class:`text-sm text-gray-900 dark:text-white`},cl={class:`font-medium`},ll={key:0,class:`text-xs text-gray-500 dark:text-gray-400`},ul={key:1,class:`text-sm text-gray-500 dark:text-gray-400`},dl={class:`px-6 py-4 whitespace-nowrap`},fl={class:`px-6 py-4 whitespace-nowrap`},pl={class:`text-sm text-gray-900 dark:text-white`},ml={class:`text-sm text-gray-600 dark:text-gray-400`},hl={class:`text-xs text-gray-500 dark:text-gray-500`},gl={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},_l={class:`flex items-center justify-end space-x-2`},vl=[`onClick`],yl=[`onClick`],bl=[`onClick`],xl={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},Sl={class:`flex items-center justify-between`},Cl={class:`flex-1 flex justify-between sm:hidden`},wl=[`disabled`],Tl=[`disabled`],El={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},Dl={class:`text-sm text-gray-700 dark:text-gray-300`},Ol={class:`font-medium`},kl={class:`font-medium`},Al={class:`font-medium`},jl={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},Ml=[`disabled`],Nl=[`disabled`];var Pl=k({__name:`IndexPage`,emits:[`create`,`edit`],setup(t,{emit:o}){m();let s=p(),c=Rt(),l=o,u=R(!1),d=R(!1),f=R(null),h=R(null),g=R(null),y=R(!1),C=L({search:``,is_active:``,type:``,per_page:15,sort_by:`name`,sort_direction:`asc`,page:1}),k=R({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}),N=x(()=>c.paymentTerms),F=x(()=>c.pagination),H=x(()=>c.loading),U=x(()=>[{key:`name`,label:`Name`,type:`text`},{key:`description`,label:`Description`,type:`text`,fallback:`No description provided`},{key:`type`,label:`Type`,type:`text`,fallback:`Not specified`},{key:`days`,label:`Payment Days`,type:`text`,fallback:`Not specified`},{key:`discount_percentage`,label:`Discount %`,type:`text`,fallback:`No discount`},{key:`discount_days`,label:`Discount Days`,type:`text`,fallback:`Not applicable`},{key:`is_active`,label:`Status`,type:`status`},{key:`created_by.name`,label:`Created By`,type:`text`,subKey:`created_at`},{key:`updated_by.name`,label:`Last Updated By`,type:`text`,subKey:`updated_at`}]);P(()=>({...C}),e=>{let{page:t,...n}=e;c.updateFilters(n)},{deep:!0});let W=async(e=1)=>{try{let t={...C,page:e};await c.fetchPaymentTerms(t)}catch{s.error(`Failed to load payment terms`,{title:`Error`})}},K=()=>{h.value&&clearTimeout(h.value),h.value=setTimeout(()=>{W(1)},300)},J=e=>{C.sort_by===e?C.sort_direction=C.sort_direction===`asc`?`desc`:`asc`:(C.sort_by=e,C.sort_direction=`asc`),W(1)},X=e=>{e>=1&&F.value&&e<=F.value.last_page&&(C.page=e,W(e))},ne=e=>{g.value=e,y.value=!0},Z=e=>new Date(e).toLocaleDateString(`en-US`,{year:`numeric`,month:`short`,day:`numeric`,hour:`2-digit`,minute:`2-digit`}),Q=e=>{if(!e)return`Not specified`;let t=Dc.find(t=>t.value===e);return t?.label||e},ie=e=>{let t=`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium`;switch(e){case`net`:return`${t} bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300`;case`due_on_receipt`:return`${t} bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300`;case`cash_on_delivery`:return`${t} bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300`;case`advance`:return`${t} bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300`;case`credit`:return`${t} bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`;default:return`${t} bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300`}},ae=e=>{f.value=e,k.value={title:`Delete Payment Term`,message:`Are you sure you want to delete "${e.name}"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},d.value=!0},oe=async()=>{f.value&&(await c.deletePaymentTerm(f.value.id),se())},se=()=>{d.value=!1,f.value=null,k.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},le=()=>{l(`create`)},ue=e=>{l(`edit`,e)};return A(()=>{W()}),(t,o)=>(j(),T(`div`,Oc,[O(me,{title:`Payment Terms`,description:`Manage payment terms for suppliers`,"create-button-text":`Create New Payment Term`,onCreate:le}),S(`div`,kc,[S(`div`,Ac,[S(`div`,jc,[o[13]||=S(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Payment Terms `,-1),S(`div`,Mc,[I(S(`input`,{id:`search`,"onUpdate:modelValue":o[0]||=e=>C.search=e,type:`text`,placeholder:`Search by name, description, or type...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:K},null,544),[[v,C.search]]),O(z(q),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),S(`div`,null,[o[15]||=S(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Status `,-1),I(S(`select`,{id:`status`,"onUpdate:modelValue":o[1]||=e=>C.is_active=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:W},o[14]||=[S(`option`,{value:``},`All Status`,-1),S(`option`,{value:`true`},`Active`,-1),S(`option`,{value:`false`},`Inactive`,-1)],544),[[_,C.is_active]])]),S(`div`,null,[o[17]||=S(`label`,{for:`type`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Type `,-1),I(S(`select`,{id:`type`,"onUpdate:modelValue":o[2]||=e=>C.type=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:W},o[16]||=[E(`<option value="">All Types</option><option value="net">Net Terms</option><option value="due_on_receipt">Due on Receipt</option><option value="cash_on_delivery">Cash on Delivery</option><option value="advance">Advance Payment</option><option value="credit">Credit Terms</option>`,6)],544),[[_,C.type]])]),S(`div`,null,[o[19]||=S(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),I(S(`select`,{id:`per-page`,"onUpdate:modelValue":o[3]||=e=>C.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:W},o[18]||=[S(`option`,{value:15},`15`,-1),S(`option`,{value:25},`25`,-1),S(`option`,{value:50},`50`,-1),S(`option`,{value:100},`100`,-1)],544),[[_,C.per_page]])])])]),S(`div`,Nc,[H.value?(j(),T(`div`,Pc,[O(z(te),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),o[20]||=S(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading payment terms...`,-1)])):N.value.length===0?(j(),T(`div`,Fc,[O(z(e),{class:`h-12 w-12 mx-auto text-gray-400`}),o[22]||=S(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},` No payment terms found `,-1),S(`p`,Ic,V(C.search?`Try adjusting your search criteria.`:`Get started by creating your first payment term.`),1),C.search?w(``,!0):(j(),T(`div`,Lc,[S(`button`,{onClick:le,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[O(z(ee),{class:`h-5 w-5 mr-2`}),o[21]||=D(` Add Your First Payment Term `,-1)])]))])):(j(),T(`div`,Rc,[S(`table`,zc,[S(`thead`,Bc,[S(`tr`,null,[S(`th`,Vc,[S(`button`,{onClick:o[4]||=e=>J(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[o[23]||=S(`span`,null,`Name`,-1),S(`div`,Hc,[O(z(n),{class:B([`h-3 w-3`,C.sort_by===`name`&&C.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),O(z(a),{class:B([`h-3 w-3 -mt-1`,C.sort_by===`name`&&C.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),o[26]||=S(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Type & Terms `,-1),o[27]||=S(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Discount `,-1),S(`th`,Uc,[S(`button`,{onClick:o[5]||=e=>J(`is_active`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[o[24]||=S(`span`,null,`Status`,-1),S(`div`,Wc,[O(z(n),{class:B([`h-3 w-3`,C.sort_by===`is_active`&&C.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),O(z(a),{class:B([`h-3 w-3 -mt-1`,C.sort_by===`is_active`&&C.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),S(`th`,Gc,[S(`button`,{onClick:o[6]||=e=>J(`created_at`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[o[25]||=S(`span`,null,`Created`,-1),S(`div`,Kc,[O(z(n),{class:B([`h-3 w-3`,C.sort_by===`created_at`&&C.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),O(z(a),{class:B([`h-3 w-3 -mt-1`,C.sort_by===`created_at`&&C.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),o[28]||=S(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),S(`tbody`,qc,[(j(!0),T(b,null,M(N.value,t=>(j(),T(`tr`,{key:t.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[S(`td`,Jc,[S(`div`,Yc,[S(`div`,Xc,[S(`div`,Zc,[O(z(e),{class:`h-5 w-5 text-emerald-600 dark:text-emerald-400`})])]),S(`div`,Qc,[S(`div`,$c,V(t.name),1),S(`div`,el,[S(`p`,{class:`truncate`,title:t.description},V(t.description||`No description`),9,tl)])])])]),S(`td`,nl,[S(`div`,rl,[S(`div`,il,[S(`span`,{class:B([`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium`,ie(t.type)])},V(Q(t.type)),3)]),t.days?(j(),T(`div`,al,V(t.days)+` days `,1)):w(``,!0)])]),S(`td`,ol,[t.discount_percentage?(j(),T(`div`,sl,[S(`div`,cl,V(t.discount_percentage)+`%`,1),t.discount_days?(j(),T(`div`,ll,` within `+V(t.discount_days)+` days `,1)):w(``,!0)])):(j(),T(`div`,ul,` No discount `))]),S(`td`,dl,[O(pe,{active:t.is_active},null,8,[`active`])]),S(`td`,fl,[S(`div`,pl,[S(`div`,ml,V(t.created_by?.name||`-`),1),S(`div`,hl,V(Z(t.created_at)),1)])]),S(`td`,gl,[S(`div`,_l,[S(`button`,{onClick:e=>ne(t),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[O(z(re),{class:`w-4 h-4`})],8,vl),S(`button`,{onClick:e=>ue(t),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit Payment Term`},[O(z(Y),{class:`h-4 w-4`})],8,yl),S(`button`,{onClick:e=>ae(t),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete Payment Term`},[O(z(G),{class:`h-4 w-4`})],8,bl)])])]))),128))])])])),F.value&&F.value.total>0?(j(),T(`div`,xl,[S(`div`,Sl,[S(`div`,Cl,[S(`button`,{onClick:o[7]||=e=>X(F.value.current_page-1),disabled:F.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,wl),S(`button`,{onClick:o[8]||=e=>X(F.value.current_page+1),disabled:F.value.current_page>=F.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,Tl)]),S(`div`,El,[S(`div`,null,[S(`p`,Dl,[o[29]||=D(` Showing `,-1),S(`span`,Ol,V(F.value.from),1),o[30]||=D(` to `,-1),S(`span`,kl,V(F.value.to),1),o[31]||=D(` of `,-1),S(`span`,Al,V(F.value.total),1),o[32]||=D(` results `,-1)])]),S(`div`,null,[S(`nav`,jl,[S(`button`,{onClick:o[9]||=e=>X(F.value.current_page-1),disabled:F.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[O(z(i),{class:`h-5 w-5`})],8,Ml),S(`button`,{onClick:o[10]||=e=>X(F.value.current_page+1),disabled:F.value.current_page>=F.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[O(z(r),{class:`h-5 w-5`})],8,Nl)])])])])])):w(``,!0)]),O(ce,{show:d.value,"onUpdate:show":o[11]||=e=>d.value=e,type:`delete`,title:k.value.title,message:k.value.message,"confirm-text":k.value.buttonText,"loading-text":k.value.loadingText,loading:u.value,onConfirm:oe,onCancel:se},null,8,[`show`,`title`,`message`,`confirm-text`,`loading-text`,`loading`]),O(fe,{show:y.value,"onUpdate:show":o[12]||=e=>y.value=e,item:g.value,title:`Payment Term Details`,"display-fields":U.value,size:`lg`},null,8,[`show`,`item`,`display-fields`])]))}}),Fl=Pl;function Il(){let e=R({}),t=x(()=>Object.keys(e.value).length>0),n=t=>e.value[t]?.[0],r=n=>{let r={};if(!n.name||n.name.trim().length===0?r.name=[`Payment term name is required`]:n.name.trim().length>255&&(r.name=[`Payment term name must not exceed 255 characters`]),n.description!==void 0&&n.description!==null&&n.description.length>500&&(r.description=[`Description must not exceed 500 characters`]),n.days!==void 0&&n.days!==null&&(Number.isInteger(n.days)?n.days<-365?r.days=[`Days cannot be less than -365`]:n.days>365&&(r.days=[`Days cannot exceed 365`]):r.days=[`Days must be a valid integer`]),n.type!==void 0&&n.type!==null){let e=[`net`,`due_on_receipt`,`cash_on_delivery`,`advance`,`credit`];e.includes(n.type)||(r.type=[`Invalid payment term type selected`])}return n.discount_percentage!==void 0&&n.discount_percentage!==null&&(isNaN(n.discount_percentage)?r.discount_percentage=[`Discount percentage must be a valid number`]:n.discount_percentage<0?r.discount_percentage=[`Discount percentage cannot be negative`]:n.discount_percentage>100&&(r.discount_percentage=[`Discount percentage cannot exceed 100%`])),n.discount_days!==void 0&&n.discount_days!==null&&(Number.isInteger(n.discount_days)?n.discount_days<0?r.discount_days=[`Discount days cannot be negative`]:n.discount_days>365&&(r.discount_days=[`Discount days cannot exceed 365`]):r.discount_days=[`Discount days must be a valid integer`]),n.days!==void 0&&n.days!==null&&n.discount_days!==void 0&&n.discount_days!==null&&n.days>0&&n.discount_days>n.days&&(r.discount_days=[`Discount days cannot exceed payment days`]),e.value=r,!t.value},i=n=>{let r={};if(n.name!==void 0&&(!n.name||n.name.trim().length===0?r.name=[`Payment term name is required`]:n.name.trim().length>255&&(r.name=[`Payment term name must not exceed 255 characters`])),n.description!==void 0&&n.description!==null&&n.description.length>500&&(r.description=[`Description must not exceed 500 characters`]),n.days!==void 0&&n.days!==null&&(Number.isInteger(n.days)?n.days<-365?r.days=[`Days cannot be less than -365`]:n.days>365&&(r.days=[`Days cannot exceed 365`]):r.days=[`Days must be a valid integer`]),n.type!==void 0&&n.type!==null){let e=[`net`,`due_on_receipt`,`cash_on_delivery`,`advance`,`credit`];e.includes(n.type)||(r.type=[`Invalid payment term type selected`])}return n.discount_percentage!==void 0&&n.discount_percentage!==null&&(isNaN(n.discount_percentage)?r.discount_percentage=[`Discount percentage must be a valid number`]:n.discount_percentage<0?r.discount_percentage=[`Discount percentage cannot be negative`]:n.discount_percentage>100&&(r.discount_percentage=[`Discount percentage cannot exceed 100%`])),n.discount_days!==void 0&&n.discount_days!==null&&(Number.isInteger(n.discount_days)?n.discount_days<0?r.discount_days=[`Discount days cannot be negative`]:n.discount_days>365&&(r.discount_days=[`Discount days cannot exceed 365`]):r.discount_days=[`Discount days must be a valid integer`]),n.days!==void 0&&n.days!==null&&n.discount_days!==void 0&&n.discount_days!==null&&n.days>0&&n.discount_days>n.days&&(r.discount_days=[`Discount days cannot exceed payment days`]),e.value=r,!t.value},a=()=>{e.value={}},o=t=>{e.value[t]&&delete e.value[t]},s=t=>{e.value=t};return{errors:e,hasErrors:t,getFieldError:n,validateCreateRequest:r,validateUpdateRequest:i,clearErrors:a,clearFieldError:o,setServerErrors:s}}const Ll={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Rl={class:`max-w-4xl mx-auto`},zl={class:`mb-8`},Bl={class:`flex items-center space-x-4 mb-2`},Vl={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Hl={class:`px-6 py-8`},Ul={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Wl={class:`md:col-span-2`},Gl={key:0,class:`mt-1 text-xs text-gray-500`},Kl=[`disabled`],ql=[`value`],Jl={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Yl={key:1,class:`mt-1 text-xs text-gray-500`},Xl=[`disabled`],Zl={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ql={class:`md:col-span-2`},$l={class:`flex items-start`},eu={class:`flex items-center h-5`},tu=[`disabled`],nu={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},ru=[`disabled`],iu={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},au=[`disabled`],ou={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},su=[`disabled`],cu={class:`flex justify-between items-center mt-1`},lu={key:0,class:`text-sm text-red-600 dark:text-red-400`},uu={class:`text-xs text-gray-500 ml-auto`},du={key:0,class:`p-4 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg`},fu={class:`space-y-2`},pu={class:`flex items-center`},mu={class:`flex-shrink-0 h-8 w-8`},hu={class:`h-8 w-8 rounded-full bg-emerald-100 dark:bg-emerald-900 flex items-center justify-center`},gu={class:`ml-3 flex-1`},_u={class:`text-sm font-medium text-emerald-800 dark:text-emerald-300`},vu={class:`flex items-center space-x-4 text-xs text-emerald-600 dark:text-emerald-400`},yu={key:0},bu={key:1},xu={key:2},Su={key:3},Cu={key:0,class:`text-xs text-emerald-600 dark:text-emerald-400 truncate max-w-md mt-1`},wu={class:`ml-auto`},Tu={key:0,class:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`},Eu={key:1,class:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300`},Du={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Ou=[`disabled`],ku=[`disabled`],Au={key:0,class:`flex items-center justify-center`},ju={key:1},Mu={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Nu={class:`flex`},Pu={class:`flex-shrink-0`};var Fu=k({__name:`CreatePage`,emits:[`back`,`success`,`cancel`],setup(t,{emit:n}){let r=n,i=Rt(),{errors:a,hasErrors:o,getFieldError:c,validateCreateRequest:l,clearFieldError:u,setServerErrors:d,clearErrors:f}=Il(),p=R(!1),m=R({name:``,description:``,days:void 0,type:void 0,discount_percentage:void 0,discount_days:void 0,is_active:!0}),h=x(()=>{if(!m.value.type)return``;let e=Dc.find(e=>e.value===m.value.type);return e?.description||``}),C=e=>{let t=Dc.find(t=>t.value===e);return t?.label||e},k=x(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return c(`type`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):p.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),N=e=>{let t=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return c(e)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):p.value?[...t,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):t.join(` `)},P=x(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return c(`description`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):p.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),F=x(()=>m.value.name.trim().length>0&&m.value.name.length<=255&&(m.value.description?.length||0)<=500&&(m.value.days===void 0||m.value.days===null||m.value.days>=-365&&m.value.days<=365)&&(m.value.discount_percentage===void 0||m.value.discount_percentage===null||m.value.discount_percentage>=0&&m.value.discount_percentage<=100)&&(m.value.discount_days===void 0||m.value.discount_days===null||m.value.discount_days>=0&&m.value.discount_days<=365)),L=()=>{m.value={name:``,description:``,days:void 0,type:void 0,discount_percentage:void 0,discount_days:void 0,is_active:!0},f()},U=async()=>{if(f(),l(m.value))try{p.value=!0,await i.createPaymentTerm(m.value),L(),r(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&d(e.response.data.errors)}finally{p.value=!1}},W=()=>{L(),r(`cancel`)},G=()=>{r(`back`)};return A(()=>{L()}),(t,n)=>(j(),T(`div`,Ll,[S(`div`,Rl,[S(`div`,zl,[S(`div`,Bl,[S(`button`,{onClick:G,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[O(z(s),{class:`w-5 h-5`})]),n[13]||=S(`div`,null,[S(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create Payment Term `),S(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new payment term for suppliers `)],-1)])]),S(`div`,Vl,[S(`div`,Hl,[S(`form`,{onSubmit:y(U,[`prevent`]),class:`space-y-8`},[S(`div`,null,[n[19]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),S(`div`,Ul,[S(`div`,Wl,[O(H,{type:`text`,maxlength:255,disabled:p.value,onBlur:n[0]||=()=>z(u)(`name`),modelValue:m.value.name,"onUpdate:modelValue":n[1]||=e=>m.value.name=e,placeholder:`Enter payment term name (e.g., Net 30, Due on Receipt)`,error:z(c)(`name`),required:``,label:`Payment Term Name`},null,8,[`disabled`,`modelValue`,`error`]),m.value.name.length>0?(j(),T(`p`,Gl,V(m.value.name.length)+`/255 characters `,1)):w(``,!0)]),S(`div`,null,[n[15]||=S(`label`,{for:`type`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Payment Type `,-1),I(S(`select`,{id:`type`,"onUpdate:modelValue":n[2]||=e=>m.value.type=e,disabled:p.value,onBlur:n[3]||=()=>z(u)(`type`),class:B([k.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},[n[14]||=S(`option`,{value:``},`Select payment type`,-1),(j(!0),T(b,null,M(z(Dc),e=>(j(),T(`option`,{key:e.value,value:e.value},V(e.label),9,ql))),128))],42,Kl),[[_,m.value.type]]),z(c)(`type`)?(j(),T(`p`,Jl,V(z(c)(`type`)),1)):w(``,!0),h.value?(j(),T(`p`,Yl,V(h.value),1)):w(``,!0)]),S(`div`,null,[n[16]||=S(`label`,{for:`days`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Payment Days `,-1),I(S(`input`,{id:`days`,"onUpdate:modelValue":n[4]||=e=>m.value.days=e,type:`number`,min:`-365`,max:`365`,placeholder:`Enter number of days`,disabled:p.value,onBlur:n[5]||=()=>z(u)(`days`),class:B([N(`days`),`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},null,42,Xl),[[v,m.value.days,void 0,{number:!0}]]),z(c)(`days`)?(j(),T(`p`,Zl,V(z(c)(`days`)),1)):w(``,!0),n[17]||=S(`p`,{class:`mt-1 text-xs text-gray-500`},` Number of days for payment (negative for advance payment) `,-1)]),S(`div`,Ql,[S(`div`,$l,[S(`div`,eu,[I(S(`input`,{id:`is_active`,"onUpdate:modelValue":n[6]||=e=>m.value.is_active=e,type:`checkbox`,disabled:p.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,tu),[[g,m.value.is_active]])]),n[18]||=S(`div`,{class:`ml-3`},[S(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),S(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this payment term will be available for selection `)],-1)])])])]),S(`div`,null,[n[23]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Early Payment Discount (Optional) `,-1),S(`div`,nu,[S(`div`,null,[n[20]||=S(`label`,{for:`discount_percentage`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Discount Percentage (%) `,-1),I(S(`input`,{id:`discount_percentage`,"onUpdate:modelValue":n[7]||=e=>m.value.discount_percentage=e,type:`number`,min:`0`,max:`100`,step:`0.01`,placeholder:`Enter discount percentage`,disabled:p.value,onBlur:n[8]||=()=>z(u)(`discount_percentage`),class:B([N(`discount_percentage`),`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},null,42,ru),[[v,m.value.discount_percentage,void 0,{number:!0}]]),z(c)(`discount_percentage`)?(j(),T(`p`,iu,V(z(c)(`discount_percentage`)),1)):w(``,!0)]),S(`div`,null,[n[21]||=S(`label`,{for:`discount_days`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Discount Days `,-1),I(S(`input`,{id:`discount_days`,"onUpdate:modelValue":n[9]||=e=>m.value.discount_days=e,type:`number`,min:`0`,max:`365`,placeholder:`Enter discount days`,disabled:p.value,onBlur:n[10]||=()=>z(u)(`discount_days`),class:B([N(`discount_days`),`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},null,42,au),[[v,m.value.discount_days,void 0,{number:!0}]]),z(c)(`discount_days`)?(j(),T(`p`,ou,V(z(c)(`discount_days`)),1)):w(``,!0),n[22]||=S(`p`,{class:`mt-1 text-xs text-gray-500`},` Days within which the discount applies `,-1)])])]),S(`div`,null,[n[25]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Description `,-1),S(`div`,null,[n[24]||=S(`label`,{for:`description`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Description (Optional) `,-1),I(S(`textarea`,{id:`description`,"onUpdate:modelValue":n[11]||=e=>m.value.description=e,rows:`4`,placeholder:`Enter a description for this payment term...`,disabled:p.value,class:B([P.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:n[12]||=()=>z(u)(`description`),maxlength:`500`},null,42,su),[[v,m.value.description]]),S(`div`,cu,[z(c)(`description`)?(j(),T(`p`,lu,V(z(c)(`description`)),1)):w(``,!0),S(`p`,uu,V(m.value.description?.length||0)+`/500 characters `,1)])])]),m.value.name?(j(),T(`div`,du,[n[26]||=S(`h4`,{class:`text-sm font-medium text-emerald-800 dark:text-emerald-300 mb-2`},`Payment Term Preview`,-1),S(`div`,fu,[S(`div`,pu,[S(`div`,mu,[S(`div`,hu,[O(z(e),{class:`h-4 w-4 text-emerald-600 dark:text-emerald-400`})])]),S(`div`,gu,[S(`p`,_u,V(m.value.name),1),S(`div`,vu,[m.value.type?(j(),T(`span`,yu,V(C(m.value.type)),1)):w(``,!0),m.value.days!==void 0&&m.value.days!==null?(j(),T(`span`,bu,V(m.value.days)+` days`,1)):w(``,!0),m.value.discount_percentage!==void 0&&m.value.discount_percentage!==null?(j(),T(`span`,xu,V(m.value.discount_percentage)+`% discount`,1)):w(``,!0),m.value.discount_days!==void 0&&m.value.discount_days!==null?(j(),T(`span`,Su,`within `+V(m.value.discount_days)+` days`,1)):w(``,!0)]),m.value.description?(j(),T(`p`,Cu,V(m.value.description),1)):w(``,!0)]),S(`div`,wu,[m.value.is_active?(j(),T(`span`,Tu,` Active `)):(j(),T(`span`,Eu,` Inactive `))])])])])):w(``,!0),S(`div`,Du,[S(`button`,{type:`button`,onClick:W,disabled:p.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,Ou),S(`button`,{type:`submit`,disabled:p.value||z(o)||!F.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[p.value?(j(),T(`div`,Au,n[27]||=[S(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),D(` Creating... `,-1)])):(j(),T(`span`,ju,`Create Payment Term`))],8,ku)])],32)])]),S(`div`,Mu,[S(`div`,Nu,[S(`div`,Pu,[O(z(X),{class:`h-5 w-5 text-blue-400`})]),n[28]||=E(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> About Payment Terms </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Payment terms define when and how suppliers should be paid: </p><ul class="list-disc list-inside space-y-1"><li><strong>Net Terms:</strong> Payment due within specified days (e.g., Net 30)</li><li><strong>Due on Receipt:</strong> Payment due immediately upon receiving invoice</li><li><strong>Cash on Delivery:</strong> Payment due when goods are delivered</li><li><strong>Advance Payment:</strong> Payment required before goods/services</li><li><strong>Credit Terms:</strong> Extended credit arrangements</li></ul><p class="mt-2"> Early payment discounts encourage faster payment and improve cash flow. </p></div></div>`,1)])])])]))}}),Iu=Fu;const Lu={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Ru={class:`max-w-4xl mx-auto`},zu={class:`mb-8`},Bu={class:`flex items-center space-x-4 mb-2`},Vu={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Hu={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Uu={class:`px-6 py-8`},Wu={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Gu={class:`md:col-span-2`},Ku={key:0,class:`mt-1 text-xs text-gray-500`},qu=[`disabled`],Ju=[`value`],Yu={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Xu={key:1,class:`mt-1 text-xs text-gray-500`},Zu=[`disabled`],Qu={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},$u={class:`md:col-span-2`},ed={class:`flex items-start`},td={class:`flex items-center h-5`},nd=[`disabled`],rd={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},id=[`disabled`],ad={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},od=[`disabled`],sd={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},cd=[`disabled`],ld={class:`flex justify-between items-center mt-1`},ud={key:0,class:`text-sm text-red-600 dark:text-red-400`},dd={class:`text-xs text-gray-500 ml-auto`},fd={key:0,class:`p-4 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg`},pd={class:`space-y-2`},md={class:`flex items-center`},hd={class:`flex-shrink-0 h-8 w-8`},gd={class:`h-8 w-8 rounded-full bg-emerald-100 dark:bg-emerald-900 flex items-center justify-center`},_d={class:`ml-3 flex-1`},vd={class:`text-sm font-medium text-emerald-800 dark:text-emerald-300`},yd={class:`flex items-center space-x-4 text-xs text-emerald-600 dark:text-emerald-400`},bd={key:0},xd={key:1},Sd={key:2},Cd={key:3},wd={key:0,class:`text-xs text-emerald-600 dark:text-emerald-400 truncate max-w-md mt-1`},Td={class:`ml-auto`},Ed={key:0,class:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`},Dd={key:1,class:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300`},Od={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},kd=[`disabled`],Ad=[`disabled`],jd={key:0,class:`flex items-center justify-center`},Md={key:1},Nd={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Pd={class:`flex flex-col items-center`},Fd={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Id={class:`flex`},Ld={class:`flex-shrink-0`};var Rd=k({__name:`EditPage`,props:{id:{},paymentTerm:{}},emits:[`back`,`success`,`cancel`],setup(n,{emit:r}){let i=n,a=r,o=Rt(),{errors:c,hasErrors:l,getFieldError:u,validateUpdateRequest:d,clearFieldError:f,setServerErrors:p,clearErrors:m}=Il(),h=R(!1),C=R(!1),k=R({name:``,description:``,days:void 0,type:void 0,discount_percentage:void 0,discount_days:void 0,is_active:!0}),N=R({name:``,description:``,days:void 0,type:void 0,discount_percentage:void 0,discount_days:void 0,is_active:!0}),F=x(()=>{if(!k.value.type)return``;let e=Dc.find(e=>e.value===k.value.type);return e?.description||``}),L=e=>{let t=Dc.find(t=>t.value===e);return t?.label||e},U=x(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return u(`type`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):h.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),W=e=>{let t=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return u(e)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):h.value?[...t,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):t.join(` `)},G=x(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return u(`description`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):h.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),K=x(()=>k.value.name.trim().length>0&&k.value.name.length<=255&&(k.value.description?.length||0)<=500&&(!k.value.days||k.value.days>=-365&&k.value.days<=365)&&(!k.value.discount_percentage||k.value.discount_percentage>=0&&k.value.discount_percentage<=100)&&(!k.value.discount_days||k.value.discount_days>=0&&k.value.discount_days<=365)),q=async()=>{try{C.value=!0;let e=i.paymentTerm||await o.fetchPaymentTerm(i.id);e&&(k.value={name:e.name,description:e.description||``,days:e.days??void 0,type:e.type||void 0,discount_percentage:e.discount_percentage??void 0,discount_days:e.discount_days??void 0,is_active:e.is_active},N.value={name:e.name,description:e.description||``,days:e.days??void 0,type:e.type||void 0,discount_percentage:e.discount_percentage??void 0,discount_days:e.discount_days??void 0,is_active:e.is_active},m())}catch(e){console.error(`Error loading payment term:`,e)}finally{C.value=!1}},J=async()=>{if(m(),d(k.value))try{h.value=!0;let e={name:k.value.name,description:k.value.description||void 0,days:k.value.days??void 0,type:k.value.type||void 0,discount_percentage:k.value.discount_percentage??void 0,discount_days:k.value.discount_days??void 0,is_active:k.value.is_active};await o.updatePaymentTerm(i.id,e),N.value={...k.value},a(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&p(e.response.data.errors)}finally{h.value=!1}},ee=()=>{a(`cancel`)},Y=()=>{a(`back`)};return A(()=>{q()}),P(()=>i.id,()=>{i.id&&q()}),(n,r)=>(j(),T(`div`,Lu,[S(`div`,Ru,[S(`div`,zu,[S(`div`,Bu,[S(`button`,{onClick:Y,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[O(z(s),{class:`w-5 h-5`})]),r[13]||=S(`div`,null,[S(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Payment Term `),S(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update payment term information and settings `)],-1)])]),C.value?(j(),T(`div`,Vu,r[14]||=[S(`div`,{class:`flex items-center justify-center`},[S(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),S(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading payment term...`)],-1)])):k.value?(j(),T(`div`,Hu,[S(`div`,Uu,[S(`form`,{onSubmit:y(J,[`prevent`]),class:`space-y-8`},[S(`div`,null,[r[20]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),S(`div`,Wu,[S(`div`,Gu,[O(H,{type:`text`,maxlength:255,disabled:h.value,onBlur:r[0]||=()=>z(f)(`name`),modelValue:k.value.name,"onUpdate:modelValue":r[1]||=e=>k.value.name=e,placeholder:`Enter payment term name (e.g., Net 30, Due on Receipt)`,error:z(u)(`name`),required:``,label:`Payment Term Name`},null,8,[`disabled`,`modelValue`,`error`]),k.value.name.length>0?(j(),T(`p`,Ku,V(k.value.name.length)+`/255 characters `,1)):w(``,!0)]),S(`div`,null,[r[16]||=S(`label`,{for:`type`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Payment Type `,-1),I(S(`select`,{id:`type`,"onUpdate:modelValue":r[2]||=e=>k.value.type=e,disabled:h.value,onBlur:r[3]||=()=>z(f)(`type`),class:B([U.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},[r[15]||=S(`option`,{value:``},`Select payment type`,-1),(j(!0),T(b,null,M(z(Dc),e=>(j(),T(`option`,{key:e.value,value:e.value},V(e.label),9,Ju))),128))],42,qu),[[_,k.value.type]]),z(u)(`type`)?(j(),T(`p`,Yu,V(z(u)(`type`)),1)):w(``,!0),F.value?(j(),T(`p`,Xu,V(F.value),1)):w(``,!0)]),S(`div`,null,[r[17]||=S(`label`,{for:`days`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Payment Days `,-1),I(S(`input`,{id:`days`,"onUpdate:modelValue":r[4]||=e=>k.value.days=e,type:`number`,min:`-365`,max:`365`,placeholder:`Enter number of days`,disabled:h.value,onBlur:r[5]||=()=>z(f)(`days`),class:B([W(`days`),`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},null,42,Zu),[[v,k.value.days,void 0,{number:!0}]]),z(u)(`days`)?(j(),T(`p`,Qu,V(z(u)(`days`)),1)):w(``,!0),r[18]||=S(`p`,{class:`mt-1 text-xs text-gray-500`},` Number of days for payment (negative for advance payment) `,-1)]),S(`div`,$u,[S(`div`,ed,[S(`div`,td,[I(S(`input`,{id:`is_active`,"onUpdate:modelValue":r[6]||=e=>k.value.is_active=e,type:`checkbox`,disabled:h.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,nd),[[g,k.value.is_active]])]),r[19]||=S(`div`,{class:`ml-3`},[S(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),S(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this payment term will be available for selection `)],-1)])])])]),S(`div`,null,[r[24]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Early Payment Discount (Optional) `,-1),S(`div`,rd,[S(`div`,null,[r[21]||=S(`label`,{for:`discount_percentage`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Discount Percentage (%) `,-1),I(S(`input`,{id:`discount_percentage`,"onUpdate:modelValue":r[7]||=e=>k.value.discount_percentage=e,type:`number`,min:`0`,max:`100`,step:`0.01`,placeholder:`Enter discount percentage`,disabled:h.value,onBlur:r[8]||=()=>z(f)(`discount_percentage`),class:B([W(`discount_percentage`),`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},null,42,id),[[v,k.value.discount_percentage,void 0,{number:!0}]]),z(u)(`discount_percentage`)?(j(),T(`p`,ad,V(z(u)(`discount_percentage`)),1)):w(``,!0)]),S(`div`,null,[r[22]||=S(`label`,{for:`discount_days`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Discount Days `,-1),I(S(`input`,{id:`discount_days`,"onUpdate:modelValue":r[9]||=e=>k.value.discount_days=e,type:`number`,min:`0`,max:`365`,placeholder:`Enter discount days`,disabled:h.value,onBlur:r[10]||=()=>z(f)(`discount_days`),class:B([W(`discount_days`),`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},null,42,od),[[v,k.value.discount_days,void 0,{number:!0}]]),z(u)(`discount_days`)?(j(),T(`p`,sd,V(z(u)(`discount_days`)),1)):w(``,!0),r[23]||=S(`p`,{class:`mt-1 text-xs text-gray-500`},` Days within which the discount applies `,-1)])])]),S(`div`,null,[r[26]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Description `,-1),S(`div`,null,[r[25]||=S(`label`,{for:`description`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Description (Optional) `,-1),I(S(`textarea`,{id:`description`,"onUpdate:modelValue":r[11]||=e=>k.value.description=e,rows:`4`,placeholder:`Enter a description for this payment term...`,disabled:h.value,class:B([G.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:r[12]||=()=>z(f)(`description`),maxlength:`500`},null,42,cd),[[v,k.value.description]]),S(`div`,ld,[z(u)(`description`)?(j(),T(`p`,ud,V(z(u)(`description`)),1)):w(``,!0),S(`p`,dd,V(k.value.description?.length||0)+`/500 characters `,1)])])]),k.value.name?(j(),T(`div`,fd,[r[27]||=S(`h4`,{class:`text-sm font-medium text-emerald-800 dark:text-emerald-300 mb-2`},`Payment Term Preview`,-1),S(`div`,pd,[S(`div`,md,[S(`div`,hd,[S(`div`,gd,[O(z(e),{class:`h-4 w-4 text-emerald-600 dark:text-emerald-400`})])]),S(`div`,_d,[S(`p`,vd,V(k.value.name),1),S(`div`,yd,[k.value.type?(j(),T(`span`,bd,V(L(k.value.type)),1)):w(``,!0),k.value.days?(j(),T(`span`,xd,V(k.value.days)+` days`,1)):w(``,!0),k.value.discount_percentage?(j(),T(`span`,Sd,V(k.value.discount_percentage)+`% discount`,1)):w(``,!0),k.value.discount_days?(j(),T(`span`,Cd,`within `+V(k.value.discount_days)+` days`,1)):w(``,!0)]),k.value.description?(j(),T(`p`,wd,V(k.value.description),1)):w(``,!0)]),S(`div`,Td,[k.value.is_active?(j(),T(`span`,Ed,` Active `)):(j(),T(`span`,Dd,` Inactive `))])])])])):w(``,!0),S(`div`,Od,[S(`button`,{type:`button`,onClick:ee,disabled:h.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,kd),S(`button`,{type:`submit`,disabled:h.value||z(l)||!K.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[h.value?(j(),T(`div`,jd,r[28]||=[S(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),D(` Updating... `,-1)])):(j(),T(`span`,Md,`Update Payment Term`))],8,Ad)])],32)])])):(j(),T(`div`,Nd,[S(`div`,Pd,[O(z(t),{class:`w-12 h-12 text-red-400 mb-4`}),r[29]||=S(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Payment Term Not Found `,-1),r[30]||=S(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The payment term you're trying to edit could not be found. `,-1),S(`button`,{onClick:Y,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},`  Back to Payment Terms `)])])),k.value?(j(),T(`div`,Fd,[S(`div`,Id,[S(`div`,Ld,[O(z(X),{class:`h-5 w-5 text-blue-400`})]),r[31]||=E(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Payment Term Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update payment term details carefully as this information affects: </p><ul class="list-disc list-inside space-y-1"><li>Supplier payment schedules and cash flow</li><li>Automatic payment calculations</li><li>Financial reporting and accounting</li><li>Early payment discount applications</li></ul></div></div>`,1)])])):w(``,!0)])]))}}),zd=Rd;const Bd={class:`min-h-screen`};var Vd=k({__name:`TabPage`,setup(e){let t=R([{id:`suppliers`,label:`Suppliers`,icon:{type:`lucide`,name:`users`},color:`blue`},{id:`supplier-types`,label:`Supplier Types`,icon:{type:`lucide`,name:`building-2`},color:`purple`},{id:`payment-terms`,label:`Payment Terms`,icon:{type:`lucide`,name:`credit-card`},color:`emerald`}]),n=R(`suppliers`),r=R(`supplierindex`),i=R(null),a=R(),o=R(),s=R(),c=R(),l={suppliers:{index:`supplierindex`,create:`suppliercreate`,edit:`supplieredit`,detail:`supplierdetail`},"supplier-types":{index:`suppliertypeindex`,create:`suppliertypecreate`,edit:`suppliertypeedit`,detail:``},"payment-terms":{index:`paymenttermindex`,create:`paymenttermcreate`,edit:`paymenttermedit`,detail:``}},u=e=>{let t=l[e];t&&(r.value=t.create)},d=(e,t)=>{let n=l[e];n&&(i.value={type:e,id:t.id,data:t},r.value=n.edit)},f=(e,t)=>{let n=l[e];n&&(a.value={type:e,id:t.id,data:t},r.value=n.detail)},p=e=>{let t=l[e];t&&(r.value=t.index,i.value=null)},m=e=>{let t=l[e];if(t){r.value=t.index,i.value=null;let n={suppliers:o,"supplier-types":s,"payment-terms":c},a=n[e];a?.value?.fetchData&&a.value.fetchData()}},h=(e,t)=>{n.value=e;let a={suppliers:`supplierindex`,"supplier-types":`suppliertypeindex`,"payment-terms":`paymenttermindex`},o=a[e];o&&(r.value=o,i.value=null)};return(e,n)=>(j(),T(`div`,Bd,[O(le,{title:``,tabs:t.value,"default-tab":`suppliers`,onTabChange:h},{suppliers:F(()=>[r.value===`supplierindex`?(j(),C(Ft,{key:0,onCreate:n[0]||=e=>u(`suppliers`),onEdit:n[1]||=e=>d(`suppliers`,e),onViewDetail:n[2]||=e=>f(`suppliers`,e),ref_key:`suppliersIndexRef`,ref:o},null,512)):w(``,!0),r.value===`suppliercreate`?(j(),C(Rn,{key:1,onBack:n[3]||=e=>p(`suppliers`),onSuccess:n[4]||=e=>m(`suppliers`),onCancel:n[5]||=e=>p(`suppliers`)})):w(``,!0),r.value===`supplieredit`?(j(),C(ei,{key:2,onBack:n[6]||=e=>p(`suppliers`),onSuccess:n[7]||=e=>m(`suppliers`),onCancel:n[8]||=e=>p(`suppliers`),id:i.value.id,supplier:i.value.data},null,8,[`id`,`supplier`])):w(``,!0),r.value===`supplierdetail`?(j(),C(eo,{key:3,onBack:n[9]||=e=>p(`suppliers`),onEdit:n[10]||=e=>d(`suppliers`,e),id:a.value.id},null,8,[`id`])):w(``,!0)]),"supplier-types":F(()=>[r.value===`suppliertypeindex`?(j(),C(ns,{key:0,onCreate:n[11]||=e=>u(`supplier-types`),onEdit:n[12]||=e=>d(`supplier-types`,e),ref_key:`supplierTypesIndexRef`,ref:s},null,512)):w(``,!0),r.value===`suppliertypecreate`?(j(),C(Vs,{key:1,onBack:n[13]||=e=>p(`supplier-types`),onSuccess:n[14]||=e=>m(`supplier-types`),onCancel:n[15]||=e=>p(`supplier-types`)})):w(``,!0),r.value===`suppliertypeedit`?(j(),C(Ec,{key:2,onBack:n[16]||=e=>p(`supplier-types`),onSuccess:n[17]||=e=>m(`supplier-types`),onCancel:n[18]||=e=>p(`supplier-types`),id:i.value.id,supplierType:i.value.data},null,8,[`id`,`supplierType`])):w(``,!0)]),"payment-terms":F(()=>[r.value===`paymenttermindex`?(j(),C(Fl,{key:0,onCreate:n[19]||=e=>u(`payment-terms`),onEdit:n[20]||=e=>d(`payment-terms`,e),ref_key:`paymentTermsIndexRef`,ref:c},null,512)):w(``,!0),r.value===`paymenttermcreate`?(j(),C(Iu,{key:1,onBack:n[21]||=e=>p(`payment-terms`),onSuccess:n[22]||=e=>m(`payment-terms`),onCancel:n[23]||=e=>p(`payment-terms`)})):w(``,!0),r.value===`paymenttermedit`?(j(),C(zd,{key:2,onBack:n[24]||=e=>p(`payment-terms`),onSuccess:n[25]||=e=>m(`payment-terms`),onCancel:n[26]||=e=>p(`payment-terms`),id:i.value.id,paymentTerm:i.value.data},null,8,[`id`,`paymentTerm`])):w(``,!0)]),_:1},8,[`tabs`])]))}}),Hd=Vd;export{Hd as default};