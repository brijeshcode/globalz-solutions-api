import{D as e,_ as t,a4 as n,aB as ee,aC as r,aE as te,aF as i,aG as ne,aI as a,aK as o,aS as s,aU as c,aV as l,aY as u,ag as re,ak as ie,al as d,as as f,az as p,j as ae}from"./index-B4L_8Est.js";import"./GlobalConfig-Dep5CV3r.js";import"./tableUtils-jdfVzp2e.js";import{b as m,c as h}from"./common-DPsEy-Xi.js";import{b as g}from"./customerPaymentsStore-DLEsZjyv.js";const _={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},v={class:``},y={class:`mb-8`},b={class:`flex items-center space-x-4 mb-2`},x={class:`text-sm text-gray-600 dark:text-gray-400`},S={key:0,class:`flex items-center justify-center py-12`},C={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},w={class:`px-6 py-8`},T={class:`mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-md`},E={class:`flex`},D={class:`ml-3`},O={class:`mt-2 text-sm text-green-700 dark:text-green-300`},k={class:`space-y-6`},A={class:`border-b border-gray-200 dark:border-gray-700 pb-6`},j={class:`grid grid-cols-1 md:grid-cols-6 gap-6`},M=[`value`],N=[`value`],P=[`value`],F=[`value`],oe={class:`border-b border-gray-200 dark:border-gray-700 pb-6`},I={class:`grid grid-cols-1 md:grid-cols-4 gap-6`},L=[`value`],R=[`value`],z=[`value`],B=[`value`],V={class:`border-b border-gray-200 dark:border-gray-700 pb-6`},H={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},U=[`value`],W=[`value`],G={class:`pb-6`},K={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},q={class:`flex items-center justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700`},se={key:2,class:`text-center py-12`};var J=ne({__name:`EditPage`,setup(ne){let J=d(),Y=ie(),X=re(),ce=g(),Z=c(!1),Q=c(null),$=()=>{J.push({name:`customer.payments.index`})},le=async()=>{let e=Number(Y.params.id);if(!e){X.error(`Invalid payment ID`),$();return}Z.value=!0;try{let t=await ce.fetchPayment(e);Q.value=t}catch{X.error(`Failed to load payment`),Q.value=null}finally{Z.value=!1}};return a(async()=>{await le()}),(ne,a)=>(o(),r(`div`,_,[p(`div`,v,[p(`div`,y,[p(`div`,b,[p(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[i(l(n),{class:`w-5 h-5`})]),p(`div`,null,[a[4]||=p(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` View Payment `,-1),p(`p`,x,` View payment details `+u(Q.value?.prefix)+`-`+u(Q.value?.code),1)])])]),Z.value?(o(),r(`div`,S,[i(l(e),{class:`h-8 w-8 animate-spin text-blue-600`}),a[5]||=p(`span`,{class:`ml-2 text-gray-600 dark:text-gray-400`},`Loading payment...`,-1)])):Q.value?(o(),r(`div`,C,[p(`div`,w,[p(`div`,T,[p(`div`,E,[i(l(t),{class:`h-5 w-5 text-green-400`}),p(`div`,D,[a[6]||=p(`h3`,{class:`text-sm font-medium text-green-800 dark:text-green-200`},` Payment Approved `,-1),p(`div`,O,[p(`p`,null,`This payment has been approved and is read-only. Approved by: `+u(Q.value.approved_by_user?.name||`N/A`)+` on `+u(l(h)(Q.value.approved_at)),1)])])])]),p(`div`,k,[p(`div`,A,[a[13]||=p(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Basic Information `,-1),p(`div`,j,[p(`div`,null,[a[7]||=p(`label`,{for:`prefix`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Prefix `,-1),s(p(`input`,{id:`prefix`,"onUpdate:modelValue":a[0]||=e=>Q.value.prefix=e,type:`text`,disabled:``,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm cursor-not-allowed`},null,512),[[f,Q.value.prefix]])]),p(`div`,null,[a[8]||=p(`label`,{for:`date`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Payment Date `,-1),p(`input`,{id:`date`,value:l(h)(Q.value.date),type:`text`,disabled:``,class:`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 bg-gray-50 dark:bg-gray-700 cursor-not-allowed`},null,8,M)]),p(`div`,null,[a[9]||=p(`label`,{for:`customer`,class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block`},` Customer `,-1),p(`input`,{id:`customer`,value:Q.value.customer?.name||`-`,type:`text`,disabled:``,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm cursor-not-allowed`},null,8,N)]),p(`div`,null,[a[10]||=p(`label`,{for:`currency`,class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block`},` Currency `,-1),p(`input`,{id:`currency`,value:Q.value.currency?.name?`${Q.value.currency.name} (${Q.value.currency.code})`:`-`,type:`text`,disabled:``,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm cursor-not-allowed`},null,8,P)]),p(`div`,null,[a[11]||=p(`label`,{for:`payment_term`,class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block`},` Payment Term `,-1),p(`input`,{id:`payment_term`,value:Q.value.customer_payment_term?`${Q.value.customer_payment_term.name} (${Q.value.customer_payment_term.days} days)`:`-`,type:`text`,disabled:``,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm cursor-not-allowed`},null,8,F)]),p(`div`,null,[a[12]||=p(`label`,{for:`rtc_book_number`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` RTC Book Number `,-1),s(p(`input`,{id:`rtc_book_number`,"onUpdate:modelValue":a[1]||=e=>Q.value.rtc_book_number=e,type:`text`,disabled:``,class:`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 bg-gray-50 dark:bg-gray-700 cursor-not-allowed`},null,512),[[f,Q.value.rtc_book_number]])])])]),p(`div`,oe,[a[18]||=p(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Payment Details `,-1),p(`div`,I,[p(`div`,null,[a[14]||=p(`label`,{for:`currency_rate`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Currency Rate `,-1),p(`input`,{id:`currency_rate`,value:Q.value.currency_rate,type:`text`,disabled:``,class:`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 bg-gray-50 dark:bg-gray-700 cursor-not-allowed`},null,8,L)]),p(`div`,null,[a[15]||=p(`label`,{for:`amount`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Amount `,-1),p(`input`,{id:`amount`,value:l(m)(Q.value.amount),type:`text`,disabled:``,class:`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 bg-gray-50 dark:bg-gray-700 cursor-not-allowed`},null,8,R)]),p(`div`,null,[a[16]||=p(`label`,{for:`amount_usd`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Amount USD `,-1),p(`input`,{id:`amount_usd`,value:l(m)(Q.value.amount_usd),type:`text`,disabled:``,class:`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 bg-gray-50 dark:bg-gray-700 cursor-not-allowed`},null,8,z)]),p(`div`,null,[a[17]||=p(`label`,{for:`credit_limit`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Credit Limit `,-1),p(`input`,{id:`credit_limit`,value:l(m)(Q.value.credit_limit),type:`text`,disabled:``,class:`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 bg-gray-50 dark:bg-gray-700 cursor-not-allowed`},null,8,B)])])]),p(`div`,V,[a[21]||=p(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Approval Details `,-1),p(`div`,H,[p(`div`,null,[a[19]||=p(`label`,{for:`account`,class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block`},` Account `,-1),p(`input`,{id:`account`,value:Q.value.account?`${Q.value.account.name} (${Q.value.account.account_number})`:`-`,type:`text`,disabled:``,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm cursor-not-allowed`},null,8,U)]),p(`div`,null,[a[20]||=p(`label`,{for:`approved_by`,class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block`},` Approved By `,-1),p(`input`,{id:`approved_by`,value:Q.value.approved_by_user?`${Q.value.approved_by_user.name} (${Q.value.approved_by_user.email})`:`-`,type:`text`,disabled:``,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm cursor-not-allowed`},null,8,W)])])]),p(`div`,G,[a[24]||=p(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Additional Information `,-1),p(`div`,K,[p(`div`,null,[a[22]||=p(`label`,{for:`note`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Notes `,-1),s(p(`textarea`,{id:`note`,"onUpdate:modelValue":a[2]||=e=>Q.value.note=e,rows:`3`,disabled:``,class:`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 bg-gray-50 dark:bg-gray-700 cursor-not-allowed`,placeholder:`No notes available`},null,512),[[f,Q.value.note]])]),p(`div`,null,[a[23]||=p(`label`,{for:`approve_note`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Approval Note `,-1),s(p(`textarea`,{id:`approve_note`,"onUpdate:modelValue":a[3]||=e=>Q.value.approve_note=e,rows:`3`,disabled:``,class:`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 bg-gray-50 dark:bg-gray-700 cursor-not-allowed`,placeholder:`No approval notes available`},null,512),[[f,Q.value.approve_note]])])])]),p(`div`,q,[p(`button`,{type:`button`,onClick:$,class:`px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[i(l(n),{class:`h-4 w-4 mr-2`}),a[25]||=te(` Back to Payments `,-1)])])])])])):Z.value?ee(``,!0):(o(),r(`div`,se,[i(l(ae),{class:`mx-auto h-12 w-12 text-red-400`}),a[26]||=p(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},`Payment not found`,-1),a[27]||=p(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` The payment you're looking for doesn't exist or has been deleted. `,-1),p(`div`,{class:`mt-6`},[p(`button`,{onClick:$,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700`},` Back to Payments `)])]))])]))}}),Y=J;export{Y as default};