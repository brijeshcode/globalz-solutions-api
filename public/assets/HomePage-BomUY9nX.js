import{a$ as e,aD as t,aJ as n,aO as r,aQ as i,aR as a,aS as o,aT as s,aU as c,aX as l,aY as u,au as d,b1 as f,b2 as p,b9 as m,bb as h,bc as g,bf as _}from"./index-B0KD7do8.js";import{b as v}from"./useAuth-Dgbrst5c.js";import{b as y}from"./GlobalConfig-wPgXFcZ5.js";import"./common-CZbH6H1Z.js";import"./currencyUtil-DN8BeuxT.js";import{b,c as ee,d as x}from"./EmployeeDailyBusinessBreadDown-DBZr2rY0.js";var S=class{baseUrl=`/homepage`;async getHomePage(){try{let e=await d(this.baseUrl,{loadingMessage:`Loading homepage data...`,showSuccessNotification:!1});return e.data.data}catch(e){throw console.error(`Error fetching homepage data:`,e),e}}};const C=new S,w={class:`p-6`},T={key:0,class:`text-center text-gray-600 dark:text-gray-400 mt-20`},E={key:1,class:`mt-6 bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded`},D={key:2,class:`bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden`},O={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},k={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},A={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400`},j={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400`},M={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400`},N={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400`};var P=u({__name:`AdminHomePage`,setup(n){let r=t(),{isSuperAdmin:i,isAdmin:o,isSalesman:l,isWarehouseManager:u}=v(),d=h(null),p=h(!0),m=h(null),y=async()=>{try{p.value=!0,m.value=null;let e=await C.getHomePage();d.value=e.data||e}catch(e){console.error(`Error fetching homepage data:`,e),m.value=`Failed to load data. Please try again.`}finally{p.value=!1}},b=e=>{r.push({name:e})};return e(()=>{y()}),(e,t)=>(f(),c(`div`,w,[t[10]||=a(`h1`,{class:`text-3xl font-bold mb-6 text-gray-900 dark:text-white`},`Welcome Admin`,-1),p.value?(f(),c(`div`,T,t[4]||=[a(`p`,null,`Loading data...`,-1)])):m.value?(f(),c(`div`,E,[a(`p`,null,_(m.value),1)])):(f(),c(`div`,D,[a(`table`,O,[t[9]||=a(`thead`,{class:`bg-gray-50 dark:bg-gray-700`},[a(`tr`,null,[a(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Item `),a(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Count `)])],-1),a(`tbody`,k,[g(i)||g(o)||g(l)?(f(),c(`tr`,{key:0,onClick:t[0]||=e=>b(`salesOrder.index`),class:`hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors duration-200`},[t[5]||=a(`td`,{class:`px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white`},` Sales to Review `,-1),a(`td`,A,_(d.value?.sales||0),1)])):s(``,!0),g(i)||g(o)||g(l)?(f(),c(`tr`,{key:1,onClick:t[1]||=e=>b(`customer.return-orders.index`),class:`hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors duration-200`},[t[6]||=a(`td`,{class:`px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white`},` Returns to Review `,-1),a(`td`,j,_(d.value?.returns||0),1)])):s(``,!0),g(i)||g(o)||g(l)?(f(),c(`tr`,{key:2,onClick:t[2]||=e=>b(`customer.payment-orders.index`),class:`hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors duration-200`},[t[7]||=a(`td`,{class:`px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white`},` Payments to Review `,-1),a(`td`,M,_(d.value?.payments||0),1)])):s(``,!0),g(i)||g(o)?(f(),c(`tr`,{key:3,onClick:t[3]||=e=>b(`items.index`),class:`hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors duration-200`},[t[8]||=a(`td`,{class:`px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white`},` Low Stock Items `,-1),a(`td`,N,_(d.value?.lowStocks||0),1)])):s(``,!0)])])]))]))}}),F=P;const I={class:`p-6`},L={class:`flex justify-between items-center mb-6`},R={class:`flex items-center gap-3 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md`},z=[`value`],B=[`value`],V={key:0,class:`text-center text-gray-600 dark:text-gray-400 mt-20`},H={key:1,class:`mt-6 bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded`},U={key:2,class:`space-y-6`},W={class:`bg-white dark:bg-gray-800 rounded-lg shadow-md p-6`},G={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4`},K={class:`bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg`},q={class:`text-lg font-bold text-gray-900 dark:text-white`},J={class:`text-xs text-gray-500 dark:text-gray-500`},Y={class:`bg-green-50 dark:bg-green-900/20 p-4 rounded-lg`},X={class:`text-lg font-bold text-gray-900 dark:text-white`},Z={class:`bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg`},Q={class:`text-lg font-bold text-gray-900 dark:text-white`},te={class:`bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg`},ne={class:`text-lg font-bold text-gray-900 dark:text-white`},re={class:`grid grid-cols-1 md:grid-cols-3 gap-4 mt-4`},ie={class:`bg-red-50 dark:bg-red-700/20 p-4 rounded-lg`},ae={class:`text-lg font-semibold text-red-900 dark:text-white`},oe={class:`bg-gray-50 dark:bg-gray-700/20 p-4 rounded-lg`},se={class:`text-lg font-semibold text-gray-900 dark:text-white`},ce={class:`bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border-2 border-yellow-400 dark:border-yellow-600`},le={class:`text-2xl font-bold text-yellow-700 dark:text-yellow-400`},ue={class:`grid grid-cols-1 p-6 md:grid-cols-10 gap-4 mt-4 bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden`},de={class:`col-span-10`};var fe=u({__name:`SaleManHomePage`,setup(t){let o=h(null),u=h(!0),d=h(null),g=new Date,v=g.getMonth()+1,S=g.getFullYear(),C=h(v),w=h(S),T=[{value:1,label:`January`},{value:2,label:`February`},{value:3,label:`March`},{value:4,label:`April`},{value:5,label:`May`},{value:6,label:`June`},{value:7,label:`July`},{value:8,label:`August`},{value:9,label:`September`},{value:10,label:`October`},{value:11,label:`November`},{value:12,label:`December`}],E=i(()=>{let e=[];for(let t=y.commissionStartYear;t<=S;t++)e.push(t);return e.reverse()}),D=async()=>{try{u.value=!0,d.value=null;let e=await x.getEmployeeMonthlyCommission({month:C.value,year:w.value});o.value=e}catch(e){console.error(`Error fetching commission data:`,e),d.value=`Failed to load commission data. Please try again.`}finally{u.value=!1}},O=e=>e==null?`-`:new Intl.NumberFormat(`en-US`,{style:`currency`,currency:`USD`}).format(e),k=e=>{let t=[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`];return t[e-1]||``};return e(()=>{D()}),(e,t)=>(f(),c(`div`,I,[a(`div`,L,[t[4]||=a(`h1`,{class:`text-3xl font-bold text-gray-900 dark:text-white`},`My Monthly Commission`,-1),a(`div`,R,[a(`div`,null,[t[2]||=a(`label`,{class:`block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1`},`Month`,-1),m(a(`select`,{"onUpdate:modelValue":t[0]||=e=>C.value=e,class:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500`},[(f(),c(r,null,p(T,e=>a(`option`,{key:e.value,value:e.value},_(e.label),9,z)),64))],512),[[n,C.value]])]),a(`div`,null,[t[3]||=a(`label`,{class:`block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1`},`Year`,-1),m(a(`select`,{"onUpdate:modelValue":t[1]||=e=>w.value=e,class:`px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500`},[(f(!0),c(r,null,p(E.value,e=>(f(),c(`option`,{key:e,value:e},_(e),9,B))),128))],512),[[n,w.value]])]),a(`button`,{onClick:D,class:`mt-5 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors duration-150 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2`},` View `)])]),u.value?(f(),c(`div`,V,t[5]||=[a(`p`,null,`Loading commission data...`,-1)])):d.value?(f(),c(`div`,H,[a(`p`,null,_(d.value),1)])):o.value?(f(),c(`div`,U,[a(`div`,W,[t[13]||=a(`h2`,{class:`text-xl font-semibold mb-4 text-gray-900 dark:text-white`},`Business Summary`,-1),a(`div`,G,[a(`div`,K,[t[6]||=a(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},`Employee`,-1),a(`p`,q,_(o.value.business_summary.employee_name),1),a(`p`,J,`ID: `+_(o.value.business_summary.employee_id),1)]),a(`div`,Y,[t[7]||=a(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},`Period`,-1),a(`p`,X,_(k(o.value.business_summary.month))+` `+_(o.value.business_summary.year),1)]),a(`div`,Z,[t[8]||=a(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},`Total Sales`,-1),a(`p`,Q,_(O(o.value.business_summary.total_sales)),1)]),a(`div`,te,[t[9]||=a(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},`Net Sales`,-1),a(`p`,ne,_(O(o.value.business_summary.net_sales)),1)])]),a(`div`,re,[a(`div`,ie,[t[10]||=a(`p`,{class:`text-sm text-red-600 dark:text-red-400`},`Returns`,-1),a(`p`,ae,_(O(o.value.business_summary.total_returns)),1)]),a(`div`,oe,[t[11]||=a(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},`Payments`,-1),a(`p`,se,_(O(o.value.business_summary.total_payments)),1)]),a(`div`,ce,[t[12]||=a(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},`Total Commission`,-1),a(`p`,le,_(O(o.value.total_commission)),1)])])]),a(`div`,ue,[a(`div`,de,[l(ee,{"commission-data":o.value},null,8,[`commission-data`]),l(b,{"commission-data":o.value},null,8,[`commission-data`])])])])):s(``,!0)]))}}),pe=fe;const me={class:`p-6`},he={key:0,class:`text-center text-gray-600 dark:text-gray-400 mt-20`},ge={key:1,class:`mt-6 bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded`},_e={key:2,class:`bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden`},ve={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},ye={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},be={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400`},$={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400`},xe={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400`},Se={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400`};var Ce=u({__name:`WarehouseManagerHomepage`,setup(n){let r=t(),{isSuperAdmin:i,isAdmin:o,isSalesman:l,isWarehouseManager:u}=v(),d=h(null),p=h(!0),m=h(null),y=async()=>{try{p.value=!0,m.value=null;let e=await C.getHomePage();d.value=e.data||e}catch(e){console.error(`Error fetching homepage data:`,e),m.value=`Failed to load data. Please try again.`}finally{p.value=!1}},b=e=>{r.push({name:e})};return e(()=>{y()}),(e,t)=>(f(),c(`div`,me,[t[10]||=a(`h1`,{class:`text-3xl font-bold mb-6 text-gray-900 dark:text-white`},`Welcome Warehouse Manager`,-1),p.value?(f(),c(`div`,he,t[4]||=[a(`p`,null,`Loading data...`,-1)])):m.value?(f(),c(`div`,ge,[a(`p`,null,_(m.value),1)])):(f(),c(`div`,_e,[a(`table`,ve,[t[9]||=a(`thead`,{class:`bg-gray-50 dark:bg-gray-700`},[a(`tr`,null,[a(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Item `),a(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Count `)])],-1),a(`tbody`,ye,[g(i)||g(o)||g(l)?(f(),c(`tr`,{key:0,onClick:t[0]||=e=>b(`salesOrder.index`),class:`hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors duration-200`},[t[5]||=a(`td`,{class:`px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white`},` Sales to Review `,-1),a(`td`,be,_(d.value?.sales||0),1)])):s(``,!0),g(i)||g(o)||g(l)?(f(),c(`tr`,{key:1,onClick:t[1]||=e=>b(`customer.return-orders.index`),class:`hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors duration-200`},[t[6]||=a(`td`,{class:`px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white`},` Returns to Review `,-1),a(`td`,$,_(d.value?.returns||0),1)])):s(``,!0),g(i)||g(o)||g(l)?(f(),c(`tr`,{key:2,onClick:t[2]||=e=>b(`customer.payment-orders.index`),class:`hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors duration-200`},[t[7]||=a(`td`,{class:`px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white`},` Payments to Review `,-1),a(`td`,xe,_(d.value?.payments||0),1)])):s(``,!0),g(i)||g(o)?(f(),c(`tr`,{key:3,onClick:t[3]||=e=>b(`items.index`),class:`hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors duration-200`},[t[8]||=a(`td`,{class:`px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white`},` Low Stock Items `,-1),a(`td`,Se,_(d.value?.lowStocks||0),1)])):s(``,!0)])])]))]))}}),we=Ce;const Te={class:`p-6`};var Ee=u({__name:`HomePage`,setup(e){let{isSuperAdmin:t,isAdmin:n,isSalesman:r,isWarehouseManager:i}=v();return(e,a)=>(f(),c(`div`,Te,[g(n)||g(t)?(f(),o(F,{key:0})):g(r)?(f(),o(pe,{key:1})):g(i)?(f(),o(we,{key:2})):s(``,!0)]))}}),De=Ee;export{De as default};