import{D as e,P as t,aA as n,aB as r,aC as i,aE as a,aF as o,aG as s,aK as c,aL as l,aQ as u,aR as d,aS as f,aU as p,aV as m,aW as h,aY as g,ap as _,av as v,aw as y,ay as b,az as x,e as S,h as C}from"./index-BbHowb67.js";import{b as w}from"./Modal-SHXz7hj2.js";const T={class:`space-y-4`},E={key:0,class:`text-sm text-gray-600 dark:text-gray-400`},D={class:`flex items-center space-x-2`},ee={class:`space-y-2`},O={class:`flex justify-between items-center`},k=[`disabled`],A=[`accept`,`disabled`],j={class:`text-center`},M={class:`mt-2`},N={key:0,class:`text-sm text-gray-600 dark:text-gray-400`},P={key:1,class:`text-sm font-medium text-green-600 dark:text-green-400`},F={class:`text-xs text-gray-500 dark:text-gray-500 mt-1`},I=[`disabled`],L={key:1,class:`bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4`},R={class:`text-sm text-gray-600 dark:text-gray-400 space-y-1 list-disc list-inside`},z={class:`flex items-center justify-end space-x-3`},B=[`disabled`],V=[`disabled`];var H=s({__name:`ImportModal`,props:{modelValue:{type:Boolean},title:{default:`Import Data`},description:{default:`Upload a file to import data into the system.`},acceptTypes:{default:`.csv,.xlsx,.xls`},acceptTypesLabel:{default:`CSV or Excel files only`},instructions:{default:()=>[]},loading:{type:Boolean}},emits:[`update:modelValue`,`import`,`downloadTemplate`,`close`],setup(s,{emit:H}){let U=s,W=H,G=p(null),K=p(null),q=p(!1),J=p(!1),Y=p(!1),X=b({get:()=>U.modelValue,set:e=>W(`update:modelValue`,e)});u(()=>U.loading,e=>{J.value=e});let Z=()=>{J.value||G.value?.click()},Q=e=>{let t=e.target,n=t.files?.[0];n&&(K.value=n)},te=e=>{q.value=!1;let t=e.dataTransfer?.files[0];if(t){let e=`.`+t.name.split(`.`).pop()?.toLowerCase();U.acceptTypes.includes(e)&&(K.value=t)}},ne=()=>{K.value=null,G.value&&(G.value.value=``)},re=()=>{W(`downloadTemplate`)},ie=()=>{K.value&&W(`import`,K.value,Y.value)},$=()=>{J.value||(K.value=null,Y.value=!1,G.value&&(G.value.value=``),W(`update:modelValue`,!1),W(`close`))};return u(()=>U.modelValue,e=>{e||(K.value=null,Y.value=!1,G.value&&(G.value.value=``))}),(s,u)=>(c(),n(w,{modelValue:X.value,"onUpdate:modelValue":u[3]||=e=>X.value=e,title:s.title,size:`xl`,loading:J.value,onClose:$},{footer:d(()=>[x(`div`,z,[x(`button`,{onClick:$,disabled:J.value,class:`px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Cancel `,8,B),x(`button`,{onClick:ie,disabled:!K.value||J.value,class:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[J.value?(c(),n(m(e),{key:1,class:`h-4 w-4 mr-2 animate-spin`})):(c(),n(m(C),{key:0,class:`h-4 w-4 mr-2`})),a(` `+g(J.value?`Importing...`:`Import`),1)],8,V)])]),default:d(()=>[x(`div`,T,[s.description?(c(),i(`p`,E,g(s.description),1)):r(``,!0),u[9]||=x(`div`,{class:`flex justify-end`},null,-1),x(`div`,D,[f(x(`input`,{id:`update-existing`,"onUpdate:modelValue":u[0]||=e=>Y.value=e,type:`checkbox`,class:`h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700`},null,512),[[_,Y.value]]),u[4]||=x(`label`,{for:`update-existing`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Update existing records if they already exist `,-1)]),x(`div`,ee,[x(`div`,O,[u[6]||=x(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},` Select File to Import `,-1),x(`button`,{onClick:re,disabled:J.value,class:`mt-3 inline-flex items-center px-2 py-1 border border-blue-300 dark:border-blue-600 rounded-md shadow-sm text-sm font-medium text-blue-700 dark:text-blue-200 bg-white dark:bg-blue-900/30 hover:bg-blue-50 dark:hover:bg-blue-900/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[o(m(t),{class:`h-4 w-4 mr-2`}),u[5]||=a(` Download Template `,-1)],8,k)]),x(`div`,{onClick:Z,onDrop:v(te,[`prevent`]),onDragover:u[1]||=v(e=>q.value=!0,[`prevent`]),onDragleave:u[2]||=v(e=>q.value=!1,[`prevent`]),class:h([`relative border-2 border-dashed rounded-lg p-2 transition-colors duration-200 cursor-pointer`,q.value?`border-blue-500 bg-blue-50 dark:bg-blue-900/20`:K.value?`border-green-300 dark:border-green-700 bg-green-50 dark:bg-green-900/20`:`border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500`])},[x(`input`,{ref_key:`fileInput`,ref:G,type:`file`,accept:s.acceptTypes,class:`hidden`,onChange:Q,disabled:J.value},null,40,A),x(`div`,j,[o(m(C),{class:h([`mx-auto h-12 w-12`,K.value?`text-green-500 dark:text-green-400`:`text-gray-400 dark:text-gray-500`])},null,8,[`class`]),x(`div`,M,[K.value?(c(),i(`p`,P,g(K.value.name),1)):(c(),i(`p`,N,u[7]||=[x(`span`,{class:`font-semibold text-blue-600 dark:text-blue-400`},`Click to upload`,-1),a(` or drag and drop `,-1)]))]),x(`p`,F,g(s.acceptTypesLabel),1)]),K.value?(c(),i(`button`,{key:0,onClick:v(ne,[`stop`]),class:`absolute top-2 right-2 p-1 text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors duration-200`,disabled:J.value},[o(m(S),{class:`h-5 w-5`})],8,I)):r(``,!0)],34)]),s.instructions&&s.instructions.length>0?(c(),i(`div`,L,[u[8]||=x(`h4`,{class:`text-sm font-medium text-gray-900 dark:text-gray-200 mb-2`},` Import Instructions: `,-1),x(`ul`,R,[(c(!0),i(y,null,l(s.instructions,(e,t)=>(c(),i(`li`,{key:t},g(e),1))),128))])])):r(``,!0)])]),_:1},8,[`modelValue`,`title`,`loading`]))}}),U=H;export{U as b};