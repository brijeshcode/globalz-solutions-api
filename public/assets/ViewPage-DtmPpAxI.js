import{B as e,a$ as t,a6 as n,aB as ee,aC as r,aP as i,aQ as a,aR as o,aS as s,aT as c,aV as l,aW as u,aX as te,aZ as d,a_ as f,aj as ne,an as p,ax as re,b6 as m,b9 as h,ba as g,bd as _,j as ie,t as ae}from"./index-DatFpAmG.js";import"./GlobalConfig-wPgXFcZ5.js";import"./tableUtils-ylneqlK-.js";import{c as v,d as oe}from"./common-qdv5PS_C.js";import{b as y}from"./currencyUtil-F3RFOEKY.js";import{b}from"./DataItems-BO4qr__3.js";import{b as x,c as S}from"./SystemInfoCard-DMakZVrb.js";import{b as C}from"./salaryStore-BekLaxch.js";const w={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},T={class:`mb-8`},E={class:`flex items-center justify-between`},D={class:`flex items-center space-x-4`},O={class:`text-3xl font-bold text-gray-900 dark:text-gray-100`},k={class:`text-sm text-gray-600 dark:text-gray-400 mt-1`},A={class:`flex items-center space-x-3`},j={key:0,class:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`},M={key:0,class:`flex items-center justify-center py-12`},N={key:1,class:`bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6`},P={class:`flex items-center`},F={class:`text-red-600 dark:text-red-400 mt-1`},I={key:2,class:`space-y-8`},L={class:`bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-6`},R={class:`flex items-center justify-between`},z={class:`flex`},B={class:`ml-4`},V={class:`text-lg font-semibold text-blue-900 dark:text-blue-100`},H={class:`text-sm text-blue-700 dark:text-blue-300 mt-1`},se={class:`text-xs text-blue-600 dark:text-blue-400 mt-1`},U={class:`text-right`},W={class:`text-3xl font-bold text-blue-900 dark:text-blue-100`},G={class:`font-medium text-blue-600 dark:text-blue-400`},K={class:`font-medium`},ce={class:`text-lg font-semibold text-gray-900 dark:text-gray-100`},le={class:`text-lg font-semibold text-red-600 dark:text-red-400`},ue={class:`text-lg font-semibold text-gray-900 dark:text-gray-100`},de={class:`text-2xl font-bold text-green-600 dark:text-green-400`},fe={class:`bg-gray-50 dark:bg-gray-900/20 border border-gray-200 dark:border-gray-700 rounded-lg p-6`},pe={class:`flex items-center justify-center space-x-2 text-sm text-gray-600 dark:text-gray-400`},me={class:`font-medium`},he={class:`font-medium`},ge={class:`font-medium`},_e={class:`font-bold text-green-600 dark:text-green-400 text-lg`},ve={class:`text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap bg-gray-50 dark:bg-gray-700 p-3 rounded-md`},ye={class:`text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap bg-gray-50 dark:bg-gray-700 p-3 rounded-md`},be={key:3,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},xe={class:`text-center`};var q=te({__name:`ViewPage`,setup(te){let p=r(),q=ee(),J=C(),{showError:Se}=re(),Y=h(!0),X=h(null),Ce=i(()=>Number(q.params.id)),Z=i(()=>J.currentSalary),we=[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],Q=e=>e>=1&&e<=12?we[e-1]:`Unknown`,Te=async()=>{try{Y.value=!0,X.value=null,await J.fetchSalary(Ce.value),J.currentSalary||(X.value=`Salary not found`)}catch(e){X.value=e.response?.data?.message||`Failed to load salary details`,Se(X.value)}finally{Y.value=!1}},Ee=()=>{Z.value&&p.push({name:`employees.salaries.edit`,params:{id:Z.value.id}})},$=()=>{p.push({name:`employees.salaries.index`})};return d(()=>{Te()}),f(()=>{J.clearCurrentSalary()}),(ee,r)=>(t(),c(`div`,w,[a(`div`,T,[a(`div`,E,[a(`div`,D,[a(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[u(g(ne),{class:`w-5 h-5`})]),a(`div`,null,[a(`h1`,O,_(Z.value?.employee?.name||`Salary Details`),1),a(`p`,k,` Salary Code: `+_(Z.value?.salary_code),1)])]),a(`div`,A,[Z.value?(t(),c(`span`,j,_(g(y)(Z.value.final_total)),1)):s(``,!0),Z.value?(t(),c(`button`,{key:1,onClick:Ee,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700`},[u(g(ae),{class:`w-4 h-4 mr-2`}),r[0]||=l(` Edit `,-1)])):s(``,!0)])])]),Y.value?(t(),c(`div`,M,r[1]||=[a(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`},null,-1),a(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading salary details...`,-1)])):X.value?(t(),c(`div`,N,[a(`div`,P,[u(g(n),{class:`w-6 h-6 text-red-500 mr-3`}),a(`div`,null,[r[2]||=a(`h3`,{class:`text-lg font-medium text-red-800 dark:text-red-300`},`Error Loading Salary`,-1),a(`p`,F,_(X.value),1)])])])):Z.value?(t(),c(`div`,I,[a(`div`,L,[a(`div`,R,[a(`div`,z,[u(g(e),{class:`h-8 w-8 text-blue-600 dark:text-blue-400`}),a(`div`,B,[a(`h3`,V,_(Q(Z.value.month))+` `+_(Z.value.year)+` Salary `,1),a(`p`,H,` Employee: `+_(Z.value.employee?.name)+` `+_(Z.value.employee?.code?`(${Z.value.employee.code})`:``),1),a(`p`,se,` Date: `+_(g(v)(Z.value.date)),1)])]),a(`div`,U,[r[3]||=a(`p`,{class:`text-sm text-blue-700 dark:text-blue-300`},`Final Total`,-1),a(`p`,W,_(g(y)(Z.value.final_total)),1)])])]),u(S,{title:`Salary Information`},{default:m(()=>[u(b,{label:`Salary Code`},{default:m(()=>[a(`span`,G,_(Z.value.salary_code),1)]),_:1}),u(b,{label:`Date`,value:g(v)(Z.value.date)},null,8,[`value`]),u(b,{label:`Employee`,value:Z.value.employee?.name},null,8,[`value`]),u(b,{label:`Employee Code`,value:Z.value.employee?.code},null,8,[`value`]),u(b,{label:`Period`},{default:m(()=>[a(`span`,K,_(Q(Z.value.month))+` `+_(Z.value.year),1)]),_:1}),u(b,{label:`Account`,value:Z.value.account?.name},null,8,[`value`])]),_:1}),u(S,{title:`Amount Breakdown`},{default:m(()=>[u(b,{label:`Sub Total`},{default:m(()=>[a(`span`,ce,_(g(y)(Z.value.sub_total)),1)]),_:1}),u(b,{label:`Advance Payment`},{default:m(()=>[a(`span`,le,` -`+_(g(y)(Z.value.advance_payment)),1)]),_:1}),u(b,{label:`Others`},{default:m(()=>[a(`span`,ue,_(Z.value.others>=0?`+`:``)+_(g(y)(Z.value.others)),1)]),_:1}),u(b,{label:`Final Total`,class:`border-t border-gray-200 dark:border-gray-700 pt-4`},{default:m(()=>[a(`span`,de,_(g(y)(Z.value.final_total)),1)]),_:1})]),_:1}),a(`div`,fe,[r[7]||=a(`h3`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-3`},`Calculation`,-1),a(`div`,pe,[a(`span`,me,_(g(y)(Z.value.sub_total)),1),r[4]||=a(`span`,null,`-`,-1),a(`span`,he,_(g(y)(Z.value.advance_payment)),1),r[5]||=a(`span`,null,`+`,-1),a(`span`,ge,_(g(y)(Z.value.others)),1),r[6]||=a(`span`,null,`=`,-1),a(`span`,_e,_(g(y)(Z.value.final_total)),1)])]),Z.value.others_note||Z.value.note?(t(),o(S,{key:0,title:`Notes`},{default:m(()=>[Z.value.others_note?(t(),o(b,{key:0,label:`Others Note`,class:`sm:col-span-3`},{default:m(()=>[a(`p`,ve,_(Z.value.others_note),1)]),_:1})):s(``,!0),Z.value.note?(t(),o(b,{key:1,label:`General Notes`,class:`sm:col-span-3`},{default:m(()=>[a(`p`,ye,_(Z.value.note),1)]),_:1})):s(``,!0)]),_:1})):s(``,!0),u(x,{item:Z.value,formatDateTime:g(oe)},null,8,[`item`,`formatDateTime`])])):(t(),c(`div`,be,[a(`div`,xe,[u(g(ie),{class:`h-12 w-12 mx-auto text-gray-400`}),r[8]||=a(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-2`},` Salary Not Found `,-1),r[9]||=a(`p`,{class:`text-gray-600 dark:text-gray-400 mb-4`},` The salary record you're looking for could not be found. `,-1),a(`button`,{onClick:$,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`},` Go Back `)])]))]))}}),J=p(q,[[`__scopeId`,`data-v-2cce33e8`]]);export{J as default};