import{F as e,H as t,J as ee,N as n,O as te,aD as r,aE as i,aS as a,aT as o,aU as s,aV as c,aX as l,aY as u,aZ as ne,al as d,az as re,b0 as ie,b2 as f,b6 as p,b9 as m,bc as h,bd as g,be as _,bg as v,p as ae}from"./index-B7rug5w2.js";import"./GlobalConfig-wPgXFcZ5.js";import{c as y}from"./common-CZbH6H1Z.js";import"./tableUtils-dXs1kjAL.js";import{b,d as oe}from"./currencyUtil-BGeL-k9l.js";import{b as x}from"./DataItems-CQMdQgXi.js";import{b as S}from"./customerCreditDebitNoteStore-DZSDWiFE.js";const C={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},w={class:``},T={class:`mb-8`},E={class:`flex items-center justify-between`},D={class:`flex items-center space-x-4`},O={class:`text-sm text-gray-600 dark:text-gray-400`},k={key:0,class:`flex space-x-3`},A={key:0,class:`flex items-center justify-center py-12`},j={key:1,class:`space-y-6`},M={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-6`},N={class:`flex items-center justify-between`},P={class:`flex items-center space-x-4`},F={class:`flex-shrink-0`},I={class:`text-lg font-medium text-gray-900 dark:text-white`},L={class:`text-sm text-gray-500 dark:text-gray-400`},R={class:`text-right`},z={class:`mb-2`},B={class:`text-2xl font-bold text-gray-900 dark:text-white`},V={key:0,class:`text-sm text-gray-500 dark:text-gray-400`},H={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},U={class:`px-6 py-4`},se={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`},W={class:`text-sm text-gray-900 dark:text-white capitalize`},G={class:`text-sm text-gray-900 dark:text-white`},K={key:0,class:`text-gray-500 dark:text-gray-400`},ce={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},le={class:`px-6 py-4`},ue={class:`text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 p-3 rounded-md`},de={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},fe={class:`px-6 py-4`},pe={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},me={class:`text-sm text-gray-900 dark:text-white`},he={class:`text-xs text-gray-500 dark:text-gray-400`},ge={class:`text-sm text-gray-900 dark:text-white`},_e={class:`text-xs text-gray-500 dark:text-gray-400`},ve={key:2,class:`text-center py-12`};var q=ne({__name:`ViewPage`,setup(ne){let q=i(),J=r(),Y=re(),X=S(),Z=h(!1),Q=h(null),$=()=>{q.push({name:`customer.notes.index`})},ye=()=>{Q.value&&q.push({name:`customer.notes.edit`,params:{id:Q.value.id}})},be=()=>{window.print()},xe=async()=>{let e=Number(J.params.id);if(!e){Y.error(`Invalid credit/debit note ID`),$();return}Z.value=!0;try{let t=await X.fetchCreditDebitNote(e);Q.value=t}catch{Y.error(`Failed to load credit/debit note`),Q.value=null}finally{Z.value=!1}};return ie(()=>{xe()}),(r,i)=>(f(),c(`div`,C,[a(`div`,w,[a(`div`,T,[a(`div`,E,[a(`div`,D,[a(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[u(g(d),{class:`w-5 h-5`})]),a(`div`,null,[i[0]||=a(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Credit/Debit Note Details `,-1),a(`p`,O,v(Q.value?`${Q.value.prefix}-${Q.value.code}`:`Loading...`),1)])]),Q.value&&!Z.value?(f(),c(`div`,k,[a(`button`,{onClick:ye,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[u(g(ee),{class:`h-4 w-4 mr-2`}),i[1]||=l(` Edit Note `,-1)]),a(`button`,{onClick:be,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[u(g(e),{class:`h-4 w-4 mr-2`}),i[2]||=l(` Print `,-1)])])):s(``,!0)])]),Z.value?(f(),c(`div`,A,[u(g(te),{class:`h-8 w-8 animate-spin text-blue-600`}),i[3]||=a(`span`,{class:`ml-2 text-gray-600 dark:text-gray-400`},`Loading credit/debit note...`,-1)])):Q.value?(f(),c(`div`,j,[a(`div`,M,[a(`div`,N,[a(`div`,P,[a(`div`,F,[a(`div`,{class:_([`h-16 w-16 rounded-full flex items-center justify-center`,Q.value.type===`credit`?`bg-green-100 dark:bg-green-900`:`bg-red-100 dark:bg-red-900`])},[(f(),o(p(Q.value.type===`credit`?g(t):g(n)),{class:_([`h-8 w-8`,Q.value.type===`credit`?`text-green-600 dark:text-green-400`:`text-red-600 dark:text-red-400`])},null,8,[`class`]))],2)]),a(`div`,null,[a(`h3`,I,v(Q.value.prefix)+`-`+v(Q.value.code),1),a(`p`,L,` Created `+v(g(y)(Q.value.created_at)),1)])]),a(`div`,R,[a(`div`,z,[a(`span`,{class:_([`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium`,Q.value.type===`credit`?`bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`:`bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200`])},[(f(),o(p(Q.value.type===`credit`?g(t):g(n)),{class:`h-4 w-4 mr-1`})),l(` `+v(Q.value.type===`credit`?`Credit Note`:`Debit Note`),1)],2)]),a(`div`,B,v(g(b)(Q.value.amount_usd,!0)),1),g(oe)(Q.value.currency.code)?s(``,!0):(f(),c(`div`,V,v(Q.value.currency.name)+`: `+v(g(b)(Q.value.amount,!0,Q.value.currency)),1))])])]),a(`div`,H,[i[4]||=a(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[a(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Basic Information`)],-1),a(`div`,U,[a(`div`,se,[u(x,{label:`Date`,value:g(y)(Q.value.date)},null,8,[`value`]),u(x,{label:`Type`},{default:m(()=>[a(`div`,W,v(Q.value.type),1)]),_:1}),u(x,{label:`Prefix`,value:Q.value.prefix},null,8,[`value`]),u(x,{label:`Customer`},{default:m(()=>[a(`div`,G,[l(v(Q.value.customer?.name||`-`)+` `,1),Q.value.customer?.code?(f(),c(`span`,K,` (`+v(Q.value.customer.code)+`) `,1)):s(``,!0)])]),_:1})])])]),s(``,!0),Q.value.note?(f(),c(`div`,ce,[i[6]||=a(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[a(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Notes`)],-1),a(`div`,le,[u(x,{label:`Note`},{default:m(()=>[a(`div`,ue,v(Q.value.note),1)]),_:1})])])):s(``,!0),a(`div`,de,[i[7]||=a(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[a(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Audit Information`)],-1),a(`div`,fe,[a(`div`,pe,[u(x,{label:`Created By`},{default:m(()=>[a(`div`,me,v(Q.value.created_by_user?.name||`-`),1),a(`div`,he,v(g(y)(Q.value.created_at)),1)]),_:1}),u(x,{label:`Last Updated By`},{default:m(()=>[a(`div`,ge,v(Q.value.updated_by_user?.name||`-`),1),a(`div`,_e,v(g(y)(Q.value.updated_at)),1)]),_:1})])])])])):Z.value?s(``,!0):(f(),c(`div`,ve,[u(g(ae),{class:`mx-auto h-12 w-12 text-red-400`}),i[8]||=a(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},`Credit/debit note not found`,-1),i[9]||=a(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` The note you're looking for doesn't exist or has been deleted. `,-1),a(`div`,{class:`mt-6`},[a(`button`,{onClick:$,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700`},` Back to Credit/Debit Notes `)])]))])]))}}),J=q;export{J as default};