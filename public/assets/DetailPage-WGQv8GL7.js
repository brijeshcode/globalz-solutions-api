import{A as e,B as t,C as n,D as r,J as ee,S as te,a4 as i,a5 as ne,aC as a,aD as o,aE as re,aG as s,ae as ie,ag as ae,ah as c,ai as oe,aj as l,ak as u,am as d,an as f,ao as se,aq as ce,as as p,at as le,aw as ue,e as de,j as fe,w as pe}from"./index-DaMCECFo.js";import"./GlobalConfig-DCFE7Hv9.js";import"./tableUtils-DX_RsmET.js";import{d as m}from"./common-D-kmVZlF.js";import{b as h}from"./documentService-BV6HRfgW.js";import{b as g}from"./suppliersStore-BGgUcTSA.js";const _={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},v={class:`mb-8`},y={class:`flex items-center justify-between`},b={class:`flex items-center space-x-4`},x={class:`text-3xl font-bold text-gray-900 dark:text-gray-100`},S={class:`text-sm text-gray-600 dark:text-gray-400 mt-1`},C={class:`flex items-center space-x-3`},w={key:0,class:`flex items-center justify-center py-12`},T={key:1,class:`bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6`},E={class:`flex items-center`},D={class:`text-red-600 dark:text-red-400 mt-1`},O={key:2,class:`space-y-8`},k={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},A={class:`px-6 py-5`},j={class:`grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2 lg:grid-cols-3`},M={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},N={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},P={key:0},F={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},I={key:1},L={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},R={key:2},z={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},B={key:3},me={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},he={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},ge={class:`px-6 py-5`},_e={class:`grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2`},ve={key:0,class:`sm:col-span-2`},ye={class:`mt-1 text-sm text-gray-900 dark:text-gray-100 whitespace-pre-line`},be={key:1},xe={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Se=[`href`],Ce={key:2},we={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Te=[`href`],Ee={key:3},De={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Oe=[`href`],ke={key:4},Ae={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},je=[`href`],Me={key:5,class:`sm:col-span-2`},Ne={class:`text-sm text-gray-900 dark:text-gray-100`},Pe={class:`bg-gray-50 dark:bg-gray-700 rounded-lg p-4`},Fe={class:`grid grid-cols-1 gap-2 sm:grid-cols-3`},Ie={class:`font-medium`},Le={key:0},Re=[`href`],ze={key:1},Be=[`href`],Ve={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},He={class:`px-6 py-5`},Ue={class:`grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2`},We={key:0},Ge={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Ke={key:1},qe={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Je={key:2},Ye={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Xe={key:3,class:`sm:col-span-2`},Ze={class:`mt-1 text-sm text-gray-900 dark:text-gray-100 whitespace-pre-line`},Qe={key:4,class:`sm:col-span-2`},$e={class:`mt-1 text-sm text-gray-900 dark:text-gray-100 whitespace-pre-line`},et={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},tt={class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},nt={class:`flex items-center justify-between`},rt={class:`text-lg font-medium text-gray-900 dark:text-gray-100`},it={class:`px-6 py-5`},at={class:`grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3`},ot={class:`flex items-start space-x-3`},st={class:`flex-shrink-0`},ct={class:`flex-1 min-w-0`},lt={class:`text-sm font-medium text-gray-900 dark:text-gray-100 truncate`},ut={class:`text-xs text-gray-500 dark:text-gray-400 mt-1`},dt={class:`text-xs text-gray-500 dark:text-gray-400`},ft={class:`flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity`},pt={class:`flex space-x-2`},mt=[`onClick`],ht=[`onClick`],gt={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},_t={class:`px-6 py-8 text-center`},vt={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},yt={class:`px-6 py-5`},bt={class:`grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2`},xt={key:0},St={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Ct={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},wt={key:1},Tt={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Et={key:2},Dt={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Ot={key:3,class:`fixed inset-0 z-50 overflow-y-auto`,"aria-labelledby":`modal-title`,role:`dialog`,"aria-modal":`true`},kt={class:`flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0`},At={class:`inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full sm:p-6`},jt={class:`absolute top-0 right-0 pt-4 pr-4`},Mt={class:`mt-3 text-center sm:mt-5`},Nt={class:`text-lg leading-6 font-medium text-gray-900 dark:text-gray-100 mb-4`},Pt={key:0,class:`max-h-96 overflow-auto`},Ft=[`src`,`alt`],It={key:1,class:`flex items-center justify-center py-8`},Lt={key:1,class:`h-96`},Rt=[`src`],zt={key:1,class:`flex items-center justify-center py-8`},Bt={key:2,class:`text-center py-8`},Vt={class:`mt-5 sm:mt-6 flex justify-center space-x-3`};var V=se({__name:`DetailPage`,setup(se){let V=ne(),H=i(),Ht=ae(()=>parseInt(H.params.id)),Ut=g(),U=a(null),W=a(!1),G=a(``),K=a(!1),q=a(null),J=a(``),Y=async()=>{try{W.value=!0,G.value=``,U.value=await Ut.fetchSupplier(Ht.value)}catch(e){G.value=e.message||`Failed to load supplier details`,console.error(`Error loading supplier:`,e)}finally{W.value=!1}},Wt=()=>{V.push({name:`suppliers.index`})},Gt=()=>{U.value&&V.push({name:`suppliers.edit`,params:{id:U.value.id.toString()}})},X=async e=>{await h.download(e)},Kt=async e=>{try{q.value=e,K.value=!0;let t=await h.preview(e.id);J.value=t.preview_url}catch(t){console.error(`Error getting preview URL:`,t),J.value=Jt(e)}},Z=()=>{K.value=!1,q.value=null,J.value=``},qt=e=>Q(e)||$(e),Q=e=>{let t=e.file_extension?.toLowerCase();return[`jpg`,`jpeg`,`png`,`gif`,`bmp`,`svg`,`webp`].includes(t||``)},$=e=>{let t=e.file_extension?.toLowerCase();return t===`pdf`},Jt=e=>{let t=`https://staging.globalzsolutions.com`;return`${t}/api/documents/${e.id}/preview`},Yt=n=>{let r=n?.toLowerCase();return[`jpg`,`jpeg`,`png`,`gif`,`bmp`,`svg`].includes(r)?pe:[`pdf`].includes(r)?t:e},Xt=e=>new Intl.NumberFormat(`en-US`,{style:`currency`,currency:`USD`}).format(e);return ce(()=>{Y()}),(e,i)=>(p(),u(`div`,_,[c(`div`,v,[c(`div`,y,[c(`div`,b,[c(`button`,{onClick:Wt,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[f(o(te),{class:`w-5 h-5`})]),c(`div`,null,[c(`h1`,x,s(U.value?.name||`Supplier Details`),1),c(`p`,S,` Supplier Code: `+s(U.value?.code),1)])]),c(`div`,C,[U.value?(p(),u(`span`,{key:0,class:re([`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium`,U.value?.is_active?`bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`:`bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300`])},s(U.value?.is_active?`Active`:`Inactive`),3)):l(``,!0),c(`button`,{onClick:Gt,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700`},[f(o(fe),{class:`w-4 h-4 mr-2`}),i[1]||=d(` Edit `,-1)])])])]),W.value?(p(),u(`div`,w,i[2]||=[c(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`},null,-1),c(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading supplier details...`,-1)])):G.value?(p(),u(`div`,T,[c(`div`,E,[f(o(ee),{class:`w-6 h-6 text-red-500 mr-3`}),c(`div`,null,[i[3]||=c(`h3`,{class:`text-lg font-medium text-red-800 dark:text-red-300`},`Error Loading Supplier`,-1),c(`p`,D,s(G.value),1)])])])):U.value?(p(),u(`div`,O,[c(`div`,k,[i[10]||=c(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` General Information `)],-1),c(`div`,A,[c(`dl`,j,[c(`div`,null,[i[4]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Supplier Name`,-1),c(`dd`,M,s(U.value.name),1)]),c(`div`,null,[i[5]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Code`,-1),c(`dd`,N,s(U.value.code),1)]),U.value.supplier_type?(p(),u(`div`,P,[i[6]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Type`,-1),c(`dd`,F,s(U.value.supplier_type.name),1)])):l(``,!0),U.value.country?(p(),u(`div`,I,[i[7]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Country`,-1),c(`dd`,L,s(U.value.country.name),1)])):l(``,!0),U.value.opening_balance?(p(),u(`div`,R,[i[8]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Opening Balance`,-1),c(`dd`,z,s(Xt(U.value.opening_balance)),1)])):l(``,!0),U.value.currency?(p(),u(`div`,B,[i[9]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Currency`,-1),c(`dd`,me,s(U.value.currency.name)+` (`+s(U.value.currency.code)+`)`,1)])):l(``,!0)])])]),c(`div`,he,[i[17]||=c(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` Contact Information `)],-1),c(`div`,ge,[c(`dl`,_e,[U.value.address?(p(),u(`div`,ve,[i[11]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Address`,-1),c(`dd`,ye,s(U.value.address),1)])):l(``,!0),U.value.phone?(p(),u(`div`,be,[i[12]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Phone`,-1),c(`dd`,xe,[c(`a`,{href:`tel:${U.value.phone}`,class:`text-indigo-600 hover:text-indigo-500`},s(U.value.phone),9,Se)])])):l(``,!0),U.value.mobile?(p(),u(`div`,Ce,[i[13]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Mobile`,-1),c(`dd`,we,[c(`a`,{href:`tel:${U.value.mobile}`,class:`text-indigo-600 hover:text-indigo-500`},s(U.value.mobile),9,Te)])])):l(``,!0),U.value.email?(p(),u(`div`,Ee,[i[14]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Email`,-1),c(`dd`,De,[c(`a`,{href:`mailto:${U.value.email}`,class:`text-indigo-600 hover:text-indigo-500`},s(U.value.email),9,Oe)])])):l(``,!0),U.value.url?(p(),u(`div`,ke,[i[15]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Website`,-1),c(`dd`,Ae,[c(`a`,{href:U.value.url,target:`_blank`,class:`text-indigo-600 hover:text-indigo-500`},s(U.value.url),9,je)])])):l(``,!0),U.value.contact_person?(p(),u(`div`,Me,[i[16]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400 mb-2`},`Contact Person`,-1),c(`dd`,Ne,[c(`div`,Pe,[c(`div`,Fe,[c(`div`,null,[c(`span`,Ie,s(U.value.contact_person),1)]),U.value.contact_person_email?(p(),u(`div`,Le,[c(`a`,{href:`mailto:${U.value.contact_person_email}`,class:`text-indigo-600 hover:text-indigo-500`},s(U.value.contact_person_email),9,Re)])):l(``,!0),U.value.contact_person_mobile?(p(),u(`div`,ze,[c(`a`,{href:`tel:${U.value.contact_person_mobile}`,class:`text-indigo-600 hover:text-indigo-500`},s(U.value.contact_person_mobile),9,Be)])):l(``,!0)])])])])):l(``,!0)])])]),c(`div`,Ve,[i[23]||=c(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` Business Information `)],-1),c(`div`,He,[c(`dl`,Ue,[U.value.payment_term?(p(),u(`div`,We,[i[18]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Payment Term`,-1),c(`dd`,Ge,s(U.value.payment_term.name),1)])):l(``,!0),U.value.ship_from?(p(),u(`div`,Ke,[i[19]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Ship From`,-1),c(`dd`,qe,s(U.value.ship_from),1)])):l(``,!0),U.value.discount_percentage?(p(),u(`div`,Je,[i[20]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Discount Percentage`,-1),c(`dd`,Ye,s(U.value.discount_percentage)+`%`,1)])):l(``,!0),U.value.bank_info?(p(),u(`div`,Xe,[i[21]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Bank Information`,-1),c(`dd`,Ze,s(U.value.bank_info),1)])):l(``,!0),U.value.notes?(p(),u(`div`,Qe,[i[22]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Notes`,-1),c(`dd`,$e,s(U.value.notes),1)])):l(``,!0)])])]),U.value.documents&&U.value.documents.length>0?(p(),u(`div`,et,[c(`div`,tt,[c(`div`,nt,[c(`h3`,rt,` Documents (`+s(U.value.documents.length)+`) `,1)])]),c(`div`,it,[c(`div`,at,[(p(!0),u(ie,null,le(U.value.documents,e=>(p(),u(`div`,{key:e.id,class:`relative group bg-gray-50 dark:bg-gray-700 rounded-lg p-4 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors`},[c(`div`,ot,[c(`div`,st,[(p(),oe(ue(Yt(e.file_extension)),{class:`h-8 w-8 text-gray-400`}))]),c(`div`,ct,[c(`p`,lt,s(e.title||e.original_name),1),c(`p`,ut,s(e.file_size_human),1),c(`p`,dt,s(o(m)(e.created_at)),1)]),c(`div`,ft,[c(`div`,pt,[qt(e)?(p(),u(`button`,{key:0,onClick:t=>Kt(e),class:`text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300`,title:`Preview`},[f(o(n),{class:`h-5 w-5`})],8,mt)):l(``,!0),c(`button`,{onClick:t=>X(e),class:`text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300`,title:`Download`},[f(o(r),{class:`h-5 w-5`})],8,ht)])])])]))),128))])])])):(p(),u(`div`,gt,[i[26]||=c(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` Documents `)],-1),c(`div`,_t,[f(o(t),{class:`mx-auto h-12 w-12 text-gray-400`}),i[24]||=c(`h3`,{class:`mt-4 text-sm font-medium text-gray-900 dark:text-gray-100`},`No documents`,-1),i[25]||=c(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},` No documents have been uploaded for this supplier. `,-1)])])),c(`div`,vt,[i[31]||=c(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[c(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` System Information `)],-1),c(`div`,yt,[c(`dl`,bt,[U.value.created_by?(p(),u(`div`,xt,[i[27]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Created By`,-1),c(`dd`,St,s(U.value.created_by.name),1)])):l(``,!0),c(`div`,null,[i[28]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Created At`,-1),c(`dd`,Ct,s(o(m)(U.value.created_at)),1)]),U.value.updated_by?(p(),u(`div`,wt,[i[29]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Last Updated By`,-1),c(`dd`,Tt,s(U.value.updated_by.name),1)])):l(``,!0),U.value.updated_at===U.value.created_at?l(``,!0):(p(),u(`div`,Et,[i[30]||=c(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Last Updated`,-1),c(`dd`,Dt,s(o(m)(U.value.updated_at)),1)]))])])])])):l(``,!0),K.value?(p(),u(`div`,Ot,[c(`div`,kt,[c(`div`,{class:`fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity`,onClick:Z}),c(`div`,At,[c(`div`,jt,[c(`button`,{onClick:Z,class:`bg-white dark:bg-gray-800 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none`},[f(o(de),{class:`h-6 w-6`})])]),c(`div`,Mt,[c(`h3`,Nt,s(q.value?.title||q.value?.original_name),1),q.value&&Q(q.value)?(p(),u(`div`,Pt,[J.value?(p(),u(`img`,{key:0,src:J.value,alt:q.value.original_name,class:`max-w-full h-auto mx-auto rounded-lg shadow-lg`},null,8,Ft)):(p(),u(`div`,It,i[32]||=[c(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`},null,-1),c(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading preview...`,-1)]))])):q.value&&$(q.value)?(p(),u(`div`,Lt,[J.value?(p(),u(`iframe`,{key:0,src:J.value,class:`w-full h-full border rounded-lg`,title:`PDF Preview`,frameborder:`0`},null,8,Rt)):(p(),u(`div`,zt,i[33]||=[c(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`},null,-1),c(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading preview...`,-1)]))])):(p(),u(`div`,Bt,[f(o(t),{class:`mx-auto h-12 w-12 text-gray-400 mb-4`}),i[34]||=c(`p`,{class:`text-gray-500 dark:text-gray-400`},`Preview not available for this file type.`,-1)]))]),c(`div`,Vt,[c(`button`,{onClick:i[0]||=e=>X(q.value),class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700`},[f(o(r),{class:`h-4 w-4 mr-2`}),i[35]||=d(` Download `,-1)]),c(`button`,{onClick:Z,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600`},` Close `)])])])])):l(``,!0)]))}}),H=V;export{H as default};