import{K as e,aA as t,aL as ee,aO as n,aQ as r,aR as i,aT as a,aU as o,aV as s,aX as te,aZ as c,a_ as ne,ah as l,al as u,av as re,az as ie,b4 as d,b7 as f,b8 as p,bb as m,m as ae,r as h,z as oe}from"./index-KopOJhzy.js";import{b as se}from"./useAuth-C8wy8sxH.js";import"./GlobalConfig-Dep5CV3r.js";import"./tableUtils-jdfVzp2e.js";import{c as g,f as _}from"./common-CAcZd9q3.js";import{b as v}from"./DataItems-C4aSNbit.js";import{b as y}from"./commissionTargetStore-B7gpTAco.js";const b={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},x={class:``},S={class:`mb-8`},C={class:`flex items-center justify-between`},w={class:`flex items-center space-x-4`},T={class:`text-sm text-gray-600 dark:text-gray-400`},E={key:0,class:`flex space-x-3`},D={key:0,class:`flex items-center justify-center py-12`},O={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},k={class:`px-6 py-8`},A={class:`mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-md`},j={class:`flex items-center justify-between`},M={class:`flex`},N={class:`ml-3`},P={class:`text-sm font-medium text-blue-800 dark:text-blue-200`},F={class:`uppercase text-green-500`},I={class:`mt-1 text-sm text-blue-700 dark:text-blue-300`},L={class:`text-right`},R={class:`text-lg font-bold text-blue-900 dark:text-blue-100`},ce={class:`space-y-8`},z={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},B={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},V={class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},H={class:`px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white`},U={class:`px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white`},W={class:`px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white`},G={class:`px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white`},le={class:`px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right`},ue={key:0},de={class:`grid grid-cols-1 gap-6`},fe={class:`text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 p-3 rounded-md`},pe={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},me={class:`text-sm text-gray-900 dark:text-white`},he={class:`text-sm text-gray-900 dark:text-white`},ge={class:`flex items-center justify-between pt-6 border-t border-gray-200 dark:border-gray-700`},_e={key:2,class:`text-center py-12`};var K=s({__name:`ViewPage`,setup(s){let u=t(),K=ie(),q=re(),{isAdmin:J}=se(),Y=y(),X=f(!1),Z=f(null),Q=()=>{u.push({name:`commission-targets.index`})},$=()=>{u.push({name:`commission-targets.edit`,params:{id:K.params.id}})},ve=async()=>{let e=Number(K.params.id);if(!e){q.error(`Invalid payment ID`),Q();return}X.value=!0;try{let t=await Y.fetchCommissionTarget(e);Z.value=t}catch{q.error(`Failed to load supplier payment`),Z.value=null}finally{X.value=!1}};return te(async()=>{await ve()}),(t,s)=>(c(),i(`div`,b,[n(`div`,x,[n(`div`,S,[n(`div`,C,[n(`div`,w,[n(`button`,{onClick:Q,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[o(p(l),{class:`w-5 h-5`})]),n(`div`,null,[s[0]||=n(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Commission Target Detail `,-1),n(`p`,T,m(Z.value?`${Z.value.prefix}${Z.value.code}`:`Loading...`),1)])]),Z.value&&!X.value?(c(),i(`div`,E,[p(J)?(c(),i(`button`,{key:0,onClick:$,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[o(p(h),{class:`h-4 w-4 mr-2`}),s[1]||=a(` Edit `,-1)])):r(``,!0)])):r(``,!0)])]),X.value?(c(),i(`div`,D,[o(p(e),{class:`h-8 w-8 animate-spin text-blue-600`}),s[2]||=n(`span`,{class:`ml-2 text-gray-600 dark:text-gray-400`},`Loading commission target details...`,-1)])):Z.value?(c(),i(`div`,O,[n(`div`,k,[n(`div`,A,[n(`div`,j,[n(`div`,M,[o(p(oe),{class:`h-5 w-5 text-blue-400`}),n(`div`,N,[n(`h3`,P,[s[3]||=a(` Commission Target: `,-1),n(`span`,F,m(Z.value.name),1)]),n(`div`,I,[n(`p`,null,`Created by `+m(Z.value.created_by_user?.name||`N/A`)+` on `+m(p(g)(Z.value.updated_at)),1)])])]),n(`div`,L,[s[4]||=n(`div`,{class:`text-sm font-medium text-blue-800 dark:text-blue-200`},`Effective From`,-1),n(`div`,R,m(Z.value.effective_date),1)])])]),n(`div`,ce,[n(`div`,null,[s[6]||=n(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Commission rules `,-1),n(`table`,z,[s[5]||=n(`thead`,{class:`bg-gray-50 dark:bg-gray-700`},[n(`tr`,null,[n(`th`,{class:`px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Label`),n(`th`,{class:`px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Type`),n(`th`,{class:`px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Minimum Amount`),n(`th`,{class:`px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Maximum Amount`),n(`th`,{class:`px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Commission %`)])],-1),n(`tbody`,B,[(c(!0),i(ee,null,ne(Z.value.rules,e=>(c(),i(`tr`,V,[n(`td`,H,m(e.comission_label),1),n(`td`,U,m(e.type),1),n(`td`,W,m(p(_)(e.minimum_amount)),1),n(`td`,G,m(p(_)(e.maximum_amount)),1),n(`td`,le,m(p(_)(e.percent)),1)]))),256))])])]),Z.value.note?(c(),i(`div`,ue,[s[7]||=n(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Notes `,-1),n(`div`,de,[o(v,{label:`Commission Notes`},{default:d(()=>[n(`div`,fe,m(Z.value.note),1)]),_:1})])])):r(``,!0),n(`div`,null,[s[8]||=n(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Audit Trail `,-1),n(`div`,pe,[o(v,{label:`Created By`},{default:d(()=>[n(`div`,me,m(Z.value.created_by_user?.name||`-`),1)]),_:1}),o(v,{label:`Last Updated By`},{default:d(()=>[n(`div`,he,m(Z.value.updated_by_user?.name||`-`),1)]),_:1}),o(v,{label:`Last Updated`,value:p(g)(Z.value.updated_at)},null,8,[`value`])])]),n(`div`,ge,[n(`button`,{type:`button`,onClick:Q,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[o(p(l),{class:`h-4 w-4 mr-2`}),s[9]||=a(` Back `,-1)]),p(J)?(c(),i(`button`,{key:0,type:`button`,onClick:$,class:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`},[o(p(h),{class:`h-4 w-4 mr-2`}),s[10]||=a(` Edit Commission `,-1)])):r(``,!0)])])])])):X.value?r(``,!0):(c(),i(`div`,_e,[o(p(ae),{class:`mx-auto h-12 w-12 text-red-400`}),s[11]||=n(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},`Commission not found`,-1),s[12]||=n(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` The Commission target details you're looking for doesn't exist or has been deleted. `,-1),n(`div`,{class:`mt-6`},[n(`button`,{onClick:Q,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700`},` Back `)])]))])]))}}),q=u(K,[[`__scopeId`,`data-v-c0e681d7`]]);export{q as default};