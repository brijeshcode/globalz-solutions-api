import{W as e,a4 as t,a8 as n,a9 as r,aH as i,aI as a,aJ as o,aL as s,ai as c,aj as l,am as u,an as d,ao as f,ap as p,ar as m,as as h,at as g,av as ee,ax as _,ay as v,k as te,m as ne,r as y,v as re,y as ie}from"./index-Bj0e0SZs.js";import"./GlobalConfig-DCFE7Hv9.js";import"./tableUtils-DX_RsmET.js";import{c as ae}from"./currenciesStore-BEM2fzpi.js";import{b as oe}from"./ConfirmationModal-CKcjMsd9.js";import{b}from"./common-B50tJbGU.js";import{b as se}from"./salesStore-BZN70Pb5.js";import{b as ce}from"./customersStore-DQ1gQWBi.js";import{b as x}from"./employeesStore-B2q7V-Bk.js";import{b as le}from"./warehousesStore-CkiDmV3a.js";import{c as ue}from"./itemsStore-DyVmpP_N.js";const S={class:`max-w-4xl mx-auto p-8 bg-white text-gray-900`},C={class:`flex justify-between items-start mb-10 pb-6 border-b-2 border-blue-600`},w={class:`text-right flex-1`},T={class:`text-lg font-semibold text-gray-600`},E={class:`grid grid-cols-1 md:grid-cols-2 gap-8 mb-10`},D={class:`space-y-2`},O={class:`flex justify-between`},k={class:`text-gray-900`},A={class:`flex justify-between`},j={class:`text-gray-900`},M={class:`flex justify-between`},N={class:`text-gray-900`},P={class:`flex justify-between`},F={class:`text-gray-900`},I={class:`space-y-2`},L={class:`flex justify-between`},R={class:`text-gray-900`},z={class:`flex justify-between`},B={class:`text-gray-900`},V={key:0,class:`flex justify-between`},H={class:`text-gray-900`},U={key:1,class:`flex justify-between`},W={class:`text-red-600 font-bold`},G={class:`mb-8`},K={class:`overflow-x-auto`},q={class:`w-full border-collapse border border-gray-300`},J={class:`border border-gray-300 px-3 py-2 text-center`},Y={class:`border border-gray-300 px-3 py-2`},X={class:`border border-gray-300 px-3 py-2`},Z={class:`border border-gray-300 px-3 py-2`},Q={class:`border border-gray-300 px-3 py-2 text-right`},de={class:`border border-gray-300 px-3 py-2 text-right`},fe={class:`border border-gray-300 px-3 py-2 text-right`},pe={class:`border border-gray-300 px-3 py-2 text-right`},me={class:`border border-gray-300 px-3 py-2 text-right`},he={class:`border border-gray-300 px-3 py-2 text-right font-semibold`},ge={class:`flex justify-end mb-10`},_e={class:`w-80`},ve={class:`border border-gray-300`},ye={class:`flex justify-between px-4 py-2 border-b border-gray-300`},be={class:`font-semibold text-gray-900`},xe={key:0,class:`flex justify-between px-4 py-2 border-b border-gray-300`},Se={class:`font-semibold text-red-600`},Ce={class:`flex justify-between px-4 py-2 bg-blue-50 border-b-2 border-blue-600 text-lg font-bold`},we={class:`text-gray-900`},Te={class:`flex justify-between px-4 py-2`},Ee={class:`font-semibold text-gray-900`},De={key:0,class:`mb-10`},Oe={class:`bg-gray-50 border-l-4 border-blue-600 p-4`},ke={class:`text-gray-700 whitespace-pre-wrap`},Ae={class:`border-t border-gray-300 pt-6 text-center`},je={class:`text-xs text-gray-500`};var Me=g({__name:`SaleInvoice`,props:{saleData:{},customers:{default:()=>[]},warehouses:{default:()=>[]},currencies:{default:()=>[]},salespersons:{default:()=>[]},items:{default:()=>[]}},setup(e){let t=e,n=e=>e?parseFloat(Number(e).toFixed(2)).toString():`0`,r=e=>e?Number(e).toLocaleString(`en-US`,{minimumFractionDigits:2,maximumFractionDigits:2}):`0.00`,i=e=>{if(!e)return`-`;let t=new Date(e);return t.toLocaleDateString(`en-US`,{year:`numeric`,month:`long`,day:`numeric`})},a=e=>{if(e===null)return`Unknown Customer`;let n=t.customers.find(t=>t.id===e);return n?n.name:`Customer #${e}`},o=e=>{if(e===null)return`Not assigned`;let n=t.salespersons.find(t=>t.id===e);return n?n.name:`Employee #${e}`},c=e=>{if(e===null)return`Unknown Warehouse`;let n=t.warehouses.find(t=>t.id===e);return n?n.name:`Warehouse #${e}`},d=e=>{if(e===null)return`N/A`;let n=t.currencies.find(t=>t.id===e);return n?n.code:`N/A`},m=e=>{if(e===null)return`Unknown Item`;let n=t.items.find(t=>t.id===e);return n?n.description:`Item #${e}`},h=e=>{if(e===null)return``;let n=t.items.find(t=>t.id===e);return n?.item_unit?.name||``};return(e,t)=>(_(),p(`div`,S,[u(`div`,C,[t[1]||=u(`div`,{class:`flex-1`},[u(`div`,{class:`text-3xl font-bold text-blue-600 mb-3`},`Globalz Solutions`),u(`div`,{class:`text-sm text-gray-600 space-y-1`},[u(`p`,null,`123 Business Street`),u(`p`,null,`City, State 12345`),u(`p`,null,`Phone: +1 (555) 123-4567`),u(`p`,null,`Email: info@globalzsolutions.com`)])],-1),u(`div`,w,[t[0]||=u(`h1`,{class:`text-4xl font-bold text-blue-600 mb-2`},`SALES INVOICE`,-1),u(`div`,T,s(e.saleData.prefix)+`-`+s(e.saleData.code),1)])]),u(`div`,E,[u(`div`,null,[t[6]||=u(`h3`,{class:`text-lg font-bold text-blue-600 mb-4 pb-2 border-b border-gray-200`},`Invoice Details`,-1),u(`div`,D,[u(`div`,O,[t[2]||=u(`span`,{class:`font-semibold text-gray-700`},`Invoice #:`,-1),u(`span`,k,s(e.saleData.prefix)+`-`+s(e.saleData.code),1)]),u(`div`,A,[t[3]||=u(`span`,{class:`font-semibold text-gray-700`},`Date:`,-1),u(`span`,j,s(i(e.saleData.date)),1)]),u(`div`,M,[t[4]||=u(`span`,{class:`font-semibold text-gray-700`},`Currency:`,-1),u(`span`,N,s(d(e.saleData.currency_id)),1)]),u(`div`,P,[t[5]||=u(`span`,{class:`font-semibold text-gray-700`},`Exchange Rate:`,-1),u(`span`,F,s(n(e.saleData.currency_rate)),1)])])]),u(`div`,null,[t[11]||=u(`h3`,{class:`text-lg font-bold text-blue-600 mb-4 pb-2 border-b border-gray-200`},`Customer Information`,-1),u(`div`,I,[u(`div`,L,[t[7]||=u(`span`,{class:`font-semibold text-gray-700`},`Customer:`,-1),u(`span`,R,s(a(e.saleData.customer_id)),1)]),u(`div`,z,[t[8]||=u(`span`,{class:`font-semibold text-gray-700`},`Warehouse:`,-1),u(`span`,B,s(c(e.saleData.warehouse_id)),1)]),e.saleData.salesperson_id?(_(),p(`div`,V,[t[9]||=u(`span`,{class:`font-semibold text-gray-700`},`Salesperson:`,-1),u(`span`,H,s(o(e.saleData.salesperson_id)),1)])):f(``,!0),e.saleData.outStanding_balance&&Number(e.saleData.outStanding_balance)>0?(_(),p(`div`,U,[t[10]||=u(`span`,{class:`font-semibold text-gray-700`},`Outstanding Balance:`,-1),u(`span`,W,s(r(e.saleData.outStanding_balance)),1)])):f(``,!0)])])]),u(`div`,G,[u(`div`,K,[u(`table`,q,[t[12]||=u(`thead`,null,[u(`tr`,{class:`bg-gray-100`},[u(`th`,{class:`border border-gray-300 px-3 py-3 text-center font-bold text-gray-700`},`#`),u(`th`,{class:`border border-gray-300 px-3 py-3 text-left font-bold text-gray-700`},`Item Code`),u(`th`,{class:`border border-gray-300 px-3 py-3 text-left font-bold text-gray-700`},`Description`),u(`th`,{class:`border border-gray-300 px-3 py-3 text-left font-bold text-gray-700`},`Unit`),u(`th`,{class:`border border-gray-300 px-3 py-3 text-right font-bold text-gray-700`},[u(`abbr`,{title:`Total Quantity`},`QTY`)]),u(`th`,{class:`border border-gray-300 px-3 py-3 text-right font-bold text-gray-700`},`Unit Price`),u(`th`,{class:`border border-gray-300 px-3 py-3 text-right font-bold text-gray-700`},[u(`abbr`,{title:`Discount Percentage`},`Dis. %`)]),u(`th`,{class:`border border-gray-300 px-3 py-3 text-right font-bold text-gray-700`},[u(`abbr`,{title:`Tax Percentage`},`Tax %`)]),u(`th`,{class:`border border-gray-300 px-3 py-3 text-right font-bold text-gray-700`},[u(`abbr`,{title:`Tax-inclusive Price`},`TTC`)]),u(`th`,{class:`border border-gray-300 px-3 py-3 text-right font-bold text-gray-700`},`Total`)])],-1),u(`tbody`,null,[(_(!0),p(l,null,v(e.saleData.items,(e,t)=>(_(),p(`tr`,{key:t,class:`even:bg-gray-50`},[u(`td`,J,s(t+1),1),u(`td`,Y,s(e.item_code||``),1),u(`td`,X,s(m(e.item_id)),1),u(`td`,Z,s(h(e.item_id)),1),u(`td`,Q,s(n(e.quantity)),1),u(`td`,de,s(r(e.price)),1),u(`td`,fe,s(n(e.discount_percent))+`%`,1),u(`td`,pe,s(n(e.tax_percent))+`%`,1),u(`td`,me,s(n(e.ttc_price)),1),u(`td`,he,s(r(e.total_price)),1)]))),128))])])])]),u(`div`,ge,[u(`div`,_e,[u(`div`,ve,[u(`div`,ye,[t[13]||=u(`span`,{class:`font-semibold text-gray-700`},`Sub Total:`,-1),u(`span`,be,s(r(e.saleData.sub_total)),1)]),e.saleData.discount_amount&&Number(e.saleData.discount_amount)>0?(_(),p(`div`,xe,[t[14]||=u(`span`,{class:`font-semibold text-gray-700`},`Additional Discount:`,-1),u(`span`,Se,`-`+s(r(e.saleData.discount_amount)),1)])):f(``,!0),u(`div`,Ce,[t[15]||=u(`span`,{class:`text-gray-700`},`Final Total:`,-1),u(`span`,we,s(r(e.saleData.total)),1)]),u(`div`,Te,[t[16]||=u(`span`,{class:`font-semibold text-gray-700`},`Total (USD):`,-1),u(`span`,Ee,`$`+s(r(e.saleData.total_usd)),1)])])])]),e.saleData.note?(_(),p(`div`,De,[u(`div`,Oe,[t[17]||=u(`h3`,{class:`text-lg font-bold text-blue-600 mb-2`},`Notes:`,-1),u(`p`,ke,s(e.saleData.note),1)])])):f(``,!0),u(`div`,Ae,[t[18]||=u(`div`,{class:`mb-4`},[u(`p`,{class:`text-xl font-bold text-blue-600`},`Thank you for your business!`)],-1),u(`div`,null,[u(`p`,je,`Generated on `+s(new Date().toLocaleDateString())+` at `+s(new Date().toLocaleTimeString()),1)])])]))}}),Ne=Me;const Pe={class:`max-w-8xl mx-auto py-2`},Fe={class:``},Ie={class:`mb-8`},Le={class:`flex items-center space-x-4 mb-2`},Re={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},ze={class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},Be={class:`flex items-center justify-between`},Ve={class:`text-lg font-medium text-gray-900 dark:text-white`},He={class:`text-sm text-gray-500 dark:text-gray-400`},Ue={class:`flex space-x-3`},We={class:`px-6 py-8`},Ge={class:`border-b border-gray-200 dark:border-gray-700 pb-6 mb-6`},Ke={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6`},qe={class:`mt-1 text-sm text-gray-900 dark:text-white`},Je={class:`mt-1 text-sm text-gray-900 dark:text-white`},Ye={class:`mt-1 text-sm text-gray-900 dark:text-white`},Xe={class:`mt-1 text-sm text-gray-900 dark:text-white`},Ze={class:`mt-1 text-sm text-gray-900 dark:text-white`},Qe={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-4`},$e={class:`mt-1 text-sm text-gray-900 dark:text-white`},et={class:`border-b border-gray-200 dark:border-gray-700 pb-6 mb-6`},tt={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6`},nt={class:`mt-1 text-sm text-gray-900 dark:text-white`},rt={class:`mt-1 text-sm text-gray-900 dark:text-white`},it={class:`mt-1 text-sm text-gray-900 dark:text-white`},at={class:`border-b border-gray-200 dark:border-gray-700 pb-6 mb-6`},ot={key:0,class:`text-center py-8 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg`},st={key:1,class:`overflow-x-auto`},ct={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},lt={class:`bg-gray-50 dark:bg-gray-700`},ut={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},dt={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white`},ft={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white`},pt={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white`},mt={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white`},ht={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white`},gt={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white`},_t={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white`},vt={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white`},yt={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white`},bt={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white`},xt={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white`},St={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white`},Ct={class:`bg-gray-50 dark:bg-gray-700`},wt={class:`px-6 py-4 text-sm font-medium text-gray-900 dark:text-white`},Tt={class:`px-6 py-4 text-sm font-medium text-gray-900 dark:text-white`},Et={key:0},Dt={class:`px-6 py-4 text-sm font-medium text-gray-900 dark:text-white`},Ot={class:`px-6 py-4 text-sm font-medium text-gray-900 dark:text-white`},kt={class:`bg-green-50 dark:bg-green-900`},At={class:`px-6 py-4 text-sm font-bold text-gray-900 dark:text-white`},jt={class:`px-6 py-4 text-sm font-bold text-gray-900 dark:text-white`},Mt={class:`border-b border-gray-200 dark:border-gray-700 pb-6 mb-6`},Nt={class:`grid grid-cols-1 md:grid-cols-3 gap-6`},Pt={class:`bg-blue-50 dark:bg-blue-900 rounded-lg p-4`},Ft={class:`mt-1 text-lg font-medium text-blue-900 dark:text-blue-100`},It={class:`bg-blue-50 dark:bg-blue-900 rounded-lg p-4`},Lt={class:`mt-1 text-lg font-medium text-blue-900 dark:text-blue-100`},Rt={class:`mt-1 text-lg font-medium`},zt={key:0,class:`mb-6`},Bt={class:`bg-gray-50 dark:bg-gray-700 rounded-lg p-4`},$={class:`text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap`},Vt={class:`pt-6 border-t border-gray-200 dark:border-gray-700`},Ht={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Ut={class:`mt-1 text-sm text-gray-900 dark:text-white`},Wt={class:`mt-1 text-sm text-gray-900 dark:text-white`},Gt={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Kt={class:`px-6 py-8 text-center`},qt={class:`flex items-center justify-between mb-4`},Jt={class:`flex space-x-3`},Yt={class:`max-h-96 overflow-y-auto print-content`};var Xt=g({__name:`ViewPage`,setup(g){let S=r(),C=n(),w=t(),T=se();ce(),x(),ae(),le(),ue();let E=parseInt(C.params.id),D=i(!0),O=i({}),k=i(!1),A=i(!1),j=i(!1),M=i([]),N=i([]),P=i([]),F=i([]),I=i([]),L=()=>{S.push({name:`sales.index`})},R=()=>{S.push({name:`sales.edit`,params:{id:E.toString()}})},z=()=>{A.value=!0},B=()=>{k.value=!0},V=()=>{k.value=!1,j.value=!1},H=()=>{A.value=!1},U=()=>{window.print(),H()},W=async()=>{j.value=!0;try{await T.deleteSale(E),w.success(`Sale deleted successfully`),S.push({name:`sales.index`})}catch{w.error(`Failed to delete sale`)}finally{j.value=!1}},G=async()=>{try{D.value=!0,O.value=await T.fetchSale(E)}catch(e){console.error(`Error loading sale:`,e),w.error(`Failed to load sale details`),S.push({name:`sales.index`})}finally{D.value=!1}},K=async()=>{try{await Promise.all([])}catch(e){console.error(`Error loading dropdown data:`,e)}},q=e=>{let t=Number(e||0);return t>0?`text-green-600 dark:text-green-400 font-medium`:t<0?`text-red-600 dark:text-red-400 font-medium`:`text-gray-600 dark:text-gray-400`},J=e=>{let t=Number(e||0);return t>0?`bg-green-50 dark:bg-green-900 text-green-600 dark:text-green-400`:t<0?`bg-red-50 dark:bg-red-900 text-red-600 dark:text-red-400`:`bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-400`},Y=e=>{let t=Number(e||0);return t>0?`text-red-600 dark:text-red-400 font-medium`:`text-gray-900 dark:text-white`},X=e=>e?parseFloat(Number(e).toFixed(2)).toString():`0`,Z=e=>{if(!e)return`-`;let t=new Date(e);return t.toLocaleDateString(`en-US`,{year:`numeric`,month:`short`,day:`numeric`})},Q=e=>{if(!e)return`-`;let t=new Date(e);return t.toLocaleString(`en-US`,{year:`numeric`,month:`short`,day:`numeric`,hour:`2-digit`,minute:`2-digit`})};return ee(async()=>{await K(),await G()}),(t,n)=>(_(),p(`div`,Pe,[u(`div`,Fe,[u(`div`,Ie,[u(`div`,Le,[u(`button`,{onClick:L,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[h(a(e),{class:`w-5 h-5`})]),n[2]||=u(`div`,null,[u(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Sale Details `),u(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` View sale order information `)],-1)])]),D.value?(_(),p(`div`,Gt,[u(`div`,Kt,[h(a(ie),{class:`w-8 h-8 animate-spin mx-auto text-blue-600`}),n[44]||=u(`p`,{class:`mt-2 text-gray-600 dark:text-gray-400`},`Loading sale details...`,-1)])])):(_(),p(`div`,Re,[u(`div`,ze,[u(`div`,Be,[u(`div`,null,[u(`h3`,Ve,s(O.value.prefix)+`-`+s(O.value.code),1),u(`p`,He,` Sale ID: `+s(O.value.id),1)]),u(`div`,Ue,[u(`button`,{onClick:z,class:`inline-flex items-center px-3 py-2 border border-green-300 dark:border-green-600 text-sm font-medium rounded-md text-green-700 dark:text-green-300 bg-white dark:bg-gray-800 hover:bg-green-50 dark:hover:bg-green-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200`},[h(a(y),{class:`w-4 h-4 mr-2`}),n[3]||=m(` Print Invoice `,-1)]),u(`button`,{onClick:R,class:`inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`},[h(a(re),{class:`w-4 h-4 mr-2`}),n[4]||=m(` Edit `,-1)]),u(`button`,{onClick:B,class:`inline-flex items-center px-3 py-2 border border-red-300 dark:border-red-600 text-sm font-medium rounded-md text-red-700 dark:text-red-300 bg-white dark:bg-gray-800 hover:bg-red-50 dark:hover:bg-red-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200`},[h(a(te),{class:`w-4 h-4 mr-2`}),n[5]||=m(` Delete `,-1)])])])]),u(`div`,We,[u(`div`,Ge,[n[13]||=u(`h4`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Basic Information `,-1),u(`div`,Ke,[u(`div`,null,[n[6]||=u(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Sale Date`,-1),u(`dd`,qe,s(Z(O.value.date)),1)]),u(`div`,null,[n[7]||=u(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Customer`,-1),u(`dd`,Je,s(O.value.customer.name),1)]),u(`div`,null,[n[8]||=u(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Salesperson`,-1),u(`dd`,Ye,s(O.value.salesperson.name),1)]),u(`div`,null,[n[9]||=u(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Warehouse`,-1),u(`dd`,Xe,s(O.value.warehouse.name),1)]),u(`div`,null,[n[10]||=u(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Currency`,-1),u(`dd`,Ze,s(O.value.currency.code)+` - `+s(O.value.currency.name),1)])]),u(`div`,Qe,[u(`div`,null,[n[11]||=u(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Currency Rate`,-1),u(`dd`,$e,s(X(O.value.currency_rate)),1)]),u(`div`,null,[n[12]||=u(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Outstanding Balance`,-1),u(`dd`,{class:o([`mt-1 text-sm`,Y(O.value.outStanding_balance)])},s(a(b)(O.value.outStanding_balance)),3)])])]),u(`div`,et,[n[18]||=u(`h4`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Financial Summary `,-1),u(`div`,tt,[u(`div`,null,[n[14]||=u(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Sub Total`,-1),u(`dd`,nt,s(a(b)(O.value.sub_total)),1)]),u(`div`,null,[n[15]||=u(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Sub Total (USD)`,-1),u(`dd`,rt,s(a(b)(O.value.sub_total_usd)),1)]),u(`div`,null,[n[16]||=u(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Discount Amount`,-1),u(`dd`,it,s(a(b)(O.value.discount_amount)),1)]),u(`div`,null,[n[17]||=u(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Total Profit`,-1),u(`dd`,{class:o([`mt-1 text-sm`,q(O.value.total_profit)])},s(a(b)(O.value.total_profit)),3)])])]),u(`div`,at,[n[36]||=u(`div`,{class:`flex items-center justify-between mb-4`},[u(`h4`,{class:`text-lg font-medium text-gray-900 dark:text-white`},` Sale Items `)],-1),O.value.items&&O.value.items.length===0?(_(),p(`div`,ot,[h(a(ne),{class:`mx-auto h-12 w-12 text-gray-400`}),n[19]||=u(`h5`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},`No items found`,-1),n[20]||=u(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},`This sale has no items.`,-1)])):(_(),p(`div`,st,[u(`table`,ct,[u(`thead`,lt,[u(`tr`,null,[n[21]||=u(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`#`,-1),n[22]||=u(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Code`,-1),n[23]||=u(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Item`,-1),n[24]||=u(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Unit`,-1),n[25]||=u(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},[u(`abbr`,{title:`Total Quantity`},`QTY`)],-1),n[26]||=u(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Sale Price`,-1),n[27]||=u(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Cost Price`,-1),n[28]||=u(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},[u(`abbr`,{title:`Discount Percentage`},`Dis. %`)],-1),n[29]||=u(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},[u(`abbr`,{title:`Tax Percentage`},`Tax %`)],-1),n[30]||=u(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},[u(`abbr`,{title:`Tax-inclusive Price`},`TTC`)],-1),n[31]||=u(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Total`,-1),n[32]||=u(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`USD`,-1),f(``,!0)])]),u(`tbody`,ut,[(_(!0),p(l,null,v(O.value.items,(e,t)=>(_(),p(`tr`,{key:t,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[u(`td`,dt,s(t+1),1),u(`td`,ft,s(e.item_code),1),u(`td`,pt,s(e.item.description),1),u(`td`,mt,s(e.item.item_unit.name),1),u(`td`,ht,s(X(e.quantity)),1),u(`td`,gt,s(a(b)(e.price)),1),u(`td`,_t,s(a(b)(e.cost_price)),1),u(`td`,vt,s(X(e.discount_percent))+`%`,1),u(`td`,yt,s(X(e.tax_percent))+`%`,1),u(`td`,bt,s(X(e.ttc_price)),1),u(`td`,xt,s(a(b)(e.total_price)),1),u(`td`,St,s(a(b)(e.total_price_usd)),1),f(``,!0)]))),128))]),u(`tfoot`,Ct,[u(`tr`,null,[n[33]||=u(`td`,{colspan:`10`,class:`px-6 py-4 text-right text-sm font-medium text-gray-900 dark:text-white`},`Sub Total:`,-1),u(`td`,wt,s(a(b)(O.value.sub_total)),1),u(`td`,Tt,s(a(b)(O.value.sub_total_usd)),1),f(``,!0)]),O.value.discount_amount&&Number(O.value.discount_amount)>0?(_(),p(`tr`,Et,[n[34]||=u(`td`,{colspan:`10`,class:`px-6 py-4 text-right text-sm font-medium text-gray-900 dark:text-white`},`Additional Discount:`,-1),u(`td`,Dt,`-`+s(a(b)(O.value.discount_amount)),1),u(`td`,Ot,`-`+s(a(b)(O.value.discount_amount_usd)),1),f(``,!0)])):f(``,!0),u(`tr`,kt,[n[35]||=u(`td`,{colspan:`10`,class:`px-6 py-4 text-right text-sm font-bold text-gray-900 dark:text-white`},`Final Total:`,-1),u(`td`,At,s(a(b)(O.value.total)),1),u(`td`,jt,s(a(b)(O.value.total_usd)),1),f(``,!0)])])])]))]),u(`div`,Mt,[n[40]||=u(`h4`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Final Totals `,-1),u(`div`,Nt,[u(`div`,Pt,[n[37]||=u(`dt`,{class:`text-sm font-medium text-blue-600 dark:text-blue-400`},`Total Amount`,-1),u(`dd`,Ft,s(a(b)(O.value.total)),1)]),u(`div`,It,[n[38]||=u(`dt`,{class:`text-sm font-medium text-blue-600 dark:text-blue-400`},`Total Amount (USD)`,-1),u(`dd`,Lt,s(a(b)(O.value.total_usd)),1)]),u(`div`,{class:o([`rounded-lg p-4`,J(O.value.total_profit)])},[n[39]||=u(`dt`,{class:`text-sm font-medium`},`Total Profit (USD)`,-1),u(`dd`,Rt,s(a(b)(O.value.total_profit)),1)],2)])]),O.value.note?(_(),p(`div`,zt,[n[41]||=u(`h4`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Notes `,-1),u(`div`,Bt,[u(`p`,$,s(O.value.note),1)])])):f(``,!0),u(`div`,Vt,[u(`div`,Ht,[u(`div`,null,[n[42]||=u(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Created At`,-1),u(`dd`,Ut,s(Q(O.value.created_at)),1)]),u(`div`,null,[n[43]||=u(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Last Updated`,-1),u(`dd`,Wt,s(Q(O.value.updated_at)),1)])])])])]))]),A.value?(_(),p(`div`,{key:0,class:`fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50`,onClick:H},[u(`div`,{class:`relative top-20 mx-auto p-5 border w-11/12 max-w-6xl shadow-lg rounded-md bg-white dark:bg-gray-800`,onClick:n[0]||=c(()=>{},[`stop`])},[u(`div`,qt,[n[46]||=u(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Invoice Preview`,-1),u(`div`,Jt,[u(`button`,{onClick:U,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`},[h(a(y),{class:`w-4 h-4 mr-2`}),n[45]||=m(` Print `,-1)]),u(`button`,{onClick:H,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700`},` Close `)])]),u(`div`,Yt,[D.value?f(``,!0):(_(),d(Ne,{key:0,"sale-data":O.value,customers:M.value,warehouses:P.value,currencies:F.value,salespersons:N.value,items:I.value},null,8,[`sale-data`,`customers`,`warehouses`,`currencies`,`salespersons`,`items`]))])])])):f(``,!0),h(oe,{show:k.value,"onUpdate:show":n[1]||=e=>k.value=e,type:`delete`,title:`Delete Sale ${O.value.prefix}-${O.value.code}`,message:`Are you sure you want to delete sale '${O.value.prefix}-${O.value.code}'? This action can be undone by restoring from trash.`,"confirm-text":`Delete Sale`,"loading-text":`Deleting...`,loading:j.value,onConfirm:W,onCancel:V},null,8,[`show`,`title`,`message`,`loading`])]))}}),Zt=Xt;export{Zt as default};