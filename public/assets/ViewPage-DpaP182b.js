import{C as e,a$ as t,a7 as ee,aC as n,aD as te,aQ as r,aR as i,aS as a,aT as o,aU as s,aW as c,aX as l,aY as u,ak as d,ao as f,ay as ne,b0 as re,b1 as p,b8 as m,bb as h,bc as g,bf as _,j as ie,u as ae}from"./index-ofO_qxdr.js";import"./GlobalConfig-wPgXFcZ5.js";import{c as v,d as oe}from"./common-CZbH6H1Z.js";import"./tableUtils-dXs1kjAL.js";import{b as y}from"./currencyUtil-BtLDtL-8.js";import{b}from"./DataItems-3F02hxPl.js";import{b as x,c as S}from"./SystemInfoCard-DQDn_SPt.js";import{b as C}from"./salaryStore-BnvShYd3.js";const w={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},T={class:`mb-8`},E={class:`flex items-center justify-between`},D={class:`flex items-center space-x-4`},O={class:`text-3xl font-bold text-gray-900 dark:text-gray-100`},k={class:`text-sm text-gray-600 dark:text-gray-400 mt-1`},A={class:`flex items-center space-x-3`},j={key:0,class:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`},M={key:0,class:`flex items-center justify-center py-12`},N={key:1,class:`bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6`},P={class:`flex items-center`},F={class:`text-red-600 dark:text-red-400 mt-1`},I={key:2,class:`space-y-8`},L={class:`bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-6`},R={class:`flex items-center justify-between`},z={class:`flex`},B={class:`ml-4`},V={class:`text-lg font-semibold text-blue-900 dark:text-blue-100`},H={class:`text-sm text-blue-700 dark:text-blue-300 mt-1`},U={class:`text-xs text-blue-600 dark:text-blue-400 mt-1`},W={class:`text-right`},G={class:`text-3xl font-bold text-blue-900 dark:text-blue-100`},K={class:`font-medium text-blue-600 dark:text-blue-400`},se={class:`font-medium`},ce={class:`text-lg font-semibold text-gray-900 dark:text-gray-100`},le={class:`text-lg font-semibold text-gray-900 dark:text-gray-100`},ue={class:`text-lg font-semibold text-red-600 dark:text-red-400`},de={class:`text-lg font-semibold text-gray-900 dark:text-gray-100`},fe={class:`text-2xl font-bold text-green-600 dark:text-green-400`},pe={class:`bg-gray-50 dark:bg-gray-900/20 border border-gray-200 dark:border-gray-700 rounded-lg p-6`},me={class:`flex items-center justify-center space-x-2 text-sm text-gray-600 dark:text-gray-400`},he={class:`font-medium`},ge={class:`font-medium`},_e={class:`font-medium`},ve={class:`font-medium`},ye={class:`font-bold text-green-600 dark:text-green-400 text-lg`},be={class:`text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap bg-gray-50 dark:bg-gray-700 p-3 rounded-md`},xe={class:`text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap bg-gray-50 dark:bg-gray-700 p-3 rounded-md`},Se={key:3,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Ce={class:`text-center`};var q=u({__name:`ViewPage`,setup(u){let f=te(),q=n(),J=C(),{showError:we}=ne(),Y=h(!0),X=h(null),Te=r(()=>Number(q.params.id)),Z=r(()=>J.currentSalary),Ee=[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],Q=e=>e>=1&&e<=12?Ee[e-1]:`Unknown`,De=async()=>{try{Y.value=!0,X.value=null,await J.fetchSalary(Te.value),J.currentSalary||(X.value=`Salary not found`)}catch(e){X.value=e.response?.data?.message||`Failed to load salary details`,we(X.value)}finally{Y.value=!1}},Oe=()=>{Z.value&&f.push({name:`employees.salaries.edit`,params:{id:Z.value.id}})},$=()=>{f.push({name:`employees.salaries.index`})};return t(()=>{De()}),re(()=>{J.clearCurrentSalary()}),(t,n)=>(p(),s(`div`,w,[i(`div`,T,[i(`div`,E,[i(`div`,D,[i(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[l(g(d),{class:`w-5 h-5`})]),i(`div`,null,[i(`h1`,O,_(Z.value?.employee?.name||`Salary Details`),1),i(`p`,k,` Salary Code: `+_(Z.value?.salary_code),1)])]),i(`div`,A,[Z.value?(p(),s(`span`,j,_(g(y)(Z.value.final_total)),1)):o(``,!0),Z.value?(p(),s(`button`,{key:1,onClick:Oe,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700`},[l(g(ae),{class:`w-4 h-4 mr-2`}),n[0]||=c(` Edit `,-1)])):o(``,!0)])])]),Y.value?(p(),s(`div`,M,n[1]||=[i(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`},null,-1),i(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading salary details...`,-1)])):X.value?(p(),s(`div`,N,[i(`div`,P,[l(g(ee),{class:`w-6 h-6 text-red-500 mr-3`}),i(`div`,null,[n[2]||=i(`h3`,{class:`text-lg font-medium text-red-800 dark:text-red-300`},`Error Loading Salary`,-1),i(`p`,F,_(X.value),1)])])])):Z.value?(p(),s(`div`,I,[i(`div`,L,[i(`div`,R,[i(`div`,z,[l(g(e),{class:`h-8 w-8 text-blue-600 dark:text-blue-400`}),i(`div`,B,[i(`h3`,V,_(Q(Z.value.month))+` `+_(Z.value.year)+` Salary `,1),i(`p`,H,` Employee: `+_(Z.value.employee?.name)+` `+_(Z.value.employee?.code?`(${Z.value.employee.code})`:``),1),i(`p`,U,` Date: `+_(g(v)(Z.value.date)),1)])]),i(`div`,W,[n[3]||=i(`p`,{class:`text-sm text-blue-700 dark:text-blue-300`},`Final Total`,-1),i(`p`,G,_(g(y)(Z.value.final_total)),1)])])]),l(S,{title:`Salary Information`},{default:m(()=>[l(b,{label:`Salary Code`},{default:m(()=>[i(`span`,K,_(Z.value.salary_code),1)]),_:1}),l(b,{label:`Date`,value:g(v)(Z.value.date)},null,8,[`value`]),l(b,{label:`Employee`,value:Z.value.employee?.name},null,8,[`value`]),l(b,{label:`Employee Code`,value:Z.value.employee?.code},null,8,[`value`]),l(b,{label:`Period`},{default:m(()=>[i(`span`,se,_(Q(Z.value.month))+` `+_(Z.value.year),1)]),_:1}),l(b,{label:`Account`,value:Z.value.account?.name},null,8,[`value`])]),_:1}),l(S,{title:`Amount Breakdown`},{default:m(()=>[l(b,{label:`Sub Total`},{default:m(()=>[i(`span`,ce,_(g(y)(Z.value.sub_total)),1)]),_:1}),l(b,{label:`Base Salary`},{default:m(()=>[i(`span`,le,_(g(y)(Z.value.base_salary)),1)]),_:1}),l(b,{label:`Advance Payment`},{default:m(()=>[i(`span`,ue,` -`+_(g(y)(Z.value.advance_payment)),1)]),_:1}),l(b,{label:`Others`},{default:m(()=>[i(`span`,de,_(Z.value.others>=0?`+`:``)+_(g(y)(Z.value.others)),1)]),_:1}),l(b,{label:`Final Total`,class:`border-t border-gray-200 dark:border-gray-700 pt-4`},{default:m(()=>[i(`span`,fe,_(g(y)(Z.value.final_total)),1)]),_:1})]),_:1}),i(`div`,pe,[n[8]||=i(`h3`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-3`},`Calculation`,-1),i(`div`,me,[i(`span`,he,_(g(y)(Z.value.sub_total)),1),n[4]||=i(`span`,null,`-`,-1),i(`span`,ge,_(g(y)(Z.value.advance_payment)),1),n[5]||=i(`span`,null,`+`,-1),i(`span`,_e,_(g(y)(Z.value.others)),1),n[6]||=i(`span`,null,`+`,-1),i(`span`,ve,_(g(y)(Z.value.base_salary)),1),n[7]||=i(`span`,null,`=`,-1),i(`span`,ye,_(g(y)(Z.value.final_total)),1)])]),Z.value.others_note||Z.value.note?(p(),a(S,{key:0,title:`Notes`},{default:m(()=>[Z.value.others_note?(p(),a(b,{key:0,label:`Others Note`,class:`sm:col-span-3`},{default:m(()=>[i(`p`,be,_(Z.value.others_note),1)]),_:1})):o(``,!0),Z.value.note?(p(),a(b,{key:1,label:`General Notes`,class:`sm:col-span-3`},{default:m(()=>[i(`p`,xe,_(Z.value.note),1)]),_:1})):o(``,!0)]),_:1})):o(``,!0),l(x,{item:Z.value,formatDateTime:g(oe)},null,8,[`item`,`formatDateTime`])])):(p(),s(`div`,Se,[i(`div`,Ce,[l(g(ie),{class:`h-12 w-12 mx-auto text-gray-400`}),n[9]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-2`},` Salary Not Found `,-1),n[10]||=i(`p`,{class:`text-gray-600 dark:text-gray-400 mb-4`},` The salary record you're looking for could not be found. `,-1),i(`button`,{onClick:$,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`},` Go Back `)])]))]))}}),J=f(q,[[`__scopeId`,`data-v-5886c47b`]]);export{J as default};