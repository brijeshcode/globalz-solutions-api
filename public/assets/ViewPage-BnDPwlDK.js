import{F as e,O as t,a$ as n,a1 as ee,a7 as r,aC as i,aE as a,aF as o,aH as s,aI as c,aJ as te,aL as l,aN as u,aX as d,aY as f,aj as ne,an as re,ao as ie,j as ae}from"./index-BwKalbrN.js";import"./GlobalConfig-Dep5CV3r.js";import"./tableUtils-jdfVzp2e.js";import{b as p,c as m}from"./common-DPsEy-Xi.js";import{b as oe}from"./customerPaymentsStore-z_o8PMjY.js";const h={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},g={class:``},_={class:`mb-8`},v={class:`flex items-center justify-between`},y={class:`flex items-center space-x-4`},b={class:`text-sm text-gray-600 dark:text-gray-400`},x={key:0,class:`flex space-x-3`},S={key:0,class:`flex items-center justify-center py-12`},C={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},w={class:`px-6 py-8`},T={class:`mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-md`},E={class:`flex items-center justify-between`},D={class:`flex`},O={class:`ml-3`},k={class:`mt-1 text-sm text-green-700 dark:text-green-300`},A={class:`text-right`},j={class:`text-lg font-bold text-green-900 dark:text-green-100`},M={class:`space-y-8`},N={class:`grid grid-cols-1 md:grid-cols-3 gap-6`},P={class:`text-sm text-gray-900 dark:text-white font-medium`},F={class:`text-sm text-gray-900 dark:text-white`},I={class:`text-sm text-gray-900 dark:text-white`},L={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},R={class:`text-sm text-gray-900 dark:text-white`},z={key:0,class:`text-xs text-gray-500 dark:text-gray-400`},B={class:`text-sm text-gray-900 dark:text-white`},V={class:`text-sm text-gray-900 dark:text-white`},H={class:`text-sm text-gray-900 dark:text-white`},se={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6`},U={class:`text-sm text-gray-900 dark:text-white`},W={class:`text-sm text-gray-900 dark:text-white`},G={class:`text-lg font-semibold text-gray-900 dark:text-white`},K={class:`text-lg font-semibold text-green-600 dark:text-green-400`},ce={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},le={class:`text-sm text-gray-900 dark:text-white`},ue={key:0,class:`text-xs text-gray-500 dark:text-gray-400`},de={class:`text-sm text-gray-900 dark:text-white`},fe={key:0,class:`text-xs text-gray-500 dark:text-gray-400`},pe={class:`text-sm text-gray-900 dark:text-white`},me={key:0},he={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},ge={key:0},_e={class:`text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 p-3 rounded-md`},ve={key:1},ye={class:`text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 p-3 rounded-md`},q={class:`flex items-center justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700`},be={key:2,class:`text-center py-12`};var J=te({__name:`ViewPage`,setup(te){let J=ie(),Y=re(),X=ne(),xe=oe(),Z=d(!1),Q=d(null),$=()=>{J.push({name:`customer.payments.index`})},Se=()=>{J.push({name:`customer.payments.preview`,params:{id:Y.params.id}})},Ce=async()=>{let e=Number(Y.params.id);if(!e){X.error(`Invalid payment ID`),$();return}Z.value=!0;try{let t=await xe.fetchPayment(e);Q.value=t}catch{X.error(`Failed to load payment`),Q.value=null}finally{Z.value=!1}};return l(async()=>{await Ce()}),(te,l)=>(u(),o(`div`,h,[i(`div`,g,[i(`div`,_,[i(`div`,v,[i(`div`,y,[i(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[c(f(r),{class:`w-5 h-5`})]),i(`div`,null,[l[0]||=i(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Payment Details `,-1),i(`p`,b,n(Q.value?`${Q.value.prefix}-${Q.value.code}`:`Loading...`),1)])]),Q.value&&!Z.value?(u(),o(`div`,x,[i(`button`,{onClick:Se,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[c(f(t),{class:`h-4 w-4 mr-2`}),l[1]||=s(` Preview Receipt `,-1)])])):a(``,!0)])]),Z.value?(u(),o(`div`,S,[c(f(e),{class:`h-8 w-8 animate-spin text-blue-600`}),l[2]||=i(`span`,{class:`ml-2 text-gray-600 dark:text-gray-400`},`Loading payment details...`,-1)])):Q.value?(u(),o(`div`,C,[i(`div`,w,[i(`div`,T,[i(`div`,E,[i(`div`,D,[c(f(ee),{class:`h-5 w-5 text-green-400`}),i(`div`,O,[l[3]||=i(`h3`,{class:`text-sm font-medium text-green-800 dark:text-green-200`},` Payment Approved `,-1),i(`div`,k,[i(`p`,null,`Approved by `+n(Q.value.approved_by_user?.name||`N/A`)+` on `+n(f(m)(Q.value.approved_at)),1)])])]),i(`div`,A,[l[4]||=i(`div`,{class:`text-sm font-medium text-green-800 dark:text-green-200`},`Total Amount`,-1),i(`div`,j,n(f(p)(Q.value.amount_usd)),1)])])]),i(`div`,M,[i(`div`,null,[l[8]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Basic Information `,-1),i(`div`,N,[i(`div`,null,[l[5]||=i(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Payment Code `,-1),i(`div`,P,n(Q.value.prefix)+`-`+n(Q.value.code),1)]),i(`div`,null,[l[6]||=i(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Payment Date `,-1),i(`div`,F,n(f(m)(Q.value.date)),1)]),i(`div`,null,[l[7]||=i(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` RCT Book Number `,-1),i(`div`,I,n(Q.value.rtc_book_number),1)])])]),i(`div`,null,[l[13]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Customer Information `,-1),i(`div`,L,[i(`div`,null,[l[9]||=i(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Customer Name `,-1),i(`div`,R,n(Q.value.customer?.name||`-`),1),Q.value.customer?.code?(u(),o(`div`,z,` Code: `+n(Q.value.customer.code),1)):a(``,!0)]),i(`div`,null,[l[10]||=i(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Payment Term `,-1),i(`div`,B,n(Q.value.customer_payment_term?`${Q.value.customer_payment_term.name} (${Q.value.customer_payment_term.days} days)`:`-`),1)]),i(`div`,null,[l[11]||=i(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Credit Limit `,-1),i(`div`,V,n(f(p)(Q.value.credit_limit)),1)]),i(`div`,null,[l[12]||=i(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Last Payment Amount `,-1),i(`div`,H,n(f(p)(Q.value.last_payment_amount)),1)])])]),i(`div`,null,[l[18]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Payment Details `,-1),i(`div`,se,[i(`div`,null,[l[14]||=i(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Currency `,-1),i(`div`,U,n(Q.value.currency?.name?`${Q.value.currency.name} (${Q.value.currency.code})`:`-`),1)]),i(`div`,null,[l[15]||=i(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Currency Rate `,-1),i(`div`,W,n(Q.value.currency_rate*1),1)]),i(`div`,null,[l[16]||=i(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Amount (Customer) `,-1),i(`div`,G,n(f(p)(Q.value.amount,Q.value.currency.code)),1)]),i(`div`,null,[l[17]||=i(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Amount (USD) `,-1),i(`div`,K,n(f(p)(Q.value.amount_usd)),1)])])]),i(`div`,null,[l[22]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Approval Details `,-1),i(`div`,ce,[i(`div`,null,[l[19]||=i(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Account `,-1),i(`div`,le,n(Q.value.account?.name||`-`),1),Q.value.account?.account_number?(u(),o(`div`,ue,` Account Number: `+n(Q.value.account.account_number),1)):a(``,!0)]),i(`div`,null,[l[20]||=i(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Approved By `,-1),i(`div`,de,n(Q.value.approved_by_user?.name||`-`),1),Q.value.approved_by_user?.email?(u(),o(`div`,fe,n(Q.value.approved_by_user.email),1)):a(``,!0)]),i(`div`,null,[l[21]||=i(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Approval Date `,-1),i(`div`,pe,n(f(m)(Q.value.approved_at)),1)])])]),Q.value.note||Q.value.approve_note?(u(),o(`div`,me,[l[25]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Notes `,-1),i(`div`,he,[Q.value.note?(u(),o(`div`,ge,[l[23]||=i(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Payment Notes `,-1),i(`div`,_e,n(Q.value.note),1)])):a(``,!0),Q.value.approve_note?(u(),o(`div`,ve,[l[24]||=i(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Approval Notes `,-1),i(`div`,ye,n(Q.value.approve_note),1)])):a(``,!0)])])):a(``,!0),i(`div`,q,[i(`button`,{type:`button`,onClick:$,class:`px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[c(f(r),{class:`h-4 w-4 mr-2`}),l[26]||=s(` Back to Payments `,-1)])])])])])):Z.value?a(``,!0):(u(),o(`div`,be,[c(f(ae),{class:`mx-auto h-12 w-12 text-red-400`}),l[27]||=i(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},`Payment not found`,-1),l[28]||=i(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` The payment you're looking for doesn't exist or has been deleted. `,-1),i(`div`,{class:`mt-6`},[i(`button`,{onClick:$,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700`},` Back to Payments `)])]))])]))}}),Y=J;export{Y as default};