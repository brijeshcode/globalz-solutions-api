import{R as e,Y as t,a1 as n,a8 as r,aD as ee,aE as i,aI as te,aK as a,aL as o,aO as ne,aP as s,aR as c,aS as l,aU as u,aV as d,aW as re,aX as ie,aY as f,aZ as ae,al as oe,b0 as se,b2 as p,b3 as m,b5 as ce,b8 as le,ba as h,bc as g,bd as _,be as v,bg as y,d as ue,g as b,j as de}from"./index-CGemZULW.js";import"./GlobalConfig-wPgXFcZ5.js";import{c as fe}from"./common-CZbH6H1Z.js";import"./tableUtils-dXs1kjAL.js";import{b as pe}from"./FileUpload-DRpdUGZb.js";import{b as x}from"./documentService-B0f-aoxF.js";import{b as me}from"./customersStore-DsYo25bo.js";import{b as he}from"./customerPaymentTermsStore-CkJ0Idz_.js";import{b as ge}from"./useCustomerValidation-Dk47-cGP.js";import{c as _e,e as ve,g as ye,h as be}from"./customerZonesStore-BW8797G6.js";const xe={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Se={class:`max-w-4xl mx-auto`},Ce={class:`mb-8`},we={class:`flex items-center space-x-4 mb-2`},Te={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Ee={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},S={class:`px-6 py-8`},C={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},w={key:0,class:`mt-1 text-xs text-gray-500`},T=[`disabled`],E=[`value`],D={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},De=[`disabled`],Oe=[`value`],ke={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ae=[`disabled`],je=[`value`],Me={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ne=[`disabled`],Pe=[`value`],Fe={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ie={class:`flex items-start pt-6`},Le={class:`flex items-center h-5`},Re=[`disabled`],ze={class:`space-y-6`},Be={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Ve=[`disabled`],He=[`value`],Ue={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},We=[`disabled`],Ge={class:`flex justify-between items-center mt-1`},Ke={key:0,class:`text-sm text-red-600 dark:text-red-400`},qe={class:`text-xs text-gray-500 ml-auto`},Je={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Ye=[`disabled`],Xe=[`value`],Ze={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Qe={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},$e={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},et={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},tt=[`disabled`],nt=[`value`],rt={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},it=[`disabled`],at=[`value`],ot={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},st={class:`mb-6`},ct=[`disabled`],lt={class:`flex justify-between items-center mt-1`},ut={key:0,class:`text-sm text-red-600 dark:text-red-400`},dt={class:`text-xs text-gray-500 ml-auto`},ft={key:0,class:`mb-4`},pt={class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},mt={class:`space-y-2`},ht={class:`flex items-center space-x-3`},gt={class:`flex-shrink-0`},_t={class:`text-sm font-medium text-gray-900 dark:text-gray-100`},vt={class:`text-xs text-gray-500 dark:text-gray-400`},yt={class:`flex items-center space-x-2`},bt=[`onClick`,`disabled`],xt=[`onClick`,`disabled`],St={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Ct=[`disabled`],wt=[`disabled`],Tt={key:0,class:`flex items-center justify-center`},Et={key:1},Dt={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Ot={class:`flex flex-col items-center`},kt={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},At={class:`flex`},jt={class:`flex-shrink-0`};var O=ae({__name:`EditPage`,setup(ae){let O=i(),k=ee(),A=c(()=>parseInt(k.params.id)),j=me(),M=be(),N=ye(),P=ve(),F=_e(),I=he(),L=ue(),{errors:Mt,hasErrors:Nt,getFieldError:R,validateUpdateRequest:Pt,clearFieldError:z,setServerErrors:B,clearErrors:V}=ge(),H=g(!1),U=g(!1),W=g([]),G=g([]),K=g({name:``,customer_type_id:void 0,customer_group_id:void 0,price_list_id_INV:void 0,price_list_id_INX:void 0,customer_province_id:void 0,customer_zone_id:void 0,salesperson_id:void 0,customer_payment_term_id:void 0,total_old_sales:void 0,credit_limit:void 0,address:``,city:``,telephone:``,mobile:``,email:``,url:``,discount_percentage:void 0,notes:``,attachments:[],documents:[],gps_coordinates:``,contact_name:``,mof_tax_number:``,is_active:!0}),q=g({name:``,customer_type_id:void 0,customer_group_id:void 0,price_list_id_INV:void 0,price_list_id_INX:void 0,customer_province_id:void 0,customer_zone_id:void 0,salesperson_id:void 0,customer_payment_term_id:void 0,total_old_sales:void 0,credit_limit:void 0,address:``,city:``,telephone:``,mobile:``,email:``,url:``,discount_percentage:void 0,notes:``,gps_coordinates:``,contact_name:``,mof_tax_number:``,attachments:[],documents:[],is_active:!0}),Ft=c(()=>M.customerTypes),It=c(()=>N.customerGroups),J=c(()=>L.itemPriceLists||[]),Lt=c(()=>P.customerProvinces),Rt=c(()=>F.customerZones),Y=c(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return H.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),zt=c(()=>K.value.name.trim().length>0&&K.value.name.length<=255);c(()=>W.value.length>0);let Bt=c(()=>(K.value.documents?.length||0)+W.value.length),X=c(()=>K.value.documents||[]),Z=async()=>{try{U.value=!0;let e=await j.fetchCustomer(A.value);e&&(K.value={name:e.name,customer_type_id:e.customer_type?.id||void 0,customer_group_id:e.customer_group?.id||void 0,price_list_id_INV:e.price_list_id_INV||void 0,price_list_id_INX:e.price_list_id_INX||void 0,customer_province_id:e.customer_province?.id||void 0,customer_zone_id:e.customer_zone?.id||void 0,salesperson_id:e.salesperson?.id||void 0,customer_payment_term_id:e.customer_payment_term?.id||void 0,total_old_sales:e.total_old_sales||void 0,credit_limit:e.credit_limit||void 0,address:e.address||``,city:e.city||``,telephone:e.telephone||``,mobile:e.mobile||``,email:e.email||``,url:e.url||``,discount_percentage:e.discount_percentage||void 0,notes:e.notes||``,gps_coordinates:e.gps_coordinates||``,contact_name:e.contact_name||``,mof_tax_number:e.mof_tax_number||``,attachments:e.attachments||[],documents:e.documents||[],is_active:e.is_active},q.value={...K.value},V())}catch(e){console.error(`Error loading customer:`,e)}finally{U.value=!1}},Q=e=>{if(Bt.value+e.length>10){z(`attachments`),B({attachments:[`Maximum 10 files allowed in total`]});return}z(`attachments`)},Vt=e=>{B({attachments:[e]})},Ht=async(e,t)=>{let n=e.title||e.original_name,r=confirm(`Are you sure you want to delete "${n}"?\n\nThis action cannot be undone.`);if(r)try{H.value=!0,await x.delete(e.id),K.value.documents.splice(t,1),z(`attachments`)}catch(e){console.error(`Error deleting document:`,e)}finally{H.value=!1}},Ut=async e=>{try{await x.download(e)}catch(e){console.error(`Error downloading document:`,e)}},Wt=async()=>{if(V(),Pt(K.value))try{H.value=!0;let e;if(W.value.length>0){let t=new FormData;Object.entries(K.value).forEach(([e,n])=>{n!=null&&n!==``&&e!==`attachments`&&e!==`documents`&&(typeof n==`boolean`?t.append(e,n?`1`:`0`):t.append(e,n.toString()))}),W.value.forEach((e,n)=>{t.append(`documents[]`,e)}),e=t}else e={name:K.value.name,customer_type_id:K.value.customer_type_id,customer_group_id:K.value.customer_group_id,customer_province_id:K.value.customer_province_id,customer_zone_id:K.value.customer_zone_id,salesperson_id:K.value.salesperson_id,price_list_id_INV:K.value.price_list_id_INV,price_list_id_INX:K.value.price_list_id_INX,customer_payment_term_id:K.value.customer_payment_term_id,total_old_sales:K.value.total_old_sales,credit_limit:K.value.credit_limit,address:K.value.address,city:K.value.city,telephone:K.value.telephone,mobile:K.value.mobile,email:K.value.email,url:K.value.url,gps_coordinates:K.value.gps_coordinates,contact_name:K.value.contact_name,mof_tax_number:K.value.mof_tax_number,discount_percentage:K.value.discount_percentage,notes:K.value.notes,is_active:K.value.is_active};let t;e instanceof FormData?(e.append(`_method`,`PUT`),t=await j.updateCustomerWithFiles(A.value,e)):t=await j.updateCustomer(A.value,e),W.value=[],q.value={...K.value},O.push({name:`customer.index`})}catch(e){e.response?.status===422&&e.response?.data?.errors&&B(e.response.data.errors)}finally{H.value=!1}},Gt=()=>{O.push({name:`customer.index`})},$=()=>{O.push({name:`customer.index`})};return se(async()=>{try{U.value=!0,await Promise.all([M.fetchCustomerTypes(),N.fetchCustomerGroups(),P.fetchCustomerProvinces(),F.fetchCustomerZones(),I.fetchCustomerPaymentTerms(),L.fetchItemPriceLists(),j.fetchSalespersons().then(e=>{G.value=e})])}catch(e){console.error(`Error loading dropdown data:`,e)}finally{U.value=!1}await Z()}),le(()=>k.params.id,()=>{k.params.id&&Z()}),(ee,i)=>{let c=ce(`Input`);return p(),d(`div`,xe,[l(`div`,Se,[l(`div`,Ce,[l(`div`,we,[l(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[f(_(oe),{class:`w-5 h-5`})]),i[46]||=l(`div`,null,[l(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Customer `),l(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update customer information and business details `)],-1)])]),U.value?(p(),d(`div`,Te,i[47]||=[l(`div`,{class:`flex items-center justify-center`},[l(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),l(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading customer...`)],-1)])):K.value?(p(),d(`div`,Ee,[l(`div`,S,[l(`form`,{onSubmit:ne(Wt,[`prevent`]),class:`space-y-8`},[l(`div`,null,[i[57]||=l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Main Information `,-1),l(`div`,C,[l(`div`,null,[f(b,{id:`name`,modelValue:K.value.name,"onUpdate:modelValue":i[0]||=e=>K.value.name=e,label:`Customer Name`,type:`text`,placeholder:`Enter customer name`,disabled:H.value,error:_(R)(`name`),maxlength:255,required:``,onBlur:i[1]||=()=>_(z)(`name`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),K.value.name.length>0?(p(),d(`p`,w,y(K.value.name.length)+`/255 characters `,1)):u(``,!0)]),l(`div`,null,[i[49]||=l(`label`,{for:`customer_type_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Customer Type `,-1),h(l(`select`,{id:`customer_type_id`,"onUpdate:modelValue":i[2]||=e=>K.value.customer_type_id=e,disabled:H.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[3]||=()=>_(z)(`customer_type_id`)},[i[48]||=l(`option`,{value:``},`Select customer type`,-1),(p(!0),d(s,null,m(Ft.value,e=>(p(),d(`option`,{key:e.id,value:e.id},y(e.name),9,E))),128))],40,T),[[a,K.value.customer_type_id]]),_(R)(`customer_type_id`)?(p(),d(`p`,D,y(_(R)(`customer_type_id`)),1)):u(``,!0)]),l(`div`,null,[i[51]||=l(`label`,{for:`customer_group_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Customer Group `,-1),h(l(`select`,{id:`customer_group_id`,"onUpdate:modelValue":i[4]||=e=>K.value.customer_group_id=e,disabled:H.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[5]||=()=>_(z)(`customer_group_id`)},[i[50]||=l(`option`,{value:``},`Select customer group`,-1),(p(!0),d(s,null,m(It.value,e=>(p(),d(`option`,{key:e.id,value:e.id},y(e.name),9,Oe))),128))],40,De),[[a,K.value.customer_group_id]]),_(R)(`customer_group_id`)?(p(),d(`p`,ke,y(_(R)(`customer_group_id`)),1)):u(``,!0)]),l(`div`,null,[i[53]||=l(`label`,{for:`price_list_id_INV`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Price List INV `,-1),h(l(`select`,{id:`price_list_id_INV`,"onUpdate:modelValue":i[6]||=e=>K.value.price_list_id_INV=e,disabled:H.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[7]||=()=>_(z)(`price_list_id_INV`)},[i[52]||=l(`option`,{value:``},`Select price list`,-1),(p(!0),d(s,null,m(J.value,e=>(p(),d(`option`,{key:e.id,value:e.id},y(e.code)+` - `+y(e.description),9,je))),128))],40,Ae),[[a,K.value.price_list_id_INV]]),_(R)(`price_list_id_INV`)?(p(),d(`p`,Me,y(_(R)(`price_list_id_INV`)),1)):u(``,!0)]),l(`div`,null,[i[55]||=l(`label`,{for:`price_list_id_INX`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Price List INX `,-1),h(l(`select`,{id:`price_list_id_INX`,"onUpdate:modelValue":i[8]||=e=>K.value.price_list_id_INX=e,disabled:H.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[9]||=()=>_(z)(`price_list_id_INX`)},[i[54]||=l(`option`,{value:``},`Select price list`,-1),(p(!0),d(s,null,m(J.value,e=>(p(),d(`option`,{key:e.id,value:e.id},y(e.code)+` - `+y(e.description),9,Pe))),128))],40,Ne),[[a,K.value.price_list_id_INX]]),_(R)(`price_list_id_INX`)?(p(),d(`p`,Fe,y(_(R)(`price_list_id_INX`)),1)):u(``,!0)]),l(`div`,null,[f(b,{id:`total_old_sales`,modelValue:K.value.total_old_sales,"onUpdate:modelValue":i[10]||=e=>K.value.total_old_sales=e,label:`Total Old Sales`,type:`number`,step:`0.01`,placeholder:`0.00`,disabled:H.value,error:_(R)(`total_old_sales`),onBlur:i[11]||=()=>_(z)(`total_old_sales`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),l(`div`,null,[f(b,{id:`credit_limit`,modelValue:K.value.credit_limit,"onUpdate:modelValue":i[12]||=e=>K.value.credit_limit=e,label:`Credit Limit`,type:`number`,step:`0.01`,min:`0`,placeholder:`0.00`,disabled:H.value,error:_(R)(`credit_limit`),onBlur:i[13]||=()=>_(z)(`credit_limit`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),l(`div`,Ie,[l(`div`,Le,[h(l(`input`,{id:`is_active`,"onUpdate:modelValue":i[14]||=e=>K.value.is_active=e,type:`checkbox`,disabled:H.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Re),[[te,K.value.is_active]])]),i[56]||=l(`div`,{class:`ml-3`},[l(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),l(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this customer will be available for transactions `)],-1)])])]),l(`div`,null,[i[63]||=l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Contact Information `,-1),l(`div`,ze,[l(`div`,Be,[l(`div`,null,[f(c,{type:`text`,maxlength:255,disabled:H.value,placeholder:`Enter contact person name`,label:`Contact Person`,onBlur:i[15]||=()=>_(z)(`contact_name`),modelValue:K.value.contact_name,"onUpdate:modelValue":i[16]||=e=>K.value.contact_name=e,error:_(R)(`contact_name`)},null,8,[`disabled`,`modelValue`,`error`])]),l(`div`,null,[f(b,{id:`city`,modelValue:K.value.city,"onUpdate:modelValue":i[17]||=e=>K.value.city=e,label:`City`,type:`text`,placeholder:`Enter city name`,disabled:H.value,error:_(R)(`city`),maxlength:255,onBlur:i[18]||=()=>_(z)(`city`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),l(`div`,null,[i[59]||=l(`label`,{for:`customer_province_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Province `,-1),h(l(`select`,{id:`customer_province_id`,"onUpdate:modelValue":i[19]||=e=>K.value.customer_province_id=e,disabled:H.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[20]||=()=>_(z)(`customer_province_id`)},[i[58]||=l(`option`,{value:``},`Select province`,-1),(p(!0),d(s,null,m(Lt.value,e=>(p(),d(`option`,{key:e.id,value:e.id},y(e.name),9,He))),128))],40,Ve),[[a,K.value.customer_province_id]]),_(R)(`customer_province_id`)?(p(),d(`p`,Ue,y(_(R)(`customer_province_id`)),1)):u(``,!0)])]),l(`div`,null,[i[60]||=l(`label`,{for:`address`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Address `,-1),h(l(`textarea`,{id:`address`,"onUpdate:modelValue":i[21]||=e=>K.value.address=e,rows:`3`,placeholder:`Enter customer address`,disabled:H.value,class:v([Y.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:i[22]||=()=>_(z)(`address`),maxlength:`1000`},null,42,We),[[o,K.value.address]]),l(`div`,Ge,[_(R)(`address`)?(p(),d(`p`,Ke,y(_(R)(`address`)),1)):u(``,!0),l(`p`,qe,y(K.value.address?.length||0)+`/1000 characters `,1)])]),l(`div`,Je,[l(`div`,null,[f(c,{type:`text`,maxlength:255,disabled:H.value,placeholder:`Enter GPS`,label:`GPS Coordinates`,onBlur:i[23]||=()=>_(z)(`gps_coordinates`),modelValue:K.value.gps_coordinates,"onUpdate:modelValue":i[24]||=e=>K.value.gps_coordinates=e,error:_(R)(`gps_coordinates`)},null,8,[`disabled`,`modelValue`,`error`])]),l(`div`,null,[f(c,{type:`text`,maxlength:255,disabled:H.value,placeholder:`Enter mof`,label:`MOF Tax number`,onBlur:i[25]||=()=>_(z)(`mof_tax_number`),modelValue:K.value.mof_tax_number,"onUpdate:modelValue":i[26]||=e=>K.value.mof_tax_number=e,error:_(R)(`mof_tax_number`)},null,8,[`disabled`,`modelValue`,`error`])])]),l(`div`,null,[i[62]||=l(`label`,{for:`customer_zone_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Customer Zone `,-1),h(l(`select`,{id:`customer_zone_id`,"onUpdate:modelValue":i[27]||=e=>K.value.customer_zone_id=e,disabled:H.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[28]||=()=>_(z)(`customer_zone_id`)},[i[61]||=l(`option`,{value:``},`Select zone`,-1),(p(!0),d(s,null,m(Rt.value,e=>(p(),d(`option`,{key:e.id,value:e.id},y(e.name),9,Xe))),128))],40,Ye),[[a,K.value.customer_zone_id]]),_(R)(`customer_zone_id`)?(p(),d(`p`,Ze,y(_(R)(`customer_zone_id`)),1)):u(``,!0)]),l(`div`,Qe,[l(`div`,null,[f(b,{id:`telephone`,modelValue:K.value.telephone,"onUpdate:modelValue":i[29]||=e=>K.value.telephone=e,label:`Phone`,type:`tel`,placeholder:`Enter telephone number`,disabled:H.value,error:_(R)(`telephone`),maxlength:20,onBlur:i[30]||=()=>_(z)(`telephone`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),l(`div`,null,[f(c,{id:`mobile`,modelValue:K.value.mobile,"onUpdate:modelValue":i[31]||=e=>K.value.mobile=e,label:`Mobile`,type:`tel`,placeholder:`Enter mobile number`,disabled:H.value,error:_(R)(`mobile`),maxlength:20,onBlur:i[32]||=()=>_(z)(`mobile`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])]),l(`div`,$e,[l(`div`,null,[f(b,{id:`email`,modelValue:K.value.email,"onUpdate:modelValue":i[33]||=e=>K.value.email=e,label:`Email`,type:`email`,placeholder:`Enter email address`,disabled:H.value,error:_(R)(`email`),maxlength:255,onBlur:i[34]||=()=>_(z)(`email`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),l(`div`,null,[f(b,{id:`url`,modelValue:K.value.url,"onUpdate:modelValue":i[35]||=e=>K.value.url=e,label:`Website`,type:`text`,placeholder:`Enter url URL`,disabled:H.value,error:_(R)(`url`),maxlength:255,onBlur:i[36]||=()=>_(z)(`url`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])])])]),l(`div`,null,[i[68]||=l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Sales Information `,-1),l(`div`,et,[l(`div`,null,[i[65]||=l(`label`,{for:`salesperson_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Salesperson `,-1),h(l(`select`,{id:`salesperson_id`,"onUpdate:modelValue":i[37]||=e=>K.value.salesperson_id=e,disabled:H.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[38]||=()=>_(z)(`salesperson_id`)},[i[64]||=l(`option`,{value:``},`Select salesperson`,-1),(p(!0),d(s,null,m(G.value,e=>(p(),d(`option`,{key:e.id,value:e.id},y(e.name),9,nt))),128))],40,tt),[[a,K.value.salesperson_id]]),_(R)(`salesperson_id`)?(p(),d(`p`,rt,y(_(R)(`salesperson_id`)),1)):u(``,!0)]),l(`div`,null,[i[67]||=l(`label`,{for:`customer_payment_term_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Payment Term `,-1),h(l(`select`,{id:`customer_payment_term_id`,"onUpdate:modelValue":i[39]||=e=>K.value.customer_payment_term_id=e,disabled:H.value,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onBlur:i[40]||=()=>_(z)(`customer_payment_term_id`)},[i[66]||=l(`option`,{value:``},`Select payment term`,-1),(p(!0),d(s,null,m(_(I).customerPaymentTerms,e=>(p(),d(`option`,{key:e.id,value:e.id},y(e.name),9,at))),128))],40,it),[[a,K.value.customer_payment_term_id]]),_(R)(`customer_payment_term_id`)?(p(),d(`p`,ot,y(_(R)(`customer_payment_term_id`)),1)):u(``,!0)]),l(`div`,null,[f(b,{id:`discount_percentage`,modelValue:K.value.discount_percentage,"onUpdate:modelValue":i[41]||=e=>K.value.discount_percentage=e,label:`Discount Percentage (%)`,type:`number`,step:`0.01`,min:`0`,max:`100`,placeholder:`0.00`,disabled:H.value,error:_(R)(`discount_percentage`),onBlur:i[42]||=()=>_(z)(`discount_percentage`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])])]),l(`div`,null,[i[71]||=l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Additional Information `,-1),l(`div`,st,[i[69]||=l(`label`,{for:`notes`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Notes `,-1),h(l(`textarea`,{id:`notes`,"onUpdate:modelValue":i[43]||=e=>K.value.notes=e,rows:`4`,placeholder:`Enter additional notes about this customer (optional)`,disabled:H.value,class:v([Y.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:i[44]||=()=>_(z)(`notes`),maxlength:`2000`},null,42,ct),[[o,K.value.notes]]),l(`div`,lt,[_(R)(`notes`)?(p(),d(`p`,ut,y(_(R)(`notes`)),1)):u(``,!0),l(`p`,dt,y(K.value.notes?.length||0)+`/2000 characters `,1)])]),l(`div`,null,[i[70]||=l(`label`,{for:`attachments`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Attachments `,-1),X.value.length>0?(p(),d(`div`,ft,[l(`h4`,pt,`Current Files (`+y(X.value.length)+`)`,1),l(`div`,mt,[(p(!0),d(s,null,m(X.value,(e,r)=>(p(),d(`div`,{key:e.id,class:`flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md`},[l(`div`,ht,[l(`div`,gt,[f(_(t),{class:`h-5 w-5 text-gray-400`})]),l(`div`,null,[l(`p`,_t,y(e.title||e.original_name),1),l(`p`,vt,y(e.file_size_human)+` - `+y(_(fe)(e.created_at)),1)])]),l(`div`,yt,[l(`button`,{type:`button`,onClick:t=>Ut(e),disabled:H.value,class:`text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 disabled:opacity-50`,title:`Download file`},[f(_(n),{class:`h-4 w-4`})],8,bt),l(`button`,{type:`button`,onClick:t=>Ht(e,r),disabled:H.value,class:`text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 disabled:opacity-50`,title:`Delete file`},[f(_(de),{class:`h-4 w-4`})],8,xt)])]))),128))])])):u(``,!0),f(pe,{modelValue:W.value,"onUpdate:modelValue":i[45]||=e=>W.value=e,"max-files":10,"max-size":10*1024*1024,disabled:H.value,accept:`.pdf,.jpg,.png`,onChange:Q,onError:Vt},null,8,[`modelValue`,`disabled`])])]),l(`div`,St,[l(`button`,{type:`button`,onClick:Gt,disabled:H.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,Ct),l(`button`,{type:`submit`,disabled:H.value||_(Nt)||!zt.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[H.value?(p(),d(`div`,Tt,i[72]||=[l(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),ie(` Updating... `,-1)])):(p(),d(`span`,Et,`Update Customer`))],8,wt)])],32)])])):(p(),d(`div`,Dt,[l(`div`,Ot,[f(_(r),{class:`w-12 h-12 text-red-400 mb-4`}),i[73]||=l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Customer Not Found `,-1),i[74]||=l(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The customer you're trying to edit could not be found. `,-1),l(`button`,{onClick:$,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` ‚Üê Back to Customers `)])])),K.value?(p(),d(`div`,kt,[l(`div`,At,[l(`div`,jt,[f(_(e),{class:`h-5 w-5 text-blue-400`})]),i[75]||=re(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Customer Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update the customer details carefully as this information is used for: </p><ul class="list-disc list-inside space-y-1"><li>Sales orders and invoicing</li><li>Credit limit management and monitoring</li><li>Contact management and communication</li><li>Sales performance tracking</li></ul></div></div>`,1)])])):u(``,!0)])])}}}),k=O;export{k as default};