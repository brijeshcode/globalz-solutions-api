import{E as e,G as t,W as n,a6 as ee,aA as r,aB as i,aD as a,aE as o,aF as te,aG as s,aH as c,aI as l,aK as ne,aM as u,aN as d,aS as re,aU as f,aW as p,aX as m,aY as ie,a_ as h,ai as ae,am as oe,an as se,ar as ce,at as g,au as _,ax as le,ay as v,c as y,e as ue}from"./index-7--PgFgh.js";import"./GlobalConfig-Dep5CV3r.js";import"./tableUtils-jdfVzp2e.js";import{b as de}from"./FileUpload-Bh44Gq3Z.js";import{b as fe}from"./documentService-mNfVFqfh.js";import{c as pe}from"./itemsStore-CuYxGK1E.js";import{b as me}from"./itemTypesStore-C7AcK9gr.js";import{b as he,c as ge,d as _e}from"./itemCategoriesStore-DEVLKjM-.js";import{b as ve}from"./taxCodesStore-DDtGBPps.js";import{c as ye}from"./suppliersStore-BNu_RJhU.js";import{b as be}from"./itemProfitMarginsStore-BEtn_zCP.js";const xe={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Se={class:`max-w-4xl mx-auto`},Ce={class:`mb-8`},we={class:`flex items-center space-x-4 mb-2`},Te={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},b={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},x={class:`px-6 py-8`},S={class:`border-b border-gray-200 dark:border-gray-700 pb-6`},C={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},w={class:`mt-6`},T=[`disabled`],E={class:`flex justify-between items-center mt-1`},D={key:0,class:`text-sm text-red-600 dark:text-red-400`},O={class:`border-b border-gray-200 dark:border-gray-700 pb-6`},Ee={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`},De=[`disabled`],Oe=[`value`],ke={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ae=[`disabled`],je=[`value`],Me={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ne=[`disabled`],Pe=[`value`],Fe={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ie=[`disabled`],Le=[`value`],Re=[`disabled`],ze=[`value`],Be=[`disabled`],Ve=[`value`],He=[`disabled`],Ue=[`value`],We={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ge={class:`border-b border-gray-200 dark:border-gray-700 pb-6`},Ke={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`},qe=[`disabled`],Je={class:`border-b border-gray-200 dark:border-gray-700 pb-6`},Ye={class:`grid grid-cols-1 md:grid-cols-3 gap-6`},Xe={class:`mt-6`},Ze=[`disabled`],Qe={class:`border-b border-gray-200 dark:border-gray-700 pb-6`},$e={key:0,class:`mb-4`},et={class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},tt={class:`grid grid-cols-2 md:grid-cols-4 gap-4`},nt=[`src`,`alt`],rt=[`onClick`,`disabled`],it={key:1,class:`mt-2 text-sm text-red-600 dark:text-red-400`},at={key:2,class:`mt-2`},ot={class:`text-xs text-gray-500 dark:text-gray-400`},st={class:`pb-6`},ct={class:`flex items-start`},lt={class:`flex items-center h-5`},ut=[`disabled`],dt={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},ft=[`disabled`],pt=[`disabled`],mt={key:0,class:`flex items-center justify-center`},ht={key:1},gt={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},_t={class:`flex flex-col items-center`},vt={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},yt={class:`flex`},bt={class:`flex-shrink-0`};var k=l({__name:`EditPage`,setup(l){let k=se(),A=oe(),xt=ae(),j=r(()=>parseInt(A.params.id)),M=pe(),N=me(),P=_e(),F=ve(),I=ge(),L=he(),R=ye(),z=be(),B=p(!1),V=p(!1),H=p({}),U=p([]),W=p(``),G=p({code:``,description:``,short_name:``,item_type_id:void 0,item_unit_id:0,tax_code_id:0,item_family_id:void 0,item_category_id:void 0,supplier_id:void 0,item_profit_margin_id:void 0,base_cost:void 0,base_sell:void 0,starting_price:void 0,starting_quantity:0,low_quantity_alert:void 0,cost_calculation:`weighted_average`,volume:void 0,weight:void 0,barcode:``,notes:``,images:[],is_active:!0}),St=r(()=>N.activeItemTypes),Ct=r(()=>P.activeItemUnits),wt=r(()=>F.activeTaxCodes),Tt=r(()=>I.activeItemFamilies),Et=r(()=>L.activeItemCategories),Dt=r(()=>R.activeSuppliers),Ot=r(()=>z.activeItemProfitMargins),kt=r(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-blue-600 dark:focus:ring-blue-400`];return q(`description`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):e.join(` `)}),At=r(()=>G.value.description?.trim().length>0&&G.value.tax_code_id>0),jt=r(()=>Object.keys(H.value).length>0),K=r(()=>G.value.images||[]),Mt=r(()=>(G.value.images?.length||0)+U.value.length),q=e=>H.value[e]||``,J=e=>{H.value[e]&&delete H.value[e]},Y=()=>{H.value={}},X=e=>{H.value={},Object.keys(e).forEach(t=>{H.value[t]=e[t][0]})},Z=async()=>{try{V.value=!0;let e=await M.fetchItem(j.value);e&&(G.value={code:e.code||``,description:e.description||``,short_name:e.short_name||``,item_type_id:e.item_type?.id||void 0,item_unit_id:e.item_unit?.id||0,tax_code_id:e.tax_code?.id||0,item_family_id:e.item_family?.id||void 0,item_category_id:e.item_category?.id||void 0,supplier_id:e.supplier?.id||void 0,item_profit_margin_id:e.item_profit_margin?.id||void 0,base_cost:e.base_cost||void 0,base_sell:e.base_sell||void 0,starting_price:e.starting_price||void 0,starting_quantity:e.starting_quantity||0,low_quantity_alert:e.low_quantity_alert||void 0,cost_calculation:e.cost_calculation||`weighted_average`,volume:e.volume||void 0,weight:e.weight||void 0,barcode:e.barcode||``,notes:e.notes||``,images:e.documents||[],is_active:e.is_active},Y())}catch(e){console.error(`Error loading item:`,e)}finally{V.value=!1}},Nt=e=>{if(Mt.value+e.length>10){J(`images`),X({images:[`Maximum 10 images allowed in total`]});return}U.value=e,W.value=``,J(`images`)},Q=e=>{W.value=e},Pt=async(e,t)=>{let n=confirm(`Are you sure you want to delete this image?

This action cannot be undone.`);if(n)try{B.value=!0,await fe.delete(e.id),G.value.images.splice(t,1),J(`images`)}catch(e){console.error(`Error deleting image:`,e)}finally{B.value=!1}},Ft=()=>{Y();let e=!0;return G.value.description?.trim()||(H.value.description=`Description is required`,e=!1),(!G.value.tax_code_id||G.value.tax_code_id===0)&&(H.value.tax_code_id=`Tax code is required`,e=!1),e},It=async()=>{if(console.log(`handle submit `),!Ft()){console.log(`form validation fails`);return}console.log(`validation passsed `),B.value=!0;try{let e;if(U.value.length>0){let t=new FormData;Object.entries(G.value).forEach(([e,n])=>{n!=null&&n!==``&&e!==`images`&&(typeof n==`boolean`?t.append(e,n?`1`:`0`):t.append(e,n.toString()))}),G.value.images&&G.value.images.length>0&&G.value.images.forEach((e,n)=>{t.append(`existing_documents[${n}]`,e.id.toString())}),U.value.forEach((e,n)=>{t.append(`documents[]`,e)}),e=t}else e={description:G.value.description,short_name:G.value.short_name||void 0,item_type_id:G.value.item_type_id,item_unit_id:G.value.item_unit_id,tax_code_id:G.value.tax_code_id,item_family_id:G.value.item_family_id,item_category_id:G.value.item_category_id,supplier_id:G.value.supplier_id,item_profit_margin_id:G.value.item_profit_margin_id,base_cost:G.value.base_cost,base_sell:G.value.base_sell,starting_price:G.value.starting_price,starting_quantity:G.value.starting_quantity,low_quantity_alert:G.value.low_quantity_alert,cost_calculation:G.value.cost_calculation,volume:G.value.volume,weight:G.value.weight,barcode:G.value.barcode||void 0,notes:G.value.notes||void 0,is_active:G.value.is_active};e instanceof FormData?(e.append(`_method`,`PUT`),await M.updateItemWithImages(j.value,e)):await M.updateItem(j.value,e),U.value=[],xt.success(`Item updated successfully`),k.push({name:`items.index`})}catch(e){e.response?.status===422&&e.response?.data?.errors&&X(e.response.data.errors)}finally{B.value=!1}},Lt=()=>{k.push({name:`items.index`})},$=()=>{k.push({name:`items.index`})};return ne(async()=>{try{V.value=!0,await Promise.all([N.fetchItemTypes({is_active:!0}),P.fetchItemUnits({is_active:!0}),F.fetchTaxCodes({is_active:!0}),I.fetchItemFamilies({is_active:!0}),L.fetchItemCategories({is_active:!0}),R.fetchSuppliers({is_active:!0}),z.fetchItemProfitMargins({is_active:!0})])}catch(e){console.error(`Error loading dropdown data:`,e)}finally{V.value=!1}await Z()}),re(()=>j.value,()=>{j.value&&Z()}),(r,l)=>(u(),o(`div`,xe,[i(`div`,Se,[i(`div`,Ce,[i(`div`,we,[i(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[c(m(ee),{class:`w-5 h-5`})]),l[40]||=i(`div`,null,[i(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Item `),i(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update item information and inventory details `)],-1)])]),V.value?(u(),o(`div`,Te,l[41]||=[i(`div`,{class:`flex items-center justify-center`},[i(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-4`}),i(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading item...`)],-1)])):G.value?(u(),o(`div`,b,[i(`div`,x,[i(`form`,{onSubmit:le(It,[`prevent`]),class:`space-y-6`},[i(`div`,S,[l[44]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Basic Information `,-1),i(`div`,C,[i(`div`,null,[c(y,{modelValue:G.value.code,"onUpdate:modelValue":l[0]||=e=>G.value.code=e,label:`Item Code`,placeholder:`Auto-generated code`,disabled:``,error:q(`code`)},null,8,[`modelValue`,`error`]),l[42]||=i(`p`,{class:`mt-1 text-xs text-gray-500 dark:text-gray-400`},` Item code is auto-generated and cannot be modified `,-1)]),i(`div`,null,[c(y,{modelValue:G.value.short_name,"onUpdate:modelValue":l[1]||=e=>G.value.short_name=e,label:`Short Name`,placeholder:`Optional short name`,disabled:B.value,error:q(`short_name`),onBlur:l[2]||=e=>J(`short_name`),clearable:``},null,8,[`modelValue`,`disabled`,`error`])])]),i(`div`,w,[l[43]||=i(`label`,{for:`description`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[s(` Description `),i(`span`,{class:`text-red-500 ml-1`},`*`)],-1),f(i(`textarea`,{id:`description`,"onUpdate:modelValue":l[3]||=e=>G.value.description=e,rows:`3`,placeholder:`Enter item description`,disabled:B.value,class:ie([kt.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:l[4]||=e=>J(`description`),required:``},null,42,T),[[_,G.value.description]]),i(`div`,E,[q(`description`)?(u(),o(`p`,D,h(q(`description`)),1)):a(``,!0)])])]),i(`div`,O,[l[59]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Classification `,-1),i(`div`,Ee,[i(`div`,null,[l[46]||=i(`label`,{for:`item_type_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Item Type `,-1),f(i(`select`,{id:`item_type_id`,"onUpdate:modelValue":l[5]||=e=>G.value.item_type_id=e,disabled:B.value,onChange:l[6]||=e=>J(`item_type_id`),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},[l[45]||=i(`option`,{value:``},`Select Item Type`,-1),(u(!0),o(v,null,d(St.value,e=>(u(),o(`option`,{key:e.id,value:e.id},h(e.name),9,Oe))),128))],40,De),[[g,G.value.item_type_id]]),q(`item_type_id`)?(u(),o(`p`,ke,h(q(`item_type_id`)),1)):a(``,!0)]),i(`div`,null,[l[48]||=i(`label`,{for:`item_unit_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[s(` Item Unit `),i(`span`,{class:`text-red-500 ml-1`},`*`)],-1),f(i(`select`,{id:`item_unit_id`,"onUpdate:modelValue":l[7]||=e=>G.value.item_unit_id=e,required:``,disabled:B.value,onChange:l[8]||=e=>J(`item_unit_id`),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},[l[47]||=i(`option`,{value:``},`Select Item Unit`,-1),(u(!0),o(v,null,d(Ct.value,e=>(u(),o(`option`,{key:e.id,value:e.id},h(e.name),9,je))),128))],40,Ae),[[g,G.value.item_unit_id]]),q(`item_unit_id`)?(u(),o(`p`,Me,h(q(`item_unit_id`)),1)):a(``,!0)]),i(`div`,null,[l[50]||=i(`label`,{for:`tax_code_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[s(` Tax Code `),i(`span`,{class:`text-red-500 ml-1`},`*`)],-1),f(i(`select`,{id:`tax_code_id`,"onUpdate:modelValue":l[9]||=e=>G.value.tax_code_id=e,required:``,disabled:B.value,onChange:l[10]||=e=>J(`tax_code_id`),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},[l[49]||=i(`option`,{value:``},`Select Tax Code`,-1),(u(!0),o(v,null,d(wt.value,e=>(u(),o(`option`,{key:e.id,value:e.id},h(e.name)+` (`+h(e.tax_percent)+`%) `,9,Pe))),128))],40,Ne),[[g,G.value.tax_code_id]]),q(`tax_code_id`)?(u(),o(`p`,Fe,h(q(`tax_code_id`)),1)):a(``,!0)]),i(`div`,null,[l[52]||=i(`label`,{for:`item_family_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Item Family `,-1),f(i(`select`,{id:`item_family_id`,"onUpdate:modelValue":l[11]||=e=>G.value.item_family_id=e,disabled:B.value,onChange:l[12]||=e=>J(`item_family_id`),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},[l[51]||=i(`option`,{value:``},`Select Item Family`,-1),(u(!0),o(v,null,d(Tt.value,e=>(u(),o(`option`,{key:e.id,value:e.id},h(e.name),9,Le))),128))],40,Ie),[[g,G.value.item_family_id]])]),i(`div`,null,[l[54]||=i(`label`,{for:`item_category_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Item Category `,-1),f(i(`select`,{id:`item_category_id`,"onUpdate:modelValue":l[13]||=e=>G.value.item_category_id=e,disabled:B.value,onChange:l[14]||=e=>J(`item_category_id`),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},[l[53]||=i(`option`,{value:``},`Select Item Category`,-1),(u(!0),o(v,null,d(Et.value,e=>(u(),o(`option`,{key:e.id,value:e.id},h(e.name),9,ze))),128))],40,Re),[[g,G.value.item_category_id]])]),i(`div`,null,[l[56]||=i(`label`,{for:`supplier_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Supplier `,-1),f(i(`select`,{id:`supplier_id`,"onUpdate:modelValue":l[15]||=e=>G.value.supplier_id=e,disabled:B.value,onChange:l[16]||=e=>J(`supplier_id`),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},[l[55]||=i(`option`,{value:``},`Select Supplier`,-1),(u(!0),o(v,null,d(Dt.value,e=>(u(),o(`option`,{key:e.id,value:e.id},h(e.name),9,Ve))),128))],40,Be),[[g,G.value.supplier_id]])]),i(`div`,null,[l[58]||=i(`label`,{for:`item_profit_margin_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Profit Margin `,-1),f(i(`select`,{id:`item_profit_margin_id`,"onUpdate:modelValue":l[17]||=e=>G.value.item_profit_margin_id=e,disabled:B.value,onChange:l[18]||=e=>J(`item_profit_margin_id`),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},[l[57]||=i(`option`,{value:``},`Select Profit Margin`,-1),(u(!0),o(v,null,d(Ot.value,e=>(u(),o(`option`,{key:e.id,value:e.id},h(e.name),9,Ue))),128))],40,He),[[g,G.value.item_profit_margin_id]]),q(`item_profit_margin_id`)?(u(),o(`p`,We,h(q(`item_profit_margin_id`)),1)):a(``,!0)])])]),i(`div`,Ge,[l[62]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Pricing & Inventory `,-1),i(`div`,Ke,[i(`div`,null,[c(y,{modelValue:G.value.base_cost,"onUpdate:modelValue":l[19]||=e=>G.value.base_cost=e,type:`number`,step:`0.01`,min:`0`,label:`Base Cost`,placeholder:`0.00`,disabled:B.value,error:q(`base_cost`),onBlur:l[20]||=e=>J(`base_cost`)},null,8,[`modelValue`,`disabled`,`error`])]),i(`div`,null,[c(y,{modelValue:G.value.base_sell,"onUpdate:modelValue":l[21]||=e=>G.value.base_sell=e,type:`number`,step:`0.01`,min:`0`,label:`Base Selling Price`,placeholder:`0.00`,disabled:B.value,error:q(`base_sell`),onBlur:l[22]||=e=>J(`base_sell`)},null,8,[`modelValue`,`disabled`,`error`])]),i(`div`,null,[c(y,{modelValue:G.value.starting_price,"onUpdate:modelValue":l[23]||=e=>G.value.starting_price=e,type:`number`,step:`0.01`,min:`0`,label:`Starting Price`,placeholder:`0.00`,disabled:B.value,error:q(`starting_price`),onBlur:l[24]||=e=>J(`starting_price`)},null,8,[`modelValue`,`disabled`,`error`])]),i(`div`,null,[c(y,{modelValue:G.value.starting_quantity,"onUpdate:modelValue":l[25]||=e=>G.value.starting_quantity=e,type:`number`,step:`0.01`,min:`0`,label:`Starting Quantity`,placeholder:`0`,disabled:B.value,error:q(`starting_quantity`),onBlur:l[26]||=e=>J(`starting_quantity`)},null,8,[`modelValue`,`disabled`,`error`])]),i(`div`,null,[c(y,{modelValue:G.value.low_quantity_alert,"onUpdate:modelValue":l[27]||=e=>G.value.low_quantity_alert=e,type:`number`,step:`0.01`,min:`0`,label:`Low Stock Alert`,placeholder:`Optional alert threshold`,disabled:B.value,error:q(`low_quantity_alert`),onBlur:l[28]||=e=>J(`low_quantity_alert`)},null,8,[`modelValue`,`disabled`,`error`])]),i(`div`,null,[l[61]||=i(`label`,{for:`cost_calculation`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Cost Calculation Method `,-1),f(i(`select`,{id:`cost_calculation`,"onUpdate:modelValue":l[29]||=e=>G.value.cost_calculation=e,disabled:B.value,onChange:l[30]||=e=>J(`cost_calculation`),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`},l[60]||=[i(`option`,{value:`weighted_average`},`Weighted Average`,-1),i(`option`,{value:`last_cost`},`Last Cost`,-1)],40,qe),[[g,G.value.cost_calculation]])])])]),i(`div`,Je,[l[64]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Additional Information `,-1),i(`div`,Ye,[i(`div`,null,[c(y,{modelValue:G.value.volume,"onUpdate:modelValue":l[31]||=e=>G.value.volume=e,type:`number`,step:`0.0001`,min:`0`,label:`Volume`,placeholder:`Optional volume`,disabled:B.value,error:q(`volume`),onBlur:l[32]||=e=>J(`volume`)},null,8,[`modelValue`,`disabled`,`error`])]),i(`div`,null,[c(y,{modelValue:G.value.weight,"onUpdate:modelValue":l[33]||=e=>G.value.weight=e,type:`number`,step:`0.0001`,min:`0`,label:`Weight`,placeholder:`Optional weight`,disabled:B.value,error:q(`weight`),onBlur:l[34]||=e=>J(`weight`)},null,8,[`modelValue`,`disabled`,`error`])]),i(`div`,null,[c(y,{modelValue:G.value.barcode,"onUpdate:modelValue":l[35]||=e=>G.value.barcode=e,label:`Barcode`,placeholder:`Optional barcode`,disabled:B.value,error:q(`barcode`),onBlur:l[36]||=e=>J(`barcode`),clearable:``},null,8,[`modelValue`,`disabled`,`error`])])]),i(`div`,Xe,[l[63]||=i(`label`,{for:`notes`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Notes `,-1),f(i(`textarea`,{id:`notes`,"onUpdate:modelValue":l[37]||=e=>G.value.notes=e,rows:`3`,placeholder:`Optional notes about this item`,disabled:B.value,class:`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset focus:ring-blue-600 dark:focus:ring-blue-400 sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`},null,8,Ze),[[_,G.value.notes]])])]),i(`div`,Qe,[l[65]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Product Images `,-1),K.value.length>0?(u(),o(`div`,$e,[i(`h4`,et,`Current Images (`+h(K.value.length)+`)`,1),i(`div`,tt,[(u(!0),o(v,null,d(K.value,(e,t)=>(u(),o(`div`,{key:e.id,class:`relative group`},[i(`img`,{src:e.thumbnail_url,alt:e.title||e.original_name||`Product image`,class:`w-full h-24 object-cover rounded-lg border border-gray-300 dark:border-gray-600`},null,8,nt),i(`button`,{type:`button`,onClick:n=>Pt(e,t),disabled:B.value,class:`absolute -top-2 -right-2 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity disabled:opacity-50`,title:`Remove image`},[c(m(ue),{class:`h-3 w-3`})],8,rt)]))),128))])])):a(``,!0),c(de,{modelValue:U.value,"onUpdate:modelValue":l[38]||=e=>U.value=e,"max-files":10,"max-size":5*1024*1024,disabled:B.value,accept:`.jpg,.jpeg,.png,.gif,.bmp,.webp`,onChange:Nt,onError:Q},null,8,[`modelValue`,`disabled`]),W.value?(u(),o(`p`,it,h(W.value),1)):a(``,!0),K.value.length+U.value.length>0?(u(),o(`div`,at,[i(`p`,ot,` Total images: `+h(K.value.length+U.value.length)+`/10 `,1)])):a(``,!0),l[66]||=i(`p`,{class:`mt-2 text-xs text-gray-500 dark:text-gray-400`},` Upload product images to help customers identify this item. Maximum 10 images, 5MB each. `,-1)]),i(`div`,st,[l[68]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4`},` Status `,-1),i(`div`,ct,[i(`div`,lt,[f(i(`input`,{id:`is_active`,"onUpdate:modelValue":l[39]||=e=>G.value.is_active=e,type:`checkbox`,disabled:B.value,class:`h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,ut),[[ce,G.value.is_active]])]),l[67]||=i(`div`,{class:`ml-3`},[i(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),i(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this item will be available for use in transactions `)],-1)])]),i(`div`,dt,[i(`button`,{type:`button`,onClick:Lt,disabled:B.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,ft),i(`button`,{type:`submit`,disabled:B.value||jt.value||!At.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[B.value?(u(),o(`div`,mt,[c(m(e),{class:`animate-spin h-4 w-4 mr-2`}),l[69]||=s(` Updating... `,-1)])):(u(),o(`span`,ht,`Update Item`))],8,pt)])],32)])])):(u(),o(`div`,gt,[i(`div`,_t,[c(m(n),{class:`w-12 h-12 text-red-400 mb-4`}),l[70]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Item Not Found `,-1),l[71]||=i(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The item you're trying to edit could not be found. `,-1),i(`button`,{onClick:$,class:`px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300`},` ‚Üê Back to Items `)])])),G.value?(u(),o(`div`,vt,[i(`div`,yt,[i(`div`,bt,[c(m(t),{class:`h-5 w-5 text-blue-400`})]),l[72]||=te(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Item Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update the item details carefully as this information is used for: </p><ul class="list-disc list-inside space-y-1"><li>Purchase and sales transactions</li><li>Inventory tracking and stock management</li><li>Pricing calculations and tax computations</li><li>System availability for transactions</li><li>Reports and analytics</li></ul><p class="mt-2 text-xs"><strong>Note:</strong> The item code cannot be changed once created. </p></div></div>`,1)])])):a(``,!0)])]))}}),A=k;export{A as default};