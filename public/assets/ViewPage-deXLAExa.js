import{E as e,Q as t,a$ as n,aC as ee,aG as r,aH as te,aS as ne,aV as i,aX as a,aY as o,a_ as s,ao as c,as as re,b0 as l,b3 as ie,b5 as u,b6 as d,bc as f,bf as p,bg as m,bj as h,p as g,v as _}from"./index-Dtcwuetq.js";import{b as ae}from"./useAuth-D6NhwC1E.js";import"./GlobalConfig-wPgXFcZ5.js";import{c as v,f as y}from"./common-CZbH6H1Z.js";import"./tableUtils-dXs1kjAL.js";import{b}from"./DataItems-Bpoig8b8.js";import{b as oe}from"./commissionTargetStore-CxhC1qur.js";const x={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},S={class:``},C={class:`mb-8`},w={class:`flex items-center justify-between`},T={class:`flex items-center space-x-4`},E={class:`text-sm text-gray-600 dark:text-gray-400`},D={key:0,class:`flex space-x-3`},O={key:0,class:`flex items-center justify-center py-12`},k={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},A={class:`px-6 py-8`},j={class:`mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-md`},M={class:`flex items-center justify-between`},N={class:`flex`},P={class:`ml-3`},F={class:`text-sm font-medium text-blue-800 dark:text-blue-200`},I={class:`uppercase text-green-500`},L={class:`mt-1 text-sm text-blue-700 dark:text-blue-300`},R={class:`space-y-8`},z={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},se={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},B={class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},V={class:`px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white`},H={class:`px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white`},U={class:`px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white`},W={class:`px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white`},G={class:`px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white`},K={class:`px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white text-right`},ce={key:0},le={class:`grid grid-cols-1 gap-6`},ue={class:`text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 p-3 rounded-md`},de={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},fe={class:`text-sm text-gray-900 dark:text-white`},pe={class:`text-sm text-gray-900 dark:text-white`},me={class:`flex items-center justify-between pt-6 border-t border-gray-200 dark:border-gray-700`},he={key:2,class:`text-center py-12`};var q=l({__name:`ViewPage`,setup(re){let l=te(),q=r(),J=ee(),{isAdmin:Y}=ae(),ge=oe(),X=p(!1),Z=p(null),Q=()=>{l.push({name:`commission-targets.index`})},$=()=>{l.push({name:`commission-targets.edit`,params:{id:q.params.id}})},_e=async()=>{let e=Number(q.params.id);if(!e){J.error(`Invalid payment ID`),Q();return}X.value=!0;try{let t=await ge.fetchCommissionTarget(e);Z.value=t}catch{J.error(`Failed to load supplier payment`),Z.value=null}finally{X.value=!1}};return ie(async()=>{await _e()}),(ee,r)=>(u(),o(`div`,x,[i(`div`,S,[i(`div`,C,[i(`div`,w,[i(`div`,T,[i(`button`,{onClick:Q,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[n(m(c),{class:`w-5 h-5`})]),i(`div`,null,[r[0]||=i(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Commission Target Detail `,-1),i(`p`,E,h(Z.value?`${Z.value.prefix}${Z.value.code}`:`Loading...`),1)])]),Z.value&&!X.value?(u(),o(`div`,D,[m(Y)?(u(),o(`button`,{key:0,onClick:$,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[n(m(_),{class:`h-4 w-4 mr-2`}),r[1]||=s(` Edit `,-1)])):a(``,!0)])):a(``,!0)])]),X.value?(u(),o(`div`,O,[n(m(t),{class:`h-8 w-8 animate-spin text-blue-600`}),r[2]||=i(`span`,{class:`ml-2 text-gray-600 dark:text-gray-400`},`Loading commission target details...`,-1)])):Z.value?(u(),o(`div`,k,[i(`div`,A,[i(`div`,j,[i(`div`,M,[i(`div`,N,[n(m(e),{class:`h-5 w-5 text-blue-400`}),i(`div`,P,[i(`h3`,F,[r[3]||=s(` Commission Target: `,-1),i(`span`,I,h(Z.value.name),1)]),i(`div`,L,[i(`p`,null,`Created by `+h(Z.value.created_by_user?.name||`N/A`)+` on `+h(m(v)(Z.value.updated_at)),1)])])])])]),i(`div`,R,[i(`div`,null,[r[5]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Commission rules `,-1),i(`table`,z,[r[4]||=i(`thead`,{class:`bg-gray-50 dark:bg-gray-700`},[i(`tr`,null,[i(`th`,{class:`px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Label`),i(`th`,{class:`px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Type`),i(`th`,{class:`px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Include Type`),i(`th`,{class:`px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Minimum Amount`),i(`th`,{class:`px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Maximum Amount`),i(`th`,{class:`px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},`Commission %`)])],-1),i(`tbody`,se,[(u(!0),o(ne,null,d(Z.value.rules,e=>(u(),o(`tr`,B,[i(`td`,V,h(e.comission_label),1),i(`td`,H,h(e.type),1),i(`td`,U,h(e.include_type),1),i(`td`,W,h(m(y)(e.minimum_amount)),1),i(`td`,G,h(m(y)(e.maximum_amount)),1),i(`td`,K,h(m(y)(e.percent)),1)]))),256))])])]),Z.value.note?(u(),o(`div`,ce,[r[6]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Notes `,-1),i(`div`,le,[n(b,{label:`Commission Notes`},{default:f(()=>[i(`div`,ue,h(Z.value.note),1)]),_:1})])])):a(``,!0),i(`div`,null,[r[7]||=i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-4 border-b border-gray-200 dark:border-gray-700 pb-2`},` Audit Trail `,-1),i(`div`,de,[n(b,{label:`Created By`},{default:f(()=>[i(`div`,fe,h(Z.value.created_by_user?.name||`-`),1)]),_:1}),n(b,{label:`Last Updated By`},{default:f(()=>[i(`div`,pe,h(Z.value.updated_by_user?.name||`-`),1)]),_:1}),n(b,{label:`Last Updated`,value:m(v)(Z.value.updated_at)},null,8,[`value`])])]),i(`div`,me,[i(`button`,{type:`button`,onClick:Q,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[n(m(c),{class:`h-4 w-4 mr-2`}),r[8]||=s(` Back `,-1)]),m(Y)?(u(),o(`button`,{key:0,type:`button`,onClick:$,class:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`},[n(m(_),{class:`h-4 w-4 mr-2`}),r[9]||=s(` Edit Commission `,-1)])):a(``,!0)])])])])):X.value?a(``,!0):(u(),o(`div`,he,[n(m(g),{class:`mx-auto h-12 w-12 text-red-400`}),r[10]||=i(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},`Commission not found`,-1),r[11]||=i(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` The Commission target details you're looking for doesn't exist or has been deleted. `,-1),i(`div`,{class:`mt-6`},[i(`button`,{onClick:Q,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700`},` Back `)])]))])]))}}),J=re(q,[[`__scopeId`,`data-v-e09bf593`]]);export{J as default};