import{E as e,a$ as t,aC as ee,aG as n,aH as r,aU as i,aV as a,aW as o,aX as s,aY as c,a_ as l,ab as te,ao as u,as as ne,b0 as d,b3 as re,b4 as f,b5 as p,bc as m,bf as h,bg as g,bj as _,k as ie,v as ae}from"./index-BEKp4Rt1.js";import"./GlobalConfig-wPgXFcZ5.js";import{c as v,d as oe}from"./common-CZbH6H1Z.js";import"./tableUtils-dXs1kjAL.js";import{b as y}from"./currencyUtil-BrX7-ghZ.js";import{b}from"./DataItems-BiisKY3T.js";import{b as x,c as S}from"./SystemInfoCard-2RemSFUA.js";import{b as C}from"./salaryStore-DjOkBceI.js";const w={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},T={class:`mb-8`},E={class:`flex items-center justify-between`},D={class:`flex items-center space-x-4`},O={class:`text-3xl font-bold text-gray-900 dark:text-gray-100`},k={class:`text-sm text-gray-600 dark:text-gray-400 mt-1`},A={class:`flex items-center space-x-3`},j={key:0,class:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`},M={key:0,class:`flex items-center justify-center py-12`},N={key:1,class:`bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6`},P={class:`flex items-center`},F={class:`text-red-600 dark:text-red-400 mt-1`},I={key:2,class:`space-y-8`},L={class:`bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-6`},R={class:`flex items-center justify-between`},z={class:`flex`},B={class:`ml-4`},V={class:`text-lg font-semibold text-blue-900 dark:text-blue-100`},H={class:`text-sm text-blue-700 dark:text-blue-300 mt-1`},U={class:`text-xs text-blue-600 dark:text-blue-400 mt-1`},W={class:`text-right`},G={class:`text-3xl font-bold text-blue-900 dark:text-blue-100`},K={class:`font-medium text-blue-600 dark:text-blue-400`},se={class:`font-medium`},ce={class:`text-lg font-semibold text-gray-900 dark:text-gray-100`},le={class:`text-lg font-semibold text-gray-900 dark:text-gray-100`},ue={class:`text-lg font-semibold text-red-600 dark:text-red-400`},de={class:`text-lg font-semibold text-gray-900 dark:text-gray-100`},fe={class:`text-2xl font-bold text-green-600 dark:text-green-400`},pe={class:`bg-gray-50 dark:bg-gray-900/20 border border-gray-200 dark:border-gray-700 rounded-lg p-6`},me={class:`flex items-center justify-center space-x-2 text-sm text-gray-600 dark:text-gray-400`},he={class:`font-medium`},ge={class:`font-medium`},_e={class:`font-medium`},ve={class:`font-medium`},ye={class:`font-bold text-green-600 dark:text-green-400 text-lg`},be={class:`text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap bg-gray-50 dark:bg-gray-700 p-3 rounded-md`},xe={class:`text-sm text-gray-900 dark:text-gray-100 whitespace-pre-wrap bg-gray-50 dark:bg-gray-700 p-3 rounded-md`},Se={key:3,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Ce={class:`text-center`};var q=d({__name:`ViewPage`,setup(ne){let d=r(),q=n(),J=C(),{showError:we}=ee(),Y=h(!0),X=h(null),Te=i(()=>Number(q.params.id)),Z=i(()=>J.currentSalary),Ee=[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],Q=e=>e>=1&&e<=12?Ee[e-1]:`Unknown`,De=async()=>{try{Y.value=!0,X.value=null,await J.fetchSalary(Te.value),J.currentSalary||(X.value=`Salary not found`)}catch(e){X.value=e.response?.data?.message||`Failed to load salary details`,we(X.value)}finally{Y.value=!1}},Oe=()=>{Z.value&&d.push({name:`employees.salaries.edit`,params:{id:Z.value.id}})},$=()=>{d.push({name:`employees.salaries.index`})};return re(()=>{De()}),f(()=>{J.clearCurrentSalary()}),(ee,n)=>(p(),c(`div`,w,[a(`div`,T,[a(`div`,E,[a(`div`,D,[a(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[t(g(u),{class:`w-5 h-5`})]),a(`div`,null,[a(`h1`,O,_(Z.value?.employee?.name||`Salary Details`),1),a(`p`,k,` Salary Code: `+_(Z.value?.salary_code),1)])]),a(`div`,A,[Z.value?(p(),c(`span`,j,_(g(y)(Z.value.final_total)),1)):s(``,!0),Z.value?(p(),c(`button`,{key:1,onClick:Oe,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700`},[t(g(ae),{class:`w-4 h-4 mr-2`}),n[0]||=l(` Edit `,-1)])):s(``,!0)])])]),Y.value?(p(),c(`div`,M,n[1]||=[a(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`},null,-1),a(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading salary details...`,-1)])):X.value?(p(),c(`div`,N,[a(`div`,P,[t(g(te),{class:`w-6 h-6 text-red-500 mr-3`}),a(`div`,null,[n[2]||=a(`h3`,{class:`text-lg font-medium text-red-800 dark:text-red-300`},`Error Loading Salary`,-1),a(`p`,F,_(X.value),1)])])])):Z.value?(p(),c(`div`,I,[a(`div`,L,[a(`div`,R,[a(`div`,z,[t(g(e),{class:`h-8 w-8 text-blue-600 dark:text-blue-400`}),a(`div`,B,[a(`h3`,V,_(Q(Z.value.month))+` `+_(Z.value.year)+` Salary `,1),a(`p`,H,` Employee: `+_(Z.value.employee?.name)+` `+_(Z.value.employee?.code?`(${Z.value.employee.code})`:``),1),a(`p`,U,` Date: `+_(g(v)(Z.value.date)),1)])]),a(`div`,W,[n[3]||=a(`p`,{class:`text-sm text-blue-700 dark:text-blue-300`},`Final Total`,-1),a(`p`,G,_(g(y)(Z.value.final_total)),1)])])]),t(S,{title:`Salary Information`},{default:m(()=>[t(b,{label:`Salary Code`},{default:m(()=>[a(`span`,K,_(Z.value.salary_code),1)]),_:1}),t(b,{label:`Date`,value:g(v)(Z.value.date)},null,8,[`value`]),t(b,{label:`Employee`,value:Z.value.employee?.name},null,8,[`value`]),t(b,{label:`Employee Code`,value:Z.value.employee?.code},null,8,[`value`]),t(b,{label:`Period`},{default:m(()=>[a(`span`,se,_(Q(Z.value.month))+` `+_(Z.value.year),1)]),_:1}),t(b,{label:`Account`,value:Z.value.account?.name},null,8,[`value`])]),_:1}),t(S,{title:`Amount Breakdown`},{default:m(()=>[t(b,{label:`Sub Total`},{default:m(()=>[a(`span`,ce,_(g(y)(Z.value.sub_total)),1)]),_:1}),t(b,{label:`Base Salary`},{default:m(()=>[a(`span`,le,_(g(y)(Z.value.base_salary)),1)]),_:1}),t(b,{label:`Advance Payment`},{default:m(()=>[a(`span`,ue,` -`+_(g(y)(Z.value.advance_payment)),1)]),_:1}),t(b,{label:`Others`},{default:m(()=>[a(`span`,de,_(Z.value.others>=0?`+`:``)+_(g(y)(Z.value.others)),1)]),_:1}),t(b,{label:`Final Total`,class:`border-t border-gray-200 dark:border-gray-700 pt-4`},{default:m(()=>[a(`span`,fe,_(g(y)(Z.value.final_total)),1)]),_:1})]),_:1}),a(`div`,pe,[n[8]||=a(`h3`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-3`},`Calculation`,-1),a(`div`,me,[a(`span`,he,_(g(y)(Z.value.sub_total)),1),n[4]||=a(`span`,null,`-`,-1),a(`span`,ge,_(g(y)(Z.value.advance_payment)),1),n[5]||=a(`span`,null,`+`,-1),a(`span`,_e,_(g(y)(Z.value.others)),1),n[6]||=a(`span`,null,`+`,-1),a(`span`,ve,_(g(y)(Z.value.base_salary)),1),n[7]||=a(`span`,null,`=`,-1),a(`span`,ye,_(g(y)(Z.value.final_total)),1)])]),Z.value.others_note||Z.value.note?(p(),o(S,{key:0,title:`Notes`},{default:m(()=>[Z.value.others_note?(p(),o(b,{key:0,label:`Others Note`,class:`sm:col-span-3`},{default:m(()=>[a(`p`,be,_(Z.value.others_note),1)]),_:1})):s(``,!0),Z.value.note?(p(),o(b,{key:1,label:`General Notes`,class:`sm:col-span-3`},{default:m(()=>[a(`p`,xe,_(Z.value.note),1)]),_:1})):s(``,!0)]),_:1})):s(``,!0),t(x,{item:Z.value,formatDateTime:g(oe)},null,8,[`item`,`formatDateTime`])])):(p(),c(`div`,Se,[a(`div`,Ce,[t(g(ie),{class:`h-12 w-12 mx-auto text-gray-400`}),n[9]||=a(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white mb-2`},` Salary Not Found `,-1),n[10]||=a(`p`,{class:`text-gray-600 dark:text-gray-400 mb-4`},` The salary record you're looking for could not be found. `,-1),a(`button`,{onClick:$,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`},` Go Back `)])]))]))}}),J=ne(q,[[`__scopeId`,`data-v-5886c47b`]]);export{J as default};