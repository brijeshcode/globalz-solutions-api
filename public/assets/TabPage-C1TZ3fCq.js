import{$ as e,A as t,C as n,E as r,K as i,M as a,R as o,S as s,T as c,U as l,V as u,Y as d,Z as f,a2 as p,a7 as m,a8 as h,a9 as g,aA as _,aB as v,aD as y,aF as b,aG as x,aH as S,aI as C,aL as w,aM as T,aN as E,aO as D,aP as O,aQ as k,aR as A,aT as j,aa as M,ac as N,ah as P,al as F,am as I,an as L,aq as R,ar as z,at as B,au as V,av as H,aw as U,ax as W,ay as G,az as K,c as q,e as J,f as ee,h as Y,i as te,k as ne,n as re,q as X,t as ie,u as ae,w as oe}from"./index-Dh9TFBMl.js";import{b as Z}from"./useAuth-Bfo9ruvR.js";import"./GlobalConfig-BnwaQAhg.js";import"./tableUtils-BvWofAYZ.js";import{c as Q}from"./currenciesStore-mJ4NbzLa.js";import{b as se}from"./PageHeader-3dE9T8bA.js";import{b as ce}from"./ConfirmationModal-SDRgUSyY.js";import{b as $}from"./StatusBadge-CZKq6cuM.js";import{d as le,e as ue,g as de}from"./common-C2Gi_y_6.js";import{b as fe}from"./Modal-DgXsaqPs.js";import{b as pe,c as me}from"./usersStore-BRJRISlh.js";import{b as he}from"./warehousesStore-CAhvzKuI.js";import{b as ge}from"./companyStore-CYQpVNIi.js";import{b as _e}from"./taxCodesStore-BDe-EQ6Q.js";import{b as ve}from"./Tabs-DRcPYMQk.js";import{b as ye}from"./DetailsModal-CNObV93s.js";import{b as be}from"./countriesStore-DafQipxE.js";const xe={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Se={class:`max-w-4xl mx-auto`},Ce={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},we={class:`px-6 py-8`},Te={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Ee={class:`space-y-4`},De={key:0,class:`flex items-center space-x-4`},Oe={class:`flex-shrink-0`},ke=[`src`],Ae=[`disabled`],je=[`disabled`],Me=[`disabled`],Ne={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Pe={class:`space-y-4`},Fe={key:0,class:`flex items-center space-x-4`},Ie={class:`flex-shrink-0`},Le=[`src`],Re=[`disabled`],ze=[`disabled`],Be=[`disabled`],Ve={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},He={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Ue=[`disabled`],We={key:0,class:`flex items-center justify-center`},Ge={key:1};var Ke=v({__name:`IndexPage`,emits:[`success`],setup(e,{emit:t}){let n=t,r=ge(),i=O(!1),a=O({}),o=O(),s=O(),c=O(null),l=O(null),u=O(null),d=O(null),f=O({name:``,address:``,email:``,phone:``,website:``,tax_number:``,logo:{preview_url:null,thumbnail_url:null},stamp:{preview_url:null,thumbnail_url:null}}),p=B(()=>Object.keys(a.value).length>0),m=e=>a.value[e]||``,h=e=>{a.value[e]&&delete a.value[e]},g=()=>{a.value={}},v=e=>{a.value={},Object.keys(e).forEach(t=>{e[t]&&e[t].length>0&&(a.value[t]=e[t][0])})},x=()=>{g();let e=!0;return f.value.name.trim()?f.value.name.length>255&&(a.value.name=`Tax name must be 255 characters or less`,e=!1):(a.value.name=`Tax name is required`,e=!1),e},S=e=>{let t=e.target,n=t.files?.[0];if(n){if(!n.type.startsWith(`image/`)){a.value.logo=`Please select a valid image file`;return}if(n.size>5*1024*1024){a.value.logo=`File size must be less than 5MB`;return}c.value=n,h(`logo`);let e=new FileReader;e.onload=e=>{u.value=e.target?.result},e.readAsDataURL(n)}},C=e=>{let t=e.target,n=t.files?.[0];if(n){if(!n.type.startsWith(`image/`)){a.value.stamp=`Please select a valid image file`;return}if(n.size>5*1024*1024){a.value.stamp=`File size must be less than 5MB`;return}l.value=n,h(`stamp`);let e=new FileReader;e.onload=e=>{d.value=e.target?.result},e.readAsDataURL(n)}},w=()=>{c.value=null,u.value=null,f.value.logo={preview_url:null,thumbnail_url:null},o.value&&(o.value.value=``),h(`logo`)},T=()=>{l.value=null,d.value=null,f.value.stamp={preview_url:null,thumbnail_url:null},s.value&&(s.value.value=``),h(`stamp`)},E=async()=>{try{r.company.name||await r.fetchCompany(),f.value={...r.company}}catch(e){console.error(`Error loading company data:`,e)}},D=async()=>{if(x())try{if(i.value=!0,c.value||l.value){let e=new FormData,t={name:f.value.name,tax_number:f.value.tax_number,email:f.value.email,phone:f.value.phone,address:f.value.address,website:f.value.website,logo:null,stamp:null};Object.entries(t).forEach(([t,n])=>{n!=null&&n!==``&&t!==`logo`&&t!==`stamp`&&e.append(t,n.toString())}),c.value&&e.append(`logo`,c.value),l.value&&e.append(`stamp`,l.value),await r.saveCompanyWithFiles(e)}else{let e={name:f.value.name,tax_number:f.value.tax_number,email:f.value.email,phone:f.value.phone,address:f.value.address,website:f.value.website,logo:null,stamp:null};await r.saveCompany(e)}n(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&v(e.response.data.errors)}finally{i.value=!1}};return y(async()=>{await E()}),(e,t)=>(b(),W(`div`,xe,[V(`div`,Se,[t[17]||=V(`div`,{class:`mb-8`},[V(`div`,{class:`flex items-center space-x-4 mb-2`},[V(`div`,null,[V(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Company Details `),V(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add company details here `)])])],-1),V(`div`,Ce,[V(`div`,we,[V(`form`,{onSubmit:R(D,[`prevent`]),class:`space-y-8`},[V(`div`,null,[V(`div`,Te,[V(`div`,null,[_(q,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[0]||=()=>h(`name`),modelValue:f.value.name,"onUpdate:modelValue":t[1]||=e=>f.value.name=e,placeholder:`Enter Company name`,error:m(`name`),required:``,label:`Company Name`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`])]),V(`div`,null,[_(q,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[2]||=()=>h(`tax_number`),modelValue:f.value.tax_number,"onUpdate:modelValue":t[3]||=e=>f.value.tax_number=e,placeholder:`Enter Company tax number`,error:m(`tax_number`),required:``,label:`Company Tax Number`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`])]),V(`div`,null,[_(q,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[4]||=()=>h(`email`),modelValue:f.value.email,"onUpdate:modelValue":t[5]||=e=>f.value.email=e,placeholder:`Enter Company email`,error:m(`email`),label:`Company Email`,class:``},null,8,[`disabled`,`modelValue`,`error`])]),V(`div`,null,[_(q,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[6]||=()=>h(`phone`),modelValue:f.value.phone,"onUpdate:modelValue":t[7]||=e=>f.value.phone=e,placeholder:`Enter Company phone`,error:m(`phone`),label:`Company Phone`,class:``},null,8,[`disabled`,`modelValue`,`error`])]),V(`div`,null,[_(q,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[8]||=()=>h(`address`),modelValue:f.value.address,"onUpdate:modelValue":t[9]||=e=>f.value.address=e,placeholder:`Enter Company address`,error:m(`address`),label:`Company address`,class:``},null,8,[`disabled`,`modelValue`,`error`])]),V(`div`,null,[_(q,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[10]||=()=>h(`website`),modelValue:f.value.website,"onUpdate:modelValue":t[11]||=e=>f.value.website=e,placeholder:`Enter Company website`,error:m(`website`),label:`Company Website`,class:``},null,8,[`disabled`,`modelValue`,`error`])]),V(`div`,null,[t[14]||=V(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Company Logo `,-1),V(`div`,Ee,[f.value.logo||u.value?(b(),W(`div`,De,[V(`div`,Oe,[V(`img`,{src:u.value||f.value.logo?.thumbnail_url,alt:`Company Logo`,class:`h-16 w-16 object-cover rounded-lg border border-gray-300 dark:border-gray-600`},null,8,ke)]),V(`button`,{type:`button`,onClick:w,disabled:i.value,class:`text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 disabled:opacity-50`},` Remove `,8,Ae)])):U(``,!0),V(`div`,null,[V(`input`,{ref_key:`logoInput`,ref:o,type:`file`,accept:`image/*`,onChange:S,class:`hidden`,disabled:i.value},null,40,je),V(`button`,{type:`button`,onClick:t[12]||=e=>o.value?.click(),disabled:i.value,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed`},[_(k(Y),{class:`h-4 w-4 mr-2`}),K(` `+j(f.value.logo||u.value?`Change Logo`:`Upload Logo`),1)],8,Me)])]),m(`logo`)?(b(),W(`p`,Ne,j(m(`logo`)),1)):U(``,!0)]),V(`div`,null,[t[15]||=V(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Company Stamp `,-1),V(`div`,Pe,[f.value.stamp||d.value?(b(),W(`div`,Fe,[V(`div`,Ie,[V(`img`,{src:d.value||f.value.stamp?.thumbnail_url,alt:`Company Stamp`,class:`h-16 w-16 object-cover rounded-lg border border-gray-300 dark:border-gray-600`},null,8,Le)]),V(`button`,{type:`button`,onClick:T,disabled:i.value,class:`text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 disabled:opacity-50`},` Remove `,8,Re)])):U(``,!0),V(`div`,null,[V(`input`,{ref_key:`stampInput`,ref:s,type:`file`,accept:`image/*`,onChange:C,class:`hidden`,disabled:i.value},null,40,ze),V(`button`,{type:`button`,onClick:t[13]||=e=>s.value?.click(),disabled:i.value,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed`},[_(k(Y),{class:`h-4 w-4 mr-2`}),K(` `+j(f.value.stamp||d.value?`Change Stamp`:`Upload Stamp`),1)],8,Be)])]),m(`stamp`)?(b(),W(`p`,Ve,j(m(`stamp`)),1)):U(``,!0)])])]),V(`div`,He,[V(`button`,{type:`submit`,disabled:i.value||p.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[i.value?(b(),W(`div`,We,t[16]||=[V(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),K(` Saving... `,-1)])):(b(),W(`span`,Ge,`Save`))],8,Ue)])],32)])])])]))}}),qe=Ke,Je=v({__name:`SimpleButton`,props:{variant:{default:`primary`},size:{default:`md`},type:{default:`button`},onClick:{}},emits:[`click`],setup(e,{emit:t}){let n=e,r=t,i=B(()=>{let e=`font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-900`,t=``,r=``;switch(n.variant){case`primary`:t=`bg-indigo-600 hover:bg-indigo-700 text-white dark:bg-indigo-700 dark:hover:bg-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 shadow-sm hover:scale-105 focus:outline-none`;break;case`secondary`:t=`bg-gray-200 hover:bg-gray-300 text-gray-800 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-200 focus:ring-gray-400 dark:focus:ring-gray-500 shadow-sm hover:scale-105 focus:outline-none`;break;case`success`:t=`bg-green-200 hover:bg-green-300 text-green-800 dark:bg-green-700 dark:hover:bg-green-600 dark:text-green-200 focus:ring-green-400 dark:focus:ring-green-500 shadow-sm hover:scale-105 focus:outline-none`;break;case`info`:t=`bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-md shadow-md transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75`;break;case`outline`:t=`bg-transparent border border-indigo-500 text-indigo-600 hover:bg-indigo-50 dark:border-indigo-600 dark:text-indigo-500 dark:hover:bg-gray-800 focus:ring-indigo-500 dark:focus:ring-indigo-600`;break;case`ghost`:t=`bg-transparent text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 focus:ring-gray-400 dark:focus:ring-gray-500`;break;case`plain`:t=`text-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`;break;default:t=`bg-indigo-600 hover:bg-indigo-700 text-white dark:bg-indigo-700 dark:hover:bg-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 shadow-sm`}switch(n.size){case`sm`:r=`px-3 py-1.5 text-sm`;break;case`lg`:r=`px-6 py-3 text-lg`;break;case`md`:default:r=`px-4 py-2 text-sm`;break}return[e,t,r].join(` `)}),a=()=>{n.onClick?n.onClick():r(`click`)};return(e,t)=>(b(),W(`button`,{class:A(i.value),onClick:a},[S(e.$slots,`default`,{},void 0,!0)],2))}}),Ye=p(Je,[[`__scopeId`,`data-v-39ca4655`]]);const Xe={class:`space-y-6`},Ze={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},Qe={class:`grid grid-cols-1 md:grid-cols-5 gap-4`},$e={class:`md:col-span-2`},et={class:`relative`},tt={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},nt={key:0,class:`p-8 text-center`},rt={key:1,class:`p-8 text-center`},it={class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},at={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},ot={key:0,class:`mt-6`},st={key:2,class:`overflow-x-auto`},ct={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},lt={class:`bg-gray-50 dark:bg-gray-700`},ut={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},dt={class:`flex flex-col`},ft={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},pt={class:`flex flex-col`},mt={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},ht={class:`flex flex-col`},gt={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},_t={class:`flex flex-col`},vt={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},yt={class:`px-6 py-4 whitespace-nowrap`},bt={class:`flex items-center`},xt={class:`flex-shrink-0 h-10 w-10`},St={class:`h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center`},Ct={class:`ml-4`},wt={class:`text-sm font-medium text-gray-900 dark:text-white`},Tt={class:`text-sm text-gray-500 dark:text-gray-400`},Et={key:0,class:`px-2 bg-green-200 rounded-full text-green-800`},Dt={class:`px-6 py-4`},Ot=[`title`],kt={key:0,class:`text-gray-500`},At={class:`px-6 py-4 whitespace-nowrap`},jt={class:`text-sm text-gray-900 dark:text-white`},Mt={class:`text-sm text-gray-500 dark:text-gray-400`},Nt={class:`px-6 py-4 whitespace-nowrap`},Pt=[`innerHTML`],Ft={class:`px-6 py-4 whitespace-nowrap`},It={class:`px-6 py-4 whitespace-nowrap`},Lt={class:`text-sm text-gray-900 dark:text-white`},Rt={class:`text-sm text-gray-600 dark:text-gray-400`},zt={class:`text-xs text-gray-500 dark:text-gray-500`},Bt={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},Vt={class:`flex items-center justify-end space-x-2`},Ht=[`onClick`],Ut=[`onClick`],Wt=[`onClick`],Gt=[`onClick`],Kt=[`onClick`],qt={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},Jt={class:`flex items-center justify-between`},Yt={class:`flex-1 flex justify-between sm:hidden`},Xt=[`disabled`],Zt=[`disabled`],Qt={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},$t={class:`text-sm text-gray-700 dark:text-gray-300`},en={class:`font-medium`},tn={class:`font-medium`},nn={class:`font-medium`},rn={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},an=[`disabled`],on=[`disabled`],sn={class:`space-y-4`},cn={class:`max-h-96 overflow-y-auto`},ln={class:`flex justify-end space-x-3 pt-4`},un=[`disabled`];var dn=v({__name:`IndexPage`,emits:[`create`,`edit`],setup(e,{emit:n}){P();let r=N(),a=he(),o=n,d=O(!1),p=O(!1),m=O(null),h=O(null),g=O(!1),v=O(null),S=O(!1),M=O(!1),F=O(!1),R=O(null),G=D({search:``,is_active:void 0,city:``,per_page:15,sort_by:``,sort_direction:`asc`,page:1}),q=O({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}),ee=B(()=>g.value?a.trashedWarehouses:a.warehouses),Y=B(()=>a.pagination),te=B(()=>a.loading),ie=B(()=>[{key:`name`,label:`Name`,type:`text`},{key:`is_active`,label:`Status`,type:`status`},{key:`full_address`,label:`Full Address`,type:`text`,colSpan:`md:col-span-2`},{key:`city`,label:`City`,type:`text`},{key:`state`,label:`State`,type:`text`},{key:`country`,label:`Country`,type:`text`},{key:`postal_code`,label:`Postal Code`,type:`text`},{key:`note`,label:`Note`,type:`text`,colSpan:`md:col-span-2`,fallback:`No note provided`},{key:`created_by.name`,label:`Created By`,type:`text`,subKey:`created_at`},{key:`updated_by.name`,label:`Last Updated By`,type:`text`,subKey:`updated_at`}]);B(()=>ee.value.length>0||g.value),w(()=>({...G}),e=>{let{page:t,...n}=e;a.updateFilters(n)},{deep:!0});let Z=async(e=1)=>{try{let t={...G,page:e};g.value?await a.fetchTrashedWarehouses(t):await a.fetchWarehouses(t)}catch{r.error(`Failed to load warehouses`,{title:`Error`})}},Q=async()=>{if(R.value)try{F.value=!0,await a.setDefaultWarehouse(R.value),await Z(),M.value=!1,R.value=null,r.success(`Default warehouse updated successfully`,{title:`Success`})}catch{r.error(`Failed to set default warehouse`,{title:`Error`})}finally{F.value=!1}},de=()=>{h.value&&clearTimeout(h.value),h.value=setTimeout(()=>{Z(1)},300)},pe=e=>{G.sort_by===e?G.sort_direction=G.sort_direction===`asc`?`desc`:`asc`:(G.sort_by=e,G.sort_direction=`asc`),Z(1)},me=e=>{e>=1&&Y.value&&e<=Y.value.last_page&&(G.page=e,Z(e))},ge=e=>{v.value=e,S.value=!0},_e=e=>{m.value=e,q.value={title:`Delete Warehouse`,message:`Are you sure you want to delete "${e.name}"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},p.value=!0},ve=e=>{m.value=e,q.value={title:`Restore Warehouse`,message:`Are you sure you want to restore "${e.name}"?`,buttonText:`Restore`,loadingText:`Restoring...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`restore`},p.value=!0},be=e=>{m.value=e,q.value={title:`Permanently Delete Warehouse`,message:`Are you sure you want to permanently delete "${e.name}"? This action cannot be undone.`,buttonText:`Delete Permanently`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`forceDelete`},p.value=!0},xe=async()=>{m.value&&(await a.deleteWarehouse(m.value.id),Se())},Se=()=>{p.value=!1,m.value=null,q.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},Ce=()=>{o(`create`)},we=e=>{o(`edit`,e)};return y(()=>{Z()}),(e,n)=>{let r=C(`Select`);return b(),W(`div`,Xe,[_(se,{title:`Warehouses`,description:`Manage warehouses for your inventory system`,"create-button-text":`Create New Warehouse`,onCreate:Ce},{actions:T(()=>[_(Ye,{onClick:n[0]||=e=>M.value=!0},{default:T(()=>n[18]||=[K(`Set Default`,-1)]),_:1,__:[18]}),_(Ye,{onClick:Ce},{default:T(()=>n[19]||=[K(`Create New Warehouse`,-1)]),_:1,__:[19]})]),_:1}),V(`div`,Ze,[V(`div`,Qe,[V(`div`,$e,[n[20]||=V(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Warehouses `,-1),V(`div`,et,[E(V(`input`,{id:`search`,"onUpdate:modelValue":n[1]||=e=>G.search=e,type:`text`,placeholder:`Search by name, city, or address...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:de},null,544),[[L,G.search]]),_(k(re),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),V(`div`,null,[n[22]||=V(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Status `,-1),E(V(`select`,{id:`status`,"onUpdate:modelValue":n[2]||=e=>G.is_active=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:Z},n[21]||=[V(`option`,{value:``},`All Status`,-1),V(`option`,{value:`true`},`Active`,-1),V(`option`,{value:`false`},`Inactive`,-1)],544),[[I,G.is_active]])]),V(`div`,null,[n[23]||=V(`label`,{for:`city`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` City `,-1),E(V(`input`,{id:`city`,"onUpdate:modelValue":n[3]||=e=>G.city=e,type:`text`,placeholder:`Filter by city`,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:de},null,544),[[L,G.city]])]),V(`div`,null,[n[25]||=V(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),E(V(`select`,{id:`per-page`,"onUpdate:modelValue":n[4]||=e=>G.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:Z},n[24]||=[V(`option`,{value:15},`15`,-1),V(`option`,{value:25},`25`,-1),V(`option`,{value:50},`50`,-1),V(`option`,{value:100},`100`,-1)],544),[[I,G.per_page]])])])]),V(`div`,tt,[te.value?(b(),W(`div`,nt,[_(k(t),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),n[26]||=V(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading warehouses...`,-1)])):ee.value.length===0?(b(),W(`div`,rt,[_(k(f),{class:`h-12 w-12 mx-auto text-gray-400`}),V(`h3`,it,j(g.value?`No trashed warehouses found`:`No warehouses found`),1),V(`p`,at,j(G.search?`Try adjusting your search criteria.`:`Get started by creating your first warehouse.`),1),!G.search&&!g.value?(b(),W(`div`,ot,[V(`button`,{onClick:Ce,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[_(k(ae),{class:`h-5 w-5 mr-2`}),n[27]||=K(` Add Your First Warehouse `,-1)])])):U(``,!0)])):(b(),W(`div`,st,[V(`table`,ct,[V(`thead`,lt,[V(`tr`,null,[V(`th`,ut,[V(`button`,{onClick:n[5]||=e=>pe(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[28]||=V(`span`,null,`Name`,-1),V(`div`,dt,[_(k(s),{class:A([`h-3 w-3`,G.sort_by===`name`&&G.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,G.sort_by===`name`&&G.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),n[32]||=V(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Address `,-1),V(`th`,ft,[V(`button`,{onClick:n[6]||=e=>pe(`city`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[29]||=V(`span`,null,`Location`,-1),V(`div`,pt,[_(k(s),{class:A([`h-3 w-3`,G.sort_by===`city`&&G.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,G.sort_by===`city`&&G.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),n[33]||=V(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Note `,-1),V(`th`,mt,[V(`button`,{onClick:n[7]||=e=>pe(`is_active`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[30]||=V(`span`,null,`Status`,-1),V(`div`,ht,[_(k(s),{class:A([`h-3 w-3`,G.sort_by===`is_active`&&G.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,G.sort_by===`is_active`&&G.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),V(`th`,gt,[V(`button`,{onClick:n[8]||=e=>pe(`created_by`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[31]||=V(`span`,null,`Created By`,-1),V(`div`,_t,[_(k(s),{class:A([`h-3 w-3`,G.sort_by===`created_by`&&G.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,G.sort_by===`created_by`&&G.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),n[34]||=V(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),V(`tbody`,vt,[(b(!0),W(z,null,x(ee.value,e=>(b(),W(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[V(`td`,yt,[V(`div`,bt,[V(`div`,xt,[V(`div`,St,[_(k(f),{class:`h-5 w-5 text-blue-600 dark:text-blue-400`})])]),V(`div`,Ct,[V(`div`,wt,j(e.name),1),V(`div`,Tt,[K(` ID: `+j(e.id)+` `,1),e.is_default?(b(),W(`span`,Et,`Default`)):U(``,!0)])])])]),V(`td`,Dt,[V(`div`,{class:`text-sm text-gray-900 dark:text-white max-w-xs truncate`,title:e.full_address},[K(j(e.address_line_1)+` `,1),e.address_line_2?(b(),W(`span`,kt,`, `+j(e.address_line_2),1)):U(``,!0)],8,Ot)]),V(`td`,At,[V(`div`,jt,j(e.city)+`, `+j(e.state),1),V(`div`,Mt,j(e.country)+` `+j(e.postal_code),1)]),V(`td`,Nt,[V(`div`,{class:`text-sm text-gray-500 dark:text-gray-400`,innerHTML:k(ue)(e.note)},null,8,Pt)]),V(`td`,Ft,[_($,{active:e.is_active},null,8,[`active`])]),V(`td`,It,[V(`div`,Lt,[V(`div`,Rt,j(e.created_by?.name||`-`),1),V(`div`,zt,j(k(le)(e.created_at)),1)])]),V(`td`,Bt,[V(`div`,Vt,[g.value?(b(),W(z,{key:1},[V(`button`,{onClick:t=>ve(e),class:`text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 transition-colors duration-200`,title:`Restore Warehouse`},[_(k(X),{class:`h-4 w-4`})],8,Gt),V(`button`,{onClick:t=>be(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Permanently Delete`},[_(k(J),{class:`h-4 w-4`})],8,Kt)],64)):(b(),W(z,{key:0},[V(`button`,{onClick:t=>ge(e),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[_(k(i),{class:`w-4 h-4`})],8,Ht),V(`button`,{onClick:t=>we(e),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit Warehouse`},[_(k(oe),{class:`h-4 w-4`})],8,Ut),V(`button`,{onClick:t=>_e(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete Warehouse`},[_(k(ne),{class:`h-4 w-4`})],8,Wt)],64))])])]))),128))])])])),Y.value&&Y.value.total>0?(b(),W(`div`,qt,[V(`div`,Jt,[V(`div`,Yt,[V(`button`,{onClick:n[9]||=e=>me(Y.value.current_page-1),disabled:Y.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,Xt),V(`button`,{onClick:n[10]||=e=>me(Y.value.current_page+1),disabled:Y.value.current_page>=Y.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,Zt)]),V(`div`,Qt,[V(`div`,null,[V(`p`,$t,[n[35]||=K(` Showing `,-1),V(`span`,en,j(Y.value.from),1),n[36]||=K(` to `,-1),V(`span`,tn,j(Y.value.to),1),n[37]||=K(` of `,-1),V(`span`,nn,j(Y.value.total),1),n[38]||=K(` results `,-1)])]),V(`div`,null,[V(`nav`,rn,[V(`button`,{onClick:n[11]||=e=>me(Y.value.current_page-1),disabled:Y.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[_(k(l),{class:`h-5 w-5`})],8,an),V(`button`,{onClick:n[12]||=e=>me(Y.value.current_page+1),disabled:Y.value.current_page>=Y.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[_(k(c),{class:`h-5 w-5`})],8,on)])])])])])):U(``,!0)]),_(ce,{show:p.value,"onUpdate:show":n[13]||=e=>p.value=e,type:`delete`,title:q.value.title,message:q.value.message,"confirm-text":q.value.buttonText,"loading-text":q.value.loadingText,loading:d.value,onConfirm:xe,onCancel:Se},null,8,[`show`,`title`,`message`,`confirm-text`,`loading-text`,`loading`]),_(ye,{show:S.value,"onUpdate:show":n[14]||=e=>S.value=e,item:v.value,title:`Warehouse Details`,"display-fields":ie.value,size:`lg`},null,8,[`show`,`item`,`display-fields`]),_(fe,{title:`Set default Warehouse`,modelValue:M.value,onClose:n[17]||=e=>M.value=!1,size:`2xl`,showCloseButton:!0,closeOnEscape:!1},{default:T(()=>[V(`div`,sn,[V(`div`,cn,[_(r,{label:`Warehouse`,modelValue:R.value,"onUpdate:modelValue":n[15]||=e=>R.value=e,options:ee.value.map(e=>({value:e.id,label:e.name,disabled:!e.is_active})),placeholder:`Select a warehouse to set as default`},null,8,[`modelValue`,`options`])]),V(`div`,ln,[V(`button`,{onClick:n[16]||=e=>M.value=!1,type:`button`,class:`px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`},` Cancel `),V(`button`,{onClick:Q,disabled:F.value||!R.value,type:`button`,class:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[F.value?(b(),H(k(t),{key:0,class:`h-4 w-4 mr-2 animate-spin`})):U(``,!0),K(` `+j(F.value?`Saving...`:`Save Default`),1)],8,un)])])]),_:1},8,[`modelValue`])])}}}),fn=dn;function pn(){let e=O({}),t=B(()=>Object.keys(e.value).length>0),n=t=>e.value[t]?.[0],r=n=>{let r={};return!n.name||n.name.trim().length===0?r.name=[`Warehouse name is required`]:n.name.trim().length>255&&(r.name=[`Warehouse name must not exceed 255 characters`]),n.note&&n.note.length>1e3&&(r.note=[`Note must not exceed 1000 characters`]),e.value=r,!t.value},i=n=>{let r={};return n.name!==void 0&&(!n.name||n.name.trim().length===0?r.name=[`Warehouse name is required`]:n.name.trim().length>255&&(r.name=[`Warehouse name must not exceed 255 characters`])),n.note!==void 0&&n.note&&n.note.length>1e3&&(r.note=[`Note must not exceed 1000 characters`]),n.address_line_1!==void 0&&(!n.address_line_1||n.address_line_1.trim().length===0||n.address_line_1.trim().length>255&&(r.address_line_1=[`Address line 1 must not exceed 255 characters`])),n.address_line_2!==void 0&&n.address_line_2&&n.address_line_2.length>255&&(r.address_line_2=[`Address line 2 must not exceed 255 characters`]),n.city!==void 0&&(!n.city||n.city.trim().length===0||n.city.trim().length>100&&(r.city=[`City must not exceed 100 characters`])),n.state!==void 0&&(!n.state||n.state.trim().length===0||n.state.trim().length>100&&(r.state=[`State must not exceed 100 characters`])),n.postal_code!==void 0&&(!n.postal_code||n.postal_code.trim().length===0||n.postal_code.trim().length>20&&(r.postal_code=[`Postal code must not exceed 20 characters`])),n.country!==void 0&&(!n.country||n.country.trim().length===0||n.country.trim().length>100&&(r.country=[`Country must not exceed 100 characters`])),e.value=r,!t.value},a=()=>{e.value={}},o=t=>{e.value[t]&&delete e.value[t]},s=t=>{e.value=t};return{errors:e,hasErrors:t,getFieldError:n,validateCreateRequest:r,validateUpdateRequest:i,clearErrors:a,clearFieldError:o,setServerErrors:s}}const mn={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},hn={class:`max-w-4xl mx-auto`},gn={class:`mb-8`},_n={class:`flex items-center space-x-4 mb-2`},vn={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},yn={class:`px-6 py-8`},bn={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},xn={key:0,class:`mt-1 text-xs text-gray-500`},Sn={class:`flex items-start pt-6`},Cn={class:`flex items-center h-5`},wn=[`disabled`],Tn={class:`space-y-6`},En={class:`grid grid-cols-1 md:grid-cols-3 gap-6`},Dn={class:`md:max-w-md`},On=[`disabled`],kn={class:`flex justify-between items-center mt-1`},An={key:0,class:`text-sm text-red-600 dark:text-red-400`},jn={class:`text-xs text-gray-500 ml-auto`},Mn={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Nn=[`disabled`],Pn=[`disabled`],Fn={key:0,class:`flex items-center justify-center`},In={key:1},Ln={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Rn={class:`flex`},zn={class:`flex-shrink-0`};var Bn=v({__name:`CreatePage`,emits:[`back`,`success`,`cancel`],setup(t,{emit:r}){let i=r,a=he(),{errors:o,hasErrors:s,getFieldError:c,validateCreateRequest:l,clearFieldError:u,setServerErrors:d,clearErrors:f}=pn(),p=O(!1),m=O({name:``,address_line_1:``,address_line_2:``,city:``,state:``,postal_code:``,country:``,note:``,is_active:!0}),h=B(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return c(`note`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):p.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),g=B(()=>m.value.name.trim().length>0&&m.value.name.length<=255&&(m.value.address_line_2?.length||0)<=255&&(m.value.note?.length||0)<=1e3),v=()=>{m.value={name:``,address_line_1:``,address_line_2:``,city:``,state:``,postal_code:``,country:``,note:``,is_active:!0},f()},x=async()=>{if(f(),l(m.value))try{p.value=!0,await a.createWarehouse(m.value),v(),i(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&d(e.response.data.errors)}finally{p.value=!1}},S=()=>{v(),i(`cancel`)},C=()=>{i(`back`)};return y(()=>{v()}),(t,r)=>(b(),W(`div`,mn,[V(`div`,hn,[V(`div`,gn,[V(`div`,_n,[V(`button`,{onClick:C,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[_(k(e),{class:`w-5 h-5`})]),r[17]||=V(`div`,null,[V(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create Warehouse `),V(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new warehouse location for inventory management `)],-1)])]),V(`div`,vn,[V(`div`,yn,[V(`form`,{onSubmit:R(x,[`prevent`]),class:`space-y-8`},[V(`div`,null,[r[19]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),V(`div`,bn,[V(`div`,null,[_(q,{type:`text`,maxlength:255,disabled:p.value,onBlur:r[0]||=()=>k(u)(`name`),modelValue:m.value.name,"onUpdate:modelValue":r[1]||=e=>m.value.name=e,placeholder:`Enter warehouse name`,error:k(c)(`name`),required:``,label:`Warehouse Name`},null,8,[`disabled`,`modelValue`,`error`]),m.value.name.length>0?(b(),W(`p`,xn,j(m.value.name.length)+`/255 characters `,1)):U(``,!0)]),V(`div`,Sn,[V(`div`,Cn,[E(V(`input`,{id:`is_active`,"onUpdate:modelValue":r[2]||=e=>m.value.is_active=e,type:`checkbox`,disabled:p.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,wn),[[F,m.value.is_active]])]),r[18]||=V(`div`,{class:`ml-3`},[V(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),V(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this warehouse will be available for inventory operations `)],-1)])])]),V(`div`,null,[r[20]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Address Information `,-1),V(`div`,Tn,[V(`div`,null,[_(q,{type:`text`,maxlength:255,disabled:p.value,onBlur:r[3]||=()=>k(u)(`address_line_1`),modelValue:m.value.address_line_1,"onUpdate:modelValue":r[4]||=e=>m.value.address_line_1=e,placeholder:`Enter street address`,error:k(c)(`address_line_1`),label:`Address Line 1`},null,8,[`disabled`,`modelValue`,`error`])]),V(`div`,null,[_(q,{type:`text`,maxlength:255,disabled:p.value,onBlur:r[5]||=()=>k(u)(`address_line_2`),modelValue:m.value.address_line_2,"onUpdate:modelValue":r[6]||=e=>m.value.address_line_2=e,placeholder:`Apartment, suite, unit, building, floor, etc. (optional)`,error:k(c)(`address_line_2`),label:`Address Line 2`},null,8,[`disabled`,`modelValue`,`error`])]),V(`div`,En,[V(`div`,null,[_(q,{type:`text`,maxlength:100,disabled:p.value,onBlur:r[7]||=()=>k(u)(`city`),modelValue:m.value.city,"onUpdate:modelValue":r[8]||=e=>m.value.city=e,placeholder:`Enter city`,error:k(c)(`city`),label:`City`},null,8,[`disabled`,`modelValue`,`error`])]),V(`div`,null,[_(q,{type:`text`,maxlength:100,disabled:p.value,onBlur:r[9]||=()=>k(u)(`state`),modelValue:m.value.state,"onUpdate:modelValue":r[10]||=e=>m.value.state=e,placeholder:`Enter state/province`,error:k(c)(`state`),label:`State/Province`},null,8,[`disabled`,`modelValue`,`error`])]),V(`div`,null,[_(q,{type:`text`,maxlength:20,disabled:p.value,onBlur:r[11]||=()=>k(u)(`postal_code`),modelValue:m.value.postal_code,"onUpdate:modelValue":r[12]||=e=>m.value.postal_code=e,placeholder:`Enter postal code`,error:k(c)(`postal_code`),label:`Postal Code`},null,8,[`disabled`,`modelValue`,`error`])])]),V(`div`,Dn,[_(q,{type:`text`,maxlength:100,disabled:p.value,onBlur:r[13]||=()=>k(u)(`country`),modelValue:m.value.country,"onUpdate:modelValue":r[14]||=e=>m.value.country=e,placeholder:`Enter country`,error:k(c)(`country`),label:`Country`},null,8,[`disabled`,`modelValue`,`error`])])])]),V(`div`,null,[r[22]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Additional Information `,-1),V(`div`,null,[r[21]||=V(`label`,{for:`note`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Note `,-1),E(V(`textarea`,{id:`note`,"onUpdate:modelValue":r[15]||=e=>m.value.note=e,rows:`4`,placeholder:`Enter additional notes about this warehouse (optional)`,disabled:p.value,class:A([h.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:r[16]||=()=>k(u)(`note`),maxlength:`1000`},null,42,On),[[L,m.value.note]]),V(`div`,kn,[k(c)(`note`)?(b(),W(`p`,An,j(k(c)(`note`)),1)):U(``,!0),V(`p`,jn,j(m.value.note?.length||0)+`/1000 characters `,1)])])]),V(`div`,Mn,[V(`button`,{type:`button`,onClick:S,disabled:p.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,Nn),V(`button`,{type:`submit`,disabled:p.value||k(s)||!g.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[p.value?(b(),W(`div`,Fn,r[23]||=[V(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),K(` Creating... `,-1)])):(b(),W(`span`,In,`Create Warehouse`))],8,Pn)])],32)])]),V(`div`,Ln,[V(`div`,Rn,[V(`div`,zn,[_(k(n),{class:`h-5 w-5 text-blue-400`})]),r[24]||=G(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> About Warehouses </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Warehouses are physical locations where your inventory is stored and managed. Each warehouse should have: </p><ul class="list-disc list-inside space-y-1"><li>A unique, descriptive name for easy identification</li><li>Complete address information for shipping and logistics</li><li>Active status to control availability for transactions</li><li>Optional notes for special handling instructions or details</li></ul></div></div>`,1)])])])]))}}),Vn=Bn;const Hn={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Un={class:`max-w-4xl mx-auto`},Wn={class:`mb-8`},Gn={class:`flex items-center space-x-4 mb-2`},Kn={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},qn={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Jn={class:`px-6 py-8`},Yn={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Xn={key:0,class:`mt-1 text-xs text-gray-500`},Zn={class:`flex items-start pt-6`},Qn={class:`flex items-center h-5`},$n=[`disabled`],er={class:`space-y-6`},tr={class:`grid grid-cols-1 md:grid-cols-3 gap-6`},nr={class:`md:max-w-md`},rr=[`disabled`],ir={class:`flex justify-between items-center mt-1`},ar={key:0,class:`text-sm text-red-600 dark:text-red-400`},or={class:`text-xs text-gray-500 ml-auto`},sr={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},cr=[`disabled`],lr=[`disabled`],ur={key:0,class:`flex items-center justify-center`},dr={key:1},fr={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},pr={class:`flex flex-col items-center`},mr={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},hr={class:`flex`},gr={class:`flex-shrink-0`};var _r=v({__name:`EditPage`,props:{id:{},warehouse:{}},emits:[`back`,`success`,`cancel`],setup(t,{emit:r}){let i=t,a=r,s=he(),{errors:c,hasErrors:l,getFieldError:u,validateUpdateRequest:d,clearFieldError:f,setServerErrors:p,clearErrors:m}=pn(),h=O(!1),g=O(!1),v=O({name:``,address_line_1:``,address_line_2:``,city:``,state:``,postal_code:``,country:``,note:``,is_active:!0}),x=O({name:``,address_line_1:``,address_line_2:``,city:``,state:``,postal_code:``,country:``,note:``,is_active:!0}),S=B(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return u(`note`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):h.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),C=B(()=>v.value.name.trim().length>0&&v.value.name.length<=255&&(v.value.address_line_2?.length||0)<=255&&(v.value.note?.length||0)<=1e3),T=async()=>{try{g.value=!0;let e=i.warehouse||await s.fetchWarehouse(i.id);e&&(v.value={name:e.name,address_line_1:e.address_line_1||``,address_line_2:e.address_line_2||``,city:e.city||``,state:e.state||``,postal_code:e.postal_code||``,country:e.country||``,note:e.note||``,is_active:e.is_active},x.value={name:e.name,address_line_1:e.address_line_1||``,address_line_2:e.address_line_2||``,city:e.city||``,state:e.state||``,postal_code:e.postal_code||``,country:e.country||``,note:e.note||``,is_active:e.is_active},m())}catch(e){console.error(`Error loading warehouse:`,e)}finally{g.value=!1}},D=async()=>{if(m(),d(v.value))try{h.value=!0;let e={name:v.value.name,address_line_1:v.value.address_line_1,address_line_2:v.value.address_line_2,city:v.value.city,state:v.value.state,postal_code:v.value.postal_code,country:v.value.country,note:v.value.note,is_active:v.value.is_active};await s.updateWarehouse(i.id,e),x.value={...v.value},a(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&p(e.response.data.errors)}finally{h.value=!1}},M=()=>{a(`cancel`)},N=()=>{a(`back`)};return y(()=>{T()}),w(()=>i.id,()=>{i.id&&T()}),(t,r)=>(b(),W(`div`,Hn,[V(`div`,Un,[V(`div`,Wn,[V(`div`,Gn,[V(`button`,{onClick:N,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[_(k(e),{class:`w-5 h-5`})]),r[17]||=V(`div`,null,[V(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Warehouse `),V(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update warehouse information and location details `)],-1)])]),g.value?(b(),W(`div`,Kn,r[18]||=[V(`div`,{class:`flex items-center justify-center`},[V(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),V(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading warehouse...`)],-1)])):v.value?(b(),W(`div`,qn,[V(`div`,Jn,[V(`form`,{onSubmit:R(D,[`prevent`]),class:`space-y-8`},[V(`div`,null,[r[21]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),V(`div`,Yn,[V(`div`,null,[r[19]||=V(`label`,{for:`name`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[K(` Warehouse Name `),V(`span`,{class:`text-red-500 ml-1`},`*`)],-1),_(q,{id:`name`,modelValue:v.value.name,"onUpdate:modelValue":r[0]||=e=>v.value.name=e,type:`text`,placeholder:`Enter warehouse name`,disabled:h.value,error:k(u)(`name`),maxlength:255,required:``,onBlur:r[1]||=()=>k(f)(`name`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),v.value.name.length>0?(b(),W(`p`,Xn,j(v.value.name.length)+`/255 characters `,1)):U(``,!0)]),V(`div`,Zn,[V(`div`,Qn,[E(V(`input`,{id:`is_active`,"onUpdate:modelValue":r[2]||=e=>v.value.is_active=e,type:`checkbox`,disabled:h.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,$n),[[F,v.value.is_active]])]),r[20]||=V(`div`,{class:`ml-3`},[V(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),V(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this warehouse will be available for inventory operations `)],-1)])])]),V(`div`,null,[r[22]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Address Information `,-1),V(`div`,er,[V(`div`,null,[_(q,{id:`address_line_1`,modelValue:v.value.address_line_1,"onUpdate:modelValue":r[3]||=e=>v.value.address_line_1=e,type:`text`,label:`Address Line 1`,placeholder:`Enter street address`,disabled:h.value,error:k(u)(`address_line_1`),maxlength:255,onBlur:r[4]||=()=>k(f)(`address_line_1`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),V(`div`,null,[_(q,{id:`address_line_2`,modelValue:v.value.address_line_2,"onUpdate:modelValue":r[5]||=e=>v.value.address_line_2=e,type:`text`,label:`Address Line 2`,placeholder:`Apartment, suite, unit, building, floor, etc. (optional)`,disabled:h.value,error:k(u)(`address_line_2`),maxlength:255,onBlur:r[6]||=()=>k(f)(`address_line_2`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),V(`div`,tr,[V(`div`,null,[_(q,{id:`city`,modelValue:v.value.city,"onUpdate:modelValue":r[7]||=e=>v.value.city=e,type:`text`,label:`City`,placeholder:`Enter city`,disabled:h.value,error:k(u)(`city`),maxlength:100,onBlur:r[8]||=()=>k(f)(`city`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),V(`div`,null,[_(q,{id:`state`,modelValue:v.value.state,"onUpdate:modelValue":r[9]||=e=>v.value.state=e,type:`text`,label:`State/Province`,placeholder:`Enter state/province`,disabled:h.value,error:k(u)(`state`),maxlength:100,onBlur:r[10]||=()=>k(f)(`state`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),V(`div`,null,[_(q,{id:`postal_code`,modelValue:v.value.postal_code,"onUpdate:modelValue":r[11]||=e=>v.value.postal_code=e,type:`text`,label:`Postal Code`,placeholder:`Enter postal code`,disabled:h.value,error:k(u)(`postal_code`),maxlength:20,onBlur:r[12]||=()=>k(f)(`postal_code`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])]),V(`div`,nr,[_(q,{id:`country`,modelValue:v.value.country,"onUpdate:modelValue":r[13]||=e=>v.value.country=e,type:`text`,label:`Country`,placeholder:`Enter country`,disabled:h.value,error:k(u)(`country`),maxlength:100,onBlur:r[14]||=()=>k(f)(`country`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])])]),V(`div`,null,[r[24]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Additional Information `,-1),V(`div`,null,[r[23]||=V(`label`,{for:`note`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Note `,-1),E(V(`textarea`,{id:`note`,"onUpdate:modelValue":r[15]||=e=>v.value.note=e,rows:`4`,placeholder:`Enter additional notes about this warehouse (optional)`,disabled:h.value,class:A([S.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:r[16]||=()=>k(f)(`note`),maxlength:`1000`},null,42,rr),[[L,v.value.note]]),V(`div`,ir,[k(u)(`note`)?(b(),W(`p`,ar,j(k(u)(`note`)),1)):U(``,!0),V(`p`,or,j(v.value.note?.length||0)+`/1000 characters `,1)])])]),V(`div`,sr,[V(`button`,{type:`button`,onClick:M,disabled:h.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,cr),V(`button`,{type:`submit`,disabled:h.value||k(l)||!C.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[h.value?(b(),W(`div`,ur,r[25]||=[V(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),K(` Updating... `,-1)])):(b(),W(`span`,dr,`Update Warehouse`))],8,lr)])],32)])])):(b(),W(`div`,fr,[V(`div`,pr,[_(k(o),{class:`w-12 h-12 text-red-400 mb-4`}),r[26]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Warehouse Not Found `,-1),r[27]||=V(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The warehouse you're trying to edit could not be found. `,-1),V(`button`,{onClick:N,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` ← Back to Warehouses `)])])),v.value?(b(),W(`div`,mr,[V(`div`,hr,[V(`div`,gr,[_(k(n),{class:`h-5 w-5 text-blue-400`})]),r[28]||=G(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Warehouse Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update the warehouse details carefully as this information is used for: </p><ul class="list-disc list-inside space-y-1"><li>Shipping labels and delivery addresses</li><li>Inventory location tracking</li><li>Logistics and distribution planning</li><li>System availability for transactions</li></ul></div></div>`,1)])])):U(``,!0)])]))}}),vr=_r;const yr={class:`space-y-6`},br={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},xr={class:`grid grid-cols-1 md:grid-cols-4 gap-4`},Sr={class:`md:col-span-2`},Cr={class:`relative`},wr={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},Tr={key:0,class:`p-8 text-center`},Er={key:1,class:`p-8 text-center`},Dr={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},Or={key:0,class:`mt-6`},kr={key:2,class:`overflow-x-auto`},Ar={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},jr={class:`bg-gray-50 dark:bg-gray-700`},Mr={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Nr={class:`flex flex-col`},Pr={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Fr={class:`flex flex-col`},Ir={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Lr={class:`flex flex-col`},Rr={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},zr={class:`px-6 py-4 whitespace-nowrap`},Br={class:`flex items-center`},Vr={class:`flex-shrink-0 h-10 w-10`},Hr={class:`h-10 w-10 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center`},Ur={class:`ml-4`},Wr={class:`text-sm font-medium text-gray-900 dark:text-white`},Gr={class:`text-sm text-gray-500 dark:text-gray-400`},Kr={class:`px-6 py-4 whitespace-nowrap`},qr={class:`text-sm font-mono font-semibold text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded`},Jr={class:`px-6 py-4 whitespace-nowrap`},Yr={class:`text-sm text-gray-900 dark:text-white`},Xr={class:`font-medium`},Zr={class:`text-gray-500 dark:text-gray-400 ml-2`},Qr={class:`text-xs text-gray-500 dark:text-gray-400`},$r={class:`px-6 py-4 whitespace-nowrap`},ei={class:`text-sm text-gray-900 dark:text-white`},ti={class:`text-xs text-gray-500 dark:text-gray-400`},ni={class:`px-6 py-4 whitespace-nowrap`},ri={class:`text-sm text-gray-900 dark:text-white`},ii={class:`text-sm text-gray-600 dark:text-gray-400`},ai={class:`text-xs text-gray-500 dark:text-gray-500`},oi={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},si={class:`flex items-center justify-end space-x-2`},ci=[`onClick`],li=[`onClick`],ui=[`onClick`],di={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},fi={class:`flex items-center justify-between`},pi={class:`flex-1 flex justify-between sm:hidden`},mi=[`disabled`],hi=[`disabled`],gi={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},_i={class:`text-sm text-gray-700 dark:text-gray-300`},vi={class:`font-medium`},yi={class:`font-medium`},bi={class:`font-medium`},xi={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},Si=[`disabled`],Ci=[`disabled`],wi={class:`space-y-4`},Ti={class:`max-h-96 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg`},Ei={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},Di={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},Oi={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white`},ki={class:`px-6 py-4 whitespace-nowrap`},Ai={class:`flex items-center`},ji={class:`flex-shrink-0 h-8 w-8`},Mi={class:`h-8 w-8 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center`},Ni={class:`text-xs font-semibold text-green-600 dark:text-green-400`},Pi={class:`ml-3`},Fi={class:`text-sm font-medium text-gray-900 dark:text-white`},Ii={class:`text-sm text-gray-500 dark:text-gray-400`},Li={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400`},Ri={class:`px-6 py-4 whitespace-nowrap`},zi=[`onUpdate:modelValue`,`placeholder`,`onInput`],Bi={class:`flex justify-end space-x-3 pt-4`},Vi=[`disabled`];var Hi=v({__name:`IndexPage`,emits:[`create`,`edit`],setup(e,{emit:n}){P();let r=N(),o=Q(),d=n,f=O(!1),p=O(!1),m=O({}),h=O(!1),g=O(!1),v=O(null),S=O(null),C=O(null),M=O(!1),F=D({search:``,symbol_position:``,per_page:15,sort_by:``,sort_direction:`asc`,page:1}),R=O({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}),G=B(()=>o.currencies),q=B(()=>o.pagination),J=B(()=>o.loading),ee=B(()=>G.value.filter(e=>e.code!==`USD`&&e.id!==1)),Y=B(()=>Object.values(m.value).some(e=>e>0)),te=B(()=>[{key:`name`,label:`Name`,type:`text`},{key:`code`,label:`Code`,type:`text`},{key:`symbol`,label:`Symbol`,type:`text`},{key:`symbol_position`,label:`Symbol Position`,type:`text`},{key:`decimal_places`,label:`Decimal Places`,type:`text`},{key:`decimal_separator`,label:`Decimal Separator`,type:`text`},{key:`thousand_separator`,label:`Thousand Separator`,type:`text`,fallback:`None`},{key:`created_by.name`,label:`Created By`,type:`text`,subKey:`created_at`},{key:`updated_by.name`,label:`Last Updated By`,type:`text`,subKey:`updated_at`}]);w(()=>({...F}),e=>{let{page:t,...n}=e;o.updateFilters(n)},{deep:!0});let X=async(e=1)=>{try{let t={...F,page:e};await o.fetchCurrencies(t)}catch{r.error(`Failed to load currencies`,{title:`Error`})}},ie=()=>{S.value&&clearTimeout(S.value),S.value=setTimeout(()=>{X(1)},300)},Z=e=>{F.sort_by===e?F.sort_direction=F.sort_direction===`asc`?`desc`:`asc`:(F.sort_by=e,F.sort_direction=`asc`),X(1)},$=e=>{e>=1&&q.value&&e<=q.value.last_page&&(F.page=e,X(e))},ue=e=>{C.value=e,M.value=!0},de=e=>{`.`.repeat(e.decimal_places);let t=e.decimal_places>0?e.decimal_separator+`56`.substring(0,e.decimal_places):``,n=`1`+(e.thousand_separator||``)+`234`,r=n+t;return e.symbol_position===`before`?`${e.symbol}${r}`:`${r}${e.symbol}`},pe=e=>{v.value=e,R.value={title:`Delete Currency`,message:`Are you sure you want to delete "${e.name} (${e.code})"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},g.value=!0},me=async()=>{v.value&&(await o.deleteCurrency(v.value.id),he())},he=()=>{g.value=!1,v.value=null,R.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},ge=()=>{d(`create`)},_e=e=>{d(`edit`,e)},ve=e=>{let t=G.value.find(t=>t.id===e);return t?.current_rate?parseFloat(t.current_rate).toFixed(4):null},be=()=>{let e={};ee.value.forEach(t=>{e[t.id]=t.current_rate?parseFloat(parseFloat(t.current_rate).toFixed(4)):0}),m.value=e},xe=(e,t)=>{let n=t.target,r=parseFloat(n.value);isNaN(r)||(m.value[e]=parseFloat(r.toFixed(4)))},Se=()=>{f.value=!0,be()},Ce=()=>{f.value=!1,m.value={}},we=async()=>{if(Y.value)try{p.value=!0;let e=Object.entries(m.value).filter(([e,t])=>t>0).map(([e,t])=>({currency_id:parseInt(e),rate:t}));await o.changeRates(e),await X(),Ce()}catch{r.error(`Failed to update currency rates`,{title:`Error`})}finally{p.value=!1}};return y(()=>{X()}),(e,n)=>(b(),W(`div`,yr,[_(se,{title:`Currencies`,description:`Manage currencies for your financial transactions`},{actions:T(()=>[_(Ye,{onClick:Se},{default:T(()=>n[12]||=[K(`Change Rate`,-1)]),_:1,__:[12]}),_(Ye,{onClick:ge},{default:T(()=>n[13]||=[K(`Create New Currency`,-1)]),_:1,__:[13]})]),_:1}),V(`div`,br,[V(`div`,xr,[V(`div`,Sr,[n[14]||=V(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Currencies `,-1),V(`div`,Cr,[E(V(`input`,{id:`search`,"onUpdate:modelValue":n[0]||=e=>F.search=e,type:`text`,placeholder:`Search by name, code, or symbol...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:ie},null,544),[[L,F.search]]),_(k(re),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),V(`div`,null,[n[16]||=V(`label`,{for:`symbol_position`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Symbol Position `,-1),E(V(`select`,{id:`symbol_position`,"onUpdate:modelValue":n[1]||=e=>F.symbol_position=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:X},n[15]||=[V(`option`,{value:``},`All Positions`,-1),V(`option`,{value:`before`},`Before`,-1),V(`option`,{value:`after`},`After`,-1)],544),[[I,F.symbol_position]])]),V(`div`,null,[n[18]||=V(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),E(V(`select`,{id:`per-page`,"onUpdate:modelValue":n[2]||=e=>F.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:X},n[17]||=[V(`option`,{value:15},`15`,-1),V(`option`,{value:25},`25`,-1),V(`option`,{value:50},`50`,-1),V(`option`,{value:100},`100`,-1)],544),[[I,F.per_page]])])])]),V(`div`,wr,[J.value?(b(),W(`div`,Tr,[_(k(t),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),n[19]||=V(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading currencies...`,-1)])):G.value.length===0?(b(),W(`div`,Er,[_(k(a),{class:`h-12 w-12 mx-auto text-gray-400`}),n[21]||=V(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},` No currencies found `,-1),V(`p`,Dr,j(F.search?`Try adjusting your search criteria.`:`Get started by creating your first currency.`),1),F.search?U(``,!0):(b(),W(`div`,Or,[V(`button`,{onClick:ge,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[_(k(ae),{class:`h-5 w-5 mr-2`}),n[20]||=K(` Add Your First Currency `,-1)])]))])):(b(),W(`div`,kr,[V(`table`,Ar,[V(`thead`,jr,[V(`tr`,null,[V(`th`,Mr,[V(`button`,{onClick:n[3]||=e=>Z(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[22]||=V(`span`,null,`Currency`,-1),V(`div`,Nr,[_(k(s),{class:A([`h-3 w-3`,F.sort_by===`name`&&F.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,F.sort_by===`name`&&F.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),V(`th`,Pr,[V(`button`,{onClick:n[4]||=e=>Z(`code`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[23]||=V(`span`,null,`Code`,-1),V(`div`,Fr,[_(k(s),{class:A([`h-3 w-3`,F.sort_by===`code`&&F.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,F.sort_by===`code`&&F.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),n[25]||=V(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Symbol & Position `,-1),n[26]||=V(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Formatting `,-1),V(`th`,Ir,[V(`button`,{onClick:n[5]||=e=>Z(`created_by`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[24]||=V(`span`,null,`Created By`,-1),V(`div`,Lr,[_(k(s),{class:A([`h-3 w-3`,F.sort_by===`created_by`&&F.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,F.sort_by===`created_by`&&F.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),n[27]||=V(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),V(`tbody`,Rr,[(b(!0),W(z,null,x(G.value,e=>(b(),W(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[V(`td`,zr,[V(`div`,Br,[V(`div`,Vr,[V(`div`,Hr,[_(k(a),{class:`h-5 w-5 text-green-600 dark:text-green-400`})])]),V(`div`,Ur,[V(`div`,Wr,j(e.name),1),V(`div`,Gr,` ID: `+j(e.id),1)])])]),V(`td`,Kr,[V(`div`,qr,j(e.code),1)]),V(`td`,Jr,[V(`div`,Yr,[V(`span`,Xr,j(e.symbol),1),V(`span`,Zr,` (`+j(e.symbol_position)+`) `,1)]),V(`div`,Qr,` Example: `+j(de(e)),1)]),V(`td`,$r,[V(`div`,ei,j(e.decimal_places)+` decimals `,1),V(`div`,ti,` Dec: "`+j(e.decimal_separator)+`" | Thou: "`+j(e.thousand_separator||`none`)+`" `,1)]),V(`td`,ni,[V(`div`,ri,[V(`div`,ii,j(e.created_by?.name||`-`),1),V(`div`,ai,j(k(le)(e.created_at)),1)])]),V(`td`,oi,[V(`div`,si,[V(`button`,{onClick:t=>ue(e),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[_(k(i),{class:`w-4 h-4`})],8,ci),V(`button`,{onClick:t=>_e(e),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit Currency`},[_(k(oe),{class:`h-4 w-4`})],8,li),V(`button`,{onClick:t=>pe(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete Currency`},[_(k(ne),{class:`h-4 w-4`})],8,ui)])])]))),128))])])])),q.value&&q.value.total>0?(b(),W(`div`,di,[V(`div`,fi,[V(`div`,pi,[V(`button`,{onClick:n[6]||=e=>$(q.value.current_page-1),disabled:q.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,mi),V(`button`,{onClick:n[7]||=e=>$(q.value.current_page+1),disabled:q.value.current_page>=q.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,hi)]),V(`div`,gi,[V(`div`,null,[V(`p`,_i,[n[28]||=K(` Showing `,-1),V(`span`,vi,j(q.value.from),1),n[29]||=K(` to `,-1),V(`span`,yi,j(q.value.to),1),n[30]||=K(` of `,-1),V(`span`,bi,j(q.value.total),1),n[31]||=K(` results `,-1)])]),V(`div`,null,[V(`nav`,xi,[V(`button`,{onClick:n[8]||=e=>$(q.value.current_page-1),disabled:q.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[_(k(l),{class:`h-5 w-5`})],8,Si),V(`button`,{onClick:n[9]||=e=>$(q.value.current_page+1),disabled:q.value.current_page>=q.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[_(k(c),{class:`h-5 w-5`})],8,Ci)])])])])])):U(``,!0)]),_(ce,{show:g.value,"onUpdate:show":n[10]||=e=>g.value=e,type:`delete`,title:R.value.title,message:R.value.message,"confirm-text":R.value.buttonText,"loading-text":R.value.loadingText,loading:h.value,onConfirm:me,onCancel:he},null,8,[`show`,`title`,`message`,`confirm-text`,`loading-text`,`loading`]),_(ye,{show:M.value,"onUpdate:show":n[11]||=e=>M.value=e,item:C.value,title:`Currency Details`,"display-fields":te.value,size:`lg`},null,8,[`show`,`item`,`display-fields`]),_(fe,{title:`Currency rate to USD`,modelValue:f.value,onClose:Ce,size:`2xl`,showCloseButton:!0,closeOnEscape:!1},{default:T(()=>[V(`div`,wi,[n[33]||=V(`div`,{class:`bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},[V(`div`,{class:`flex items-center`},[V(`div`,{class:`flex-shrink-0`},[V(`svg`,{class:`h-5 w-5 text-blue-400`,fill:`currentColor`,viewBox:`0 0 20 20`},[V(`path`,{"fill-rule":`evenodd`,d:`M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z`,"clip-rule":`evenodd`})])]),V(`div`,{class:`ml-3`},[V(`p`,{class:`text-sm text-blue-800 dark:text-blue-200`},[V(`strong`,null,`Note:`),K(` All rates are relative to USD. Enter the exchange rate for 1 USD to the respective currency. `)])])])],-1),V(`div`,Ti,[V(`table`,Ei,[n[32]||=V(`thead`,{class:`bg-gray-50 dark:bg-gray-700 sticky top-0 z-10`},[V(`tr`,null,[V(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` # `),V(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Currency `),V(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Current Rate `),V(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` New Rate (1 USD =) `)])],-1),V(`tbody`,Di,[(b(!0),W(z,null,x(ee.value,(e,t)=>(b(),W(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700`},[V(`td`,Oi,j(t+1),1),V(`td`,ki,[V(`div`,Ai,[V(`div`,ji,[V(`div`,Mi,[V(`span`,Ni,j(e.code.substring(0,2)),1)])]),V(`div`,Pi,[V(`div`,Fi,j(e.name),1),V(`div`,Ii,j(e.code),1)])])]),V(`td`,Li,j(ve(e.id)||`Not set`),1),V(`td`,Ri,[E(V(`input`,{"onUpdate:modelValue":t=>m.value[e.id]=t,type:`number`,step:`0.0001`,min:`0`,placeholder:`Enter rate for ${e.name}`,onInput:t=>xe(e.id,t),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm`},null,40,zi),[[L,m.value[e.id],void 0,{number:!0}]])])]))),128))])])]),V(`div`,Bi,[V(`button`,{onClick:Ce,type:`button`,class:`px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`},` Cancel `),V(`button`,{onClick:we,disabled:p.value||!Y.value,type:`button`,class:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[p.value?(b(),H(k(t),{key:0,class:`h-4 w-4 mr-2 animate-spin`})):U(``,!0),K(` `+j(p.value?`Updating...`:`Update Rates`),1)],8,Vi)])])]),_:1},8,[`modelValue`])]))}}),Ui=Hi;function Wi(){let e=O({}),t=B(()=>Object.keys(e.value).length>0),n=t=>e.value[t]?.[0],r=n=>{let r={};return!n.name||n.name.trim().length===0?r.name=[`Currency name is required`]:n.name.trim().length>255&&(r.name=[`Currency name must not exceed 255 characters`]),!n.code||n.code.trim().length===0?r.code=[`Currency code is required`]:n.code.trim().length===3?/^[A-Z]+$/.test(n.code.trim())||(r.code=[`Currency code must contain only uppercase letters`]):r.code=[`Currency code must be exactly 3 characters (e.g., USD, EUR)`],!n.symbol||n.symbol.trim().length===0?r.symbol=[`Currency symbol is required`]:n.symbol.trim().length>10&&(r.symbol=[`Currency symbol must not exceed 10 characters`]),!n.symbol_position||n.symbol_position.trim().length===0?r.symbol_position=[`Symbol position is required`]:[`before`,`after`].includes(n.symbol_position)||(r.symbol_position=[`Symbol position must be either "before" or "after"`]),n.decimal_places===void 0||n.decimal_places===null?r.decimal_places=[`Decimal places is required`]:n.decimal_places<0||n.decimal_places>4?r.decimal_places=[`Decimal places must be between 0 and 4`]:Number.isInteger(n.decimal_places)||(r.decimal_places=[`Decimal places must be a whole number`]),!n.decimal_separator||n.decimal_separator.trim().length===0?r.decimal_separator=[`Decimal separator is required`]:n.decimal_separator.trim().length>1?r.decimal_separator=[`Decimal separator must be a single character`]:[`.`,`,`].includes(n.decimal_separator)||(r.decimal_separator=[`Decimal separator must be either "." or ","`]),!n.thousand_separator||n.thousand_separator.trim().length===0?r.thousand_separator=[`Thousand separator is required`]:n.thousand_separator.trim().length>1?r.thousand_separator=[`Thousand separator must be a single character`]:[`,`,`.`,` `,``].includes(n.thousand_separator)||(r.thousand_separator=[`Thousand separator must be ",", ".", space, or empty`]),n.decimal_separator&&n.thousand_separator&&n.decimal_separator===n.thousand_separator&&n.thousand_separator!==``&&(r.decimal_separator=[`Decimal separator and thousand separator must be different`],r.thousand_separator=[`Decimal separator and thousand separator must be different`]),e.value=r,!t.value},i=n=>{let r={};return n.name!==void 0&&(!n.name||n.name.trim().length===0?r.name=[`Currency name is required`]:n.name.trim().length>255&&(r.name=[`Currency name must not exceed 255 characters`])),n.code!==void 0&&(!n.code||n.code.trim().length===0?r.code=[`Currency code is required`]:n.code.trim().length===3?/^[A-Z]+$/.test(n.code.trim())||(r.code=[`Currency code must contain only uppercase letters`]):r.code=[`Currency code must be exactly 3 characters (e.g., USD, EUR)`]),n.symbol!==void 0&&(!n.symbol||n.symbol.trim().length===0?r.symbol=[`Currency symbol is required`]:n.symbol.trim().length>10&&(r.symbol=[`Currency symbol must not exceed 10 characters`])),n.symbol_position!==void 0&&(!n.symbol_position||n.symbol_position.trim().length===0?r.symbol_position=[`Symbol position is required`]:[`before`,`after`].includes(n.symbol_position)||(r.symbol_position=[`Symbol position must be either "before" or "after"`])),n.decimal_places!==void 0&&(n.decimal_places===null?r.decimal_places=[`Decimal places is required`]:n.decimal_places<0||n.decimal_places>4?r.decimal_places=[`Decimal places must be between 0 and 4`]:Number.isInteger(n.decimal_places)||(r.decimal_places=[`Decimal places must be a whole number`])),n.decimal_separator!==void 0&&(!n.decimal_separator||n.decimal_separator.trim().length===0?r.decimal_separator=[`Decimal separator is required`]:n.decimal_separator.trim().length>1?r.decimal_separator=[`Decimal separator must be a single character`]:[`.`,`,`].includes(n.decimal_separator)||(r.decimal_separator=[`Decimal separator must be either "." or ","`])),n.thousand_separator!==void 0&&(!n.thousand_separator||n.thousand_separator.trim().length===0?r.thousand_separator=[`Thousand separator is required`]:n.thousand_separator.trim().length>1?r.thousand_separator=[`Thousand separator must be a single character`]:[`,`,`.`,` `,``].includes(n.thousand_separator)||(r.thousand_separator=[`Thousand separator must be ",", ".", space, or empty`])),n.decimal_separator!==void 0&&n.thousand_separator!==void 0&&n.decimal_separator&&n.thousand_separator&&n.decimal_separator===n.thousand_separator&&n.thousand_separator!==``&&(r.decimal_separator=[`Decimal separator and thousand separator must be different`],r.thousand_separator=[`Decimal separator and thousand separator must be different`]),e.value=r,!t.value},a=()=>{e.value={}},o=t=>{e.value[t]&&delete e.value[t]},s=t=>{e.value=t};return{errors:e,hasErrors:t,getFieldError:n,validateCreateRequest:r,validateUpdateRequest:i,clearErrors:a,clearFieldError:o,setServerErrors:s}}const Gi={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Ki={class:`max-w-4xl mx-auto`},qi={class:`mb-8`},Ji={class:`flex items-center space-x-4 mb-2`},Yi={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Xi={class:`px-6 py-8`},Zi={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Qi={key:0,class:`mt-1 text-xs text-gray-500`},$i={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},ea={key:0,class:`mt-1 text-xs text-gray-500`},ta=[`disabled`],na={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},ra={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},ia={class:`text-lg font-mono text-gray-900 dark:text-white`},aa={class:`grid grid-cols-1 md:grid-cols-3 gap-6`},oa=[`disabled`],sa={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},ca=[`disabled`],la={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},ua=[`disabled`],da={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},fa={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},pa={class:`space-y-1`},ma={class:`text-sm font-mono text-gray-900 dark:text-white`},ha={class:`text-sm font-mono text-gray-900 dark:text-white`},ga={class:`text-sm font-mono text-gray-900 dark:text-white`},_a={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},va=[`disabled`],ya=[`disabled`],ba={key:0,class:`flex items-center justify-center`},xa={key:1},Sa={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Ca={class:`flex`},wa={class:`flex-shrink-0`};var Ta=v({__name:`CreatePage`,emits:[`back`,`success`,`cancel`],setup(t,{emit:r}){let i=r,a=Q(),{errors:o,hasErrors:s,getFieldError:c,validateCreateRequest:l,clearFieldError:u,setServerErrors:d,clearErrors:f}=Wi(),p=O(!1),m=O({name:``,code:``,symbol:``,symbol_position:``,decimal_places:2,decimal_separator:`.`,thousand_separator:`,`}),h=B(()=>m.value.name.trim().length>0&&m.value.name.length<=255&&m.value.code.trim().length===3&&/^[A-Z]+$/.test(m.value.code.trim())&&m.value.symbol.trim().length>0&&m.value.symbol.length<=10&&[`before`,`after`].includes(m.value.symbol_position)&&typeof m.value.decimal_places==`number`&&m.value.decimal_places>=0&&m.value.decimal_places<=4&&[`.`,`,`].includes(m.value.decimal_separator)&&m.value.thousand_separator!==void 0),g=B(()=>m.value.symbol&&m.value.symbol_position&&typeof m.value.decimal_places==`number`&&m.value.decimal_separator&&m.value.thousand_separator!==void 0),v=()=>{m.value.code=m.value.code.toUpperCase()},x=()=>{if(!m.value.symbol||!m.value.symbol_position)return``;let e=`123.45`;return m.value.symbol_position===`before`?`${m.value.symbol}${e}`:`${e}${m.value.symbol}`},S=e=>{if(!g.value)return``;let t=e.toFixed(m.value.decimal_places).split(`.`),n=t[0],r=t[1];m.value.thousand_separator&&n.length>3&&(n=n.replace(/\B(?=(\d{3})+(?!\d))/g,m.value.thousand_separator));let i=n;return m.value.decimal_places>0&&r&&(i+=m.value.decimal_separator+r),m.value.symbol_position===`before`?`${m.value.symbol}${i}`:`${i}${m.value.symbol}`},C=()=>{m.value={name:``,code:``,symbol:``,symbol_position:``,decimal_places:2,decimal_separator:`.`,thousand_separator:`,`},f()},w=async()=>{if(f(),l(m.value))try{p.value=!0,await a.createCurrency(m.value),C(),i(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&d(e.response.data.errors)}finally{p.value=!1}},T=()=>{C(),i(`cancel`)},D=()=>{i(`back`)};return y(()=>{C()}),(t,r)=>(b(),W(`div`,Gi,[V(`div`,Ki,[V(`div`,qi,[V(`div`,Ji,[V(`button`,{onClick:D,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[_(k(e),{class:`w-5 h-5`})]),r[14]||=V(`div`,null,[V(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create Currency `),V(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new currency for your financial transactions `)],-1)])]),V(`div`,Yi,[V(`div`,Xi,[V(`form`,{onSubmit:R(w,[`prevent`]),class:`space-y-8`},[V(`div`,null,[r[16]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),V(`div`,Zi,[V(`div`,null,[_(q,{type:`text`,maxlength:255,disabled:p.value,onBlur:r[0]||=()=>k(u)(`name`),modelValue:m.value.name,"onUpdate:modelValue":r[1]||=e=>m.value.name=e,placeholder:`Enter currency name (e.g., US Dollar)`,error:k(c)(`name`),required:``,label:`Currency Name`},null,8,[`disabled`,`modelValue`,`error`]),m.value.name.length>0?(b(),W(`p`,Qi,j(m.value.name.length)+`/255 characters `,1)):U(``,!0)]),V(`div`,null,[_(q,{type:`text`,maxlength:3,disabled:p.value,onBlur:r[2]||=()=>k(u)(`code`),onInput:v,modelValue:m.value.code,"onUpdate:modelValue":r[3]||=e=>m.value.code=e,placeholder:`Enter currency code (e.g., USD)`,error:k(c)(`code`),required:``,label:`Currency Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),r[15]||=V(`p`,{class:`mt-1 text-xs text-gray-500`},` 3-letter ISO code (automatically converted to uppercase) `,-1)])])]),V(`div`,null,[r[20]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Symbol Configuration `,-1),V(`div`,$i,[V(`div`,null,[_(q,{type:`text`,maxlength:10,disabled:p.value,onBlur:r[4]||=()=>k(u)(`symbol`),modelValue:m.value.symbol,"onUpdate:modelValue":r[5]||=e=>m.value.symbol=e,placeholder:`Enter currency symbol (e.g., $)`,error:k(c)(`symbol`),required:``,label:`Currency Symbol`},null,8,[`disabled`,`modelValue`,`error`]),m.value.symbol.length>0?(b(),W(`p`,ea,j(m.value.symbol.length)+`/10 characters `,1)):U(``,!0)]),V(`div`,null,[r[18]||=V(`label`,{for:`symbol_position`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[K(` Symbol Position `),V(`span`,{class:`text-red-500 ml-1`},`*`)],-1),E(V(`select`,{id:`symbol_position`,"onUpdate:modelValue":r[6]||=e=>m.value.symbol_position=e,disabled:p.value,onBlur:r[7]||=()=>k(u)(`symbol_position`),class:A([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,k(c)(`symbol_position`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},r[17]||=[V(`option`,{value:``},`Select position`,-1),V(`option`,{value:`before`},`Before amount ($123.45)`,-1),V(`option`,{value:`after`},`After amount (123.45$)`,-1)],42,ta),[[I,m.value.symbol_position]]),k(c)(`symbol_position`)?(b(),W(`p`,na,j(k(c)(`symbol_position`)),1)):U(``,!0)])]),m.value.symbol&&m.value.symbol_position?(b(),W(`div`,ra,[r[19]||=V(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Preview:`,-1),V(`p`,ia,j(x()),1)])):U(``,!0)]),V(`div`,null,[r[28]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Number Formatting `,-1),V(`div`,aa,[V(`div`,null,[r[22]||=V(`label`,{for:`decimal_places`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[K(` Decimal Places `),V(`span`,{class:`text-red-500 ml-1`},`*`)],-1),E(V(`select`,{id:`decimal_places`,"onUpdate:modelValue":r[8]||=e=>m.value.decimal_places=e,disabled:p.value,onBlur:r[9]||=()=>k(u)(`decimal_places`),class:A([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,k(c)(`decimal_places`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},r[21]||=[V(`option`,{value:``},`Select`,-1),V(`option`,{value:0},`0 (no decimals)`,-1),V(`option`,{value:1},`1 decimal`,-1),V(`option`,{value:2},`2 decimals`,-1),V(`option`,{value:3},`3 decimals`,-1),V(`option`,{value:4},`4 decimals`,-1)],42,oa),[[I,m.value.decimal_places,void 0,{number:!0}]]),k(c)(`decimal_places`)?(b(),W(`p`,sa,j(k(c)(`decimal_places`)),1)):U(``,!0)]),V(`div`,null,[r[24]||=V(`label`,{for:`decimal_separator`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[K(` Decimal Separator `),V(`span`,{class:`text-red-500 ml-1`},`*`)],-1),E(V(`select`,{id:`decimal_separator`,"onUpdate:modelValue":r[10]||=e=>m.value.decimal_separator=e,disabled:p.value,onBlur:r[11]||=()=>k(u)(`decimal_separator`),class:A([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,k(c)(`decimal_separator`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},r[23]||=[V(`option`,{value:``},`Select`,-1),V(`option`,{value:`.`},`Period (.)`,-1),V(`option`,{value:`,`},`Comma (,)`,-1)],42,ca),[[I,m.value.decimal_separator]]),k(c)(`decimal_separator`)?(b(),W(`p`,la,j(k(c)(`decimal_separator`)),1)):U(``,!0)]),V(`div`,null,[r[26]||=V(`label`,{for:`thousand_separator`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[K(` Thousand Separator `),V(`span`,{class:`text-red-500 ml-1`},`*`)],-1),E(V(`select`,{id:`thousand_separator`,"onUpdate:modelValue":r[12]||=e=>m.value.thousand_separator=e,disabled:p.value,onBlur:r[13]||=()=>k(u)(`thousand_separator`),class:A([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,k(c)(`thousand_separator`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},r[25]||=[G(`<option value="">Select</option><option value=",">Comma (,)</option><option value=".">Period (.)</option><option value=" ">Space ( )</option><option value="">None</option>`,5)],42,ua),[[I,m.value.thousand_separator]]),k(c)(`thousand_separator`)?(b(),W(`p`,da,j(k(c)(`thousand_separator`)),1)):U(``,!0)])]),g.value?(b(),W(`div`,fa,[r[27]||=V(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Formatting Preview:`,-1),V(`div`,pa,[V(`p`,ma,` Small: `+j(S(12.3)),1),V(`p`,ha,` Medium: `+j(S(1234.56)),1),V(`p`,ga,` Large: `+j(S(1234567.89)),1)])])):U(``,!0)]),V(`div`,_a,[V(`button`,{type:`button`,onClick:T,disabled:p.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,va),V(`button`,{type:`submit`,disabled:p.value||k(s)||!h.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[p.value?(b(),W(`div`,ba,r[29]||=[V(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),K(` Creating... `,-1)])):(b(),W(`span`,xa,`Create Currency`))],8,ya)])],32)])]),V(`div`,Sa,[V(`div`,Ca,[V(`div`,wa,[_(k(n),{class:`h-5 w-5 text-blue-400`})]),r[30]||=G(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> About Currencies </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Currencies define how monetary values are displayed and formatted in your system: </p><ul class="list-disc list-inside space-y-1"><li><strong>Name:</strong> Full currency name (e.g., &quot;US Dollar&quot;)</li><li><strong>Code:</strong> 3-letter ISO code (e.g., &quot;USD&quot;, &quot;EUR&quot;)</li><li><strong>Symbol:</strong> Currency symbol (e.g., &quot;$&quot;, &quot;€&quot;, &quot;£&quot;)</li><li><strong>Position:</strong> Where the symbol appears relative to the amount</li><li><strong>Formatting:</strong> How numbers are displayed with separators and decimals</li></ul></div></div>`,1)])])])]))}}),Ea=Ta;const Da={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Oa={class:`max-w-4xl mx-auto`},ka={class:`mb-8`},Aa={class:`flex items-center space-x-4 mb-2`},ja={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Ma={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Na={class:`px-6 py-8`},Pa={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Fa={key:0,class:`mt-1 text-xs text-gray-500`},Ia={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},La={key:0,class:`mt-1 text-xs text-gray-500`},Ra=[`disabled`],za={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ba={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},Va={class:`text-lg font-mono text-gray-900 dark:text-white`},Ha={class:`grid grid-cols-1 md:grid-cols-3 gap-6`},Ua=[`disabled`],Wa={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ga=[`disabled`],Ka={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},qa=[`disabled`],Ja={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ya={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},Xa={class:`space-y-1`},Za={class:`text-sm font-mono text-gray-900 dark:text-white`},Qa={class:`text-sm font-mono text-gray-900 dark:text-white`},$a={class:`text-sm font-mono text-gray-900 dark:text-white`},eo={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},to=[`disabled`],no=[`disabled`],ro={key:0,class:`flex items-center justify-center`},io={key:1},ao={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},oo={class:`flex flex-col items-center`},so={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},co={class:`flex`},lo={class:`flex-shrink-0`};var uo=v({__name:`EditPage`,props:{id:{},currency:{}},emits:[`back`,`success`,`cancel`],setup(t,{emit:r}){let i=t,a=r,s=Q(),{errors:c,hasErrors:l,getFieldError:u,validateUpdateRequest:d,clearFieldError:f,setServerErrors:p,clearErrors:m}=Wi(),h=O(!1),g=O(!1),v=O({name:``,code:``,symbol:``,symbol_position:``,decimal_places:2,decimal_separator:`.`,thousand_separator:`,`}),x=O({name:``,code:``,symbol:``,symbol_position:``,decimal_places:2,decimal_separator:`.`,thousand_separator:`,`}),S=B(()=>v.value.name.trim().length>0&&v.value.name.length<=255&&v.value.code.trim().length===3&&/^[A-Z]+$/.test(v.value.code.trim())&&v.value.symbol.trim().length>0&&v.value.symbol.length<=10&&[`before`,`after`].includes(v.value.symbol_position)&&typeof v.value.decimal_places==`number`&&v.value.decimal_places>=0&&v.value.decimal_places<=4&&[`.`,`,`].includes(v.value.decimal_separator)&&v.value.thousand_separator!==void 0),C=B(()=>v.value.symbol&&v.value.symbol_position&&typeof v.value.decimal_places==`number`&&v.value.decimal_separator&&v.value.thousand_separator!==void 0),T=()=>{v.value.code=v.value.code.toUpperCase()},D=()=>{if(!v.value.symbol||!v.value.symbol_position)return``;let e=`123.45`;return v.value.symbol_position===`before`?`${v.value.symbol}${e}`:`${e}${v.value.symbol}`},M=e=>{if(!C.value)return``;let t=e.toFixed(v.value.decimal_places).split(`.`),n=t[0],r=t[1];v.value.thousand_separator&&n.length>3&&(n=n.replace(/\B(?=(\d{3})+(?!\d))/g,v.value.thousand_separator));let i=n;return v.value.decimal_places>0&&r&&(i+=v.value.decimal_separator+r),v.value.symbol_position===`before`?`${v.value.symbol}${i}`:`${i}${v.value.symbol}`},N=async()=>{try{g.value=!0;let e=i.currency||await s.fetchCurrency(i.id);e&&(v.value={name:e.name,code:e.code,symbol:e.symbol,symbol_position:e.symbol_position,decimal_places:e.decimal_places,decimal_separator:e.decimal_separator,thousand_separator:e.thousand_separator},x.value={name:e.name,code:e.code,symbol:e.symbol,symbol_position:e.symbol_position,decimal_places:e.decimal_places,decimal_separator:e.decimal_separator,thousand_separator:e.thousand_separator},m())}catch(e){console.error(`Error loading currency:`,e)}finally{g.value=!1}},P=async()=>{if(m(),d(v.value))try{h.value=!0;let e={name:v.value.name,code:v.value.code,symbol:v.value.symbol,symbol_position:v.value.symbol_position,decimal_places:v.value.decimal_places,decimal_separator:v.value.decimal_separator,thousand_separator:v.value.thousand_separator};await s.updateCurrency(i.id,e),x.value={...v.value},a(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&p(e.response.data.errors)}finally{h.value=!1}},F=()=>{a(`cancel`)},L=()=>{a(`back`)};return y(()=>{N()}),w(()=>i.id,()=>{i.id&&N()}),(t,r)=>(b(),W(`div`,Da,[V(`div`,Oa,[V(`div`,ka,[V(`div`,Aa,[V(`button`,{onClick:L,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[_(k(e),{class:`w-5 h-5`})]),r[14]||=V(`div`,null,[V(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Currency `),V(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update currency information and formatting settings `)],-1)])]),g.value?(b(),W(`div`,ja,r[15]||=[V(`div`,{class:`flex items-center justify-center`},[V(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),V(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading currency...`)],-1)])):v.value?(b(),W(`div`,Ma,[V(`div`,Na,[V(`form`,{onSubmit:R(P,[`prevent`]),class:`space-y-8`},[V(`div`,null,[r[17]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),V(`div`,Pa,[V(`div`,null,[_(q,{type:`text`,maxlength:255,disabled:h.value,onBlur:r[0]||=()=>k(f)(`name`),modelValue:v.value.name,"onUpdate:modelValue":r[1]||=e=>v.value.name=e,placeholder:`Enter currency name (e.g., US Dollar)`,error:k(u)(`name`),required:``,label:`Currency Name`},null,8,[`disabled`,`modelValue`,`error`]),v.value.name.length>0?(b(),W(`p`,Fa,j(v.value.name.length)+`/255 characters `,1)):U(``,!0)]),V(`div`,null,[_(q,{type:`text`,maxlength:3,disabled:h.value,onBlur:r[2]||=()=>k(f)(`code`),onInput:T,modelValue:v.value.code,"onUpdate:modelValue":r[3]||=e=>v.value.code=e,placeholder:`Enter currency code (e.g., USD)`,error:k(u)(`code`),required:``,label:`Currency Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),r[16]||=V(`p`,{class:`mt-1 text-xs text-gray-500`},` 3-letter ISO code (automatically converted to uppercase) `,-1)])])]),V(`div`,null,[r[21]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Symbol Configuration `,-1),V(`div`,Ia,[V(`div`,null,[_(q,{type:`text`,maxlength:10,disabled:h.value,onBlur:r[4]||=()=>k(f)(`symbol`),modelValue:v.value.symbol,"onUpdate:modelValue":r[5]||=e=>v.value.symbol=e,placeholder:`Enter currency symbol (e.g., $)`,error:k(u)(`symbol`),required:``,label:`Currency Symbol`},null,8,[`disabled`,`modelValue`,`error`]),v.value.symbol.length>0?(b(),W(`p`,La,j(v.value.symbol.length)+`/10 characters `,1)):U(``,!0)]),V(`div`,null,[r[19]||=V(`label`,{for:`symbol_position`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[K(` Symbol Position `),V(`span`,{class:`text-red-500 ml-1`},`*`)],-1),E(V(`select`,{id:`symbol_position`,"onUpdate:modelValue":r[6]||=e=>v.value.symbol_position=e,disabled:h.value,onBlur:r[7]||=()=>k(f)(`symbol_position`),class:A([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,k(u)(`symbol_position`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},r[18]||=[V(`option`,{value:``},`Select position`,-1),V(`option`,{value:`before`},`Before amount ($123.45)`,-1),V(`option`,{value:`after`},`After amount (123.45$)`,-1)],42,Ra),[[I,v.value.symbol_position]]),k(u)(`symbol_position`)?(b(),W(`p`,za,j(k(u)(`symbol_position`)),1)):U(``,!0)])]),v.value.symbol&&v.value.symbol_position?(b(),W(`div`,Ba,[r[20]||=V(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Preview:`,-1),V(`p`,Va,j(D()),1)])):U(``,!0)]),V(`div`,null,[r[29]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Number Formatting `,-1),V(`div`,Ha,[V(`div`,null,[r[23]||=V(`label`,{for:`decimal_places`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[K(` Decimal Places `),V(`span`,{class:`text-red-500 ml-1`},`*`)],-1),E(V(`select`,{id:`decimal_places`,"onUpdate:modelValue":r[8]||=e=>v.value.decimal_places=e,disabled:h.value,onBlur:r[9]||=()=>k(f)(`decimal_places`),class:A([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,k(u)(`decimal_places`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},r[22]||=[V(`option`,{value:``},`Select`,-1),V(`option`,{value:0},`0 (no decimals)`,-1),V(`option`,{value:1},`1 decimal`,-1),V(`option`,{value:2},`2 decimals`,-1),V(`option`,{value:3},`3 decimals`,-1),V(`option`,{value:4},`4 decimals`,-1)],42,Ua),[[I,v.value.decimal_places,void 0,{number:!0}]]),k(u)(`decimal_places`)?(b(),W(`p`,Wa,j(k(u)(`decimal_places`)),1)):U(``,!0)]),V(`div`,null,[r[25]||=V(`label`,{for:`decimal_separator`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[K(` Decimal Separator `),V(`span`,{class:`text-red-500 ml-1`},`*`)],-1),E(V(`select`,{id:`decimal_separator`,"onUpdate:modelValue":r[10]||=e=>v.value.decimal_separator=e,disabled:h.value,onBlur:r[11]||=()=>k(f)(`decimal_separator`),class:A([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,k(u)(`decimal_separator`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},r[24]||=[V(`option`,{value:``},`Select`,-1),V(`option`,{value:`.`},`Period (.)`,-1),V(`option`,{value:`,`},`Comma (,)`,-1)],42,Ga),[[I,v.value.decimal_separator]]),k(u)(`decimal_separator`)?(b(),W(`p`,Ka,j(k(u)(`decimal_separator`)),1)):U(``,!0)]),V(`div`,null,[r[27]||=V(`label`,{for:`thousand_separator`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[K(` Thousand Separator `),V(`span`,{class:`text-red-500 ml-1`},`*`)],-1),E(V(`select`,{id:`thousand_separator`,"onUpdate:modelValue":r[12]||=e=>v.value.thousand_separator=e,disabled:h.value,onBlur:r[13]||=()=>k(f)(`thousand_separator`),class:A([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,k(u)(`thousand_separator`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},r[26]||=[G(`<option value="">Select</option><option value=",">Comma (,)</option><option value=".">Period (.)</option><option value=" ">Space ( )</option><option value="">None</option>`,5)],42,qa),[[I,v.value.thousand_separator]]),k(u)(`thousand_separator`)?(b(),W(`p`,Ja,j(k(u)(`thousand_separator`)),1)):U(``,!0)])]),C.value?(b(),W(`div`,Ya,[r[28]||=V(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Formatting Preview:`,-1),V(`div`,Xa,[V(`p`,Za,` Small: `+j(M(12.3)),1),V(`p`,Qa,` Medium: `+j(M(1234.56)),1),V(`p`,$a,` Large: `+j(M(1234567.89)),1)])])):U(``,!0)]),V(`div`,eo,[V(`button`,{type:`button`,onClick:F,disabled:h.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,to),V(`button`,{type:`submit`,disabled:h.value||k(l)||!S.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[h.value?(b(),W(`div`,ro,r[30]||=[V(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),K(` Updating... `,-1)])):(b(),W(`span`,io,`Update Currency`))],8,no)])],32)])])):(b(),W(`div`,ao,[V(`div`,oo,[_(k(o),{class:`w-12 h-12 text-red-400 mb-4`}),r[31]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Currency Not Found `,-1),r[32]||=V(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The currency you're trying to edit could not be found. `,-1),V(`button`,{onClick:L,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` ← Back to Currencies `)])])),v.value?(b(),W(`div`,so,[V(`div`,co,[V(`div`,lo,[_(k(n),{class:`h-5 w-5 text-blue-400`})]),r[33]||=G(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Currency Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update the currency details carefully as this information affects: </p><ul class="list-disc list-inside space-y-1"><li>How monetary amounts are displayed throughout the system</li><li>Financial reports and transaction formatting</li><li>Invoice and receipt generation</li><li>API responses for integrations</li></ul></div></div>`,1)])])):U(``,!0)])]))}}),fo=uo;const po={class:`space-y-6`},mo={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},ho={class:`grid grid-cols-1 md:grid-cols-4 gap-4`},go={class:`md:col-span-2`},_o={class:`relative`},vo={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},yo={key:0,class:`p-8 text-center`},bo={key:1,class:`p-8 text-center`},xo={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},So={key:0,class:`mt-6`},Co={key:2,class:`overflow-x-auto`},wo={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},To={class:`bg-gray-50 dark:bg-gray-700`},Eo={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Do={class:`flex flex-col`},Oo={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},ko={class:`flex flex-col`},Ao={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},jo={class:`flex flex-col`},Mo={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},No={class:`px-6 py-4 whitespace-nowrap`},Po={class:`flex items-center`},Fo={class:`flex-shrink-0 h-10 w-10`},Io={class:`h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center`},Lo={class:`ml-4`},Ro={class:`text-sm font-medium text-gray-900 dark:text-white`},zo={class:`text-sm text-gray-500 dark:text-gray-400`},Bo={class:`px-6 py-4 whitespace-nowrap`},Vo={class:`text-sm text-gray-900 dark:text-white`},Ho={class:`flex items-center space-x-2`},Uo={class:`font-mono font-semibold bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-xs`},Wo={class:`font-mono font-semibold bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 px-2 py-1 rounded text-xs`},Go={class:`px-6 py-4 whitespace-nowrap`},Ko={class:`text-sm text-gray-900 dark:text-white`},qo={key:0,class:`font-mono bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-2 py-1 rounded text-sm`},Jo={key:1,class:`text-gray-400 text-sm`},Yo={class:`px-6 py-4 whitespace-nowrap`},Xo={class:`px-6 py-4 whitespace-nowrap`},Zo={class:`text-sm text-gray-900 dark:text-white`},Qo={class:`text-sm text-gray-600 dark:text-gray-400`},$o={class:`text-xs text-gray-500 dark:text-gray-500`},es={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},ts={class:`flex items-center justify-end space-x-2`},ns=[`onClick`],rs=[`onClick`],os=[`onClick`],ss={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},cs={class:`flex items-center justify-between`},ls={class:`flex-1 flex justify-between sm:hidden`},us=[`disabled`],ds=[`disabled`],fs={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},ps={class:`text-sm text-gray-700 dark:text-gray-300`},ms={class:`font-medium`},hs={class:`font-medium`},gs={class:`font-medium`},_s={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},vs=[`disabled`],ys=[`disabled`];var bs=v({__name:`IndexPage`,emits:[`create`,`edit`],setup(e,{emit:n}){P();let a=N(),o=be(),d=n,f=O(!1),p=O(!1),m=O(null),h=O(null),g=O(null),v=O(!1),S=D({search:``,is_active:``,per_page:15,sort_by:``,sort_direction:`asc`,page:1}),C=O({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}),T=B(()=>o.countries),M=B(()=>o.pagination),F=B(()=>o.loading),R=B(()=>[{key:`name`,label:`Country Name`,type:`text`},{key:`code`,label:`Country Code`,type:`text`},{key:`iso2`,label:`ISO2 Code`,type:`text`},{key:`phone_code`,label:`Phone Code`,type:`text`,fallback:`None`},{key:`is_active`,label:`Status`,type:`status`},{key:`display_name`,label:`Display Name`,type:`text`},{key:`full_display`,label:`Full Display`,type:`text`},{key:`created_by.name`,label:`Created By`,type:`text`,subKey:`created_at`},{key:`updated_by.name`,label:`Last Updated By`,type:`text`,subKey:`updated_at`}]);w(()=>({...S}),e=>{let{page:t,...n}=e;o.updateFilters(n)},{deep:!0});let H=async(e=1)=>{try{let t={...S,page:e};await o.fetchCountries(t)}catch{a.error(`Failed to load countries`,{title:`Error`})}},G=()=>{h.value&&clearTimeout(h.value),h.value=setTimeout(()=>{H(1)},300)},q=e=>{S.sort_by===e?S.sort_direction=S.sort_direction===`asc`?`desc`:`asc`:(S.sort_by=e,S.sort_direction=`asc`),H(1)},J=e=>{e>=1&&M.value&&e<=M.value.last_page&&(S.page=e,H(e))},ee=e=>{g.value=e,v.value=!0},Y=e=>{m.value=e,C.value={title:`Delete Country`,message:`Are you sure you want to delete "${e.name} (${e.iso2})"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},p.value=!0},te=async()=>{m.value&&(await o.deleteCountry(m.value.id),X())},X=()=>{p.value=!1,m.value=null,C.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},ie=()=>{d(`create`)},Z=e=>{d(`edit`,e)};return y(()=>{H()}),(e,n)=>(b(),W(`div`,po,[_(se,{title:`Countries`,description:`Manage countries and their information`,"create-button-text":`Create New Country`,onCreate:ie}),V(`div`,mo,[V(`div`,ho,[V(`div`,go,[n[12]||=V(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Countries `,-1),V(`div`,_o,[E(V(`input`,{id:`search`,"onUpdate:modelValue":n[0]||=e=>S.search=e,type:`text`,placeholder:`Search by name, code, ISO2, or phone code...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:G},null,544),[[L,S.search]]),_(k(re),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),V(`div`,null,[n[14]||=V(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Status `,-1),E(V(`select`,{id:`status`,"onUpdate:modelValue":n[1]||=e=>S.is_active=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:H},n[13]||=[V(`option`,{value:``},`All Status`,-1),V(`option`,{value:`true`},`Active`,-1),V(`option`,{value:`false`},`Inactive`,-1)],544),[[I,S.is_active]])]),V(`div`,null,[n[16]||=V(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),E(V(`select`,{id:`per-page`,"onUpdate:modelValue":n[2]||=e=>S.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:H},n[15]||=[V(`option`,{value:15},`15`,-1),V(`option`,{value:25},`25`,-1),V(`option`,{value:50},`50`,-1),V(`option`,{value:100},`100`,-1)],544),[[I,S.per_page]])])])]),V(`div`,vo,[F.value?(b(),W(`div`,yo,[_(k(t),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),n[17]||=V(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading countries...`,-1)])):T.value.length===0?(b(),W(`div`,bo,[_(k(r),{class:`h-12 w-12 mx-auto text-gray-400`}),n[19]||=V(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},` No countries found `,-1),V(`p`,xo,j(S.search?`Try adjusting your search criteria.`:`Get started by creating your first country.`),1),S.search?U(``,!0):(b(),W(`div`,So,[V(`button`,{onClick:ie,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[_(k(ae),{class:`h-5 w-5 mr-2`}),n[18]||=K(` Add Your First Country `,-1)])]))])):(b(),W(`div`,Co,[V(`table`,wo,[V(`thead`,To,[V(`tr`,null,[V(`th`,Eo,[V(`button`,{onClick:n[3]||=e=>q(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[20]||=V(`span`,null,`Country`,-1),V(`div`,Do,[_(k(s),{class:A([`h-3 w-3`,S.sort_by===`name`&&S.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,S.sort_by===`name`&&S.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),n[23]||=V(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Codes `,-1),n[24]||=V(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Phone Code `,-1),V(`th`,Oo,[V(`button`,{onClick:n[4]||=e=>q(`is_active`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[21]||=V(`span`,null,`Status`,-1),V(`div`,ko,[_(k(s),{class:A([`h-3 w-3`,S.sort_by===`is_active`&&S.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,S.sort_by===`is_active`&&S.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),V(`th`,Ao,[V(`button`,{onClick:n[5]||=e=>q(`created_at`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[22]||=V(`span`,null,`Created`,-1),V(`div`,jo,[_(k(s),{class:A([`h-3 w-3`,S.sort_by===`created_at`&&S.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,S.sort_by===`created_at`&&S.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),n[25]||=V(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),V(`tbody`,Mo,[(b(!0),W(z,null,x(T.value,e=>(b(),W(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[V(`td`,No,[V(`div`,Po,[V(`div`,Fo,[V(`div`,Io,[_(k(r),{class:`h-5 w-5 text-blue-600 dark:text-blue-400`})])]),V(`div`,Lo,[V(`div`,Ro,j(e.name),1),V(`div`,zo,` ID: `+j(e.id),1)])])]),V(`td`,Bo,[V(`div`,Vo,[V(`div`,Ho,[V(`span`,Uo,j(e.code),1),V(`span`,Wo,j(e.iso2),1)])])]),V(`td`,Go,[V(`div`,Ko,[e.phone_code?(b(),W(`span`,qo,j(e.phone_code),1)):(b(),W(`span`,Jo,`-`))])]),V(`td`,Yo,[_($,{active:e.is_active},null,8,[`active`])]),V(`td`,Xo,[V(`div`,Zo,[V(`div`,Qo,j(e.created_by?.name||`-`),1),V(`div`,$o,j(k(le)(e.created_at)),1)])]),V(`td`,es,[V(`div`,ts,[V(`button`,{onClick:t=>ee(e),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[_(k(i),{class:`w-4 h-4`})],8,ns),V(`button`,{onClick:t=>Z(e),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit Country`},[_(k(oe),{class:`h-4 w-4`})],8,rs),V(`button`,{onClick:t=>Y(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete Country`},[_(k(ne),{class:`h-4 w-4`})],8,os)])])]))),128))])])])),M.value&&M.value.total>0?(b(),W(`div`,ss,[V(`div`,cs,[V(`div`,ls,[V(`button`,{onClick:n[6]||=e=>J(M.value.current_page-1),disabled:M.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,us),V(`button`,{onClick:n[7]||=e=>J(M.value.current_page+1),disabled:M.value.current_page>=M.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,ds)]),V(`div`,fs,[V(`div`,null,[V(`p`,ps,[n[26]||=K(` Showing `,-1),V(`span`,ms,j(M.value.from),1),n[27]||=K(` to `,-1),V(`span`,hs,j(M.value.to),1),n[28]||=K(` of `,-1),V(`span`,gs,j(M.value.total),1),n[29]||=K(` results `,-1)])]),V(`div`,null,[V(`nav`,_s,[V(`button`,{onClick:n[8]||=e=>J(M.value.current_page-1),disabled:M.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[_(k(l),{class:`h-5 w-5`})],8,vs),V(`button`,{onClick:n[9]||=e=>J(M.value.current_page+1),disabled:M.value.current_page>=M.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[_(k(c),{class:`h-5 w-5`})],8,ys)])])])])])):U(``,!0)]),_(ce,{show:p.value,"onUpdate:show":n[10]||=e=>p.value=e,type:`delete`,title:C.value.title,message:C.value.message,"confirm-text":C.value.buttonText,"loading-text":C.value.loadingText,loading:f.value,onConfirm:te,onCancel:X},null,8,[`show`,`title`,`message`,`confirm-text`,`loading-text`,`loading`]),_(ye,{show:v.value,"onUpdate:show":n[11]||=e=>v.value=e,item:g.value,title:`Country Details`,"display-fields":R.value,size:`lg`},null,8,[`show`,`item`,`display-fields`])]))}}),xs=bs;function Ss(){let e=O({}),t=B(()=>Object.keys(e.value).length>0),n=t=>e.value[t]?.[0],r=n=>{let r={};return!n.name||n.name.trim().length===0?r.name=[`Country name is required`]:n.name.trim().length>255&&(r.name=[`Country name must not exceed 255 characters`]),!n.code||n.code.trim().length===0?r.code=[`Country code is required`]:n.code.trim().length===3?/^[A-Z]+$/.test(n.code.trim())||(r.code=[`Country code must contain only uppercase letters`]):r.code=[`Country code must be exactly 3 characters (e.g., USA, CAN)`],!n.iso2||n.iso2.trim().length===0?r.iso2=[`ISO2 code is required`]:n.iso2.trim().length===2?/^[A-Z]+$/.test(n.iso2.trim())||(r.iso2=[`ISO2 code must contain only uppercase letters`]):r.iso2=[`ISO2 code must be exactly 2 characters (e.g., US, CA)`],n.phone_code!==void 0&&n.phone_code!==null&&n.phone_code.trim().length>0&&(n.phone_code.length>10?r.phone_code=[`Phone code must not exceed 10 characters`]:/^\+\d+$/.test(n.phone_code)||(r.phone_code=[`Phone code must start with + followed by numbers (e.g., +1, +44)`])),e.value=r,!t.value},i=n=>{let r={};return n.name!==void 0&&(!n.name||n.name.trim().length===0?r.name=[`Country name is required`]:n.name.trim().length>255&&(r.name=[`Country name must not exceed 255 characters`])),n.code!==void 0&&(!n.code||n.code.trim().length===0?r.code=[`Country code is required`]:n.code.trim().length===3?/^[A-Z]+$/.test(n.code.trim())||(r.code=[`Country code must contain only uppercase letters`]):r.code=[`Country code must be exactly 3 characters (e.g., USA, CAN)`]),n.iso2!==void 0&&(!n.iso2||n.iso2.trim().length===0?r.iso2=[`ISO2 code is required`]:n.iso2.trim().length===2?/^[A-Z]+$/.test(n.iso2.trim())||(r.iso2=[`ISO2 code must contain only uppercase letters`]):r.iso2=[`ISO2 code must be exactly 2 characters (e.g., US, CA)`]),n.phone_code!==void 0&&n.phone_code!==null&&n.phone_code.trim().length>0&&(n.phone_code.length>10?r.phone_code=[`Phone code must not exceed 10 characters`]:/^\+\d+$/.test(n.phone_code)||(r.phone_code=[`Phone code must start with + followed by numbers (e.g., +1, +44)`])),e.value=r,!t.value},a=()=>{e.value={}},o=t=>{e.value[t]&&delete e.value[t]},s=t=>{e.value=t};return{errors:e,hasErrors:t,getFieldError:n,validateCreateRequest:r,validateUpdateRequest:i,clearErrors:a,clearFieldError:o,setServerErrors:s}}var Cs=JSON.parse(`[{"Country Name":"Afghanistan","ISO2":"AF","ISO3":"AFG","Phone Code":93,"Currency":"Afghani"},{"Country Name":"Albania","ISO2":"AL","ISO3":"ALB","Phone Code":355,"Currency":"Lek"},{"Country Name":"Algeria","ISO2":"DZ","ISO3":"DZA","Phone Code":213,"Currency":"Dinar"},{"Country Name":"American Samoa","ISO2":"AS","ISO3":"ASM","Phone Code":"1-684","Currency":"Dollar"},{"Country Name":"Andorra","ISO2":"AD","ISO3":"AND","Phone Code":376,"Currency":"Euro"},{"Country Name":"Angola","ISO2":"AO","ISO3":"AGO","Phone Code":244,"Currency":"Kwanza"},{"Country Name":"Anguilla","ISO2":"AI","ISO3":"AIA","Phone Code":"1-264","Currency":"Dollar"},{"Country Name":"Antarctica","ISO2":"AQ","ISO3":"ATA","Phone Code":672,"Currency":""},{"Country Name":"Antigua and Barbuda","ISO2":"AG","ISO3":"ATG","Phone Code":"1-268","Currency":"Dollar"},{"Country Name":"Argentina","ISO2":"AR","ISO3":"ARG","Phone Code":54,"Currency":"Peso"},{"Country Name":"Armenia","ISO2":"AM","ISO3":"ARM","Phone Code":374,"Currency":"Dram"},{"Country Name":"Aruba","ISO2":"AW","ISO3":"ABW","Phone Code":297,"Currency":"Guilder"},{"Country Name":"Australia","ISO2":"AU","ISO3":"AUS","Phone Code":61,"Currency":"Dollar"},{"Country Name":"Austria","ISO2":"AT","ISO3":"AUT","Phone Code":43,"Currency":"Euro"},{"Country Name":"Azerbaijan","ISO2":"AZ","ISO3":"AZE","Phone Code":994,"Currency":"Manat"},{"Country Name":"Bahamas","ISO2":"BS","ISO3":"BHS","Phone Code":"1-242","Currency":"Dollar"},{"Country Name":"Bahrain","ISO2":"BH","ISO3":"BHR","Phone Code":973,"Currency":"Dinar"},{"Country Name":"Bangladesh","ISO2":"BD","ISO3":"BGD","Phone Code":880,"Currency":"Taka"},{"Country Name":"Barbados","ISO2":"BB","ISO3":"BRB","Phone Code":"1-246","Currency":"Dollar"},{"Country Name":"Belarus","ISO2":"BY","ISO3":"BLR","Phone Code":375,"Currency":"Ruble"},{"Country Name":"Belgium","ISO2":"BE","ISO3":"BEL","Phone Code":32,"Currency":"Euro"},{"Country Name":"Belize","ISO2":"BZ","ISO3":"BLZ","Phone Code":501,"Currency":"Dollar"},{"Country Name":"Benin","ISO2":"BJ","ISO3":"BEN","Phone Code":229,"Currency":"Franc"},{"Country Name":"Bermuda","ISO2":"BM","ISO3":"BMU","Phone Code":"1-441","Currency":"Dollar"},{"Country Name":"Bhutan","ISO2":"BT","ISO3":"BTN","Phone Code":975,"Currency":"Ngultrum"},{"Country Name":"Bolivia","ISO2":"BO","ISO3":"BOL","Phone Code":591,"Currency":"Boliviano"},{"Country Name":"Bosnia and Herzegovina","ISO2":"BA","ISO3":"BIH","Phone Code":387,"Currency":"Marka"},{"Country Name":"Botswana","ISO2":"BW","ISO3":"BWA","Phone Code":267,"Currency":"Pula"},{"Country Name":"Brazil","ISO2":"BR","ISO3":"BRA","Phone Code":55,"Currency":"Real"},{"Country Name":"British Indian Ocean Territory","ISO2":"IO","ISO3":"IOT","Phone Code":246,"Currency":"Dollar"},{"Country Name":"British Virgin Islands","ISO2":"VG","ISO3":"VGB","Phone Code":"1-284","Currency":"Dollar"},{"Country Name":"Brunei","ISO2":"BN","ISO3":"BRN","Phone Code":673,"Currency":"Dollar"},{"Country Name":"Bulgaria","ISO2":"BG","ISO3":"BGR","Phone Code":359,"Currency":"Lev"},{"Country Name":"Burkina Faso","ISO2":"BF","ISO3":"BFA","Phone Code":226,"Currency":"Franc"},{"Country Name":"Burundi","ISO2":"BI","ISO3":"BDI","Phone Code":257,"Currency":"Franc"},{"Country Name":"Cambodia","ISO2":"KH","ISO3":"KHM","Phone Code":855,"Currency":"Riels"},{"Country Name":"Cameroon","ISO2":"CM","ISO3":"CMR","Phone Code":237,"Currency":"Franc"},{"Country Name":"Canada","ISO2":"CA","ISO3":"CAN","Phone Code":1,"Currency":"Dollar"},{"Country Name":"Cape Verde","ISO2":"CV","ISO3":"CPV","Phone Code":238,"Currency":"Escudo"},{"Country Name":"Cayman Islands","ISO2":"KY","ISO3":"CYM","Phone Code":"1-345","Currency":"Dollar"},{"Country Name":"Central African Republic","ISO2":"CF","ISO3":"CAF","Phone Code":236,"Currency":"Franc"},{"Country Name":"Chad","ISO2":"TD","ISO3":"TCD","Phone Code":235,"Currency":"Franc"},{"Country Name":"Chile","ISO2":"CL","ISO3":"CHL","Phone Code":56,"Currency":"Peso"},{"Country Name":"China","ISO2":"CN","ISO3":"CHN","Phone Code":86,"Currency":"Yuan Renminbi"},{"Country Name":"Christmas Island","ISO2":"CX","ISO3":"CXR","Phone Code":61,"Currency":"Dollar"},{"Country Name":"Cocos Islands","ISO2":"CC","ISO3":"CCK","Phone Code":61,"Currency":"Dollar"},{"Country Name":"Colombia","ISO2":"CO","ISO3":"COL","Phone Code":57,"Currency":"Peso"},{"Country Name":"Comoros","ISO2":"KM","ISO3":"COM","Phone Code":269,"Currency":"Franc"},{"Country Name":"Cook Islands","ISO2":"CK","ISO3":"COK","Phone Code":682,"Currency":"Dollar"},{"Country Name":"Costa Rica","ISO2":"CR","ISO3":"CRI","Phone Code":506,"Currency":"Colon"},{"Country Name":"Croatia","ISO2":"HR","ISO3":"HRV","Phone Code":385,"Currency":"Kuna"},{"Country Name":"Cuba","ISO2":"CU","ISO3":"CUB","Phone Code":53,"Currency":"Peso"},{"Country Name":"Curacao","ISO2":"CW","ISO3":"CUW","Phone Code":599,"Currency":"Guilder"},{"Country Name":"Cyprus","ISO2":"CY","ISO3":"CYP","Phone Code":357,"Currency":"Euro"},{"Country Name":"Czech Republic","ISO2":"CZ","ISO3":"CZE","Phone Code":420,"Currency":"Koruna"},{"Country Name":"Democratic Republic of the Congo","ISO2":"CD","ISO3":"COD","Phone Code":243,"Currency":"Franc"},{"Country Name":"Denmark","ISO2":"DK","ISO3":"DNK","Phone Code":45,"Currency":"Krone"},{"Country Name":"Djibouti","ISO2":"DJ","ISO3":"DJI","Phone Code":253,"Currency":"Franc"},{"Country Name":"Dominica","ISO2":"DM","ISO3":"DMA","Phone Code":"1-767","Currency":"Dollar"},{"Country Name":"Dominican Republic","ISO2":"DO","ISO3":"DOM","Phone Code":"1-809, 1-829, 1-849","Currency":"Peso"},{"Country Name":"East Timor","ISO2":"TL","ISO3":"TLS","Phone Code":670,"Currency":"Dollar"},{"Country Name":"Ecuador","ISO2":"EC","ISO3":"ECU","Phone Code":593,"Currency":"Dollar"},{"Country Name":"Egypt","ISO2":"EG","ISO3":"EGY","Phone Code":20,"Currency":"Pound"},{"Country Name":"El Salvador","ISO2":"SV","ISO3":"SLV","Phone Code":503,"Currency":"Dollar"},{"Country Name":"Equatorial Guinea","ISO2":"GQ","ISO3":"GNQ","Phone Code":240,"Currency":"Franc"},{"Country Name":"Eritrea","ISO2":"ER","ISO3":"ERI","Phone Code":291,"Currency":"Nakfa"},{"Country Name":"Estonia","ISO2":"EE","ISO3":"EST","Phone Code":372,"Currency":"Euro"},{"Country Name":"Ethiopia","ISO2":"ET","ISO3":"ETH","Phone Code":251,"Currency":"Birr"},{"Country Name":"Falkland Islands","ISO2":"FK","ISO3":"FLK","Phone Code":500,"Currency":"Pound"},{"Country Name":"Faroe Islands","ISO2":"FO","ISO3":"FRO","Phone Code":298,"Currency":"Krone"},{"Country Name":"Fiji","ISO2":"FJ","ISO3":"FJI","Phone Code":679,"Currency":"Dollar"},{"Country Name":"Finland","ISO2":"FI","ISO3":"FIN","Phone Code":358,"Currency":"Euro"},{"Country Name":"France","ISO2":"FR","ISO3":"FRA","Phone Code":33,"Currency":"Euro"},{"Country Name":"French Polynesia","ISO2":"PF","ISO3":"PYF","Phone Code":689,"Currency":"Franc"},{"Country Name":"Gabon","ISO2":"GA","ISO3":"GAB","Phone Code":241,"Currency":"Franc"},{"Country Name":"Gambia","ISO2":"GM","ISO3":"GMB","Phone Code":220,"Currency":"Dalasi"},{"Country Name":"Georgia","ISO2":"GE","ISO3":"GEO","Phone Code":995,"Currency":"Lari"},{"Country Name":"Germany","ISO2":"DE","ISO3":"DEU","Phone Code":49,"Currency":"Euro"},{"Country Name":"Ghana","ISO2":"GH","ISO3":"GHA","Phone Code":233,"Currency":"Cedi"},{"Country Name":"Gibraltar","ISO2":"GI","ISO3":"GIB","Phone Code":350,"Currency":"Pound"},{"Country Name":"Greece","ISO2":"GR","ISO3":"GRC","Phone Code":30,"Currency":"Euro"},{"Country Name":"Greenland","ISO2":"GL","ISO3":"GRL","Phone Code":299,"Currency":"Krone"},{"Country Name":"Grenada","ISO2":"GD","ISO3":"GRD","Phone Code":"1-473","Currency":"Dollar"},{"Country Name":"Guam","ISO2":"GU","ISO3":"GUM","Phone Code":"1-671","Currency":"Dollar"},{"Country Name":"Guatemala","ISO2":"GT","ISO3":"GTM","Phone Code":502,"Currency":"Quetzal"},{"Country Name":"Guernsey","ISO2":"GG","ISO3":"GGY","Phone Code":"44-1481","Currency":"Pound"},{"Country Name":"Guinea","ISO2":"GN","ISO3":"GIN","Phone Code":224,"Currency":"Franc"},{"Country Name":"Guinea-Bissau","ISO2":"GW","ISO3":"GNB","Phone Code":245,"Currency":"Franc"},{"Country Name":"Guyana","ISO2":"GY","ISO3":"GUY","Phone Code":592,"Currency":"Dollar"},{"Country Name":"Haiti","ISO2":"HT","ISO3":"HTI","Phone Code":509,"Currency":"Gourde"},{"Country Name":"Honduras","ISO2":"HN","ISO3":"HND","Phone Code":504,"Currency":"Lempira"},{"Country Name":"Hong Kong","ISO2":"HK","ISO3":"HKG","Phone Code":852,"Currency":"Dollar"},{"Country Name":"Hungary","ISO2":"HU","ISO3":"HUN","Phone Code":36,"Currency":"Forint"},{"Country Name":"Iceland","ISO2":"IS","ISO3":"ISL","Phone Code":354,"Currency":"Krona"},{"Country Name":"India","ISO2":"IN","ISO3":"IND","Phone Code":91,"Currency":"Rupee"},{"Country Name":"Indonesia","ISO2":"ID","ISO3":"IDN","Phone Code":62,"Currency":"Rupiah"},{"Country Name":"Iran","ISO2":"IR","ISO3":"IRN","Phone Code":98,"Currency":"Rial"},{"Country Name":"Iraq","ISO2":"IQ","ISO3":"IRQ","Phone Code":964,"Currency":"Dinar"},{"Country Name":"Ireland","ISO2":"IE","ISO3":"IRL","Phone Code":353,"Currency":"Euro"},{"Country Name":"Isle of Man","ISO2":"IM","ISO3":"IMN","Phone Code":"44-1624","Currency":"Pound"},{"Country Name":"Israel","ISO2":"IL","ISO3":"ISR","Phone Code":972,"Currency":"Shekel"},{"Country Name":"Italy","ISO2":"IT","ISO3":"ITA","Phone Code":39,"Currency":"Euro"},{"Country Name":"Ivory Coast","ISO2":"CI","ISO3":"CIV","Phone Code":225,"Currency":"Franc"},{"Country Name":"Jamaica","ISO2":"JM","ISO3":"JAM","Phone Code":"1-876","Currency":"Dollar"},{"Country Name":"Japan","ISO2":"JP","ISO3":"JPN","Phone Code":81,"Currency":"Yen"},{"Country Name":"Jersey","ISO2":"JE","ISO3":"JEY","Phone Code":"44-1534","Currency":"Pound"},{"Country Name":"Jordan","ISO2":"JO","ISO3":"JOR","Phone Code":962,"Currency":"Dinar"},{"Country Name":"Kazakhstan","ISO2":"KZ","ISO3":"KAZ","Phone Code":7,"Currency":"Tenge"},{"Country Name":"Kenya","ISO2":"KE","ISO3":"KEN","Phone Code":254,"Currency":"Shilling"},{"Country Name":"Kiribati","ISO2":"KI","ISO3":"KIR","Phone Code":686,"Currency":"Dollar"},{"Country Name":"Kosovo","ISO2":"XK","ISO3":"XKX","Phone Code":383,"Currency":"Euro"},{"Country Name":"Kuwait","ISO2":"KW","ISO3":"KWT","Phone Code":965,"Currency":"Dinar"},{"Country Name":"Kyrgyzstan","ISO2":"KG","ISO3":"KGZ","Phone Code":996,"Currency":"Som"},{"Country Name":"Laos","ISO2":"LA","ISO3":"LAO","Phone Code":856,"Currency":"Kip"},{"Country Name":"Latvia","ISO2":"LV","ISO3":"LVA","Phone Code":371,"Currency":"Euro"},{"Country Name":"Lebanon","ISO2":"LB","ISO3":"LBN","Phone Code":961,"Currency":"Pound"},{"Country Name":"Lesotho","ISO2":"LS","ISO3":"LSO","Phone Code":266,"Currency":"Loti"},{"Country Name":"Liberia","ISO2":"LR","ISO3":"LBR","Phone Code":231,"Currency":"Dollar"},{"Country Name":"Libya","ISO2":"LY","ISO3":"LBY","Phone Code":218,"Currency":"Dinar"},{"Country Name":"Liechtenstein","ISO2":"LI","ISO3":"LIE","Phone Code":423,"Currency":"Franc"},{"Country Name":"Lithuania","ISO2":"LT","ISO3":"LTU","Phone Code":370,"Currency":"Euro"},{"Country Name":"Luxembourg","ISO2":"LU","ISO3":"LUX","Phone Code":352,"Currency":"Euro"},{"Country Name":"Macau","ISO2":"MO","ISO3":"MAC","Phone Code":853,"Currency":"Pataca"},{"Country Name":"Macedonia","ISO2":"MK","ISO3":"MKD","Phone Code":389,"Currency":"Denar"},{"Country Name":"Madagascar","ISO2":"MG","ISO3":"MDG","Phone Code":261,"Currency":"Ariary"},{"Country Name":"Malawi","ISO2":"MW","ISO3":"MWI","Phone Code":265,"Currency":"Kwacha"},{"Country Name":"Malaysia","ISO2":"MY","ISO3":"MYS","Phone Code":60,"Currency":"Ringgit"},{"Country Name":"Maldives","ISO2":"MV","ISO3":"MDV","Phone Code":960,"Currency":"Rufiyaa"},{"Country Name":"Mali","ISO2":"ML","ISO3":"MLI","Phone Code":223,"Currency":"Franc"},{"Country Name":"Malta","ISO2":"MT","ISO3":"MLT","Phone Code":356,"Currency":"Euro"},{"Country Name":"Marshall Islands","ISO2":"MH","ISO3":"MHL","Phone Code":692,"Currency":"Dollar"},{"Country Name":"Mauritania","ISO2":"MR","ISO3":"MRT","Phone Code":222,"Currency":"Ouguiya"},{"Country Name":"Mauritius","ISO2":"MU","ISO3":"MUS","Phone Code":230,"Currency":"Rupee"},{"Country Name":"Mayotte","ISO2":"YT","ISO3":"MYT","Phone Code":262,"Currency":"Euro"},{"Country Name":"Mexico","ISO2":"MX","ISO3":"MEX","Phone Code":52,"Currency":"Peso"},{"Country Name":"Micronesia","ISO2":"FM","ISO3":"FSM","Phone Code":691,"Currency":"Dollar"},{"Country Name":"Moldova","ISO2":"MD","ISO3":"MDA","Phone Code":373,"Currency":"Leu"},{"Country Name":"Monaco","ISO2":"MC","ISO3":"MCO","Phone Code":377,"Currency":"Euro"},{"Country Name":"Mongolia","ISO2":"MN","ISO3":"MNG","Phone Code":976,"Currency":"Tugrik"},{"Country Name":"Montenegro","ISO2":"ME","ISO3":"MNE","Phone Code":382,"Currency":"Euro"},{"Country Name":"Montserrat","ISO2":"MS","ISO3":"MSR","Phone Code":"1-664","Currency":"Dollar"},{"Country Name":"Morocco","ISO2":"MA","ISO3":"MAR","Phone Code":212,"Currency":"Dirham"},{"Country Name":"Mozambique","ISO2":"MZ","ISO3":"MOZ","Phone Code":258,"Currency":"Metical"},{"Country Name":"Myanmar","ISO2":"MM","ISO3":"MMR","Phone Code":95,"Currency":"Kyat"},{"Country Name":"Namibia","ISO2":"NA","ISO3":"NAM","Phone Code":264,"Currency":"Dollar"},{"Country Name":"Nauru","ISO2":"NR","ISO3":"NRU","Phone Code":674,"Currency":"Dollar"},{"Country Name":"Nepal","ISO2":"NP","ISO3":"NPL","Phone Code":977,"Currency":"Rupee"},{"Country Name":"Netherlands","ISO2":"NL","ISO3":"NLD","Phone Code":31,"Currency":"Euro"},{"Country Name":"Netherlands Antilles","ISO2":"AN","ISO3":"ANT","Phone Code":599,"Currency":"Guilder"},{"Country Name":"New Caledonia","ISO2":"NC","ISO3":"NCL","Phone Code":687,"Currency":"Franc"},{"Country Name":"New Zealand","ISO2":"NZ","ISO3":"NZL","Phone Code":64,"Currency":"Dollar"},{"Country Name":"Nicaragua","ISO2":"NI","ISO3":"NIC","Phone Code":505,"Currency":"Cordoba"},{"Country Name":"Niger","ISO2":"NE","ISO3":"NER","Phone Code":227,"Currency":"Franc"},{"Country Name":"Nigeria","ISO2":"NG","ISO3":"NGA","Phone Code":234,"Currency":"Naira"},{"Country Name":"Niue","ISO2":"NU","ISO3":"NIU","Phone Code":683,"Currency":"Dollar"},{"Country Name":"North Korea","ISO2":"KP","ISO3":"PRK","Phone Code":850,"Currency":"Won"},{"Country Name":"Northern Mariana Islands","ISO2":"MP","ISO3":"MNP","Phone Code":"1-670","Currency":"Dollar"},{"Country Name":"Norway","ISO2":"NO","ISO3":"NOR","Phone Code":47,"Currency":"Krone"},{"Country Name":"Oman","ISO2":"OM","ISO3":"OMN","Phone Code":968,"Currency":"Rial"},{"Country Name":"Pakistan","ISO2":"PK","ISO3":"PAK","Phone Code":92,"Currency":"Rupee"},{"Country Name":"Palau","ISO2":"PW","ISO3":"PLW","Phone Code":680,"Currency":"Dollar"},{"Country Name":"Palestine","ISO2":"PS","ISO3":"PSE","Phone Code":970,"Currency":"Shekel"},{"Country Name":"Panama","ISO2":"PA","ISO3":"PAN","Phone Code":507,"Currency":"Balboa"},{"Country Name":"Papua New Guinea","ISO2":"PG","ISO3":"PNG","Phone Code":675,"Currency":"Kina"},{"Country Name":"Paraguay","ISO2":"PY","ISO3":"PRY","Phone Code":595,"Currency":"Guarani"},{"Country Name":"Peru","ISO2":"PE","ISO3":"PER","Phone Code":51,"Currency":"Sol"},{"Country Name":"Philippines","ISO2":"PH","ISO3":"PHL","Phone Code":63,"Currency":"Peso"},{"Country Name":"Pitcairn","ISO2":"PN","ISO3":"PCN","Phone Code":64,"Currency":"Dollar"},{"Country Name":"Poland","ISO2":"PL","ISO3":"POL","Phone Code":48,"Currency":"Zloty"},{"Country Name":"Portugal","ISO2":"PT","ISO3":"PRT","Phone Code":351,"Currency":"Euro"},{"Country Name":"Puerto Rico","ISO2":"PR","ISO3":"PRI","Phone Code":"1-787, 1-939","Currency":"Dollar"},{"Country Name":"Qatar","ISO2":"QA","ISO3":"QAT","Phone Code":974,"Currency":"Rial"},{"Country Name":"Republic of the Congo","ISO2":"CG","ISO3":"COG","Phone Code":242,"Currency":"Franc"},{"Country Name":"Reunion","ISO2":"RE","ISO3":"REU","Phone Code":262,"Currency":"Euro"},{"Country Name":"Romania","ISO2":"RO","ISO3":"ROU","Phone Code":40,"Currency":"Leu"},{"Country Name":"Russia","ISO2":"RU","ISO3":"RUS","Phone Code":7,"Currency":"Ruble"},{"Country Name":"Rwanda","ISO2":"RW","ISO3":"RWA","Phone Code":250,"Currency":"Franc"},{"Country Name":"Saint Barthelemy","ISO2":"BL","ISO3":"BLM","Phone Code":590,"Currency":"Euro"},{"Country Name":"Saint Helena","ISO2":"SH","ISO3":"SHN","Phone Code":290,"Currency":"Pound"},{"Country Name":"Saint Kitts and Nevis","ISO2":"KN","ISO3":"KNA","Phone Code":"1-869","Currency":"Dollar"},{"Country Name":"Saint Lucia","ISO2":"LC","ISO3":"LCA","Phone Code":"1-758","Currency":"Dollar"},{"Country Name":"Saint Martin","ISO2":"MF","ISO3":"MAF","Phone Code":590,"Currency":"Euro"},{"Country Name":"Saint Pierre and Miquelon","ISO2":"PM","ISO3":"SPM","Phone Code":508,"Currency":"Euro"},{"Country Name":"Saint Vincent and the Grenadines","ISO2":"VC","ISO3":"VCT","Phone Code":"1-784","Currency":"Dollar"},{"Country Name":"Samoa","ISO2":"WS","ISO3":"WSM","Phone Code":685,"Currency":"Tala"},{"Country Name":"San Marino","ISO2":"SM","ISO3":"SMR","Phone Code":378,"Currency":"Euro"},{"Country Name":"Sao Tome and Principe","ISO2":"ST","ISO3":"STP","Phone Code":239,"Currency":"Dobra"},{"Country Name":"Saudi Arabia","ISO2":"SA","ISO3":"SAU","Phone Code":966,"Currency":"Rial"},{"Country Name":"Senegal","ISO2":"SN","ISO3":"SEN","Phone Code":221,"Currency":"Franc"},{"Country Name":"Serbia","ISO2":"RS","ISO3":"SRB","Phone Code":381,"Currency":"Dinar"},{"Country Name":"Seychelles","ISO2":"SC","ISO3":"SYC","Phone Code":248,"Currency":"Rupee"},{"Country Name":"Sierra Leone","ISO2":"SL","ISO3":"SLE","Phone Code":232,"Currency":"Leone"},{"Country Name":"Singapore","ISO2":"SG","ISO3":"SGP","Phone Code":65,"Currency":"Dollar"},{"Country Name":"Sint Maarten","ISO2":"SX","ISO3":"SXM","Phone Code":"1-721","Currency":"Guilder"},{"Country Name":"Slovakia","ISO2":"SK","ISO3":"SVK","Phone Code":421,"Currency":"Euro"},{"Country Name":"Slovenia","ISO2":"SI","ISO3":"SVN","Phone Code":386,"Currency":"Euro"},{"Country Name":"Solomon Islands","ISO2":"SB","ISO3":"SLB","Phone Code":677,"Currency":"Dollar"},{"Country Name":"Somalia","ISO2":"SO","ISO3":"SOM","Phone Code":252,"Currency":"Shilling"},{"Country Name":"South Africa","ISO2":"ZA","ISO3":"ZAF","Phone Code":27,"Currency":"Rand"},{"Country Name":"South Korea","ISO2":"KR","ISO3":"KOR","Phone Code":82,"Currency":"Won"},{"Country Name":"South Sudan","ISO2":"SS","ISO3":"SSD","Phone Code":211,"Currency":"Pound"},{"Country Name":"Spain","ISO2":"ES","ISO3":"ESP","Phone Code":34,"Currency":"Euro"},{"Country Name":"Sri Lanka","ISO2":"LK","ISO3":"LKA","Phone Code":94,"Currency":"Rupee"},{"Country Name":"Sudan","ISO2":"SD","ISO3":"SDN","Phone Code":249,"Currency":"Pound"},{"Country Name":"Suriname","ISO2":"SR","ISO3":"SUR","Phone Code":597,"Currency":"Dollar"},{"Country Name":"Svalbard and Jan Mayen","ISO2":"SJ","ISO3":"SJM","Phone Code":47,"Currency":"Krone"},{"Country Name":"Swaziland","ISO2":"SZ","ISO3":"SWZ","Phone Code":268,"Currency":"Lilangeni"},{"Country Name":"Sweden","ISO2":"SE","ISO3":"SWE","Phone Code":46,"Currency":"Krona"},{"Country Name":"Switzerland","ISO2":"CH","ISO3":"CHE","Phone Code":41,"Currency":"Franc"},{"Country Name":"Syria","ISO2":"SY","ISO3":"SYR","Phone Code":963,"Currency":"Pound"},{"Country Name":"Taiwan","ISO2":"TW","ISO3":"TWN","Phone Code":886,"Currency":"Dollar"},{"Country Name":"Tajikistan","ISO2":"TJ","ISO3":"TJK","Phone Code":992,"Currency":"Somoni"},{"Country Name":"Tanzania","ISO2":"TZ","ISO3":"TZA","Phone Code":255,"Currency":"Shilling"},{"Country Name":"Thailand","ISO2":"TH","ISO3":"THA","Phone Code":66,"Currency":"Baht"},{"Country Name":"Togo","ISO2":"TG","ISO3":"TGO","Phone Code":228,"Currency":"Franc"},{"Country Name":"Tokelau","ISO2":"TK","ISO3":"TKL","Phone Code":690,"Currency":"Dollar"},{"Country Name":"Tonga","ISO2":"TO","ISO3":"TON","Phone Code":676,"Currency":"Pa'anga"},{"Country Name":"Trinidad and Tobago","ISO2":"TT","ISO3":"TTO","Phone Code":"1-868","Currency":"Dollar"},{"Country Name":"Tunisia","ISO2":"TN","ISO3":"TUN","Phone Code":216,"Currency":"Dinar"},{"Country Name":"Turkey","ISO2":"TR","ISO3":"TUR","Phone Code":90,"Currency":"Lira"},{"Country Name":"Turkmenistan","ISO2":"TM","ISO3":"TKM","Phone Code":993,"Currency":"Manat"},{"Country Name":"Turks and Caicos Islands","ISO2":"TC","ISO3":"TCA","Phone Code":"1-649","Currency":"Dollar"},{"Country Name":"Tuvalu","ISO2":"TV","ISO3":"TUV","Phone Code":688,"Currency":"Dollar"},{"Country Name":"U.S. Virgin Islands","ISO2":"VI","ISO3":"VIR","Phone Code":"1-340","Currency":"Dollar"},{"Country Name":"Uganda","ISO2":"UG","ISO3":"UGA","Phone Code":256,"Currency":"Shilling"},{"Country Name":"Ukraine","ISO2":"UA","ISO3":"UKR","Phone Code":380,"Currency":"Hryvnia"},{"Country Name":"United Arab Emirates","ISO2":"AE","ISO3":"ARE","Phone Code":971,"Currency":"Dirham"},{"Country Name":"United Kingdom","ISO2":"GB","ISO3":"GBR","Phone Code":44,"Currency":"Pound"},{"Country Name":"United States","ISO2":"US","ISO3":"USA","Phone Code":1,"Currency":"Dollar"},{"Country Name":"Uruguay","ISO2":"UY","ISO3":"URY","Phone Code":598,"Currency":"Peso"},{"Country Name":"Uzbekistan","ISO2":"UZ","ISO3":"UZB","Phone Code":998,"Currency":"Som"},{"Country Name":"Vanuatu","ISO2":"VU","ISO3":"VUT","Phone Code":678,"Currency":"Vatu"},{"Country Name":"Vatican","ISO2":"VA","ISO3":"VAT","Phone Code":379,"Currency":"Euro"},{"Country Name":"Venezuela","ISO2":"VE","ISO3":"VEN","Phone Code":58,"Currency":"Bolivar"},{"Country Name":"Vietnam","ISO2":"VN","ISO3":"VNM","Phone Code":84,"Currency":"Dong"},{"Country Name":"Wallis and Futuna","ISO2":"WF","ISO3":"WLF","Phone Code":681,"Currency":"Franc"},{"Country Name":"Western Sahara","ISO2":"EH","ISO3":"ESH","Phone Code":212,"Currency":"Dirham"},{"Country Name":"Yemen","ISO2":"YE","ISO3":"YEM","Phone Code":967,"Currency":"Rial"},{"Country Name":"Zambia","ISO2":"ZM","ISO3":"ZMB","Phone Code":260,"Currency":"Kwacha"},{"Country Name":"Zimbabwe","ISO2":"ZW","ISO3":"ZWE","Phone Code":263,"Currency":"Dollar"}]`);const ws={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Ts={class:`max-w-4xl mx-auto`},Es={class:`mb-8`},Ds={class:`flex items-center space-x-4 mb-2`},Os={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},ks={class:`px-6 py-8`},As={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},js={class:`md:col-span-2 relative`},Ms={class:`relative`},Ns=[`disabled`],Ps={key:0,class:`absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-auto`},Fs=[`onClick`],Is={class:`flex justify-between items-center`},Ls={class:`flex space-x-2 text-sm text-gray-500 dark:text-gray-400`},Rs={key:0},zs={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Bs={key:1,class:`mt-1 text-xs text-gray-500`},Vs={class:`md:col-span-2`},Hs={class:`flex items-start`},Us={class:`flex items-center h-5`},Ws=[`disabled`],Gs={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Ks={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},qs={class:`flex items-center space-x-2`},Js={class:`font-mono font-semibold bg-gray-100 dark:bg-gray-600 px-2 py-1 rounded text-sm`},Ys={class:`font-mono font-semibold bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 px-2 py-1 rounded text-sm`},Xs={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Zs={key:0,class:`flex items-center`},Qs={class:`p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg`},$s={class:`font-mono bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-3 py-2 rounded text-lg`},ec={key:0,class:`p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg`},tc={class:`space-y-2`},nc={class:`text-sm text-blue-700 dark:text-blue-400`},rc={class:`text-sm text-blue-700 dark:text-blue-400`},ic={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},ac=[`disabled`],oc=[`disabled`],sc={key:0,class:`flex items-center justify-center`},cc={key:1},lc={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},uc={class:`flex`},dc={class:`flex-shrink-0`};var fc=v({__name:`CreatePage`,emits:[`back`,`success`,`cancel`],setup(t,{emit:r}){let i=r,a=be(),{errors:o,hasErrors:s,getFieldError:c,validateCreateRequest:l,clearFieldError:u,setServerErrors:d,clearErrors:f}=Ss(),p=O(!1),m=O({name:``,code:``,iso2:``,phone_code:``,is_active:!0}),h=O(!1),g=O([]),v=O(-1),S=B(()=>m.value.name.trim().length>0&&m.value.name.length<=255&&m.value.code.trim().length===3&&/^[A-Z]+$/.test(m.value.code.trim())&&m.value.iso2.trim().length===2&&/^[A-Z]+$/.test(m.value.iso2.trim())&&(m.value.phone_code===``||m.value.phone_code&&/^\+\d+$/.test(m.value.phone_code))),C=()=>{m.value.code=m.value.code.toUpperCase()},w=()=>{m.value.iso2=m.value.iso2.toUpperCase()},T=()=>{let e=m.value.phone_code||``;e=e.replace(/[^\d+]/g,``),e&&!e.startsWith(`+`)&&(e=`+`+e),e.length>10&&(e=e.substring(0,10)),m.value.phone_code=e},D=()=>{let e=m.value.name.toLowerCase().trim();if(e.length===0){g.value=[],h.value=!1;return}g.value=Cs.filter(t=>t[`Country Name`].toLowerCase().includes(e)).slice(0,10),h.value=g.value.length>0,v.value=-1},M=()=>{m.value.name&&g.value.length>0&&(h.value=!0)},N=()=>{setTimeout(()=>{h.value=!1,u(`name`)},200)},P=e=>{if(!(!h.value||g.value.length===0))switch(e.key){case`ArrowDown`:e.preventDefault(),v.value=Math.min(v.value+1,g.value.length-1);break;case`ArrowUp`:e.preventDefault(),v.value=Math.max(v.value-1,-1);break;case`Enter`:e.preventDefault(),v.value>=0&&v.value<g.value.length&&I(g.value[v.value]);break;case`Escape`:h.value=!1,v.value=-1;break}},I=e=>{if(m.value.name=e[`Country Name`],m.value.code=e.ISO3,m.value.iso2=e.ISO2,e[`Phone Code`]){let t=e[`Phone Code`].toString();m.value.phone_code=t.startsWith(`+`)?t:`+${t}`}else m.value.phone_code=``;h.value=!1,v.value=-1,u(`name`)},H=()=>{m.value={name:``,code:``,iso2:``,phone_code:``,is_active:!0},f()},J=async()=>{if(f(),l(m.value))try{p.value=!0,await a.createCountry(m.value),H(),i(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&d(e.response.data.errors)}finally{p.value=!1}},ee=()=>{H(),i(`cancel`)},Y=()=>{i(`back`)};return y(()=>{H()}),(t,r)=>(b(),W(`div`,ws,[V(`div`,Ts,[V(`div`,Es,[V(`div`,Ds,[V(`button`,{onClick:Y,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[_(k(e),{class:`w-5 h-5`})]),r[8]||=V(`div`,null,[V(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create Country `),V(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new country to the system `)],-1)])]),V(`div`,Os,[V(`div`,ks,[V(`form`,{onSubmit:R(J,[`prevent`]),class:`space-y-8`},[V(`div`,null,[r[11]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),V(`div`,As,[V(`div`,js,[r[9]||=V(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},[K(` Country Name `),V(`span`,{class:`text-red-500`},`*`)],-1),V(`div`,Ms,[E(V(`input`,{type:`text`,maxlength:255,disabled:p.value,onInput:D,onFocus:M,onBlur:N,onKeydown:P,"onUpdate:modelValue":r[0]||=e=>m.value.name=e,placeholder:`Enter country name (e.g., United States)`,class:A([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,k(c)(`name`)?`border-red-300 text-red-900 placeholder-red-300`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},null,42,Ns),[[L,m.value.name]]),h.value&&g.value.length>0?(b(),W(`div`,Ps,[(b(!0),W(z,null,x(g.value,(e,t)=>(b(),W(`div`,{key:t,onClick:t=>I(e),class:A([`px-3 py-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700`,v.value===t?`bg-indigo-100 dark:bg-indigo-900 text-indigo-900 dark:text-indigo-100`:`text-gray-900 dark:text-gray-100`])},[V(`div`,Is,[V(`span`,null,j(e[`Country Name`]),1),V(`div`,Ls,[V(`span`,null,j(e.ISO2),1),V(`span`,null,j(e.ISO3),1),e[`Phone Code`]?(b(),W(`span`,Rs,`+`+j(e[`Phone Code`]),1)):U(``,!0)])])],10,Fs))),128))])):U(``,!0)]),k(c)(`name`)?(b(),W(`p`,zs,j(k(c)(`name`)),1)):U(``,!0),m.value.name.length>0?(b(),W(`p`,Bs,j(m.value.name.length)+`/255 characters `,1)):U(``,!0)]),V(`div`,Vs,[V(`div`,Hs,[V(`div`,Us,[E(V(`input`,{id:`is_active`,"onUpdate:modelValue":r[1]||=e=>m.value.is_active=e,type:`checkbox`,disabled:p.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Ws),[[F,m.value.is_active]])]),r[10]||=V(`div`,{class:`ml-3`},[V(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),V(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this country will be available for selection `)],-1)])])])]),V(`div`,null,[r[15]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Country Codes `,-1),V(`div`,Gs,[V(`div`,null,[_(q,{type:`text`,maxlength:3,disabled:p.value,onBlur:r[2]||=()=>k(u)(`code`),onInput:C,modelValue:m.value.code,"onUpdate:modelValue":r[3]||=e=>m.value.code=e,placeholder:`Enter 3-letter code (e.g., USA)`,error:k(c)(`code`),required:``,label:`Country Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),r[12]||=V(`p`,{class:`mt-1 text-xs text-gray-500`},` 3-letter country code (automatically converted to uppercase) `,-1)]),V(`div`,null,[_(q,{type:`text`,maxlength:2,disabled:p.value,onBlur:r[4]||=()=>k(u)(`iso2`),onInput:w,modelValue:m.value.iso2,"onUpdate:modelValue":r[5]||=e=>m.value.iso2=e,placeholder:`Enter 2-letter ISO code (e.g., US)`,error:k(c)(`iso2`),required:``,label:`ISO2 Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),r[13]||=V(`p`,{class:`mt-1 text-xs text-gray-500`},` 2-letter ISO code (automatically converted to uppercase) `,-1)])]),m.value.code&&m.value.iso2?(b(),W(`div`,Ks,[r[14]||=V(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Preview:`,-1),V(`div`,qs,[V(`span`,Js,j(m.value.code),1),V(`span`,Ys,j(m.value.iso2),1)])])):U(``,!0)]),V(`div`,null,[r[18]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Phone Information `,-1),V(`div`,Xs,[V(`div`,null,[_(q,{type:`text`,maxlength:10,disabled:p.value,onBlur:r[6]||=()=>k(u)(`phone_code`),onInput:T,modelValue:m.value.phone_code,"onUpdate:modelValue":r[7]||=e=>m.value.phone_code=e,placeholder:`Enter phone code (e.g., +1)`,error:k(c)(`phone_code`),label:`Phone Code (Optional)`},null,8,[`disabled`,`modelValue`,`error`]),r[16]||=V(`p`,{class:`mt-1 text-xs text-gray-500`},` International dialing code with + prefix (e.g., +1, +44, +91) `,-1)]),m.value.phone_code?(b(),W(`div`,Zs,[V(`div`,Qs,[r[17]||=V(`p`,{class:`text-sm font-medium text-purple-700 dark:text-purple-300 mb-1`},`Phone Code Preview:`,-1),V(`span`,$s,j(m.value.phone_code),1)])])):U(``,!0)])]),m.value.name&&m.value.code&&m.value.iso2?(b(),W(`div`,ec,[r[21]||=V(`h4`,{class:`text-sm font-medium text-blue-800 dark:text-blue-300 mb-2`},`Country Preview`,-1),V(`div`,tc,[V(`p`,nc,[r[19]||=V(`strong`,null,`Display Name:`,-1),K(` `+j(m.value.name)+` (`+j(m.value.iso2)+`) `,1)]),V(`p`,rc,[r[20]||=V(`strong`,null,`Full Display:`,-1),K(` `+j(m.value.name)+` (`+j(m.value.iso2)+`)`+j(m.value.phone_code?` `+m.value.phone_code:``),1)])])])):U(``,!0),V(`div`,ic,[V(`button`,{type:`button`,onClick:ee,disabled:p.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,ac),V(`button`,{type:`submit`,disabled:p.value||k(s)||!S.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[p.value?(b(),W(`div`,sc,r[22]||=[V(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),K(` Creating... `,-1)])):(b(),W(`span`,cc,`Create Country`))],8,oc)])],32)])]),V(`div`,lc,[V(`div`,uc,[V(`div`,dc,[_(k(n),{class:`h-5 w-5 text-blue-400`})]),r[23]||=G(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> About Countries </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Countries are used throughout the system for addresses, phone numbers, and localization: </p><ul class="list-disc list-inside space-y-1"><li><strong>Name:</strong> Full country name (e.g., &quot;United States&quot;)</li><li><strong>Code:</strong> 3-letter country code (e.g., &quot;USA&quot;, &quot;CAN&quot;, &quot;GBR&quot;)</li><li><strong>ISO2:</strong> 2-letter ISO code (e.g., &quot;US&quot;, &quot;CA&quot;, &quot;GB&quot;)</li><li><strong>Phone Code:</strong> International dialing code (e.g., &quot;+1&quot;, &quot;+44&quot;)</li><li><strong>Status:</strong> Active countries appear in dropdown lists</li></ul></div></div>`,1)])])])]))}}),pc=fc;const mc={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},hc={class:`max-w-4xl mx-auto`},gc={class:`mb-8`},_c={class:`flex items-center space-x-4 mb-2`},vc={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},yc={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},bc={class:`px-6 py-8`},xc={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Sc={class:`md:col-span-2 relative`},Cc={class:`relative`},wc=[`disabled`],Tc={key:0,class:`absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-auto`},Ec=[`onClick`],Dc={class:`flex justify-between items-center`},Oc={class:`flex space-x-2 text-sm text-gray-500 dark:text-gray-400`},kc={key:0},Ac={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},jc={key:1,class:`mt-1 text-xs text-gray-500`},Mc={class:`md:col-span-2`},Nc={class:`flex items-start`},Pc={class:`flex items-center h-5`},Fc=[`disabled`],Ic={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Lc={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},Rc={class:`flex items-center space-x-2`},zc={class:`font-mono font-semibold bg-gray-100 dark:bg-gray-600 px-2 py-1 rounded text-sm`},Bc={class:`font-mono font-semibold bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 px-2 py-1 rounded text-sm`},Vc={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Hc={key:0,class:`flex items-center`},Uc={class:`p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg`},Wc={class:`font-mono bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-3 py-2 rounded text-lg`},Gc={key:0,class:`p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg`},Kc={class:`space-y-2`},qc={class:`text-sm text-blue-700 dark:text-blue-400`},Jc={class:`text-sm text-blue-700 dark:text-blue-400`},Yc={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Xc=[`disabled`],Zc=[`disabled`],Qc={key:0,class:`flex items-center justify-center`},$c={key:1},el={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},tl={class:`flex flex-col items-center`},nl={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},rl={class:`flex`},il={class:`flex-shrink-0`};var al=v({__name:`EditPage`,props:{id:{},country:{}},emits:[`back`,`success`,`cancel`],setup(t,{emit:r}){let i=t,a=r,s=be(),{errors:c,hasErrors:l,getFieldError:u,validateUpdateRequest:d,clearFieldError:f,setServerErrors:p,clearErrors:m}=Ss(),h=O(!1),g=O(!1),v=O({name:``,code:``,iso2:``,phone_code:``,is_active:!0}),S=O({name:``,code:``,iso2:``,phone_code:``,is_active:!0}),C=O(!1),T=O([]),D=O(-1),M=B(()=>v.value.name.trim().length>0&&v.value.name.length<=255&&v.value.code.trim().length===3&&/^[A-Z]+$/.test(v.value.code.trim())&&v.value.iso2.trim().length===2&&/^[A-Z]+$/.test(v.value.iso2.trim())&&(v.value.phone_code===``||v.value.phone_code&&/^\+\d+$/.test(v.value.phone_code))),N=()=>{v.value.code=v.value.code.toUpperCase()},P=()=>{v.value.iso2=v.value.iso2.toUpperCase()},I=()=>{let e=v.value.phone_code||``;e=e.replace(/[^\d+]/g,``),e&&!e.startsWith(`+`)&&(e=`+`+e),e.length>10&&(e=e.substring(0,10)),v.value.phone_code=e},H=async()=>{try{g.value=!0;let e=i.country||await s.fetchCountry(i.id);e&&(v.value={name:e.name,code:e.code,iso2:e.iso2,phone_code:e.phone_code||``,is_active:e.is_active},S.value={name:e.name,code:e.code,iso2:e.iso2,phone_code:e.phone_code||``,is_active:e.is_active},m())}catch(e){console.error(`Error loading country:`,e)}finally{g.value=!1}},J=async()=>{if(m(),d(v.value))try{h.value=!0;let e={name:v.value.name,code:v.value.code,iso2:v.value.iso2,phone_code:v.value.phone_code||void 0,is_active:v.value.is_active};await s.updateCountry(i.id,e),S.value={...v.value},a(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&p(e.response.data.errors)}finally{h.value=!1}},ee=()=>{a(`cancel`)},Y=()=>{a(`back`)},te=()=>{let e=v.value.name.toLowerCase().trim();if(e.length===0){T.value=[],C.value=!1;return}T.value=Cs.filter(t=>t[`Country Name`].toLowerCase().includes(e)).slice(0,10),C.value=T.value.length>0,D.value=-1},ne=()=>{v.value.name&&T.value.length>0&&(C.value=!0)},re=()=>{setTimeout(()=>{C.value=!1,f(`name`)},200)},X=e=>{if(!(!C.value||T.value.length===0))switch(e.key){case`ArrowDown`:e.preventDefault(),D.value=Math.min(D.value+1,T.value.length-1);break;case`ArrowUp`:e.preventDefault(),D.value=Math.max(D.value-1,-1);break;case`Enter`:e.preventDefault(),D.value>=0&&D.value<T.value.length&&ie(T.value[D.value]);break;case`Escape`:C.value=!1,D.value=-1;break}},ie=e=>{if(v.value.name=e[`Country Name`],v.value.code=e.ISO3,v.value.iso2=e.ISO2,e[`Phone Code`]){let t=e[`Phone Code`].toString();v.value.phone_code=t.startsWith(`+`)?t:`+${t}`}else v.value.phone_code=``;C.value=!1,D.value=-1,f(`name`)};return y(()=>{H()}),w(()=>i.id,()=>{i.id&&H()}),(t,r)=>(b(),W(`div`,mc,[V(`div`,hc,[V(`div`,gc,[V(`div`,_c,[V(`button`,{onClick:Y,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[_(k(e),{class:`w-5 h-5`})]),r[8]||=V(`div`,null,[V(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Country `),V(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update country information and settings `)],-1)])]),g.value?(b(),W(`div`,vc,r[9]||=[V(`div`,{class:`flex items-center justify-center`},[V(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),V(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading country...`)],-1)])):v.value?(b(),W(`div`,yc,[V(`div`,bc,[V(`form`,{onSubmit:R(J,[`prevent`]),class:`space-y-8`},[V(`div`,null,[r[12]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),V(`div`,xc,[V(`div`,Sc,[r[10]||=V(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},[K(` Country Name `),V(`span`,{class:`text-red-500`},`*`)],-1),V(`div`,Cc,[E(V(`input`,{type:`text`,maxlength:255,disabled:h.value,onInput:te,onFocus:ne,onBlur:re,onKeydown:X,"onUpdate:modelValue":r[0]||=e=>v.value.name=e,placeholder:`Enter country name (e.g., United States)`,class:A([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,k(u)(`name`)?`border-red-300 text-red-900 placeholder-red-300`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},null,42,wc),[[L,v.value.name]]),C.value&&T.value.length>0?(b(),W(`div`,Tc,[(b(!0),W(z,null,x(T.value,(e,t)=>(b(),W(`div`,{key:t,onClick:t=>ie(e),class:A([`px-3 py-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700`,D.value===t?`bg-indigo-100 dark:bg-indigo-900 text-indigo-900 dark:text-indigo-100`:`text-gray-900 dark:text-gray-100`])},[V(`div`,Dc,[V(`span`,null,j(e[`Country Name`]),1),V(`div`,Oc,[V(`span`,null,j(e.ISO2),1),V(`span`,null,j(e.ISO3),1),e[`Phone Code`]?(b(),W(`span`,kc,`+`+j(e[`Phone Code`]),1)):U(``,!0)])])],10,Ec))),128))])):U(``,!0)]),k(u)(`name`)?(b(),W(`p`,Ac,j(k(u)(`name`)),1)):U(``,!0),v.value.name.length>0?(b(),W(`p`,jc,j(v.value.name.length)+`/255 characters `,1)):U(``,!0)]),V(`div`,Mc,[V(`div`,Nc,[V(`div`,Pc,[E(V(`input`,{id:`is_active`,"onUpdate:modelValue":r[1]||=e=>v.value.is_active=e,type:`checkbox`,disabled:h.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Fc),[[F,v.value.is_active]])]),r[11]||=V(`div`,{class:`ml-3`},[V(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),V(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this country will be available for selection `)],-1)])])])]),V(`div`,null,[r[16]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Country Codes `,-1),V(`div`,Ic,[V(`div`,null,[_(q,{type:`text`,maxlength:3,disabled:h.value,onBlur:r[2]||=()=>k(f)(`code`),onInput:N,modelValue:v.value.code,"onUpdate:modelValue":r[3]||=e=>v.value.code=e,placeholder:`Enter 3-letter code (e.g., USA)`,error:k(u)(`code`),required:``,label:`Country Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),r[13]||=V(`p`,{class:`mt-1 text-xs text-gray-500`},` 3-letter country code (automatically converted to uppercase) `,-1)]),V(`div`,null,[_(q,{type:`text`,maxlength:2,disabled:h.value,onBlur:r[4]||=()=>k(f)(`iso2`),onInput:P,modelValue:v.value.iso2,"onUpdate:modelValue":r[5]||=e=>v.value.iso2=e,placeholder:`Enter 2-letter ISO code (e.g., US)`,error:k(u)(`iso2`),required:``,label:`ISO2 Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),r[14]||=V(`p`,{class:`mt-1 text-xs text-gray-500`},` 2-letter ISO code (automatically converted to uppercase) `,-1)])]),v.value.code&&v.value.iso2?(b(),W(`div`,Lc,[r[15]||=V(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Preview:`,-1),V(`div`,Rc,[V(`span`,zc,j(v.value.code),1),V(`span`,Bc,j(v.value.iso2),1)])])):U(``,!0)]),V(`div`,null,[r[19]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Phone Information `,-1),V(`div`,Vc,[V(`div`,null,[_(q,{type:`text`,maxlength:10,disabled:h.value,onBlur:r[6]||=()=>k(f)(`phone_code`),onInput:I,modelValue:v.value.phone_code,"onUpdate:modelValue":r[7]||=e=>v.value.phone_code=e,placeholder:`Enter phone code (e.g., +1)`,error:k(u)(`phone_code`),label:`Phone Code (Optional)`},null,8,[`disabled`,`modelValue`,`error`]),r[17]||=V(`p`,{class:`mt-1 text-xs text-gray-500`},` International dialing code with + prefix (e.g., +1, +44, +91) `,-1)]),v.value.phone_code?(b(),W(`div`,Hc,[V(`div`,Uc,[r[18]||=V(`p`,{class:`text-sm font-medium text-purple-700 dark:text-purple-300 mb-1`},`Phone Code Preview:`,-1),V(`span`,Wc,j(v.value.phone_code),1)])])):U(``,!0)])]),v.value.name&&v.value.code&&v.value.iso2?(b(),W(`div`,Gc,[r[22]||=V(`h4`,{class:`text-sm font-medium text-blue-800 dark:text-blue-300 mb-2`},`Country Preview`,-1),V(`div`,Kc,[V(`p`,qc,[r[20]||=V(`strong`,null,`Display Name:`,-1),K(` `+j(v.value.name)+` (`+j(v.value.iso2)+`) `,1)]),V(`p`,Jc,[r[21]||=V(`strong`,null,`Full Display:`,-1),K(` `+j(v.value.name)+` (`+j(v.value.iso2)+`)`+j(v.value.phone_code?` `+v.value.phone_code:``),1)])])])):U(``,!0),V(`div`,Yc,[V(`button`,{type:`button`,onClick:ee,disabled:h.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,Xc),V(`button`,{type:`submit`,disabled:h.value||k(l)||!M.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[h.value?(b(),W(`div`,Qc,r[23]||=[V(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),K(` Updating... `,-1)])):(b(),W(`span`,$c,`Update Country`))],8,Zc)])],32)])])):(b(),W(`div`,el,[V(`div`,tl,[_(k(o),{class:`w-12 h-12 text-red-400 mb-4`}),r[24]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Country Not Found `,-1),r[25]||=V(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The country you're trying to edit could not be found. `,-1),V(`button`,{onClick:Y,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` ← Back to Countries `)])])),v.value?(b(),W(`div`,nl,[V(`div`,rl,[V(`div`,il,[_(k(n),{class:`h-5 w-5 text-blue-400`})]),r[26]||=G(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Country Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update country details carefully as this information affects: </p><ul class="list-disc list-inside space-y-1"><li>Address validation and formatting</li><li>Phone number formatting with country codes</li><li>Dropdown selections throughout the system</li><li>Localization and regional settings</li></ul></div></div>`,1)])])):U(``,!0)])]))}}),ol=al;const sl={class:`space-y-6`},cl={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},ll={class:`grid grid-cols-1 md:grid-cols-5 gap-4`},ul={class:`md:col-span-2`},dl={class:`relative`},fl={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},pl={key:0,class:`p-8 text-center`},ml={key:1,class:`p-8 text-center`},hl={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},gl={key:0,class:`mt-6`},_l={key:2,class:`overflow-x-auto`},vl={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},yl={class:`bg-gray-50 dark:bg-gray-700`},bl={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},xl={class:`flex flex-col`},Sl={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Cl={class:`flex flex-col`},wl={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Tl={class:`flex flex-col`},El={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Dl={class:`flex flex-col`},Ol={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},kl={class:`flex flex-col`},Al={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},jl={class:`flex flex-col`},Ml={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},Nl={class:`px-6 py-4 whitespace-nowrap`},Pl={class:`flex items-center`},Fl={class:`flex-shrink-0 h-10 w-10`},Il={class:`h-10 w-10 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center`},Ll={class:`ml-4`},Rl={class:`text-sm font-medium text-gray-900 dark:text-white flex items-center space-x-2`},zl={class:`font-mono font-semibold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 px-2 py-1 rounded text-xs`},Bl={key:0,class:`bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded text-xs font-medium`},Vl={class:`text-sm text-gray-500 dark:text-gray-400`},Hl={class:`px-6 py-4 whitespace-nowrap`},Ul={class:`text-sm text-gray-900 dark:text-white`},Wl={class:`font-medium`},Gl={key:0,class:`text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs`},Kl={class:`px-6 py-4 whitespace-nowrap`},ql={class:`text-sm text-gray-900 dark:text-white`},Jl={class:`font-mono font-semibold bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-3 py-1 rounded-full text-sm`},Yl={class:`px-6 py-4 whitespace-nowrap`},Xl={class:`px-6 py-4 whitespace-nowrap`},Zl={class:`px-6 py-4 whitespace-nowrap`},Ql={class:`text-sm text-gray-900 dark:text-white`},$l={class:`text-sm text-gray-600 dark:text-gray-400`},eu={class:`text-xs text-gray-500 dark:text-gray-500`},tu={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},nu={class:`flex items-center justify-end space-x-2`},ru=[`onClick`],iu=[`onClick`],au=[`onClick`],ou={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},su={class:`flex items-center justify-between`},cu={class:`flex-1 flex justify-between sm:hidden`},lu=[`disabled`],uu=[`disabled`],du={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},fu={class:`text-sm text-gray-700 dark:text-gray-300`},pu={class:`font-medium`},mu={class:`font-medium`},hu={class:`font-medium`},gu={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},_u=[`disabled`],vu=[`disabled`];var yu=v({__name:`IndexPage`,emits:[`create`,`edit`],setup(e,{emit:n}){P();let r=N(),a=_e(),o=n,f=O(!1),p=O(!1),m=O(null),h=O(null),g=O(null),v=O(!1),S=D({search:``,is_active:``,type:``,per_page:15,sort_by:``,sort_direction:`asc`,page:1}),C=O({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}),T=B(()=>a.taxCodes),M=B(()=>a.pagination),F=B(()=>a.loading),R=B(()=>[{key:`code`,label:`Tax Code`,type:`text`},{key:`name`,label:`Name`,type:`text`},{key:`description`,label:`Description`,type:`text`,fallback:`No description`},{key:`tax_percent`,label:`Tax Percentage`,type:`text`,suffix:`%`},{key:`type`,label:`Type`,type:`badge`},{key:`is_active`,label:`Status`,type:`status`},{key:`is_default`,label:`Default Tax Code`,type:`boolean`},{key:`created_by.name`,label:`Created By`,type:`text`,subKey:`created_at`},{key:`updated_by.name`,label:`Last Updated By`,type:`text`,subKey:`updated_at`}]);w(()=>({...S}),e=>{let{page:t,...n}=e;a.updateFilters(n)},{deep:!0});let H=async(e=1)=>{try{let t={...S,page:e};await a.fetchTaxCodes(t)}catch{r.error(`Failed to load tax codes`,{title:`Error`})}},G=()=>{h.value&&clearTimeout(h.value),h.value=setTimeout(()=>{H(1)},300)},q=e=>{S.sort_by===e?S.sort_direction=S.sort_direction===`asc`?`desc`:`asc`:(S.sort_by=e,S.sort_direction=`asc`),H(1)},J=e=>{e>=1&&M.value&&e<=M.value.last_page&&(S.page=e,H(e))},ee=e=>{g.value=e,v.value=!0},Y=e=>{m.value=e,C.value={title:`Delete Tax Code`,message:`Are you sure you want to delete "${e.code} - ${e.name}"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},p.value=!0},te=async()=>{m.value&&(await a.deleteTaxCode(m.value.id),X())},X=()=>{p.value=!1,m.value=null,C.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},ie=()=>{o(`create`)},Z=e=>{o(`edit`,e)};return y(()=>{H()}),(e,n)=>(b(),W(`div`,sl,[_(se,{title:`Tax Codes`,description:`Manage tax codes for calculations and reporting`,"create-button-text":`Create New Tax Code`,onCreate:ie}),V(`div`,cl,[V(`div`,ll,[V(`div`,ul,[n[16]||=V(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Tax Codes `,-1),V(`div`,dl,[E(V(`input`,{id:`search`,"onUpdate:modelValue":n[0]||=e=>S.search=e,type:`text`,placeholder:`Search by code, name, or description...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:G},null,544),[[L,S.search]]),_(k(re),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),V(`div`,null,[n[18]||=V(`label`,{for:`type`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Type `,-1),E(V(`select`,{id:`type`,"onUpdate:modelValue":n[1]||=e=>S.type=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:H},n[17]||=[V(`option`,{value:``},`All Types`,-1),V(`option`,{value:`inclusive`},`Inclusive`,-1),V(`option`,{value:`exclusive`},`Exclusive`,-1)],544),[[I,S.type]])]),V(`div`,null,[n[20]||=V(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Status `,-1),E(V(`select`,{id:`status`,"onUpdate:modelValue":n[2]||=e=>S.is_active=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:H},n[19]||=[V(`option`,{value:``},`All Status`,-1),V(`option`,{value:`true`},`Active`,-1),V(`option`,{value:`false`},`Inactive`,-1)],544),[[I,S.is_active]])]),V(`div`,null,[n[22]||=V(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),E(V(`select`,{id:`per-page`,"onUpdate:modelValue":n[3]||=e=>S.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:H},n[21]||=[V(`option`,{value:15},`15`,-1),V(`option`,{value:25},`25`,-1),V(`option`,{value:50},`50`,-1),V(`option`,{value:100},`100`,-1)],544),[[I,S.per_page]])])])]),V(`div`,fl,[F.value?(b(),W(`div`,pl,[_(k(t),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),n[23]||=V(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading tax codes...`,-1)])):T.value.length===0?(b(),W(`div`,ml,[_(k(d),{class:`h-12 w-12 mx-auto text-gray-400`}),n[25]||=V(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},` No tax codes found `,-1),V(`p`,hl,j(S.search?`Try adjusting your search criteria.`:`Get started by creating your first tax code.`),1),S.search?U(``,!0):(b(),W(`div`,gl,[V(`button`,{onClick:ie,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[_(k(ae),{class:`h-5 w-5 mr-2`}),n[24]||=K(` Add Your First Tax Code `,-1)])]))])):(b(),W(`div`,_l,[V(`table`,vl,[V(`thead`,yl,[V(`tr`,null,[V(`th`,bl,[V(`button`,{onClick:n[4]||=e=>q(`code`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[26]||=V(`span`,null,`Code`,-1),V(`div`,xl,[_(k(s),{class:A([`h-3 w-3`,S.sort_by===`code`&&S.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,S.sort_by===`code`&&S.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),V(`th`,Sl,[V(`button`,{onClick:n[5]||=e=>q(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[27]||=V(`span`,null,`Name`,-1),V(`div`,Cl,[_(k(s),{class:A([`h-3 w-3`,S.sort_by===`name`&&S.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,S.sort_by===`name`&&S.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),V(`th`,wl,[V(`button`,{onClick:n[6]||=e=>q(`tax_percent`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[28]||=V(`span`,null,`Tax Rate`,-1),V(`div`,Tl,[_(k(s),{class:A([`h-3 w-3`,S.sort_by===`tax_percent`&&S.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,S.sort_by===`tax_percent`&&S.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),V(`th`,El,[V(`button`,{onClick:n[7]||=e=>q(`type`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[29]||=V(`span`,null,`Type`,-1),V(`div`,Dl,[_(k(s),{class:A([`h-3 w-3`,S.sort_by===`type`&&S.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,S.sort_by===`type`&&S.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),V(`th`,Ol,[V(`button`,{onClick:n[8]||=e=>q(`is_active`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[30]||=V(`span`,null,`Status`,-1),V(`div`,kl,[_(k(s),{class:A([`h-3 w-3`,S.sort_by===`is_active`&&S.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,S.sort_by===`is_active`&&S.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),V(`th`,Al,[V(`button`,{onClick:n[9]||=e=>q(`created_at`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[31]||=V(`span`,null,`Created`,-1),V(`div`,jl,[_(k(s),{class:A([`h-3 w-3`,S.sort_by===`created_at`&&S.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,S.sort_by===`created_at`&&S.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),n[32]||=V(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),V(`tbody`,Ml,[(b(!0),W(z,null,x(T.value,e=>(b(),W(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[V(`td`,Nl,[V(`div`,Pl,[V(`div`,Fl,[V(`div`,Il,[_(k(d),{class:`h-5 w-5 text-green-600 dark:text-green-400`})])]),V(`div`,Ll,[V(`div`,Rl,[V(`span`,zl,j(e.code),1),e.is_default?(b(),W(`span`,Bl,` Default `)):U(``,!0)]),V(`div`,Vl,` ID: `+j(e.id),1)])])]),V(`td`,Hl,[V(`div`,Ul,[V(`div`,Wl,j(e.name),1),e.description?(b(),W(`div`,Gl,j(e.description),1)):U(``,!0)])]),V(`td`,Kl,[V(`div`,ql,[V(`span`,Jl,j(e.tax_percent)+`% `,1)])]),V(`td`,Yl,[V(`span`,{class:A([`px-2 py-1 rounded-full text-xs font-medium`,e.type===`inclusive`?`bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300`:`bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-300`])},j(e.type===`inclusive`?`Inclusive`:`Exclusive`),3)]),V(`td`,Xl,[_($,{active:e.is_active},null,8,[`active`])]),V(`td`,Zl,[V(`div`,Ql,[V(`div`,$l,j(e.created_by?.name||`-`),1),V(`div`,eu,j(k(le)(e.created_at)),1)])]),V(`td`,tu,[V(`div`,nu,[V(`button`,{onClick:t=>ee(e),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[_(k(i),{class:`w-4 h-4`})],8,ru),V(`button`,{onClick:t=>Z(e),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit Tax Code`},[_(k(oe),{class:`h-4 w-4`})],8,iu),V(`button`,{onClick:t=>Y(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete Tax Code`},[_(k(ne),{class:`h-4 w-4`})],8,au)])])]))),128))])])])),M.value&&M.value.total>0?(b(),W(`div`,ou,[V(`div`,su,[V(`div`,cu,[V(`button`,{onClick:n[10]||=e=>J(M.value.current_page-1),disabled:M.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,lu),V(`button`,{onClick:n[11]||=e=>J(M.value.current_page+1),disabled:M.value.current_page>=M.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,uu)]),V(`div`,du,[V(`div`,null,[V(`p`,fu,[n[33]||=K(` Showing `,-1),V(`span`,pu,j(M.value.from),1),n[34]||=K(` to `,-1),V(`span`,mu,j(M.value.to),1),n[35]||=K(` of `,-1),V(`span`,hu,j(M.value.total),1),n[36]||=K(` results `,-1)])]),V(`div`,null,[V(`nav`,gu,[V(`button`,{onClick:n[12]||=e=>J(M.value.current_page-1),disabled:M.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[_(k(l),{class:`h-5 w-5`})],8,_u),V(`button`,{onClick:n[13]||=e=>J(M.value.current_page+1),disabled:M.value.current_page>=M.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[_(k(c),{class:`h-5 w-5`})],8,vu)])])])])])):U(``,!0)]),_(ce,{show:p.value,"onUpdate:show":n[14]||=e=>p.value=e,type:`delete`,title:C.value.title,message:C.value.message,"confirm-text":C.value.buttonText,"loading-text":C.value.loadingText,loading:f.value,onConfirm:te,onCancel:X},null,8,[`show`,`title`,`message`,`confirm-text`,`loading-text`,`loading`]),_(ye,{show:v.value,"onUpdate:show":n[15]||=e=>v.value=e,item:g.value,title:`Tax Code Details`,"display-fields":R.value,size:`lg`},null,8,[`show`,`item`,`display-fields`])]))}}),bu=yu;const xu={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Su={class:`max-w-4xl mx-auto`},Cu={class:`mb-8`},wu={class:`flex items-center space-x-4 mb-2`},Tu={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Eu={class:`px-6 py-8`},Du={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Ou={class:`md:col-span-2`},ku=[`disabled`],Au={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},ju={key:1,class:`mt-1 text-xs text-gray-500`},Mu={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Nu=[`disabled`],Pu={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Fu={class:`mt-1 text-xs text-gray-500`},Iu={class:`flex`},Lu={class:`flex-shrink-0`},Ru={class:`ml-3`},zu={class:`space-y-4`},Bu={class:`flex items-start`},Vu={class:`flex items-center h-5`},Hu=[`disabled`],Uu={class:`flex items-start`},Wu={class:`flex items-center h-5`},Gu=[`disabled`],Ku={key:0,class:`p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg`},qu={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},Ju={class:`space-y-2`},Yu={key:0},Xu={class:`text-sm text-blue-700 dark:text-blue-400`},Zu={class:`text-sm font-medium text-blue-700 dark:text-blue-400`},Qu={key:1},$u={class:`text-sm text-blue-700 dark:text-blue-400`},ed={class:`text-sm font-medium text-blue-700 dark:text-blue-400`},td={class:`flex items-center justify-center`},nd={class:`font-mono font-semibold bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-4 py-2 rounded-full text-lg`},rd={key:1,class:`p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},id={class:`flex items-center space-x-2`},ad={class:`font-mono font-semibold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 px-2 py-1 rounded text-sm`},od={class:`text-gray-700 dark:text-gray-300`},sd={key:0,class:`font-mono font-semibold bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-2 py-1 rounded text-sm`},cd={key:1,class:`bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded text-xs font-medium`},ld={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},ud=[`disabled`],dd=[`disabled`],fd={key:0,class:`flex items-center justify-center`},pd={key:1},md={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},hd={class:`flex`},gd={class:`flex-shrink-0`};var _d=v({__name:`CreatePage`,emits:[`back`,`success`,`cancel`],setup(t,{emit:r}){let i=r,a=_e(),o=O(!1),s=O({}),c=O({code:``,name:``,description:``,tax_percent:0,type:`exclusive`,is_active:!0,is_default:!1}),l=B(()=>Object.keys(s.value).length>0),u=B(()=>c.value.code.trim().length>0&&c.value.name.trim().length>0&&c.value.tax_percent>=0&&c.value.tax_percent<=100&&(c.value.type===`inclusive`||c.value.type===`exclusive`)),d=e=>s.value[e]||``,f=e=>{s.value[e]&&delete s.value[e]},p=()=>{s.value={}},m=e=>{s.value={},Object.keys(e).forEach(t=>{e[t]&&e[t].length>0&&(s.value[t]=e[t][0])})},h=()=>{p();let e=!0;return c.value.code.trim()?c.value.code.length>50&&(s.value.code=`Tax code must be 50 characters or less`,e=!1):(s.value.code=`Tax code is required`,e=!1),c.value.name.trim()?c.value.name.length>255&&(s.value.name=`Tax name must be 255 characters or less`,e=!1):(s.value.name=`Tax name is required`,e=!1),c.value.description&&c.value.description.length>500&&(s.value.description=`Description must be 500 characters or less`,e=!1),c.value.tax_percent<0?(s.value.tax_percent=`Tax percentage cannot be negative`,e=!1):c.value.tax_percent>100&&(s.value.tax_percent=`Tax percentage cannot exceed 100%`,e=!1),(!c.value.type||c.value.type!==`inclusive`&&c.value.type!==`exclusive`)&&(s.value.type=`Tax type is required`,e=!1),e},g=()=>{c.value.code=c.value.code.toUpperCase()},v=()=>{c.value={code:``,name:``,description:``,tax_percent:0,type:`exclusive`,is_active:!0,is_default:!1},p()},x=async()=>{if(h())try{o.value=!0,await a.createTaxCode(c.value),v(),i(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&m(e.response.data.errors)}finally{o.value=!1}},S=()=>{v(),i(`cancel`)},C=()=>{i(`back`)};return y(()=>{v()}),(t,r)=>(b(),W(`div`,xu,[V(`div`,Su,[V(`div`,Cu,[V(`div`,wu,[V(`button`,{onClick:C,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[_(k(e),{class:`w-5 h-5`})]),r[12]||=V(`div`,null,[V(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create Tax Code `),V(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new tax code for calculations and reporting `)],-1)])]),V(`div`,Tu,[V(`div`,Eu,[V(`form`,{onSubmit:R(x,[`prevent`]),class:`space-y-8`},[V(`div`,null,[r[16]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),V(`div`,Du,[V(`div`,null,[_(q,{type:`text`,maxlength:50,disabled:o.value,onBlur:r[0]||=()=>f(`code`),onInput:g,modelValue:c.value.code,"onUpdate:modelValue":r[1]||=e=>c.value.code=e,placeholder:`Enter tax code (e.g., VAT-10, GST-5)`,error:d(`code`),required:``,label:`Tax Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),r[13]||=V(`p`,{class:`mt-1 text-xs text-gray-500`},` Unique identifier for this tax code (automatically converted to uppercase) `,-1)]),V(`div`,null,[_(q,{type:`text`,maxlength:255,disabled:o.value,onBlur:r[2]||=()=>f(`name`),modelValue:c.value.name,"onUpdate:modelValue":r[3]||=e=>c.value.name=e,placeholder:`Enter tax name (e.g., Value Added Tax)`,error:d(`name`),required:``,label:`Tax Name`},null,8,[`disabled`,`modelValue`,`error`]),r[14]||=V(`p`,{class:`mt-1 text-xs text-gray-500`},` Descriptive name for this tax code `,-1)]),V(`div`,Ou,[r[15]||=V(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Description (Optional) `,-1),E(V(`textarea`,{"onUpdate:modelValue":r[4]||=e=>c.value.description=e,disabled:o.value,onBlur:r[5]||=()=>f(`description`),rows:`3`,maxlength:500,placeholder:`Enter detailed description of this tax code...`,class:A([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,d(`description`)?`border-red-300 text-red-900 placeholder-red-300`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},null,42,ku),[[L,c.value.description]]),d(`description`)?(b(),W(`p`,Au,j(d(`description`)),1)):U(``,!0),c.value.description?(b(),W(`p`,ju,j(c.value.description.length)+`/500 characters `,1)):U(``,!0)])])]),V(`div`,null,[r[20]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Tax Configuration `,-1),V(`div`,Mu,[V(`div`,null,[_(q,{type:`number`,disabled:o.value,onBlur:r[6]||=()=>f(`tax_percent`),modelValue:c.value.tax_percent,"onUpdate:modelValue":r[7]||=e=>c.value.tax_percent=e,placeholder:`Enter tax percentage (e.g., 10.50)`,error:d(`tax_percent`),required:``,label:`Tax Percentage`,step:`0.01`,min:`0`,max:`100`},null,8,[`disabled`,`modelValue`,`error`]),r[17]||=V(`p`,{class:`mt-1 text-xs text-gray-500`},` Tax percentage rate (0.00 to 100.00) `,-1)]),V(`div`,null,[r[19]||=V(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},[K(` Tax Type `),V(`span`,{class:`text-red-500`},`*`)],-1),E(V(`select`,{"onUpdate:modelValue":r[8]||=e=>c.value.type=e,disabled:o.value,onChange:r[9]||=()=>f(`type`),class:A([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,d(`type`)?`border-red-300 text-red-900`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},r[18]||=[V(`option`,{value:``},`Select tax type`,-1),V(`option`,{value:`inclusive`},`Inclusive`,-1),V(`option`,{value:`exclusive`},`Exclusive`,-1)],42,Nu),[[I,c.value.type]]),d(`type`)?(b(),W(`p`,Pu,j(d(`type`)),1)):U(``,!0),V(`p`,Fu,j(c.value.type===`inclusive`?`Tax is included in the price`:c.value.type===`exclusive`?`Tax is added to the price`:`Choose whether tax is included in or added to the price`),1)])]),c.value.type?(b(),W(`div`,{key:0,class:A([`mt-4 p-4 rounded-lg`,c.value.type===`inclusive`?`bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800`:`bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800`])},[V(`div`,Iu,[V(`div`,Lu,[_(k(n),{class:A([c.value.type===`inclusive`?`text-green-400`:`text-orange-400`,`h-5 w-5`])},null,8,[`class`])]),V(`div`,Ru,[V(`h4`,{class:A([`text-sm font-medium`,c.value.type===`inclusive`?`text-green-800 dark:text-green-300`:`text-orange-800 dark:text-orange-300`])},j(c.value.type===`inclusive`?`Inclusive Tax`:`Exclusive Tax`),3),V(`p`,{class:A([`mt-1 text-sm`,c.value.type===`inclusive`?`text-green-700 dark:text-green-400`:`text-orange-700 dark:text-orange-400`])},j(c.value.type===`inclusive`?`The tax is already included in the displayed price. The system will calculate the base amount by removing the tax from the total.`:`The tax will be added to the base price. The system will calculate the total by adding the tax to the base amount.`),3)])])],2)):U(``,!0)]),V(`div`,null,[r[23]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Status Settings `,-1),V(`div`,zu,[V(`div`,Bu,[V(`div`,Vu,[E(V(`input`,{id:`is_active`,"onUpdate:modelValue":r[10]||=e=>c.value.is_active=e,type:`checkbox`,disabled:o.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Hu),[[F,c.value.is_active]])]),r[21]||=V(`div`,{class:`ml-3`},[V(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),V(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this tax code will be available for selection `)],-1)]),V(`div`,Uu,[V(`div`,Wu,[E(V(`input`,{id:`is_default`,"onUpdate:modelValue":r[11]||=e=>c.value.is_default=e,type:`checkbox`,disabled:o.value,class:`h-4 w-4 text-yellow-600 focus:ring-yellow-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Gu),[[F,c.value.is_default]])]),r[22]||=V(`div`,{class:`ml-3`},[V(`label`,{for:`is_default`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Default Tax Code `),V(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this tax code will be selected by default for new items `)],-1)])])]),c.value.tax_percent&&c.value.type?(b(),W(`div`,Ku,[r[27]||=V(`h4`,{class:`text-sm font-medium text-blue-800 dark:text-blue-300 mb-3`},`Tax Calculation Preview`,-1),V(`div`,qu,[V(`div`,Ju,[r[26]||=V(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},[V(`strong`,null,`Example with $100.00:`)],-1),c.value.type===`exclusive`?(b(),W(`div`,Yu,[r[24]||=V(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},`Base Amount: $100.00`,-1),V(`p`,Xu,`Tax Amount: $`+j((100*(c.value.tax_percent/100)).toFixed(2)),1),V(`p`,Zu,`Total: $`+j((100+100*(c.value.tax_percent/100)).toFixed(2)),1)])):(b(),W(`div`,Qu,[r[25]||=V(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},`Total Amount: $100.00`,-1),V(`p`,$u,`Tax Amount: $`+j((100-100/(1+c.value.tax_percent/100)).toFixed(2)),1),V(`p`,ed,`Base Amount: $`+j((100/(1+c.value.tax_percent/100)).toFixed(2)),1)]))]),V(`div`,td,[V(`span`,nd,j(c.value.tax_percent)+`% `,1)])])])):U(``,!0),c.value.code&&c.value.name?(b(),W(`div`,rd,[r[29]||=V(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Tax Code Preview:`,-1),V(`div`,id,[V(`span`,ad,j(c.value.code),1),r[28]||=V(`span`,{class:`text-gray-700 dark:text-gray-300`},`-`,-1),V(`span`,od,j(c.value.name),1),c.value.tax_percent?(b(),W(`span`,sd,j(c.value.tax_percent)+`% `,1)):U(``,!0),c.value.is_default?(b(),W(`span`,cd,` Default `)):U(``,!0)])])):U(``,!0),V(`div`,ld,[V(`button`,{type:`button`,onClick:S,disabled:o.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,ud),V(`button`,{type:`submit`,disabled:o.value||l.value||!u.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[o.value?(b(),W(`div`,fd,r[30]||=[V(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),K(` Creating... `,-1)])):(b(),W(`span`,pd,`Create Tax Code`))],8,dd)])],32)])]),V(`div`,md,[V(`div`,hd,[V(`div`,gd,[_(k(n),{class:`h-5 w-5 text-blue-400`})]),r[31]||=G(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> About Tax Codes </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Tax codes are used throughout the system for automatic tax calculations: </p><ul class="list-disc list-inside space-y-1"><li><strong>Code:</strong> Unique identifier (e.g., &quot;VAT-10&quot;, &quot;GST-5&quot;)</li><li><strong>Name:</strong> Descriptive name for the tax</li><li><strong>Percentage:</strong> Tax rate from 0.00% to 100.00%</li><li><strong>Type:</strong> Inclusive (tax included in price) or Exclusive (tax added to price)</li><li><strong>Default:</strong> Automatically selected for new items when enabled</li><li><strong>Status:</strong> Active tax codes appear in dropdown lists</li></ul></div></div>`,1)])])])]))}}),vd=_d;const yd={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},bd={class:`max-w-4xl mx-auto`},xd={class:`mb-8`},Sd={class:`flex items-center space-x-4 mb-2`},Cd={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},wd={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Td={class:`px-6 py-8`},Ed={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Dd={class:`md:col-span-2`},Od=[`disabled`],kd={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ad={key:1,class:`mt-1 text-xs text-gray-500`},jd={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Md=[`disabled`],Nd={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Pd={class:`mt-1 text-xs text-gray-500`},Fd={class:`flex`},Id={class:`flex-shrink-0`},Ld={class:`ml-3`},Rd={class:`space-y-4`},zd={class:`flex items-start`},Bd={class:`flex items-center h-5`},Vd=[`disabled`],Hd={class:`flex items-start`},Ud={class:`flex items-center h-5`},Wd=[`disabled`],Gd={key:0,class:`p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg`},Kd={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},qd={class:`space-y-2`},Jd={key:0},Yd={class:`text-sm text-blue-700 dark:text-blue-400`},Xd={class:`text-sm font-medium text-blue-700 dark:text-blue-400`},Zd={key:1},Qd={class:`text-sm text-blue-700 dark:text-blue-400`},$d={class:`text-sm font-medium text-blue-700 dark:text-blue-400`},ef={class:`flex items-center justify-center`},tf={class:`font-mono font-semibold bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-4 py-2 rounded-full text-lg`},nf={key:1,class:`p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},rf={class:`flex items-center space-x-2`},af={class:`font-mono font-semibold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 px-2 py-1 rounded text-sm`},sf={class:`text-gray-700 dark:text-gray-300`},cf={key:0,class:`font-mono font-semibold bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-2 py-1 rounded text-sm`},lf={key:1,class:`bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded text-xs font-medium`},uf={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},df=[`disabled`],ff=[`disabled`],pf={key:0,class:`flex items-center justify-center`},mf={key:1},hf={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},gf={class:`flex flex-col items-center`},_f={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},vf={class:`flex`},yf={class:`flex-shrink-0`};var bf=v({__name:`EditPage`,props:{id:{},taxCode:{}},emits:[`back`,`success`,`cancel`],setup(t,{emit:r}){let i=t,a=r,s=_e(),c=O(!1),l=O(!1),u=O({}),d=O({code:``,name:``,description:``,tax_percent:0,type:`exclusive`,is_active:!0,is_default:!1}),f=O({code:``,name:``,description:``,tax_percent:0,type:`exclusive`,is_active:!0,is_default:!1}),p=B(()=>Object.keys(u.value).length>0),m=B(()=>d.value.code.trim().length>0&&d.value.name.trim().length>0&&d.value.tax_percent>=0&&d.value.tax_percent<=100&&(d.value.type===`inclusive`||d.value.type===`exclusive`)),h=e=>u.value[e]||``,g=e=>{u.value[e]&&delete u.value[e]},v=()=>{u.value={}},x=e=>{u.value={},Object.keys(e).forEach(t=>{e[t]&&e[t].length>0&&(u.value[t]=e[t][0])})},S=()=>{v();let e=!0;return d.value.code.trim()?d.value.code.length>50&&(u.value.code=`Tax code must be 50 characters or less`,e=!1):(u.value.code=`Tax code is required`,e=!1),d.value.name.trim()?d.value.name.length>255&&(u.value.name=`Tax name must be 255 characters or less`,e=!1):(u.value.name=`Tax name is required`,e=!1),d.value.description&&d.value.description.length>500&&(u.value.description=`Description must be 500 characters or less`,e=!1),d.value.tax_percent<0?(u.value.tax_percent=`Tax percentage cannot be negative`,e=!1):d.value.tax_percent>100&&(u.value.tax_percent=`Tax percentage cannot exceed 100%`,e=!1),(!d.value.type||d.value.type!==`inclusive`&&d.value.type!==`exclusive`)&&(u.value.type=`Tax type is required`,e=!1),e},C=()=>{d.value.code=d.value.code.toUpperCase()},T=async()=>{try{l.value=!0;let e=i.taxCode||await s.fetchTaxCode(i.id);e&&(d.value={code:e.code,name:e.name,description:e.description||``,tax_percent:parseFloat(e.tax_percent),type:e.type,is_active:e.is_active,is_default:e.is_default},f.value={code:e.code,name:e.name,description:e.description||``,tax_percent:parseFloat(e.tax_percent),type:e.type,is_active:e.is_active,is_default:e.is_default},v())}catch(e){console.error(`Error loading tax code:`,e)}finally{l.value=!1}},D=async()=>{if(S())try{c.value=!0;let e={code:d.value.code,name:d.value.name,description:d.value.description||void 0,tax_percent:d.value.tax_percent,type:d.value.type,is_active:d.value.is_active,is_default:d.value.is_default};await s.updateTaxCode(i.id,e),f.value={...d.value},a(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&x(e.response.data.errors)}finally{c.value=!1}},M=()=>{a(`cancel`)},N=()=>{a(`back`)};return y(()=>{T()}),w(()=>i.id,()=>{i.id&&T()}),(t,r)=>(b(),W(`div`,yd,[V(`div`,bd,[V(`div`,xd,[V(`div`,Sd,[V(`button`,{onClick:N,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[_(k(e),{class:`w-5 h-5`})]),r[12]||=V(`div`,null,[V(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Tax Code `),V(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update tax code information and settings `)],-1)])]),l.value?(b(),W(`div`,Cd,r[13]||=[V(`div`,{class:`flex items-center justify-center`},[V(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),V(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading tax code...`)],-1)])):d.value?(b(),W(`div`,wd,[V(`div`,Td,[V(`form`,{onSubmit:R(D,[`prevent`]),class:`space-y-8`},[V(`div`,null,[r[17]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),V(`div`,Ed,[V(`div`,null,[_(q,{type:`text`,maxlength:50,disabled:c.value,onBlur:r[0]||=()=>g(`code`),onInput:C,modelValue:d.value.code,"onUpdate:modelValue":r[1]||=e=>d.value.code=e,placeholder:`Enter tax code (e.g., VAT-10, GST-5)`,error:h(`code`),required:``,label:`Tax Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),r[14]||=V(`p`,{class:`mt-1 text-xs text-gray-500`},` Unique identifier for this tax code (automatically converted to uppercase) `,-1)]),V(`div`,null,[_(q,{type:`text`,maxlength:255,disabled:c.value,onBlur:r[2]||=()=>g(`name`),modelValue:d.value.name,"onUpdate:modelValue":r[3]||=e=>d.value.name=e,placeholder:`Enter tax name (e.g., Value Added Tax)`,error:h(`name`),required:``,label:`Tax Name`},null,8,[`disabled`,`modelValue`,`error`]),r[15]||=V(`p`,{class:`mt-1 text-xs text-gray-500`},` Descriptive name for this tax code `,-1)]),V(`div`,Dd,[r[16]||=V(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Description (Optional) `,-1),E(V(`textarea`,{"onUpdate:modelValue":r[4]||=e=>d.value.description=e,disabled:c.value,onBlur:r[5]||=()=>g(`description`),rows:`3`,maxlength:500,placeholder:`Enter detailed description of this tax code...`,class:A([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,h(`description`)?`border-red-300 text-red-900 placeholder-red-300`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},null,42,Od),[[L,d.value.description]]),h(`description`)?(b(),W(`p`,kd,j(h(`description`)),1)):U(``,!0),d.value.description?(b(),W(`p`,Ad,j(d.value.description.length)+`/500 characters `,1)):U(``,!0)])])]),V(`div`,null,[r[21]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Tax Configuration `,-1),V(`div`,jd,[V(`div`,null,[_(q,{type:`number`,disabled:c.value,onBlur:r[6]||=()=>g(`tax_percent`),modelValue:d.value.tax_percent,"onUpdate:modelValue":r[7]||=e=>d.value.tax_percent=e,placeholder:`Enter tax percentage (e.g., 10.50)`,error:h(`tax_percent`),required:``,label:`Tax Percentage`,step:`0.01`,min:`0`,max:`100`},null,8,[`disabled`,`modelValue`,`error`]),r[18]||=V(`p`,{class:`mt-1 text-xs text-gray-500`},` Tax percentage rate (0.00 to 100.00) `,-1)]),V(`div`,null,[r[20]||=V(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},[K(` Tax Type `),V(`span`,{class:`text-red-500`},`*`)],-1),E(V(`select`,{"onUpdate:modelValue":r[8]||=e=>d.value.type=e,disabled:c.value,onChange:r[9]||=()=>g(`type`),class:A([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,h(`type`)?`border-red-300 text-red-900`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},r[19]||=[V(`option`,{value:``},`Select tax type`,-1),V(`option`,{value:`inclusive`},`Inclusive`,-1),V(`option`,{value:`exclusive`},`Exclusive`,-1)],42,Md),[[I,d.value.type]]),h(`type`)?(b(),W(`p`,Nd,j(h(`type`)),1)):U(``,!0),V(`p`,Pd,j(d.value.type===`inclusive`?`Tax is included in the price`:d.value.type===`exclusive`?`Tax is added to the price`:`Choose whether tax is included in or added to the price`),1)])]),d.value.type?(b(),W(`div`,{key:0,class:A([`mt-4 p-4 rounded-lg`,d.value.type===`inclusive`?`bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800`:`bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800`])},[V(`div`,Fd,[V(`div`,Id,[_(k(n),{class:A([d.value.type===`inclusive`?`text-green-400`:`text-orange-400`,`h-5 w-5`])},null,8,[`class`])]),V(`div`,Ld,[V(`h4`,{class:A([`text-sm font-medium`,d.value.type===`inclusive`?`text-green-800 dark:text-green-300`:`text-orange-800 dark:text-orange-300`])},j(d.value.type===`inclusive`?`Inclusive Tax`:`Exclusive Tax`),3),V(`p`,{class:A([`mt-1 text-sm`,d.value.type===`inclusive`?`text-green-700 dark:text-green-400`:`text-orange-700 dark:text-orange-400`])},j(d.value.type===`inclusive`?`The tax is already included in the displayed price. The system will calculate the base amount by removing the tax from the total.`:`The tax will be added to the base price. The system will calculate the total by adding the tax to the base amount.`),3)])])],2)):U(``,!0)]),V(`div`,null,[r[24]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Status Settings `,-1),V(`div`,Rd,[V(`div`,zd,[V(`div`,Bd,[E(V(`input`,{id:`is_active`,"onUpdate:modelValue":r[10]||=e=>d.value.is_active=e,type:`checkbox`,disabled:c.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Vd),[[F,d.value.is_active]])]),r[22]||=V(`div`,{class:`ml-3`},[V(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),V(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this tax code will be available for selection `)],-1)]),V(`div`,Hd,[V(`div`,Ud,[E(V(`input`,{id:`is_default`,"onUpdate:modelValue":r[11]||=e=>d.value.is_default=e,type:`checkbox`,disabled:c.value,class:`h-4 w-4 text-yellow-600 focus:ring-yellow-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Wd),[[F,d.value.is_default]])]),r[23]||=V(`div`,{class:`ml-3`},[V(`label`,{for:`is_default`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Default Tax Code `),V(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this tax code will be selected by default for new items `)],-1)])])]),d.value.tax_percent&&d.value.type?(b(),W(`div`,Gd,[r[28]||=V(`h4`,{class:`text-sm font-medium text-blue-800 dark:text-blue-300 mb-3`},`Tax Calculation Preview`,-1),V(`div`,Kd,[V(`div`,qd,[r[27]||=V(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},[V(`strong`,null,`Example with $100.00:`)],-1),d.value.type===`exclusive`?(b(),W(`div`,Jd,[r[25]||=V(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},`Base Amount: $100.00`,-1),V(`p`,Yd,`Tax Amount: $`+j((100*(d.value.tax_percent/100)).toFixed(2)),1),V(`p`,Xd,`Total: $`+j((100+100*(d.value.tax_percent/100)).toFixed(2)),1)])):(b(),W(`div`,Zd,[r[26]||=V(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},`Total Amount: $100.00`,-1),V(`p`,Qd,`Tax Amount: $`+j((100-100/(1+d.value.tax_percent/100)).toFixed(2)),1),V(`p`,$d,`Base Amount: $`+j((100/(1+d.value.tax_percent/100)).toFixed(2)),1)]))]),V(`div`,ef,[V(`span`,tf,j(d.value.tax_percent)+`% `,1)])])])):U(``,!0),d.value.code&&d.value.name?(b(),W(`div`,nf,[r[30]||=V(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Tax Code Preview:`,-1),V(`div`,rf,[V(`span`,af,j(d.value.code),1),r[29]||=V(`span`,{class:`text-gray-700 dark:text-gray-300`},`-`,-1),V(`span`,sf,j(d.value.name),1),d.value.tax_percent?(b(),W(`span`,cf,j(d.value.tax_percent)+`% `,1)):U(``,!0),d.value.is_default?(b(),W(`span`,lf,` Default `)):U(``,!0)])])):U(``,!0),V(`div`,uf,[V(`button`,{type:`button`,onClick:M,disabled:c.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,df),V(`button`,{type:`submit`,disabled:c.value||p.value||!m.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[c.value?(b(),W(`div`,pf,r[31]||=[V(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),K(` Updating... `,-1)])):(b(),W(`span`,mf,`Update Tax Code`))],8,ff)])],32)])])):(b(),W(`div`,hf,[V(`div`,gf,[_(k(o),{class:`w-12 h-12 text-red-400 mb-4`}),r[32]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Tax Code Not Found `,-1),r[33]||=V(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The tax code you're trying to edit could not be found. `,-1),V(`button`,{onClick:N,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` Back to Tax Codes `)])])),d.value?(b(),W(`div`,_f,[V(`div`,vf,[V(`div`,yf,[_(k(n),{class:`h-5 w-5 text-blue-400`})]),r[34]||=G(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Tax Code Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update tax code details carefully as this information affects: </p><ul class="list-disc list-inside space-y-1"><li>Tax calculations throughout the system</li><li>Invoice and receipt generation</li><li>Financial reporting and compliance</li><li>Item pricing and cost calculations</li><li>Default selections for new items (if set as default)</li></ul></div></div>`,1)])])):U(``,!0)])]))}}),xf=bf;const Sf={class:`space-y-6`},Cf={class:`flex flex-col sm:flex-row sm:items-center sm:justify-between`},wf={class:`mt-4 sm:mt-0 flex space-x-2`},Tf={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},Ef={class:`grid grid-cols-1 md:grid-cols-4 gap-4`},Df={class:`md:col-span-2`},Of={class:`relative`},kf={class:`mt-4 flex justify-end`},Af={class:`w-32`},jf={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},Mf={key:0,class:`p-8 text-center`},Nf={key:1,class:`p-8 text-center`},Pf={class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},Ff={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},If={key:0,class:`mt-6`},Lf={key:2,class:`overflow-x-auto`},Rf={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},zf={class:`bg-gray-50 dark:bg-gray-700`},Bf={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Vf={class:`flex flex-col`},Hf={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Uf={class:`flex flex-col`},Wf={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Gf={class:`flex flex-col`},Kf={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},qf={class:`px-6 py-4 whitespace-nowrap`},Jf={class:`flex items-center`},Yf={class:`flex-shrink-0 h-10 w-10`},Xf={class:`h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center`},Zf={class:`ml-4`},Qf={class:`text-sm font-medium text-gray-900 dark:text-white`},$f={class:`text-sm text-gray-500 dark:text-gray-400`},ep={class:`px-6 py-4`},tp={class:`text-sm text-gray-900 dark:text-white`},np={class:`px-6 py-4 whitespace-nowrap`},rp={class:`inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200`},ip={class:`px-6 py-4 whitespace-nowrap`},ap={class:`px-6 py-4 whitespace-nowrap`},op={class:`text-sm text-gray-900 dark:text-white`},sp={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},cp={class:`flex items-center justify-end space-x-2`},lp=[`onClick`],up=[`onClick`],dp=[`onClick`,`title`],fp=[`onClick`],pp=[`onClick`],mp=[`onClick`],hp={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},gp={class:`flex items-center justify-between`},_p={class:`flex-1 flex justify-between sm:hidden`},vp=[`disabled`],yp=[`disabled`],bp={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},xp={class:`text-sm text-gray-700 dark:text-gray-300`},Sp={class:`font-medium`},Cp={class:`font-medium`},wp={class:`font-medium`},Tp={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},Ep=[`disabled`],Dp=[`disabled`],Op={class:`flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0`},kp={class:`inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6`},Ap={class:`sm:flex sm:items-start`},jp={class:`mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/20 sm:mx-0 sm:h-10 sm:w-10`},Mp={class:`mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left`},Np={class:`text-lg leading-6 font-medium text-gray-900 dark:text-white`},Pp={class:`mt-2`},Fp={class:`text-sm text-gray-500 dark:text-gray-400`},Ip={class:`mt-5 sm:mt-4 sm:flex sm:flex-row-reverse`},Lp=[`disabled`],Rp={key:1,class:`fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50`},zp={class:`relative top-20 mx-auto p-5 border w-2/3 max-w-2xl shadow-lg rounded-md bg-white dark:bg-gray-800`},Bp={class:`flex justify-between items-center mb-4`},Vp={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Hp={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Up={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Wp={class:`mt-1 inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200`},Gp={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Kp={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},qp={key:0,class:`text-xs text-gray-500 dark:text-gray-400`},Jp={key:0},Yp={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Xp={class:`text-xs text-gray-500 dark:text-gray-400`},Zp={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Qp={class:`text-xs text-gray-500 dark:text-gray-400`},$p=`setups/users`;var em=v({__name:`Index`,emits:[`create`,`edit`],setup(e,{emit:n}){P();let r=N(),a=n,o=O(!1),d=O(!1),f=O([]),p=O(null),v=O(!1),S=O(null),C=O(null),w=O(!1),T=O(null),F=O(!1),q=O(``),Y=O(`asc`),Z=D({search:``,role:``,is_active:``,per_page:15}),Q=O({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``});B(()=>f.value.length>0||w.value);let se=e=>{let t={super_admin:`Super Admin`,admin:`Admin`,salesman:`Salesman`,warehouse_manager:`Warehouse Manager`,developer:`Developer`};return t[e]||e},ce=e=>{q.value===e?Y.value=Y.value===`asc`?`desc`:`asc`:(q.value=e,Y.value=`asc`),$(1)},$=async(e=1)=>{o.value=!0;try{let t=new URLSearchParams({page:e.toString(),per_page:Z.per_page.toString()});Z.search&&t.append(`search`,Z.search),Z.role&&t.append(`role`,Z.role),Z.is_active!==``&&t.append(`is_active`,Z.is_active),q.value&&(t.append(`sort_by`,q.value),t.append(`sort_direction`,Y.value));let n=w.value?`${$p}/trashed`:$p,r=await h(`${n}?${t}`);f.value=r.data.data||[],p.value=r.data.pagination}catch{r.error(`Failed to load users`,{title:`Error`})}finally{o.value=!1}},ue=e=>{T.value=e,F.value=!0},fe=()=>{F.value=!1,T.value=null},pe=()=>{C.value&&clearTimeout(C.value),C.value=setTimeout(()=>{$(1)},300)},me=e=>{e>=1&&p.value&&e<=p.value.last_page&&$(e)},he=e=>{S.value=e,Q.value={title:`Delete User`,message:`Are you sure you want to delete "${e.name}"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},v.value=!0},ge=e=>{S.value=e;let t=e.is_active?`deactivate`:`activate`;Q.value={title:`${t===`activate`?`Activate`:`Deactivate`} User`,message:`Are you sure you want to ${t} "${e.name}"?`,buttonText:t===`activate`?`Activate`:`Deactivate`,loadingText:`${t===`activate`?`Activating`:`Deactivating`}...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 ${t===`activate`?`bg-green-600 hover:bg-green-700 focus:ring-green-500`:`bg-orange-600 hover:bg-orange-700 focus:ring-orange-500`} text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`toggleStatus`},v.value=!0},_e=e=>{S.value=e,Q.value={title:`Restore User`,message:`Are you sure you want to restore "${e.name}"?`,buttonText:`Restore`,loadingText:`Restoring...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`restore`},v.value=!0},ve=e=>{S.value=e,Q.value={title:`Permanently Delete User`,message:`Are you sure you want to permanently delete "${e.name}"? This action cannot be undone.`,buttonText:`Delete Permanently`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`forceDelete`},v.value=!0},ye=async()=>{if(S.value){d.value=!0;try{let e=``,t=m,n={},i=``;switch(Q.value.action){case`delete`:e=`/${$p}/${S.value.id}`,t=m,i=`User deleted successfully`;break;case`toggleStatus`:e=`/${$p}/${S.value.id}/status`,t=M,n={},i=`User ${S.value.is_active?`deactivated`:`activated`} successfully`;break;case`restore`:e=`/${$p}/${S.value.id}/restore`,t=g,i=`User restored successfully`;break;case`forceDelete`:e=`/${$p}/${S.value.id}/force-delete`,t=m,i=`User permanently deleted successfully`;break}Q.value.action===`toggleStatus`?await t(e,n):await t(e),r.success(i,{title:`Success`}),be(),await $(p.value?.current_page||1)}catch{r.error(`Failed to perform action`,{title:`Error`})}finally{d.value=!1}}},be=()=>{v.value=!1,S.value=null,Q.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},xe=()=>{a(`create`)},Se=e=>{a(`edit`,e)};return y(()=>{$()}),(e,n)=>(b(),W(`div`,Sf,[V(`div`,Cf,[n[13]||=V(`div`,null,[V(`h1`,{class:`text-2xl font-bold text-gray-900 dark:text-white`},`Users`),V(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` Manage system users and their access permissions `)],-1),V(`div`,wf,[U(``,!0),V(`button`,{onClick:xe,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[_(k(ae),{class:`h-5 w-5 mr-2`}),n[12]||=K(` Create New User `,-1)])])]),V(`div`,Tf,[V(`div`,Ef,[V(`div`,Df,[n[14]||=V(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Users `,-1),V(`div`,Of,[E(V(`input`,{id:`search`,"onUpdate:modelValue":n[0]||=e=>Z.search=e,type:`text`,placeholder:`Search by name or email...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:pe},null,544),[[L,Z.search]]),_(k(re),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),V(`div`,null,[n[16]||=V(`label`,{for:`role`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Role `,-1),E(V(`select`,{id:`role`,"onUpdate:modelValue":n[1]||=e=>Z.role=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:$},n[15]||=[G(`<option value="">All Roles</option><option value="super_admin">Super Admin</option><option value="admin">Admin</option><option value="salesman">Salesman</option><option value="warehouse_manager">Warehouse Manager</option>`,5)],544),[[I,Z.role]])]),V(`div`,null,[n[18]||=V(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Status `,-1),E(V(`select`,{id:`status`,"onUpdate:modelValue":n[2]||=e=>Z.is_active=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:$},n[17]||=[V(`option`,{value:``},`All Status`,-1),V(`option`,{value:`1`},`Active`,-1),V(`option`,{value:`0`},`Inactive`,-1)],544),[[I,Z.is_active]])])]),V(`div`,kf,[V(`div`,Af,[n[20]||=V(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),E(V(`select`,{id:`per-page`,"onUpdate:modelValue":n[3]||=e=>Z.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:$},n[19]||=[V(`option`,{value:`15`},`15`,-1),V(`option`,{value:`25`},`25`,-1),V(`option`,{value:`50`},`50`,-1),V(`option`,{value:`100`},`100`,-1)],544),[[I,Z.per_page]])])])]),V(`div`,jf,[o.value?(b(),W(`div`,Mf,[_(k(t),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),n[21]||=V(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading users...`,-1)])):f.value.length===0?(b(),W(`div`,Nf,[_(k(ee),{class:`h-12 w-12 mx-auto text-gray-400`}),V(`h3`,Pf,j(w.value?`No trashed users found`:`No users found`),1),V(`p`,Ff,j(Z.search?`Try adjusting your search criteria.`:`Get started by creating your first user.`),1),!Z.search&&!w.value?(b(),W(`div`,If,[V(`button`,{onClick:xe,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[_(k(ae),{class:`h-5 w-5 mr-2`}),n[22]||=K(` Add Your First User `,-1)])])):U(``,!0)])):(b(),W(`div`,Lf,[V(`table`,Rf,[V(`thead`,zf,[V(`tr`,null,[V(`th`,Bf,[V(`button`,{onClick:n[4]||=e=>ce(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[23]||=V(`span`,null,`Name`,-1),V(`div`,Vf,[_(k(s),{class:A([`h-3 w-3`,q.value===`name`&&Y.value===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,q.value===`name`&&Y.value===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),n[26]||=V(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Email `,-1),V(`th`,Hf,[V(`button`,{onClick:n[5]||=e=>ce(`role`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[24]||=V(`span`,null,`Role`,-1),V(`div`,Uf,[_(k(s),{class:A([`h-3 w-3`,q.value===`role`&&Y.value===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,q.value===`role`&&Y.value===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),V(`th`,Wf,[V(`button`,{onClick:n[6]||=e=>ce(`is_active`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[n[25]||=V(`span`,null,`Status`,-1),V(`div`,Gf,[_(k(s),{class:A([`h-3 w-3`,q.value===`is_active`&&Y.value===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),_(k(u),{class:A([`h-3 w-3 -mt-1`,q.value===`is_active`&&Y.value===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),n[27]||=V(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Last Login `,-1),n[28]||=V(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),V(`tbody`,Kf,[(b(!0),W(z,null,x(f.value,e=>(b(),W(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[V(`td`,qf,[V(`div`,Jf,[V(`div`,Yf,[V(`div`,Xf,[_(k(ee),{class:`h-5 w-5 text-blue-600 dark:text-blue-400`})])]),V(`div`,Zf,[V(`div`,Qf,j(e.name),1),V(`div`,$f,j(e.employee?.name?`Employee: ${e.employee.name}`:`No employee linked`),1)])])]),V(`td`,ep,[V(`div`,tp,j(e.email),1)]),V(`td`,np,[V(`span`,rp,j(se(e.role)),1)]),V(`td`,ip,[V(`span`,{class:A([`inline-flex px-2 py-1 text-xs font-semibold rounded-full`,k(de)(e.is_active)])},j(e.is_active?`Active`:`Inactive`),3)]),V(`td`,ap,[V(`div`,op,j(e.last_login_at?k(le)(e.last_login_at):`Never`),1)]),V(`td`,sp,[V(`div`,cp,[w.value?(b(),W(z,{key:1},[V(`button`,{onClick:t=>_e(e),class:`text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 transition-colors duration-200`,title:`Restore User`},[_(k(X),{class:`h-4 w-4`})],8,pp),V(`button`,{onClick:t=>ve(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Permanently Delete`},[_(k(J),{class:`h-4 w-4`})],8,mp)],64)):(b(),W(z,{key:0},[V(`button`,{onClick:t=>ue(e),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[_(k(i),{class:`w-4 h-4`})],8,lp),V(`button`,{onClick:t=>Se(e),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit User`},[_(k(oe),{class:`h-4 w-4`})],8,up),V(`button`,{onClick:t=>ge(e),class:A([e.is_active?`text-orange-600 dark:text-orange-400 hover:text-orange-900 dark:hover:text-orange-300`:`text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300`,`transition-colors duration-200`]),title:e.is_active?`Deactivate User`:`Activate User`},[_(k(ie),{class:`h-4 w-4`})],10,dp),V(`button`,{onClick:t=>he(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete User`},[_(k(ne),{class:`h-4 w-4`})],8,fp)],64))])])]))),128))])])])),p.value&&p.value.total>0?(b(),W(`div`,hp,[V(`div`,gp,[V(`div`,_p,[V(`button`,{onClick:n[7]||=e=>me(p.value.current_page-1),disabled:p.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,vp),V(`button`,{onClick:n[8]||=e=>me(p.value.current_page+1),disabled:p.value.current_page>=p.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,yp)]),V(`div`,bp,[V(`div`,null,[V(`p`,xp,[n[29]||=K(` Showing `,-1),V(`span`,Sp,j(p.value.from),1),n[30]||=K(` to `,-1),V(`span`,Cp,j(p.value.to),1),n[31]||=K(` of `,-1),V(`span`,wp,j(p.value.total),1),n[32]||=K(` results `,-1)])]),V(`div`,null,[V(`nav`,Tp,[V(`button`,{onClick:n[9]||=e=>me(p.value.current_page-1),disabled:p.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[_(k(l),{class:`h-5 w-5`})],8,Ep),V(`button`,{onClick:n[10]||=e=>me(p.value.current_page+1),disabled:p.value.current_page>=p.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[_(k(c),{class:`h-5 w-5`})],8,Dp)])])])])])):U(``,!0)]),v.value?(b(),W(`div`,{key:0,class:`fixed inset-0 z-50 overflow-y-auto`,onClick:n[11]||=R(e=>v.value=!1,[`self`])},[V(`div`,Op,[n[33]||=V(`div`,{class:`fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity`},null,-1),V(`div`,kp,[V(`div`,Ap,[V(`div`,jp,[_(k(te),{class:`h-6 w-6 text-red-600 dark:text-red-400`})]),V(`div`,Mp,[V(`h3`,Np,j(Q.value.title),1),V(`div`,Pp,[V(`p`,Fp,j(Q.value.message),1)])])]),V(`div`,Ip,[V(`button`,{onClick:ye,disabled:d.value,class:A(Q.value.buttonClass)},[d.value?(b(),H(k(t),{key:0,class:`h-4 w-4 animate-spin mr-2`})):U(``,!0),K(` `+j(d.value?Q.value.loadingText:Q.value.buttonText),1)],10,Lp),V(`button`,{onClick:be,class:`mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm transition-colors duration-200`},` Cancel `)])])])])):U(``,!0),F.value&&T.value?(b(),W(`div`,Rp,[V(`div`,zp,[V(`div`,Bp,[n[34]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` User Details `,-1),V(`button`,{onClick:fe,class:`text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`},[_(k(J),{class:`w-6 h-6`})])]),V(`div`,Vp,[V(`div`,null,[n[35]||=V(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Name`,-1),V(`p`,Hp,j(T.value.name),1)]),V(`div`,null,[n[36]||=V(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Email`,-1),V(`p`,Up,j(T.value.email),1)]),V(`div`,null,[n[37]||=V(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Role`,-1),V(`span`,Wp,j(se(T.value.role)),1)]),V(`div`,null,[n[38]||=V(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Status`,-1),V(`span`,{class:A([k(de)(T.value.is_active),`mt-1 inline-flex px-2 py-1 text-xs font-semibold rounded-full`])},j(T.value.is_active?`Active`:`Inactive`),3)]),V(`div`,null,[n[39]||=V(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Last Login`,-1),V(`p`,Gp,j(T.value.last_login_at?k(le)(T.value.last_login_at):`Never`),1)]),V(`div`,null,[n[40]||=V(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Employee`,-1),V(`p`,Kp,j(T.value.employee?.name||`No employee linked`),1),T.value.employee?(b(),W(`p`,qp,[K(` Code: `+j(T.value.employee.code)+` `,1),T.value.employee.department?(b(),W(`span`,Jp,` | Dept: `+j(T.value.employee.department.name),1)):U(``,!0)])):U(``,!0)]),V(`div`,null,[n[41]||=V(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Created By`,-1),V(`p`,Yp,j(T.value.created_by?.name||`-`),1),V(`p`,Xp,j(k(le)(T.value.created_at)),1)]),V(`div`,null,[n[42]||=V(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Last Updated By`,-1),V(`p`,Zp,j(T.value.updated_by?.name||`-`),1),V(`p`,Qp,j(k(le)(T.value.updated_at)),1)])]),V(`div`,{class:`mt-6 flex justify-end space-x-3`},[V(`button`,{onClick:fe,class:`px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600`},` Close `)])])])):U(``,!0)]))}}),tm=em;function nm(){let e=O({}),t=B(()=>Object.keys(e.value).length>0),n=t=>e.value[t]?.[0],r=n=>{let r={};return!n.name||n.name.trim().length===0?r.name=[`Name is required`]:n.name.trim().length>255&&(r.name=[`Name must not exceed 255 characters`]),!n.email||n.email.trim().length===0?r.email=[`Email is required`]:n.email.trim().length>255?r.email=[`Email must not exceed 255 characters`]:a(n.email)||(r.email=[`Please enter a valid email address`]),!n.password||n.password.trim().length===0?r.password=[`Password is required`]:n.password.trim().length<8?r.password=[`Password must be at least 8 characters long`]:n.password.length>255&&(r.password=[`Password must not exceed 255 characters`]),!n.role||n.role.trim().length===0?r.role=[`Role is required`]:o(n.role)||(r.role=[`Please select a valid role`]),e.value=r,!t.value},i=n=>{let r={};return n.name!==void 0&&(!n.name||n.name.trim().length===0?r.name=[`Name is required`]:n.name.trim().length>255&&(r.name=[`Name must not exceed 255 characters`])),n.email!==void 0&&(!n.email||n.email.trim().length===0?r.email=[`Email is required`]:n.email.trim().length>255?r.email=[`Email must not exceed 255 characters`]:a(n.email)||(r.email=[`Please enter a valid email address`])),n.password!==void 0&&n.password&&n.password.trim().length>0&&(n.password.trim().length<8?r.password=[`Password must be at least 8 characters long`]:n.password.length>255&&(r.password=[`Password must not exceed 255 characters`])),n.role!==void 0&&(!n.role||n.role.trim().length===0?r.role=[`Role is required`]:o(n.role)||(r.role=[`Please select a valid role`])),e.value=r,!t.value},a=e=>{let t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},o=e=>{let t=[`super_admin`,`admin`,`salesman`,`warehouse_manager`,`developer`];return t.includes(e)},s=()=>{e.value={}},c=t=>{e.value[t]&&delete e.value[t]},l=t=>{e.value=t};return{errors:e,hasErrors:t,getFieldError:n,validateCreateRequest:r,validateUpdateRequest:i,clearErrors:s,clearFieldError:c,setServerErrors:l}}const rm={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},im={class:`max-w-2xl mx-auto`},am={class:`mb-8`},om={class:`flex items-center space-x-4 mb-2`},sm={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},cm={class:`px-6 py-8`},lm={key:0,class:`mt-1 text-xs text-gray-500`},um={key:0,class:`mt-1 text-xs text-gray-500`},dm=[`disabled`],fm={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},pm=[`disabled`],mm=[`value`],hm={key:0,class:`mt-1 text-xs text-blue-600 dark:text-blue-400`},gm={key:1,class:`mt-1 text-sm text-red-600 dark:text-red-400`},_m={key:2,class:`mt-1 text-xs text-gray-500`},vm={class:`flex items-start`},ym={class:`flex items-center h-5`},bm=[`disabled`],xm={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Sm=[`disabled`],Cm=[`disabled`],wm={key:0,class:`flex items-center justify-center`},Tm={key:1},Em={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Dm={class:`flex`},Om={class:`flex-shrink-0`},km={class:`space-y-4`},Am={class:`flex items-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg`},jm={class:`ml-3`},Mm={key:0,class:`text-sm text-yellow-700 dark:text-yellow-300`},Nm={key:0,class:`text-sm text-gray-600 dark:text-gray-400`},Pm={class:`mb-2`},Fm={class:`list-disc list-inside ml-4 space-y-1`};var Im=v({__name:`Create`,emits:[`back`,`success`,`cancel`],setup(t,{emit:r}){let i=r,a=pe(),{errors:o,hasErrors:s,getFieldError:c,validateCreateRequest:l,clearFieldError:u,setServerErrors:d,clearErrors:f}=nm(),{getRoleDepartmentMapping:p,checkRoleDepartmentMatch:m,getRecommendedDepartments:h}=Z();p();let g=O(!1),v=O(!1),S=O([]),D=O(!1),M=O(null),N=O({name:``,email:``,password:``,role:``,employee_id:void 0,is_active:!0}),P=B(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return c(`role`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):g.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),L=B(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return c(`employee_id`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):g.value||v.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),H=B(()=>N.value.name.trim().length>0&&N.value.email.trim().length>0&&N.value.password.trim().length>=8&&N.value.role.trim().length>0&&N.value.name.length<=255&&N.value.email.length<=255),q=async()=>{try{v.value=!0,S.value=await me.getUnassignedEmployees()}catch(e){console.error(`Error loading employees:`,e)}finally{v.value=!1}},J=()=>{N.value={name:``,email:``,password:``,role:``,employee_id:void 0,is_active:!0},f()},ee=async()=>{if(f(),l(N.value))try{g.value=!0,await a.createUser(N.value),J(),i(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&d(e.response.data.errors)}finally{g.value=!1}},Y=()=>{J(),i(`cancel`)},te=()=>{i(`back`)},ne=()=>{if(!N.value.role||!N.value.employee_id)return;let e=S.value.find(e=>e.id===N.value.employee_id);e&&(m(N.value.role,e.department?.name||``)||(M.value={role:N.value.role,employee:e},D.value=!0,N.value.employee_id=void 0))},re=()=>{M.value&&(N.value.employee_id=M.value.employee.id,D.value=!1,M.value=null)},X=()=>{D.value=!1,M.value=null};return w(()=>N.value.employee_id,e=>{e&&ne()}),w(()=>N.value.role,()=>{N.value.employee_id&&ne()}),y(()=>{J(),q()}),(t,r)=>{let i=C(`Input`);return b(),W(z,null,[V(`div`,rm,[V(`div`,im,[V(`div`,am,[V(`div`,om,[V(`button`,{onClick:te,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[_(k(e),{class:`w-5 h-5`})]),r[12]||=V(`div`,null,[V(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create User `),V(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new system user with appropriate permissions `)],-1)])]),V(`div`,sm,[V(`div`,cm,[V(`form`,{onSubmit:R(ee,[`prevent`]),class:`space-y-6`},[V(`div`,null,[_(i,{type:`text`,maxlength:255,disabled:g.value,onBlur:r[0]||=()=>k(u)(`name`),modelValue:N.value.name,"onUpdate:modelValue":r[1]||=e=>N.value.name=e,placeholder:`Enter user's full name`,error:k(c)(`name`),required:``,label:`Name`},null,8,[`disabled`,`modelValue`,`error`]),N.value.name.length>0?(b(),W(`p`,lm,j(N.value.name.length)+`/255 characters `,1)):U(``,!0)]),V(`div`,null,[_(i,{type:`email`,maxlength:255,disabled:g.value,onBlur:r[2]||=()=>k(u)(`email`),modelValue:N.value.email,"onUpdate:modelValue":r[3]||=e=>N.value.email=e,placeholder:`Enter user's email address`,error:k(c)(`email`),required:``,label:`Email`},null,8,[`disabled`,`modelValue`,`error`]),N.value.email.length>0?(b(),W(`p`,um,j(N.value.email.length)+`/255 characters `,1)):U(``,!0)]),V(`div`,null,[_(i,{type:`password`,maxlength:255,disabled:g.value,onBlur:r[4]||=()=>k(u)(`password`),modelValue:N.value.password,"onUpdate:modelValue":r[5]||=e=>N.value.password=e,placeholder:`Enter user's password`,error:k(c)(`password`),required:``,label:`Password`},null,8,[`disabled`,`modelValue`,`error`]),r[13]||=V(`p`,{class:`mt-1 text-xs text-gray-500`},` Password should be at least 8 characters long `,-1)]),V(`div`,null,[r[15]||=V(`label`,{for:`role`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[K(` Role `),V(`span`,{class:`text-red-500`},`*`)],-1),E(V(`select`,{id:`role`,"onUpdate:modelValue":r[6]||=e=>N.value.role=e,disabled:g.value,onBlur:r[7]||=()=>k(u)(`role`),class:A([P.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},r[14]||=[G(`<option value="">Select a role</option><option value="super_admin">Super Admin</option><option value="admin">Admin</option><option value="salesman">Salesman</option><option value="warehouse_manager">Warehouse Manager</option>`,5)],42,dm),[[I,N.value.role]]),k(c)(`role`)?(b(),W(`p`,fm,j(k(c)(`role`)),1)):U(``,!0)]),V(`div`,null,[r[17]||=V(`label`,{for:`employee_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Employee (Optional) `,-1),E(V(`select`,{id:`employee_id`,"onUpdate:modelValue":r[8]||=e=>N.value.employee_id=e,disabled:g.value||v.value,onBlur:r[9]||=()=>k(u)(`employee_id`),class:A([L.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},[r[16]||=V(`option`,{value:``},`No employee assignment`,-1),(b(!0),W(z,null,x(S.value,e=>(b(),W(`option`,{key:e.id,value:e.id},j(e.department.name)+` | `+j(e.code)+` - `+j(e.name),9,mm))),128))],42,pm),[[I,N.value.employee_id]]),v.value?(b(),W(`p`,hm,` Loading employees... `)):k(c)(`employee_id`)?(b(),W(`p`,gm,j(k(c)(`employee_id`)),1)):(b(),W(`p`,_m,` Optionally link this user to an employee record `))]),V(`div`,vm,[V(`div`,ym,[E(V(`input`,{id:`is_active`,"onUpdate:modelValue":r[10]||=e=>N.value.is_active=e,type:`checkbox`,disabled:g.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,bm),[[F,N.value.is_active]])]),r[18]||=V(`div`,{class:`ml-3`},[V(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),V(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this user will be able to log in to the system `)],-1)]),V(`div`,xm,[V(`button`,{type:`button`,onClick:Y,disabled:g.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,Sm),V(`button`,{type:`submit`,disabled:g.value||k(s)||!H.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[g.value?(b(),W(`div`,wm,r[19]||=[V(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),K(` Creating... `,-1)])):(b(),W(`span`,Tm,`Create User`))],8,Cm)])],32)])]),V(`div`,Em,[V(`div`,Dm,[V(`div`,Om,[_(k(n),{class:`h-5 w-5 text-blue-400`})]),r[20]||=G(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> User Roles &amp; Permissions </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400 space-y-2"><p><span class="font-medium">Super Admin:</span> Full system access and user management</p><p><span class="font-medium">Admin:</span> Administrative access with some restrictions</p><p><span class="font-medium">Salesman:</span> Sales-focused features and customer management</p><p><span class="font-medium">Warehouse Manager:</span> Inventory and warehouse operations</p></div></div>`,1)])])])]),_(fe,{modelValue:D.value,"onUpdate:modelValue":r[11]||=e=>D.value=e,title:`Role-Department Mismatch Warning`,size:`md`,"close-on-backdrop":!1,"close-on-escape":!1},{footer:T(()=>[V(`div`,{class:`flex justify-end space-x-3`},[V(`button`,{onClick:X,type:`button`,class:`px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-400 dark:hover:bg-gray-700 transition-colors`},` Cancel `),V(`button`,{onClick:re,type:`button`,class:`px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors`},` Proceed Anyway `)])]),default:T(()=>[V(`div`,km,[V(`div`,Am,[r[24]||=V(`div`,{class:`flex-shrink-0`},[V(`svg`,{class:`h-6 w-6 text-yellow-600 dark:text-yellow-400`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[V(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z`})])],-1),V(`div`,jm,[M.value?(b(),W(`p`,Mm,[r[21]||=K(` You are assigning a `,-1),V(`strong`,null,j(M.value.role.replace(`_`,` `).toUpperCase()),1),r[22]||=K(` role to an employee from the `,-1),V(`strong`,null,j(M.value.employee.department.name),1),r[23]||=K(` department. `,-1)])):U(``,!0)])]),M.value?(b(),W(`div`,Nm,[V(`p`,Pm,[V(`strong`,null,`Recommended departments for `+j(M.value.role.replace(`_`,` `))+`:`,1)]),V(`ul`,Fm,[(b(!0),W(z,null,x(k(h)(M.value.role),e=>(b(),W(`li`,{key:e,class:`text-green-600 dark:text-green-400`},j(e),1))),128))]),r[25]||=V(`p`,{class:`mt-3 text-amber-600 dark:text-amber-400`},` Are you sure you want to proceed with this assignment? `,-1)])):U(``,!0)])]),_:1},8,[`modelValue`])],64)}}}),Lm=Im;const Rm={class:`max-w-7xl px-4 sm:px-6 lg:px-8 py-8`},zm={class:`max-w-2xl`},Bm={class:`mb-8`},Vm={class:`flex items-center space-x-4 mb-2`},Hm={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Um={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Wm={class:`px-6 py-8`},Gm={key:0,class:`mt-1 text-xs text-gray-500`},Km={key:0,class:`mt-1 text-xs text-gray-500`},qm=[`disabled`],Jm={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ym=[`disabled`],Xm=[`value`],Zm={key:0,class:`mt-1 text-xs text-blue-600 dark:text-blue-400`},Qm={key:1,class:`mt-1 text-sm text-red-600 dark:text-red-400`},$m={key:2,class:`mt-1 text-xs text-gray-500`},eh={class:`flex items-start`},th={class:`flex items-center h-5`},nh=[`disabled`],rh={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},ih=[`disabled`],ah=[`disabled`],oh={key:0,class:`flex items-center justify-center`},sh={key:1},ch={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},lh={class:`flex flex-col items-center`},uh={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},dh={class:`flex`},fh={class:`flex-shrink-0`},ph={class:`space-y-4`},mh={class:`flex items-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg`},hh={class:`ml-3`},gh={key:0,class:`text-sm text-yellow-700 dark:text-yellow-300`},_h={key:0,class:`text-sm text-gray-600 dark:text-gray-400`},vh={class:`mb-2`},yh={class:`list-disc list-inside ml-4 space-y-1`};var bh=v({__name:`Edit`,props:{id:{},user:{}},emits:[`back`,`success`,`cancel`],setup(t,{emit:r}){let i=t,a=r,s=pe(),{errors:c,hasErrors:l,getFieldError:u,validateUpdateRequest:d,clearFieldError:f,setServerErrors:p,clearErrors:m}=nm(),{getRoleDepartmentMapping:h,checkRoleDepartmentMatch:g,getRecommendedDepartments:v}=Z();h();let S=O(!1),D=O(!1),M=O(!1),N=O([]),P=O(!1),L=O(null),H=O({name:``,email:``,password:``,role:``,employee_id:void 0,is_active:!0}),q=O({name:``,email:``,password:``,role:``,employee_id:void 0,is_active:!0}),J=B(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return u(`role`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):S.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),ee=B(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return u(`employee_id`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):S.value||M.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),Y=B(()=>H.value.name.trim().length>0&&H.value.email.trim().length>0&&H.value.role.trim().length>0&&H.value.name.length<=255&&H.value.email.length<=255&&(H.value.password===``||H.value.password.length>=8)),te=async()=>{try{M.value=!0;let e=await me.getUnassignedEmployees();if(H.value.employee_id){let t=i.user?.employee;t&&!e.find(e=>e.id===t.id)&&e.unshift({id:t.id,name:t.name,code:t.code,department:{name:t.department?.name}})}N.value=e}catch(e){console.error(`Error loading employees:`,e)}finally{M.value=!1}},ne=async()=>{try{D.value=!0;let e=i.user||await s.fetchUser(i.id);e&&(H.value={name:e.name,email:e.email,password:``,role:e.role,employee_id:e.employee?.id,is_active:e.is_active},q.value={name:e.name,email:e.email,password:``,role:e.role,employee_id:e.employee?.id,is_active:e.is_active},m())}catch(e){console.error(`Error loading user:`,e)}finally{D.value=!1}},re=async()=>{if(m(),d(H.value))try{S.value=!0;let e={name:H.value.name,email:H.value.email,role:H.value.role,employee_id:H.value.employee_id,is_active:H.value.is_active};H.value.password&&H.value.password.trim()!==``&&(e.password=H.value.password),await s.updateUser(i.id,e),q.value={...H.value},a(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&p(e.response.data.errors)}finally{S.value=!1}},X=()=>{a(`cancel`)},ie=()=>{a(`back`)},ae=()=>{if(!H.value.role||!H.value.employee_id)return;let e=N.value.find(e=>e.id===H.value.employee_id);e&&(g(H.value.role,e.department?.name||``)||(L.value={role:H.value.role,employee:e},P.value=!0,H.value.employee_id=void 0))},oe=()=>{L.value&&(H.value.employee_id=L.value.employee.id,P.value=!1,L.value=null)},Q=()=>{P.value=!1,L.value=null};return y(()=>{ne(),te()}),w(()=>i.id,()=>{i.id&&ne()}),w(()=>H.value.employee_id,e=>{e&&ae()}),w(()=>H.value.role,()=>{H.value.employee_id&&ae()}),(t,r)=>{let i=C(`Input`);return b(),W(z,null,[V(`div`,Rm,[V(`div`,zm,[V(`div`,Bm,[V(`div`,Vm,[V(`button`,{onClick:ie,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[_(k(e),{class:`w-5 h-5`})]),r[12]||=V(`div`,null,[V(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit User `),V(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update user information and permissions `)],-1)])]),D.value?(b(),W(`div`,Hm,r[13]||=[V(`div`,{class:`flex items-center justify-center`},[V(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),V(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading user...`)],-1)])):H.value?(b(),W(`div`,Um,[V(`div`,Wm,[V(`form`,{onSubmit:R(re,[`prevent`]),class:`space-y-6`},[V(`div`,null,[r[14]||=V(`label`,{for:`name`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[K(` Name `),V(`span`,{class:`text-red-500 ml-1`},`*`)],-1),_(i,{id:`name`,modelValue:H.value.name,"onUpdate:modelValue":r[0]||=e=>H.value.name=e,type:`text`,placeholder:`Enter user's full name`,disabled:S.value,error:k(u)(`name`),maxlength:255,required:``,onBlur:r[1]||=()=>k(f)(`name`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),H.value.name.length>0?(b(),W(`p`,Gm,j(H.value.name.length)+`/255 characters `,1)):U(``,!0)]),V(`div`,null,[r[15]||=V(`label`,{for:`email`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[K(` Email `),V(`span`,{class:`text-red-500 ml-1`},`*`)],-1),_(i,{id:`email`,modelValue:H.value.email,"onUpdate:modelValue":r[2]||=e=>H.value.email=e,type:`email`,placeholder:`Enter user's email address`,disabled:S.value,error:k(u)(`email`),maxlength:255,required:``,onBlur:r[3]||=()=>k(f)(`email`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),H.value.email.length>0?(b(),W(`p`,Km,j(H.value.email.length)+`/255 characters `,1)):U(``,!0)]),V(`div`,null,[r[16]||=V(`label`,{for:`password`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Password `,-1),_(i,{id:`password`,modelValue:H.value.password,"onUpdate:modelValue":r[4]||=e=>H.value.password=e,type:`password`,placeholder:`Enter new password (leave blank to keep current)`,disabled:S.value,error:k(u)(`password`),maxlength:255,onBlur:r[5]||=()=>k(f)(`password`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),r[17]||=V(`p`,{class:`mt-1 text-xs text-gray-500`},` Leave blank to keep the current password. New password should be at least 8 characters long. `,-1)]),V(`div`,null,[r[19]||=V(`label`,{for:`role`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[K(` Role `),V(`span`,{class:`text-red-500`},`*`)],-1),E(V(`select`,{id:`role`,"onUpdate:modelValue":r[6]||=e=>H.value.role=e,disabled:S.value,onBlur:r[7]||=()=>k(f)(`role`),class:A([J.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},r[18]||=[G(`<option value="">Select a role</option><option value="super_admin">Super Admin</option><option value="admin">Admin</option><option value="salesman">Salesman</option><option value="warehouse_manager">Warehouse Manager</option>`,5)],42,qm),[[I,H.value.role]]),k(u)(`role`)?(b(),W(`p`,Jm,j(k(u)(`role`)),1)):U(``,!0)]),V(`div`,null,[r[21]||=V(`label`,{for:`employee_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Employee (Optional) `,-1),E(V(`select`,{id:`employee_id`,"onUpdate:modelValue":r[8]||=e=>H.value.employee_id=e,disabled:S.value||M.value,onBlur:r[9]||=()=>k(f)(`employee_id`),class:A([ee.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},[r[20]||=V(`option`,{value:``},`No employee assignment`,-1),(b(!0),W(z,null,x(N.value,e=>(b(),W(`option`,{key:e.id,value:e.id},j(e.department.name)+` | `+j(e.code)+` - `+j(e.name),9,Xm))),128))],42,Ym),[[I,H.value.employee_id]]),M.value?(b(),W(`p`,Zm,` Loading employees... `)):k(u)(`employee_id`)?(b(),W(`p`,Qm,j(k(u)(`employee_id`)),1)):(b(),W(`p`,$m,` Optionally link this user to an employee record `))]),V(`div`,eh,[V(`div`,th,[E(V(`input`,{id:`is_active`,"onUpdate:modelValue":r[10]||=e=>H.value.is_active=e,type:`checkbox`,disabled:S.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,nh),[[F,H.value.is_active]])]),r[22]||=V(`div`,{class:`ml-3`},[V(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),V(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this user will be able to log in to the system `)],-1)]),V(`div`,rh,[V(`button`,{type:`button`,onClick:X,disabled:S.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,ih),V(`button`,{type:`submit`,disabled:S.value||k(l)||!Y.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[S.value?(b(),W(`div`,oh,r[23]||=[V(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),K(` Updating... `,-1)])):(b(),W(`span`,sh,`Update User`))],8,ah)])],32)])])):(b(),W(`div`,ch,[V(`div`,lh,[_(k(o),{class:`w-12 h-12 text-red-400 mb-4`}),r[24]||=V(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` User Not Found `,-1),r[25]||=V(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The user you're trying to edit could not be found. `,-1),V(`button`,{onClick:ie,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` ← Back to Users `)])])),H.value?(b(),W(`div`,uh,[V(`div`,dh,[V(`div`,fh,[_(k(n),{class:`h-5 w-5 text-blue-400`})]),r[26]||=G(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> User Roles &amp; Permissions </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400 space-y-2"><p><span class="font-medium">Super Admin:</span> Full system access and user management</p><p><span class="font-medium">Admin:</span> Administrative access with some restrictions</p><p><span class="font-medium">Salesman:</span> Sales-focused features and customer management</p><p><span class="font-medium">Warehouse Manager:</span> Inventory and warehouse operations</p></div></div>`,1)])])):U(``,!0)])]),_(fe,{modelValue:P.value,"onUpdate:modelValue":r[11]||=e=>P.value=e,title:`Role-Department Mismatch Warning`,size:`md`,"close-on-backdrop":!1,"close-on-escape":!1},{footer:T(()=>[V(`div`,{class:`flex justify-end space-x-3`},[V(`button`,{onClick:Q,type:`button`,class:`px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-400 dark:hover:bg-gray-700 transition-colors`},` Cancel `),V(`button`,{onClick:oe,type:`button`,class:`px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors`},` Proceed Anyway `)])]),default:T(()=>[V(`div`,ph,[V(`div`,mh,[r[30]||=V(`div`,{class:`flex-shrink-0`},[V(`svg`,{class:`h-6 w-6 text-yellow-600 dark:text-yellow-400`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[V(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z`})])],-1),V(`div`,hh,[L.value?(b(),W(`p`,gh,[r[27]||=K(` You are assigning a `,-1),V(`strong`,null,j(L.value.role.replace(`_`,` `).toUpperCase()),1),r[28]||=K(` role to an employee from the `,-1),V(`strong`,null,j(L.value.employee.department.name),1),r[29]||=K(` department. `,-1)])):U(``,!0)])]),L.value?(b(),W(`div`,_h,[V(`p`,vh,[V(`strong`,null,`Recommended departments for `+j(L.value.role.replace(`_`,` `))+`:`,1)]),V(`ul`,yh,[(b(!0),W(z,null,x(k(v)(L.value.role),e=>(b(),W(`li`,{key:e,class:`text-green-600 dark:text-green-400`},j(e),1))),128))]),r[31]||=V(`p`,{class:`mt-3 text-amber-600 dark:text-amber-400`},` Are you sure you want to proceed with this assignment? `,-1)])):U(``,!0)])]),_:1},8,[`modelValue`])],64)}}}),xh=bh;const Sh={class:`min-h-screen`};var Ch=v({__name:`TabPage`,setup(e){let t=O([{id:`company`,label:`Company`,icon:{type:`lucide`,name:`building`},color:`green`},{id:`users`,label:`Users`,icon:{type:`lucide`,name:`users`},color:`blue`},{id:`warehouses`,label:`Warehouses`,icon:{type:`lucide`,name:`warehouse`},color:`emerald`},{id:`taxs`,label:`Taxes`,icon:{type:`lucide`,name:`receipt`},color:`amber`},{id:`currencies`,label:`Currencies`,icon:{type:`lucide`,name:`coins`},color:`indigo`},{id:`countries`,label:`Countries`,icon:{type:`lucide`,name:`globe`},color:`purple`}]),n=O(`company`),r=O(`companyindex`),i=O(null),a=O(),o=O(),s=O(),c=O(),l=O(),u=O(),d={users:{index:`userindex`,create:`usercreate`,edit:`useredit`},warehouses:{index:`warehouseindex`,create:`warehousecreate`,edit:`warehouseedit`},currencies:{index:`currencyindex`,create:`currencycreate`,edit:`currencyedit`},countries:{index:`countryindex`,create:`countrycreate`,edit:`countryedit`},taxcodes:{index:`taxcodeindex`,create:`taxcodecreate`,edit:`taxcodeedit`},company:{index:`companyindex`,create:`companyindex`,edit:`companyindex`}},f=e=>{let t=d[e];t&&(r.value=t.create)},p=(e,t)=>{let n=d[e];n&&(i.value={type:e,id:t.id,data:t},r.value=n.edit)},m=e=>{let t=d[e];t&&(r.value=t.index,i.value=null)},h=e=>{let t=d[e];if(t){r.value=t.index,i.value=null;let n={users:a,warehouses:o,currencies:s,countries:c,taxcodes:l,company:u},d=n[e];d?.value?.refreshData&&d.value.refreshData()}},g=(e,t)=>{n.value=e;let a={users:`userindex`,company:`companyindex`,warehouses:`warehouseindex`,currencies:`currencyindex`,countries:`countryindex`,taxs:`taxcodeindex`},o=a[e];o&&(r.value=o,i.value=null)};return(e,n)=>(b(),W(`div`,Sh,[_(ve,{title:``,tabs:t.value,"default-tab":`company`,onTabChange:g},{company:T(()=>[r.value===`companyindex`?(b(),H(qe,{key:0,ref_key:`companyIndexRef`,ref:u},null,512)):U(``,!0)]),users:T(()=>[r.value===`userindex`?(b(),H(tm,{key:0,onCreate:n[0]||=e=>f(`users`),onEdit:n[1]||=e=>p(`users`,e),ref_key:`usersIndexRef`,ref:a},null,512)):U(``,!0),r.value===`usercreate`?(b(),H(Lm,{key:1,onBack:n[2]||=e=>m(`users`),onSuccess:n[3]||=e=>h(`users`),onCancel:n[4]||=e=>m(`users`)})):U(``,!0),r.value===`useredit`?(b(),H(xh,{key:2,onBack:n[5]||=e=>m(`users`),onSuccess:n[6]||=e=>h(`users`),onCancel:n[7]||=e=>m(`users`),id:i.value.id,user:i.value.data},null,8,[`id`,`user`])):U(``,!0)]),warehouses:T(()=>[r.value===`warehouseindex`?(b(),H(fn,{key:0,onCreate:n[8]||=e=>f(`warehouses`),onEdit:n[9]||=e=>p(`warehouses`,e),ref_key:`warehousesIndexRef`,ref:o},null,512)):U(``,!0),r.value===`warehousecreate`?(b(),H(Vn,{key:1,onBack:n[10]||=e=>m(`warehouses`),onSuccess:n[11]||=e=>h(`warehouses`),onCancel:n[12]||=e=>m(`warehouses`)})):U(``,!0),r.value===`warehouseedit`?(b(),H(vr,{key:2,onBack:n[13]||=e=>m(`warehouses`),onSuccess:n[14]||=e=>h(`warehouses`),onCancel:n[15]||=e=>m(`warehouses`),id:i.value.id,itemType:i.value.data},null,8,[`id`,`itemType`])):U(``,!0)]),taxs:T(()=>[r.value===`taxcodeindex`?(b(),H(bu,{key:0,onCreate:n[16]||=e=>f(`taxcodes`),onEdit:n[17]||=e=>p(`taxcodes`,e),ref_key:`taxCodesIndexRef`,ref:l},null,512)):U(``,!0),r.value===`taxcodecreate`?(b(),H(vd,{key:1,onBack:n[18]||=e=>m(`taxcodes`),onSuccess:n[19]||=e=>h(`taxcodes`),onCancel:n[20]||=e=>m(`taxcodes`)})):U(``,!0),r.value===`taxcodeedit`?(b(),H(xf,{key:2,onBack:n[21]||=e=>m(`taxcodes`),onSuccess:n[22]||=e=>h(`taxcodes`),onCancel:n[23]||=e=>m(`taxcodes`),id:i.value.id,taxCode:i.value.data},null,8,[`id`,`taxCode`])):U(``,!0)]),currencies:T(()=>[r.value===`currencyindex`?(b(),H(Ui,{key:0,onCreate:n[24]||=e=>f(`currencies`),onEdit:n[25]||=e=>p(`currencies`,e),ref_key:`currenciesIndexRef`,ref:s},null,512)):U(``,!0),r.value===`currencycreate`?(b(),H(Ea,{key:1,onBack:n[26]||=e=>m(`currencies`),onSuccess:n[27]||=e=>h(`currencies`),onCancel:n[28]||=e=>m(`currencies`)})):U(``,!0),r.value===`currencyedit`?(b(),H(fo,{key:2,onBack:n[29]||=e=>m(`currencies`),onSuccess:n[30]||=e=>h(`currencies`),onCancel:n[31]||=e=>m(`currencies`),id:i.value.id,currency:i.value.data},null,8,[`id`,`currency`])):U(``,!0)]),countries:T(()=>[r.value===`countryindex`?(b(),H(xs,{key:0,onCreate:n[32]||=e=>f(`countries`),onEdit:n[33]||=e=>p(`countries`,e),ref_key:`countriesIndexRef`,ref:c},null,512)):U(``,!0),r.value===`countrycreate`?(b(),H(pc,{key:1,onBack:n[34]||=e=>m(`countries`),onSuccess:n[35]||=e=>h(`countries`),onCancel:n[36]||=e=>m(`countries`)})):U(``,!0),r.value===`countryedit`?(b(),H(ol,{key:2,onBack:n[37]||=e=>m(`countries`),onSuccess:n[38]||=e=>h(`countries`),onCancel:n[39]||=e=>m(`countries`),id:i.value.id,country:i.value.data},null,8,[`id`,`country`])):U(``,!0)]),_:1},8,[`tabs`])]))}}),wh=Ch;export{wh as default};