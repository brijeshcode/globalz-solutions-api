import{A as e,_ as t,aA as ee,aC as n,aE as r,aI as i,aO as a,aP as o,aQ as s,aS as c,ab as te,af as ne,ag as re,at as l,au as u,av as d,aw as f,ay as p,az as m,i as h,s as ie,u as g,w as ae,z as _}from"./index-DPZISxi2.js";import"./GlobalConfig-BnwaQAhg.js";import"./tableUtils-BvWofAYZ.js";import{b as v,c as y}from"./common-BPa_8IsB.js";import{b as oe}from"./customerCreditDebitNoteStore-DgoJeSf5.js";const b={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},x={class:``},S={class:`mb-8`},C={class:`flex items-center justify-between`},w={class:`flex items-center space-x-4`},T={class:`text-sm text-gray-600 dark:text-gray-400`},E={key:0,class:`flex space-x-3`},D={key:0,class:`flex items-center justify-center py-12`},O={key:1,class:`space-y-6`},k={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-6`},A={class:`flex items-center justify-between`},j={class:`flex items-center space-x-4`},M={class:`flex-shrink-0`},N={class:`text-lg font-medium text-gray-900 dark:text-white`},P={class:`text-sm text-gray-500 dark:text-gray-400`},F={class:`text-right`},I={class:`mb-2`},L={class:`text-2xl font-bold text-gray-900 dark:text-white`},R={class:`text-sm text-gray-500 dark:text-gray-400`},z={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},B={class:`px-6 py-4`},V={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`},H={class:`mt-1 text-sm text-gray-900 dark:text-white`},U={class:`mt-1 text-sm text-gray-900 dark:text-white capitalize`},W={class:`mt-1 text-sm text-gray-900 dark:text-white`},G={class:`mt-1 text-sm text-gray-900 dark:text-white`},K={key:0,class:`text-gray-500 dark:text-gray-400`},q={class:`mt-1 text-sm text-gray-900 dark:text-white`},se={key:0,class:`text-gray-500 dark:text-gray-400`},ce={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},le={class:`px-6 py-4`},ue={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`},de={class:`mt-1 text-sm text-gray-900 dark:text-white`},fe={class:`mt-1 text-sm text-gray-900 dark:text-white`},pe={class:`mt-1 text-sm text-gray-900 dark:text-white`},me={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},he={class:`px-6 py-4`},ge={class:`text-sm text-gray-900 dark:text-white`},_e={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},ve={class:`px-6 py-4`},ye={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},be={class:`mt-1 text-sm text-gray-900 dark:text-white`},xe={class:`text-xs text-gray-500 dark:text-gray-400`},Se={class:`mt-1 text-sm text-gray-900 dark:text-white`},Ce={class:`text-xs text-gray-500 dark:text-gray-400`},we={key:2,class:`text-center py-12`};var J=ee({__name:`ViewPage`,setup(ee){let J=re(),Y=ne(),X=te(),Te=oe(),Z=a(!1),Q=a(null),$=()=>{J.push({name:`customer.notes.index`})},Ee=()=>{Q.value&&J.push({name:`customer.notes.edit`,params:{id:Q.value.id}})},De=()=>{window.print()},Oe=async()=>{let e=Number(Y.params.id);if(!e){X.error(`Invalid credit/debit note ID`),$();return}Z.value=!0;try{let t=await Te.fetchCreditDebitNote(e);Q.value=t}catch{X.error(`Failed to load credit/debit note`),Q.value=null}finally{Z.value=!1}};return n(()=>{Oe()}),(ee,n)=>(r(),f(`div`,b,[l(`div`,x,[l(`div`,S,[l(`div`,C,[l(`div`,w,[l(`button`,{onClick:$,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[m(o(t),{class:`w-5 h-5`})]),l(`div`,null,[n[0]||=l(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Credit/Debit Note Details `,-1),l(`p`,T,c(Q.value?`${Q.value.prefix}-${Q.value.code}`:`Loading...`),1)])]),Q.value&&!Z.value?(r(),f(`div`,E,[l(`button`,{onClick:Ee,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[m(o(ae),{class:`h-4 w-4 mr-2`}),n[1]||=p(` Edit Note `,-1)]),l(`button`,{onClick:De,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[m(o(ie),{class:`h-4 w-4 mr-2`}),n[2]||=p(` Print `,-1)])])):d(``,!0)])]),Z.value?(r(),f(`div`,D,[m(o(e),{class:`h-8 w-8 animate-spin text-blue-600`}),n[3]||=l(`span`,{class:`ml-2 text-gray-600 dark:text-gray-400`},`Loading credit/debit note...`,-1)])):Q.value?(r(),f(`div`,O,[l(`div`,k,[l(`div`,A,[l(`div`,j,[l(`div`,M,[l(`div`,{class:s([`h-16 w-16 rounded-full flex items-center justify-center`,Q.value.type===`credit`?`bg-green-100 dark:bg-green-900`:`bg-red-100 dark:bg-red-900`])},[(r(),u(i(Q.value.type===`credit`?o(g):o(_)),{class:s([`h-8 w-8`,Q.value.type===`credit`?`text-green-600 dark:text-green-400`:`text-red-600 dark:text-red-400`])},null,8,[`class`]))],2)]),l(`div`,null,[l(`h3`,N,c(Q.value.prefix)+`-`+c(Q.value.code),1),l(`p`,P,` Created `+c(o(y)(Q.value.created_at)),1)])]),l(`div`,F,[l(`div`,I,[l(`span`,{class:s([`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium`,Q.value.type===`credit`?`bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`:`bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200`])},[(r(),u(i(Q.value.type===`credit`?o(g):o(_)),{class:`h-4 w-4 mr-1`})),p(` `+c(Q.value.type===`credit`?`Credit Note`:`Debit Note`),1)],2)]),l(`div`,L,c(o(v)(Q.value.amount_usd)),1),l(`div`,R,` Local: `+c(o(v)(Q.value.amount)),1)])])]),l(`div`,z,[n[9]||=l(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Basic Information`)],-1),l(`div`,B,[l(`dl`,V,[l(`div`,null,[n[4]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Date`,-1),l(`dd`,H,c(o(y)(Q.value.date)),1)]),l(`div`,null,[n[5]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Type`,-1),l(`dd`,U,c(Q.value.type),1)]),l(`div`,null,[n[6]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Prefix`,-1),l(`dd`,W,c(Q.value.prefix),1)]),l(`div`,null,[n[7]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Customer`,-1),l(`dd`,G,[p(c(Q.value.customer?.name||`-`)+` `,1),Q.value.customer?.code?(r(),f(`span`,K,` (`+c(Q.value.customer.code)+`) `,1)):d(``,!0)])]),l(`div`,null,[n[8]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Currency`,-1),l(`dd`,q,[p(c(Q.value.currency?.name||`-`)+` `,1),Q.value.currency?.code?(r(),f(`span`,se,` (`+c(Q.value.currency.code)+`) `,1)):d(``,!0)])])])])]),l(`div`,ce,[n[13]||=l(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Financial Details`)],-1),l(`div`,le,[l(`dl`,ue,[l(`div`,null,[n[10]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Currency Rate`,-1),l(`dd`,de,c(Q.value.currency_rate),1)]),l(`div`,null,[n[11]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Amount`,-1),l(`dd`,fe,c(o(v)(Q.value.amount)),1)]),l(`div`,null,[n[12]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Amount USD`,-1),l(`dd`,pe,c(o(v)(Q.value.amount_usd)),1)])])])]),Q.value.note?(r(),f(`div`,me,[n[14]||=l(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Notes`)],-1),l(`div`,he,[l(`p`,ge,c(Q.value.note),1)])])):d(``,!0),l(`div`,_e,[n[17]||=l(`div`,{class:`px-6 py-4 border-b border-gray-200 dark:border-gray-700`},[l(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},`Audit Information`)],-1),l(`div`,ve,[l(`dl`,ye,[l(`div`,null,[n[15]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Created By`,-1),l(`dd`,be,c(Q.value.created_by_user?.name||`-`),1),l(`dd`,xe,c(o(y)(Q.value.created_at)),1)]),l(`div`,null,[n[16]||=l(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Last Updated By`,-1),l(`dd`,Se,c(Q.value.updated_by_user?.name||`-`),1),l(`dd`,Ce,c(o(y)(Q.value.updated_at)),1)])])])])])):Z.value?d(``,!0):(r(),f(`div`,we,[m(o(h),{class:`mx-auto h-12 w-12 text-red-400`}),n[18]||=l(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},`Credit/debit note not found`,-1),n[19]||=l(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` The note you're looking for doesn't exist or has been deleted. `,-1),l(`div`,{class:`mt-6`},[l(`button`,{onClick:$,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700`},` Back to Credit/Debit Notes `)])]))])]))}}),Y=J;export{Y as default};