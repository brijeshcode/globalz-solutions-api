import{K as e,P as t,V as ee,Z as te,aB as n,aD as r,aE as ne,aK as i,aN as a,aO as o,aP as s,aR as c,ae as l,af as u,ap as d,ar as f,as as p,au as m,av as h,ax as re,ay as g,az as ie,l as _}from"./index-AqQhcLqw.js";import"./GlobalConfig-BnwaQAhg.js";import{c as v}from"./accountsStore-DoYuuZ19.js";import"./tableUtils-BvWofAYZ.js";import{b as y,d as b}from"./common-BPa_8IsB.js";import{b as x,c as S,d as C}from"./SystemInfoCard-qIjTRjWq.js";const w={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},T={class:`mb-8`},E={class:`flex items-center justify-between`},D={class:`flex items-center space-x-4`},O={class:`text-3xl font-bold text-gray-900 dark:text-gray-100`},k={class:`text-sm text-gray-600 dark:text-gray-400 mt-1`},A={class:`flex items-center space-x-3`},j={key:0,class:`flex items-center justify-center py-12`},M={key:1,class:`bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6`},N={class:`flex items-center`},P={class:`text-red-600 dark:text-red-400 mt-1`},F={key:2,class:`space-y-8`},I={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},ae={class:`overflow-hidden`},L={class:`divide-y divide-gray-200 dark:divide-gray-700`},R={class:`flex items-center justify-between`},z={class:`flex items-center`},B={class:`flex-shrink-0`},V={class:`h-8 w-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center`},H={class:`ml-4`},U={class:`text-sm font-medium text-gray-900 dark:text-gray-100`},W={class:`text-sm text-gray-500 dark:text-gray-400`},G={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},K={class:`px-6 py-8 text-center`};var q=ie({__name:`ViewPage`,setup(ie){let q=u(),J=l(),oe=f(()=>parseInt(J.params.id)),se=v(),Y=a(null),X=a(!1),Z=a(``),Q=a(null),$=a([]),ce=async()=>{try{X.value=!0,Z.value=``,Y.value=await se.fetchAccount(oe.value),Y.value&&await Promise.all([le(),ue()])}catch(e){Z.value=e.message||`Failed to load account details`,console.error(`Error loading account:`,e)}finally{X.value=!1}},le=async()=>{try{Q.value={transaction_count:0,current_balance:0,last_activity:null}}catch(e){console.error(`Error loading account stats:`,e)}},ue=async()=>{try{$.value=[]}catch(e){console.error(`Error loading recent transactions:`,e)}},de=()=>{q.push({name:`accounts.index`})},fe=()=>{Y.value&&q.push({name:`accounts.edit`,params:{id:Y.value.id.toString()}})},pe=()=>{Y.value&&q.push({name:`transactions.index`,query:{account_id:Y.value.id}})};return n(()=>{ce()}),(n,a)=>(r(),h(`div`,w,[p(`div`,T,[p(`div`,E,[p(`div`,D,[p(`button`,{onClick:de,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[g(o(te),{class:`w-5 h-5`})]),p(`div`,null,[p(`h1`,O,c(Y.value?.name||`Account Details`),1),p(`p`,k,` Account ID: `+c(Y.value?.id),1)])]),p(`div`,A,[Y.value?(r(),h(`span`,{key:0,class:s([`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium`,Y.value?.is_active?`bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`:`bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300`])},c(Y.value?.is_active?`Active`:`Inactive`),3)):m(``,!0),p(`button`,{onClick:fe,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700`},[g(o(_),{class:`w-4 h-4 mr-2`}),a[0]||=re(` Edit `,-1)])])])]),X.value?(r(),h(`div`,j,a[1]||=[p(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`},null,-1),p(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading account details...`,-1)])):Z.value?(r(),h(`div`,M,[p(`div`,N,[g(o(t),{class:`w-6 h-6 text-red-500 mr-3`}),p(`div`,null,[a[2]||=p(`h3`,{class:`text-lg font-medium text-red-800 dark:text-red-300`},`Error Loading Account`,-1),p(`p`,P,c(Z.value),1)])])])):Y.value?(r(),h(`div`,F,[g(S,{title:`General Information`},{default:i(()=>[g(C,{label:`Account Name`,value:Y.value.name},null,8,[`value`]),g(C,{label:`Account Type`,value:Y.value.account_type?.name},null,8,[`value`]),g(C,{label:`Currency`,value:Y.value.currency?.name},null,8,[`value`]),g(C,{label:`Starting balance`,value:o(y)(Y.value.opening_balance)},null,8,[`value`]),g(C,{label:`Status`},{default:i(()=>[p(`span`,{class:s([`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium`,Y.value.is_active?`bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`:`bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300`])},c(Y.value.is_active?`Active`:`Inactive`),3)]),_:1}),g(C,{label:`Description`,value:Y.value.description},null,8,[`value`])]),_:1}),g(x,{item:Y.value,formatDateTime:o(b)},null,8,[`item`,`formatDateTime`]),m(``,!0),$.value&&$.value.length>0?(r(),h(`div`,I,[p(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[p(`div`,{class:`flex items-center justify-between`},[a[7]||=p(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` Recent Transactions `,-1),p(`button`,{onClick:pe,class:`text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` View All ï¿½ `)])]),p(`div`,ae,[p(`ul`,L,[(r(!0),h(d,null,ne($.value,t=>(r(),h(`li`,{key:t.id,class:`px-6 py-4`},[p(`div`,R,[p(`div`,z,[p(`div`,B,[p(`div`,V,[g(o(e),{class:`h-4 w-4 text-indigo-600 dark:text-indigo-400`})])]),p(`div`,H,[p(`p`,U,c(t.description||`Transaction`),1),p(`p`,W,c(o(b)(t.date)),1)])]),p(`div`,{class:s([`text-sm font-medium`,t.amount>=0?`text-green-600 dark:text-green-400`:`text-red-600 dark:text-red-400`])},c(t.amount>=0?`+`:``)+c(o(y)(t.amount)),3)])]))),128))])])])):(r(),h(`div`,G,[a[10]||=p(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[p(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` Recent Transactions `)],-1),p(`div`,K,[g(o(ee),{class:`mx-auto h-12 w-12 text-gray-400`}),a[8]||=p(`h3`,{class:`mt-4 text-sm font-medium text-gray-900 dark:text-gray-100`},`No transactions`,-1),a[9]||=p(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},` No transactions have been recorded for this account. `,-1)])]))])):m(``,!0)]))}}),J=q;export{J as default};