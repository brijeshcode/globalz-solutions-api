import{E as e,M as t,Z as ee,_ as n,a8 as te,aA as r,aa as ne,ab as i,ac as re,ad as a,ae as o,ag as s,ah as c,ai as ie,ak as ae,am as l,an as oe,aq as se,aw as u,ax as d,ay as ce,e as le,j as ue,u as de,w as fe,x as f,y as pe,z as p}from"./index-CxTKwM3X.js";import{b as m}from"./documentService-DkFvl-2L.js";import{b as me}from"./suppliersStore-Ld0fWN4F.js";const h={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},g={class:`mb-8`},_={class:`flex items-center justify-between`},v={class:`flex items-center space-x-4`},y={class:`text-3xl font-bold text-gray-900 dark:text-gray-100`},b={class:`text-sm text-gray-600 dark:text-gray-400 mt-1`},x={class:`flex items-center space-x-3`},S={key:0,class:`flex items-center justify-center py-12`},C={key:1,class:`bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6`},w={class:`flex items-center`},T={class:`text-red-600 dark:text-red-400 mt-1`},E={key:2,class:`space-y-8`},D={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},O={class:`px-6 py-5`},k={class:`grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2 lg:grid-cols-3`},A={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},j={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},M={key:0},N={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},P={key:1},F={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},I={key:2},L={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},R={key:3},z={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},he={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},ge={class:`px-6 py-5`},_e={class:`grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2`},ve={key:0,class:`sm:col-span-2`},ye={class:`mt-1 text-sm text-gray-900 dark:text-gray-100 whitespace-pre-line`},be={key:1},xe={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Se=[`href`],Ce={key:2},we={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Te=[`href`],Ee={key:3},De={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Oe=[`href`],ke={key:4},Ae={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},je=[`href`],Me={key:5,class:`sm:col-span-2`},Ne={class:`text-sm text-gray-900 dark:text-gray-100`},Pe={class:`bg-gray-50 dark:bg-gray-700 rounded-lg p-4`},Fe={class:`grid grid-cols-1 gap-2 sm:grid-cols-3`},Ie={class:`font-medium`},Le={key:0},Re=[`href`],ze={key:1},Be=[`href`],Ve={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},He={class:`px-6 py-5`},Ue={class:`grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2`},B={key:0},We={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Ge={key:1},Ke={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},qe={key:2},Je={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Ye={key:3,class:`sm:col-span-2`},Xe={class:`mt-1 text-sm text-gray-900 dark:text-gray-100 whitespace-pre-line`},Ze={key:4,class:`sm:col-span-2`},Qe={class:`mt-1 text-sm text-gray-900 dark:text-gray-100 whitespace-pre-line`},$e={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},et={class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},tt={class:`flex items-center justify-between`},nt={class:`text-lg font-medium text-gray-900 dark:text-gray-100`},rt={class:`px-6 py-5`},it={class:`grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3`},at={class:`flex items-start space-x-3`},ot={class:`flex-shrink-0`},st={class:`flex-1 min-w-0`},ct={class:`text-sm font-medium text-gray-900 dark:text-gray-100 truncate`},lt={class:`text-xs text-gray-500 dark:text-gray-400 mt-1`},ut={class:`text-xs text-gray-500 dark:text-gray-400`},dt={class:`flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity`},ft={class:`flex space-x-2`},pt=[`onClick`],mt=[`onClick`],ht={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},gt={class:`px-6 py-8 text-center`},_t={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},vt={class:`px-6 py-5`},yt={class:`grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2`},bt={key:0},xt={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},St={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Ct={key:1},wt={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Tt={key:2},Et={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},Dt={key:3,class:`fixed inset-0 z-50 overflow-y-auto`,"aria-labelledby":`modal-title`,role:`dialog`,"aria-modal":`true`},Ot={class:`flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0`},kt={class:`inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full sm:p-6`},At={class:`absolute top-0 right-0 pt-4 pr-4`},jt={class:`mt-3 text-center sm:mt-5`},Mt={class:`text-lg leading-6 font-medium text-gray-900 dark:text-gray-100 mb-4`},Nt={key:0,class:`max-h-96 overflow-auto`},Pt=[`src`,`alt`],Ft={key:1,class:`flex items-center justify-center py-8`},It={key:1,class:`h-96`},Lt=[`src`],Rt={key:1,class:`flex items-center justify-center py-8`},zt={key:2,class:`text-center py-8`},Bt={class:`mt-5 sm:mt-6 flex justify-center space-x-3`};var V=ie({__name:`DetailPage`,setup(ie){let V=n(),H=ee(),Vt=ne(()=>parseInt(H.params.id)),Ht=me(),U=u(null),W=u(!1),G=u(``),K=u(!1),q=u(null),J=u(``),Ut=async()=>{try{W.value=!0,G.value=``,U.value=await Ht.fetchSupplier(Vt.value)}catch(e){G.value=e.message||`Failed to load supplier details`,console.error(`Error loading supplier:`,e)}finally{W.value=!1}},Wt=()=>{V.push({name:`suppliers.index`})},Gt=()=>{U.value&&V.push({name:`suppliers.edit`,params:{id:U.value.id.toString()}})},Y=async e=>{await m.download(e)},Kt=async e=>{try{q.value=e,K.value=!0;let t=await m.preview(e.id);J.value=t.preview_url}catch(t){console.error(`Error getting preview URL:`,t),J.value=Jt(e)}},X=()=>{K.value=!1,q.value=null,J.value=``},qt=e=>Z(e)||Q(e),Z=e=>{let t=e.file_extension?.toLowerCase();return[`jpg`,`jpeg`,`png`,`gif`,`bmp`,`svg`,`webp`].includes(t||``)},Q=e=>{let t=e.file_extension?.toLowerCase();return t===`pdf`},Jt=e=>{let t=`https://staging.globalzsolutions.com`;return`${t}/api/documents/${e.id}/preview`},Yt=e=>{let t=e?.toLowerCase();return[`jpg`,`jpeg`,`png`,`gif`,`bmp`,`svg`].includes(t)?de:[`pdf`].includes(t)?f:fe},Xt=e=>new Intl.NumberFormat(`en-US`,{style:`currency`,currency:`USD`}).format(e),$=e=>new Date(e).toLocaleDateString(`en-US`,{year:`numeric`,month:`long`,day:`numeric`,hour:`2-digit`,minute:`2-digit`});return ae(()=>{Ut()}),(ee,n)=>(l(),o(`div`,h,[i(`div`,g,[i(`div`,_,[i(`div`,v,[i(`button`,{onClick:Wt,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[c(d(t),{class:`w-5 h-5`})]),i(`div`,null,[i(`h1`,y,r(U.value?.name||`Supplier Details`),1),i(`p`,b,` Supplier Code: `+r(U.value?.code),1)])]),i(`div`,x,[U.value?(l(),o(`span`,{key:0,class:ce([`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium`,U.value?.is_active?`bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300`:`bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300`])},r(U.value?.is_active?`Active`:`Inactive`),3)):a(``,!0),i(`button`,{onClick:Gt,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700`},[c(d(ue),{class:`w-4 h-4 mr-2`}),n[1]||=s(` Edit `,-1)])])])]),W.value?(l(),o(`div`,S,n[2]||=[i(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`},null,-1),i(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading supplier details...`,-1)])):G.value?(l(),o(`div`,C,[i(`div`,w,[c(d(e),{class:`w-6 h-6 text-red-500 mr-3`}),i(`div`,null,[n[3]||=i(`h3`,{class:`text-lg font-medium text-red-800 dark:text-red-300`},`Error Loading Supplier`,-1),i(`p`,T,r(G.value),1)])])])):U.value?(l(),o(`div`,E,[i(`div`,D,[n[10]||=i(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` General Information `)],-1),i(`div`,O,[i(`dl`,k,[i(`div`,null,[n[4]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Supplier Name`,-1),i(`dd`,A,r(U.value.name),1)]),i(`div`,null,[n[5]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Code`,-1),i(`dd`,j,r(U.value.code),1)]),U.value.supplier_type?(l(),o(`div`,M,[n[6]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Type`,-1),i(`dd`,N,r(U.value.supplier_type.name),1)])):a(``,!0),U.value.country?(l(),o(`div`,P,[n[7]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Country`,-1),i(`dd`,F,r(U.value.country.name),1)])):a(``,!0),U.value.opening_balance?(l(),o(`div`,I,[n[8]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Opening Balance`,-1),i(`dd`,L,r(Xt(U.value.opening_balance)),1)])):a(``,!0),U.value.currency?(l(),o(`div`,R,[n[9]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Currency`,-1),i(`dd`,z,r(U.value.currency.name)+` (`+r(U.value.currency.code)+`)`,1)])):a(``,!0)])])]),i(`div`,he,[n[17]||=i(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` Contact Information `)],-1),i(`div`,ge,[i(`dl`,_e,[U.value.address?(l(),o(`div`,ve,[n[11]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Address`,-1),i(`dd`,ye,r(U.value.address),1)])):a(``,!0),U.value.phone?(l(),o(`div`,be,[n[12]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Phone`,-1),i(`dd`,xe,[i(`a`,{href:`tel:${U.value.phone}`,class:`text-indigo-600 hover:text-indigo-500`},r(U.value.phone),9,Se)])])):a(``,!0),U.value.mobile?(l(),o(`div`,Ce,[n[13]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Mobile`,-1),i(`dd`,we,[i(`a`,{href:`tel:${U.value.mobile}`,class:`text-indigo-600 hover:text-indigo-500`},r(U.value.mobile),9,Te)])])):a(``,!0),U.value.email?(l(),o(`div`,Ee,[n[14]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Email`,-1),i(`dd`,De,[i(`a`,{href:`mailto:${U.value.email}`,class:`text-indigo-600 hover:text-indigo-500`},r(U.value.email),9,Oe)])])):a(``,!0),U.value.url?(l(),o(`div`,ke,[n[15]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Website`,-1),i(`dd`,Ae,[i(`a`,{href:U.value.url,target:`_blank`,class:`text-indigo-600 hover:text-indigo-500`},r(U.value.url),9,je)])])):a(``,!0),U.value.contact_person?(l(),o(`div`,Me,[n[16]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400 mb-2`},`Contact Person`,-1),i(`dd`,Ne,[i(`div`,Pe,[i(`div`,Fe,[i(`div`,null,[i(`span`,Ie,r(U.value.contact_person),1)]),U.value.contact_person_email?(l(),o(`div`,Le,[i(`a`,{href:`mailto:${U.value.contact_person_email}`,class:`text-indigo-600 hover:text-indigo-500`},r(U.value.contact_person_email),9,Re)])):a(``,!0),U.value.contact_person_mobile?(l(),o(`div`,ze,[i(`a`,{href:`tel:${U.value.contact_person_mobile}`,class:`text-indigo-600 hover:text-indigo-500`},r(U.value.contact_person_mobile),9,Be)])):a(``,!0)])])])])):a(``,!0)])])]),i(`div`,Ve,[n[23]||=i(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` Business Information `)],-1),i(`div`,He,[i(`dl`,Ue,[U.value.payment_term?(l(),o(`div`,B,[n[18]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Payment Term`,-1),i(`dd`,We,r(U.value.payment_term.name),1)])):a(``,!0),U.value.ship_from?(l(),o(`div`,Ge,[n[19]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Ship From`,-1),i(`dd`,Ke,r(U.value.ship_from),1)])):a(``,!0),U.value.discount_percentage?(l(),o(`div`,qe,[n[20]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Discount Percentage`,-1),i(`dd`,Je,r(U.value.discount_percentage)+`%`,1)])):a(``,!0),U.value.bank_info?(l(),o(`div`,Ye,[n[21]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Bank Information`,-1),i(`dd`,Xe,r(U.value.bank_info),1)])):a(``,!0),U.value.notes?(l(),o(`div`,Ze,[n[22]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Notes`,-1),i(`dd`,Qe,r(U.value.notes),1)])):a(``,!0)])])]),U.value.documents&&U.value.documents.length>0?(l(),o(`div`,$e,[i(`div`,et,[i(`div`,tt,[i(`h3`,nt,` Documents (`+r(U.value.documents.length)+`) `,1)])]),i(`div`,rt,[i(`div`,it,[(l(!0),o(te,null,oe(U.value.documents,e=>(l(),o(`div`,{key:e.id,class:`relative group bg-gray-50 dark:bg-gray-700 rounded-lg p-4 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors`},[i(`div`,at,[i(`div`,ot,[(l(),re(se(Yt(e.file_extension)),{class:`h-8 w-8 text-gray-400`}))]),i(`div`,st,[i(`p`,ct,r(e.title||e.original_name),1),i(`p`,lt,r(e.file_size_human),1),i(`p`,ut,r($(e.created_at)),1)]),i(`div`,dt,[i(`div`,ft,[qt(e)?(l(),o(`button`,{key:0,onClick:t=>Kt(e),class:`text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300`,title:`Preview`},[c(d(pe),{class:`h-5 w-5`})],8,pt)):a(``,!0),i(`button`,{onClick:t=>Y(e),class:`text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300`,title:`Download`},[c(d(p),{class:`h-5 w-5`})],8,mt)])])])]))),128))])])])):(l(),o(`div`,ht,[n[26]||=i(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` Documents `)],-1),i(`div`,gt,[c(d(f),{class:`mx-auto h-12 w-12 text-gray-400`}),n[24]||=i(`h3`,{class:`mt-4 text-sm font-medium text-gray-900 dark:text-gray-100`},`No documents`,-1),n[25]||=i(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},` No documents have been uploaded for this supplier. `,-1)])])),i(`div`,_t,[n[31]||=i(`div`,{class:`px-6 py-5 border-b border-gray-200 dark:border-gray-700`},[i(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` System Information `)],-1),i(`div`,vt,[i(`dl`,yt,[U.value.created_by?(l(),o(`div`,bt,[n[27]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Created By`,-1),i(`dd`,xt,r(U.value.created_by.name),1)])):a(``,!0),i(`div`,null,[n[28]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Created At`,-1),i(`dd`,St,r($(U.value.created_at)),1)]),U.value.updated_by?(l(),o(`div`,Ct,[n[29]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Last Updated By`,-1),i(`dd`,wt,r(U.value.updated_by.name),1)])):a(``,!0),U.value.updated_at===U.value.created_at?a(``,!0):(l(),o(`div`,Tt,[n[30]||=i(`dt`,{class:`text-sm font-medium text-gray-500 dark:text-gray-400`},`Last Updated`,-1),i(`dd`,Et,r($(U.value.updated_at)),1)]))])])])])):a(``,!0),K.value?(l(),o(`div`,Dt,[i(`div`,Ot,[i(`div`,{class:`fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity`,onClick:X}),i(`div`,kt,[i(`div`,At,[i(`button`,{onClick:X,class:`bg-white dark:bg-gray-800 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none`},[c(d(le),{class:`h-6 w-6`})])]),i(`div`,jt,[i(`h3`,Mt,r(q.value?.title||q.value?.original_name),1),q.value&&Z(q.value)?(l(),o(`div`,Nt,[J.value?(l(),o(`img`,{key:0,src:J.value,alt:q.value.original_name,class:`max-w-full h-auto mx-auto rounded-lg shadow-lg`},null,8,Pt)):(l(),o(`div`,Ft,n[32]||=[i(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`},null,-1),i(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading preview...`,-1)]))])):q.value&&Q(q.value)?(l(),o(`div`,It,[J.value?(l(),o(`iframe`,{key:0,src:J.value,class:`w-full h-full border rounded-lg`,title:`PDF Preview`,frameborder:`0`},null,8,Lt)):(l(),o(`div`,Rt,n[33]||=[i(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`},null,-1),i(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading preview...`,-1)]))])):(l(),o(`div`,zt,[c(d(f),{class:`mx-auto h-12 w-12 text-gray-400 mb-4`}),n[34]||=i(`p`,{class:`text-gray-500 dark:text-gray-400`},`Preview not available for this file type.`,-1)]))]),i(`div`,Bt,[i(`button`,{onClick:n[0]||=e=>Y(q.value),class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700`},[c(d(p),{class:`h-4 w-4 mr-2`}),n[35]||=s(` Download `,-1)]),i(`button`,{onClick:X,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600`},` Close `)])])])])):a(``,!0)]))}}),H=V;export{H as default};