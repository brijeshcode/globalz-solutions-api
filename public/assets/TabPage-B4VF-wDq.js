import{B as e,G as t,H as n,J as r,L as i,O as a,R as o,U as s,_ as c,a2 as l,a8 as u,a9 as d,aE as f,aI as p,aK as m,aL as h,aO as g,aP as _,aR as v,aS as y,aT as b,aU as x,aV as S,aW as C,aX as w,aY as T,aZ as E,aa as D,ab as O,ac as k,ag as A,ah as j,al as M,au as N,av as P,aw as F,ax as I,az as ee,b0 as L,b2 as R,b3 as te,b5 as z,b8 as B,b9 as V,ba as H,bb as ne,bc as U,bd as W,be as G,bg as K,e as q,g as J,j as re,l as Y,n as X,o as Z,p as Q,s as ie,y as ae}from"./index-B7rug5w2.js";import{b as $}from"./useAuth-CzfwLf1b.js";import"./GlobalConfig-wPgXFcZ5.js";import{d as oe,e as se,h as ce}from"./common-CZbH6H1Z.js";import"./tableUtils-dXs1kjAL.js";import{b as le}from"./PageHeader-DDlU2LqH.js";import{b as ue}from"./ConfirmationModal-DG3D74ER.js";import{b as de}from"./Modal-BsedQ-_N.js";import{c as fe}from"./currenciesStore-BRtZacfa.js";import{b as pe}from"./StatusBadge-BYXy0ziQ.js";import"./currencyUtil-BGeL-k9l.js";import{b as me}from"./companyStore-l0KRk0OS.js";import{b as he,c as ge}from"./usersStore-iLOfrc-g.js";import{b as _e}from"./ImportModal-4QHhjSet.js";import{b as ve}from"./taxCodesStore-DGt6J9_b.js";import{b as ye}from"./warehousesStore-EHcvhTzW.js";import{b as be}from"./Tabs-COh6gchj.js";import{b as xe}from"./DetailsModal-BCCftHhY.js";import{b as Se}from"./SimpleButton-ClpFIa9F.js";import{b as Ce}from"./countriesStore-Cea3_Gi_.js";const we={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Te={class:`max-w-4xl mx-auto`},Ee={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},De={class:`px-6 py-8`},Oe={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},ke={class:`md:col-span-2 space-y-4`},Ae={key:0,class:`grid grid-cols-1 md:grid-cols-2 gap-4`},je={class:`space-y-4`},Me={key:0,class:`flex items-center space-x-4`},Ne={class:`flex-shrink-0`},Pe=[`src`],Fe=[`disabled`],Ie=[`disabled`],Le=[`disabled`],Re={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},ze={class:`space-y-4`},Be={class:`md:col-span-2 space-y-4`},Ve={key:0,class:`grid grid-cols-1 md:grid-cols-2 gap-4`},He={class:`space-y-4`},Ue={key:0,class:`flex items-center space-x-4`},We={class:`flex-shrink-0`},Ge=[`src`],Ke=[`disabled`],qe=[`disabled`],Je=[`disabled`],Ye={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Xe={class:`space-y-4`},Ze={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Qe=[`disabled`],$e={key:0,class:`flex items-center justify-center`},et={key:1};var tt=E({__name:`IndexPage`,emits:[`success`],setup(e,{emit:t}){let n=t,r=me(),i=U(!1),a=U({}),o=U(),s=U(),c=U(null),l=U(null),u=U(null),d=U(null),f=U(!1),p=U(!1),m=U({name:``,address:``,email:``,phone:``,website:``,tax_number:``,logo:{preview_url:null,thumbnail_url:null},stamp:{preview_url:null,thumbnail_url:null},show_logo:!1,show_stamp:!1,logo_width:null,logo_height:null,stamp_width:null,stamp_height:null}),h=v(()=>Object.keys(a.value).length>0),_=e=>a.value[e]||``,b=e=>{a.value[e]&&delete a.value[e]},C=()=>{a.value={}},E=e=>{a.value={},Object.keys(e).forEach(t=>{e[t]&&e[t].length>0&&(a.value[t]=e[t][0])})},D=()=>{C();let e=!0;return m.value.name.trim()?m.value.name.length>255&&(a.value.name=`Tax name must be 255 characters or less`,e=!1):(a.value.name=`Tax name is required`,e=!1),e},O=e=>{let t=e.target,n=t.files?.[0];if(n){let e=[`image/jpeg`,`image/jpg`,`image/png`,`image/gif`,`image/webp`];if(!e.includes(n.type.toLowerCase())){a.value.logo=`Please select a valid image file (JPEG, PNG, GIF, or WebP)`,o.value&&(o.value.value=``);return}let t=200*1024;if(n.size>t){a.value.logo=`File size must be less than 200KB`,o.value&&(o.value.value=``);return}c.value=n,f.value=!1,b(`logo`);let r=new FileReader;r.onload=e=>{u.value=e.target?.result},r.readAsDataURL(n)}},k=e=>{let t=e.target,n=t.files?.[0];if(n){let e=[`image/jpeg`,`image/jpg`,`image/png`,`image/gif`,`image/webp`];if(!e.includes(n.type.toLowerCase())){a.value.stamp=`Please select a valid image file (JPEG, PNG, GIF, or WebP)`,s.value&&(s.value.value=``);return}let t=200*1024;if(n.size>t){a.value.stamp=`File size must be less than 200KB`,s.value&&(s.value.value=``);return}l.value=n,p.value=!1,b(`stamp`);let r=new FileReader;r.onload=e=>{d.value=e.target?.result},r.readAsDataURL(n)}},A=()=>{c.value=null,u.value=null,f.value=!0,m.value.logo={preview_url:null,thumbnail_url:null},o.value&&(o.value.value=``),b(`logo`)},j=()=>{l.value=null,d.value=null,p.value=!0,m.value.stamp={preview_url:null,thumbnail_url:null},s.value&&(s.value.value=``),b(`stamp`)},M=async()=>{try{r.company.name||await r.fetchCompany(),m.value={...r.company},f.value=!1,p.value=!1}catch(e){console.error(`Error loading company data:`,e)}},N=async()=>{if(D())try{if(i.value=!0,c.value||l.value||f.value||p.value){let e=new FormData,t={name:m.value.name,tax_number:m.value.tax_number,email:m.value.email,phone:m.value.phone,address:m.value.address,website:m.value.website,logo:null,stamp:null,show_logo:m.value.show_logo,show_stamp:m.value.show_stamp,logo_width:m.value.logo_width,logo_height:m.value.logo_height,stamp_width:m.value.stamp_width,stamp_height:m.value.stamp_height};Object.entries(t).forEach(([t,n])=>{n!=null&&n!==``&&t!==`logo`&&t!==`stamp`&&e.append(t,n.toString())}),c.value&&e.append(`logo`,c.value),l.value&&e.append(`stamp`,l.value),f.value&&!c.value&&e.append(`remove_logo`,`1`),p.value&&!l.value&&e.append(`remove_stamp`,`1`),await r.saveCompanyWithFiles(e),f.value=!1,p.value=!1}else{let e={name:m.value.name,tax_number:m.value.tax_number,email:m.value.email,phone:m.value.phone,address:m.value.address,website:m.value.website,logo:null,stamp:null,show_logo:m.value.show_logo,show_stamp:m.value.show_stamp,logo_width:m.value.logo_width,logo_height:m.value.logo_height,stamp_width:m.value.stamp_width,stamp_height:m.value.stamp_height};await r.saveCompany(e)}n(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&E(e.response.data.errors)}finally{i.value=!1}};return L(async()=>{await M()}),(e,t)=>(R(),S(`div`,we,[y(`div`,Te,[t[33]||=y(`div`,{class:`mb-8`},[y(`div`,{class:`flex items-center space-x-4 mb-2`},[y(`div`,null,[y(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Company Details `),y(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add company details here `)])])],-1),y(`div`,Ee,[y(`div`,De,[y(`form`,{onSubmit:g(N,[`prevent`]),class:`space-y-8`},[y(`div`,null,[y(`div`,Oe,[y(`div`,null,[T(J,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[0]||=()=>b(`name`),modelValue:m.value.name,"onUpdate:modelValue":t[1]||=e=>m.value.name=e,placeholder:`Enter Company name`,error:_(`name`),required:``,label:`Company Name`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`])]),y(`div`,null,[T(J,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[2]||=()=>b(`tax_number`),modelValue:m.value.tax_number,"onUpdate:modelValue":t[3]||=e=>m.value.tax_number=e,placeholder:`Enter Company tax number`,error:_(`tax_number`),required:``,label:`Company Tax Number`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`])]),y(`div`,null,[T(J,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[4]||=()=>b(`email`),modelValue:m.value.email,"onUpdate:modelValue":t[5]||=e=>m.value.email=e,placeholder:`Enter Company email`,error:_(`email`),label:`Company Email`,class:``},null,8,[`disabled`,`modelValue`,`error`])]),y(`div`,null,[T(J,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[6]||=()=>b(`phone`),modelValue:m.value.phone,"onUpdate:modelValue":t[7]||=e=>m.value.phone=e,placeholder:`Enter Company phone`,error:_(`phone`),label:`Company Phone`,class:``},null,8,[`disabled`,`modelValue`,`error`])]),y(`div`,null,[T(J,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[8]||=()=>b(`address`),modelValue:m.value.address,"onUpdate:modelValue":t[9]||=e=>m.value.address=e,placeholder:`Enter Company address`,error:_(`address`),label:`Company address`,class:``},null,8,[`disabled`,`modelValue`,`error`])]),y(`div`,null,[T(J,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[10]||=()=>b(`website`),modelValue:m.value.website,"onUpdate:modelValue":t[11]||=e=>m.value.website=e,placeholder:`Enter Company website`,error:_(`website`),label:`Company Website`,class:``},null,8,[`disabled`,`modelValue`,`error`])]),y(`div`,ke,[t[28]||=y(`div`,{class:`border-b border-gray-200 dark:border-gray-700 pb-2`},[y(`h3`,{class:`text-base font-semibold text-gray-900 dark:text-gray-100`},`Company Logo`)],-1),y(`div`,null,[T(q,{modelValue:m.value.show_logo,"onUpdate:modelValue":t[12]||=e=>m.value.show_logo=e,label:`Show Logo`,onBlur:t[13]||=()=>b(`show_logo`),disabled:i.value},null,8,[`modelValue`,`disabled`])]),m.value.show_logo?(R(),S(`div`,Ae,[y(`div`,null,[t[27]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Upload Logo `,-1),y(`div`,je,[u.value||m.value.logo?.thumbnail_url&&!f.value?(R(),S(`div`,Me,[y(`div`,Ne,[y(`img`,{src:u.value||m.value.logo?.thumbnail_url||``,alt:`Company Logo`,class:`h-16 w-16 object-cover rounded-lg border border-gray-300 dark:border-gray-600`},null,8,Pe)]),y(`button`,{type:`button`,onClick:A,disabled:i.value,class:`text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 disabled:opacity-50`},` Remove `,8,Fe)])):x(``,!0),y(`div`,null,[y(`input`,{ref_key:`logoInput`,ref:o,type:`file`,accept:`image/jpeg,image/jpg,image/png,image/gif,image/webp`,onChange:O,class:`hidden`,disabled:i.value},null,40,Ie),y(`button`,{type:`button`,onClick:t[14]||=e=>o.value?.click(),disabled:i.value,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed`},[T(W(X),{class:`h-4 w-4 mr-2`}),w(` `+K(u.value||m.value.logo?.thumbnail_url&&!f.value?`Change Logo`:`Upload Logo`),1)],8,Le),t[26]||=y(`p`,{class:`mt-1 text-xs text-gray-500 dark:text-gray-400`},` Max size: 200KB. Formats: JPEG, PNG, GIF, WebP `,-1)])]),_(`logo`)?(R(),S(`p`,Re,K(_(`logo`)),1)):x(``,!0)]),y(`div`,ze,[y(`div`,null,[T(J,{type:`number`,min:1,disabled:i.value,onBlur:t[15]||=()=>b(`logo_width`),modelValue:m.value.logo_width,"onUpdate:modelValue":t[16]||=e=>m.value.logo_width=e,placeholder:`Enter logo width`,error:_(`logo_width`),label:`Logo Width (px)`},null,8,[`disabled`,`modelValue`,`error`])]),y(`div`,null,[T(J,{type:`number`,min:1,disabled:i.value,onBlur:t[17]||=()=>b(`logo_height`),modelValue:m.value.logo_height,"onUpdate:modelValue":t[18]||=e=>m.value.logo_height=e,placeholder:`Enter logo height`,error:_(`logo_height`),label:`Logo Height (px)`},null,8,[`disabled`,`modelValue`,`error`])])])])):x(``,!0)]),y(`div`,Be,[t[31]||=y(`div`,{class:`border-b border-gray-200 dark:border-gray-700 pb-2`},[y(`h3`,{class:`text-base font-semibold text-gray-900 dark:text-gray-100`},`Company Stamp`)],-1),y(`div`,null,[T(q,{modelValue:m.value.show_stamp,"onUpdate:modelValue":t[19]||=e=>m.value.show_stamp=e,label:`Show Stamp`,onBlur:t[20]||=()=>b(`show_stamp`),disabled:i.value},null,8,[`modelValue`,`disabled`])]),m.value.show_stamp?(R(),S(`div`,Ve,[y(`div`,null,[t[30]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Upload Stamp `,-1),y(`div`,He,[d.value||m.value.stamp?.thumbnail_url&&!p.value?(R(),S(`div`,Ue,[y(`div`,We,[y(`img`,{src:d.value||m.value.stamp?.thumbnail_url||``,alt:`Company Stamp`,class:`h-16 w-16 object-cover rounded-lg border border-gray-300 dark:border-gray-600`},null,8,Ge)]),y(`button`,{type:`button`,onClick:j,disabled:i.value,class:`text-sm text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 disabled:opacity-50`},` Remove `,8,Ke)])):x(``,!0),y(`div`,null,[y(`input`,{ref_key:`stampInput`,ref:s,type:`file`,accept:`image/jpeg,image/jpg,image/png,image/gif,image/webp`,onChange:k,class:`hidden`,disabled:i.value},null,40,qe),y(`button`,{type:`button`,onClick:t[21]||=e=>s.value?.click(),disabled:i.value,class:`inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed`},[T(W(X),{class:`h-4 w-4 mr-2`}),w(` `+K(d.value||m.value.stamp?.thumbnail_url&&!p.value?`Change Stamp`:`Upload Stamp`),1)],8,Je),t[29]||=y(`p`,{class:`mt-1 text-xs text-gray-500 dark:text-gray-400`},` Max size: 200KB. Formats: JPEG, PNG, GIF, WebP `,-1)])]),_(`stamp`)?(R(),S(`p`,Ye,K(_(`stamp`)),1)):x(``,!0)]),y(`div`,Xe,[y(`div`,null,[T(J,{type:`number`,min:1,disabled:i.value,onBlur:t[22]||=()=>b(`stamp_width`),modelValue:m.value.stamp_width,"onUpdate:modelValue":t[23]||=e=>m.value.stamp_width=e,placeholder:`Enter stamp width`,error:_(`stamp_width`),label:`Stamp Width (px)`},null,8,[`disabled`,`modelValue`,`error`])]),y(`div`,null,[T(J,{type:`number`,min:1,disabled:i.value,onBlur:t[24]||=()=>b(`stamp_height`),modelValue:m.value.stamp_height,"onUpdate:modelValue":t[25]||=e=>m.value.stamp_height=e,placeholder:`Enter stamp height`,error:_(`stamp_height`),label:`Stamp Height (px)`},null,8,[`disabled`,`modelValue`,`error`])])])])):x(``,!0)])])]),y(`div`,Ze,[y(`button`,{type:`submit`,disabled:i.value||h.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[i.value?(R(),S(`div`,$e,t[32]||=[y(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),w(` Saving... `,-1)])):(R(),S(`span`,et,`Save`))],8,Qe)])],32)])])])]))}}),nt=tt;const rt={class:`space-y-6`},it={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},at={class:`grid grid-cols-1 md:grid-cols-5 gap-4`},ot={class:`md:col-span-2`},st={class:`relative`},ct={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},lt={key:0,class:`p-8 text-center`},ut={key:1,class:`p-8 text-center`},dt={class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},ft={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},pt={key:0,class:`mt-6`},mt={key:2,class:`overflow-x-auto`},ht={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},gt={class:`bg-gray-50 dark:bg-gray-700`},_t={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},vt={class:`flex flex-col`},yt={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},bt={class:`flex flex-col`},xt={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},St={class:`flex flex-col`},Ct={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},wt={class:`flex flex-col`},Tt={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},Et={class:`px-6 py-4 whitespace-nowrap`},Dt={class:`flex items-center`},Ot={class:`flex-shrink-0 h-10 w-10`},kt={class:`h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center`},At={class:`ml-4`},jt={class:`text-sm font-medium text-gray-900 dark:text-white`},Mt={class:`text-sm text-gray-500 dark:text-gray-400`},Nt={key:0,class:`px-2 bg-green-200 rounded-full text-green-800`},Pt={class:`px-6 py-4`},Ft=[`title`],It={key:0,class:`text-gray-500`},Lt={class:`px-6 py-4 whitespace-nowrap`},Rt={class:`text-sm text-gray-900 dark:text-white`},zt={class:`text-sm text-gray-500 dark:text-gray-400`},Bt={class:`px-6 py-4 whitespace-nowrap`},Vt=[`innerHTML`],Ht={class:`px-6 py-4 whitespace-nowrap`},Ut={class:`px-6 py-4 whitespace-nowrap`},Wt={class:`text-sm text-gray-900 dark:text-white`},Gt={class:`text-sm text-gray-600 dark:text-gray-400`},Kt={class:`text-xs text-gray-500 dark:text-gray-500`},qt={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},Jt={class:`flex items-center justify-end space-x-2`},Yt=[`onClick`],Xt=[`onClick`],Zt=[`onClick`],Qt=[`onClick`],$t=[`onClick`],en={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},tn={class:`flex items-center justify-between`},nn={class:`flex-1 flex justify-between sm:hidden`},rn=[`disabled`],an=[`disabled`],on={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},sn={class:`text-sm text-gray-700 dark:text-gray-300`},cn={class:`font-medium`},ln={class:`font-medium`},un={class:`font-medium`},dn={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},fn=[`disabled`],pn=[`disabled`],mn={class:`space-y-4`},hn={class:`max-h-96 overflow-y-auto`},gn={class:`flex justify-end space-x-3 pt-4`},_n=[`disabled`];var vn=E({__name:`IndexPage`,emits:[`create`,`edit`],setup(t,{emit:i}){f();let o=ee(),s=ye(),l=i,u=U(!1),p=U(!1),g=U(null),C=U(null),E=U(!1),A=U(null),M=U(!1),N=U(!1),P=U(!1),F=U(null),I=ne({search:``,is_active:void 0,city:``,per_page:15,sort_by:``,sort_direction:`asc`,page:1}),q=U({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}),J=v(()=>E.value?s.trashedWarehouses:s.warehouses),Y=v(()=>s.pagination),X=v(()=>s.loading),Z=v(()=>[{key:`name`,label:`Name`,type:`text`},{key:`is_active`,label:`Status`,type:`status`},{key:`full_address`,label:`Full Address`,type:`text`,colSpan:`md:col-span-2`},{key:`city`,label:`City`,type:`text`},{key:`state`,label:`State`,type:`text`},{key:`country`,label:`Country`,type:`text`},{key:`postal_code`,label:`Postal Code`,type:`text`},{key:`note`,label:`Note`,type:`text`,colSpan:`md:col-span-2`,fallback:`No note provided`},{key:`created_by.name`,label:`Created By`,type:`text`,subKey:`created_at`},{key:`updated_by.name`,label:`Last Updated By`,type:`text`,subKey:`updated_at`}]);v(()=>J.value.length>0||E.value),B(()=>({...I}),e=>{let{page:t,...n}=e;s.updateFilters(n)},{deep:!0});let Q=async(e=1)=>{try{let t={...I,page:e};E.value?await s.fetchTrashedWarehouses(t):await s.fetchWarehouses(t)}catch{o.error(`Failed to load warehouses`,{title:`Error`})}},$=async()=>{if(F.value)try{P.value=!0,await s.setDefaultWarehouse(F.value),await Q(),N.value=!1,F.value=null,o.success(`Default warehouse updated successfully`,{title:`Success`})}catch{o.error(`Failed to set default warehouse`,{title:`Error`})}finally{P.value=!1}},ce=()=>{C.value&&clearTimeout(C.value),C.value=setTimeout(()=>{Q(1)},300)},fe=e=>{I.sort_by===e?I.sort_direction=I.sort_direction===`asc`?`desc`:`asc`:(I.sort_by=e,I.sort_direction=`asc`),Q(1)},me=e=>{e>=1&&Y.value&&e<=Y.value.last_page&&(I.page=e,Q(e))},he=e=>{A.value=e,M.value=!0},ge=e=>{g.value=e,q.value={title:`Delete Warehouse`,message:`Are you sure you want to delete "${e.name}"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},p.value=!0},_e=e=>{g.value=e,q.value={title:`Restore Warehouse`,message:`Are you sure you want to restore "${e.name}"?`,buttonText:`Restore`,loadingText:`Restoring...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`restore`},p.value=!0},ve=e=>{g.value=e,q.value={title:`Permanently Delete Warehouse`,message:`Are you sure you want to permanently delete "${e.name}"? This action cannot be undone.`,buttonText:`Delete Permanently`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`forceDelete`},p.value=!0},be=async()=>{g.value&&(await s.deleteWarehouse(g.value.id),Ce())},Ce=()=>{p.value=!1,g.value=null,q.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},we=()=>{l(`create`)},Te=e=>{l(`edit`,e)};return L(()=>{Q()}),(t,i)=>{let o=z(`Select`);return R(),S(`div`,rt,[T(le,{title:`Warehouses`,description:`Manage warehouses for your inventory system`,"create-button-text":`Create New Warehouse`,onCreate:we},{actions:V(()=>[T(Se,{onClick:i[0]||=e=>N.value=!0},{default:V(()=>i[18]||=[w(`Set Default`,-1)]),_:1,__:[18]}),T(Se,{onClick:we},{default:V(()=>i[19]||=[w(`Create New Warehouse`,-1)]),_:1,__:[19]})]),_:1}),y(`div`,it,[y(`div`,at,[y(`div`,ot,[i[20]||=y(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Warehouses `,-1),y(`div`,st,[H(y(`input`,{id:`search`,"onUpdate:modelValue":i[1]||=e=>I.search=e,type:`text`,placeholder:`Search by name, city, or address...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:ce},null,544),[[h,I.search]]),T(W(ae),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),y(`div`,null,[i[22]||=y(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Status `,-1),H(y(`select`,{id:`status`,"onUpdate:modelValue":i[2]||=e=>I.is_active=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:Q},i[21]||=[y(`option`,{value:``},`All Status`,-1),y(`option`,{value:`true`},`Active`,-1),y(`option`,{value:`false`},`Inactive`,-1)],544),[[m,I.is_active]])]),y(`div`,null,[i[23]||=y(`label`,{for:`city`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` City `,-1),H(y(`input`,{id:`city`,"onUpdate:modelValue":i[3]||=e=>I.city=e,type:`text`,placeholder:`Filter by city`,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:ce},null,544),[[h,I.city]])]),y(`div`,null,[i[25]||=y(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),H(y(`select`,{id:`per-page`,"onUpdate:modelValue":i[4]||=e=>I.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:Q},i[24]||=[y(`option`,{value:15},`15`,-1),y(`option`,{value:25},`25`,-1),y(`option`,{value:50},`50`,-1),y(`option`,{value:100},`100`,-1)],544),[[m,I.per_page]])])])]),y(`div`,ct,[X.value?(R(),S(`div`,lt,[T(W(a),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),i[26]||=y(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading warehouses...`,-1)])):J.value.length===0?(R(),S(`div`,ut,[T(W(j),{class:`h-12 w-12 mx-auto text-gray-400`}),y(`h3`,dt,K(E.value?`No trashed warehouses found`:`No warehouses found`),1),y(`p`,ft,K(I.search?`Try adjusting your search criteria.`:`Get started by creating your first warehouse.`),1),!I.search&&!E.value?(R(),S(`div`,pt,[y(`button`,{onClick:we,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[T(W(n),{class:`h-5 w-5 mr-2`}),i[27]||=w(` Add Your First Warehouse `,-1)])])):x(``,!0)])):(R(),S(`div`,mt,[y(`table`,ht,[y(`thead`,gt,[y(`tr`,null,[y(`th`,_t,[y(`button`,{onClick:i[5]||=e=>fe(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[28]||=y(`span`,null,`Name`,-1),y(`div`,vt,[T(W(d),{class:G([`h-3 w-3`,I.sort_by===`name`&&I.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,I.sort_by===`name`&&I.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),i[32]||=y(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Address `,-1),y(`th`,yt,[y(`button`,{onClick:i[6]||=e=>fe(`city`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[29]||=y(`span`,null,`Location`,-1),y(`div`,bt,[T(W(d),{class:G([`h-3 w-3`,I.sort_by===`city`&&I.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,I.sort_by===`city`&&I.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),i[33]||=y(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Note `,-1),y(`th`,xt,[y(`button`,{onClick:i[7]||=e=>fe(`is_active`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[30]||=y(`span`,null,`Status`,-1),y(`div`,St,[T(W(d),{class:G([`h-3 w-3`,I.sort_by===`is_active`&&I.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,I.sort_by===`is_active`&&I.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),y(`th`,Ct,[y(`button`,{onClick:i[8]||=e=>fe(`created_by`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[i[31]||=y(`span`,null,`Created By`,-1),y(`div`,wt,[T(W(d),{class:G([`h-3 w-3`,I.sort_by===`created_by`&&I.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,I.sort_by===`created_by`&&I.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),i[34]||=y(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),y(`tbody`,Tt,[(R(!0),S(_,null,te(J.value,t=>(R(),S(`tr`,{key:t.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[y(`td`,Et,[y(`div`,Dt,[y(`div`,Ot,[y(`div`,kt,[T(W(j),{class:`h-5 w-5 text-blue-600 dark:text-blue-400`})])]),y(`div`,At,[y(`div`,jt,K(t.name),1),y(`div`,Mt,[w(` ID: `+K(t.id)+` `,1),t.is_default?(R(),S(`span`,Nt,`Default`)):x(``,!0)])])])]),y(`td`,Pt,[y(`div`,{class:`text-sm text-gray-900 dark:text-white max-w-xs truncate`,title:t.full_address},[w(K(t.address_line_1)+` `,1),t.address_line_2?(R(),S(`span`,It,`, `+K(t.address_line_2),1)):x(``,!0)],8,Ft)]),y(`td`,Lt,[y(`div`,Rt,K(t.city)+`, `+K(t.state),1),y(`div`,zt,K(t.country)+` `+K(t.postal_code),1)]),y(`td`,Bt,[y(`div`,{class:`text-sm text-gray-500 dark:text-gray-400`,innerHTML:W(se)(t.note)},null,8,Vt)]),y(`td`,Ht,[T(pe,{active:t.is_active},null,8,[`active`])]),y(`td`,Ut,[y(`div`,Wt,[y(`div`,Gt,K(t.created_by?.name||`-`),1),y(`div`,Kt,K(W(oe)(t.created_at)),1)])]),y(`td`,qt,[y(`div`,Jt,[E.value?(R(),S(_,{key:1},[y(`button`,{onClick:e=>_e(t),class:`text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 transition-colors duration-200`,title:`Restore Warehouse`},[T(W(e),{class:`h-4 w-4`})],8,Qt),y(`button`,{onClick:e=>ve(t),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Permanently Delete`},[T(W(re),{class:`h-4 w-4`})],8,$t)],64)):(R(),S(_,{key:0},[y(`button`,{onClick:e=>he(t),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[T(W(c),{class:`w-4 h-4`})],8,Yt),y(`button`,{onClick:e=>Te(t),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit Warehouse`},[T(W(r),{class:`h-4 w-4`})],8,Xt),y(`button`,{onClick:e=>ge(t),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete Warehouse`},[T(W(ie),{class:`h-4 w-4`})],8,Zt)],64))])])]))),128))])])])),Y.value&&Y.value.total>0?(R(),S(`div`,en,[y(`div`,tn,[y(`div`,nn,[y(`button`,{onClick:i[9]||=e=>me(Y.value.current_page-1),disabled:Y.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,rn),y(`button`,{onClick:i[10]||=e=>me(Y.value.current_page+1),disabled:Y.value.current_page>=Y.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,an)]),y(`div`,on,[y(`div`,null,[y(`p`,sn,[i[35]||=w(` Showing `,-1),y(`span`,cn,K(Y.value.from),1),i[36]||=w(` to `,-1),y(`span`,ln,K(Y.value.to),1),i[37]||=w(` of `,-1),y(`span`,un,K(Y.value.total),1),i[38]||=w(` results `,-1)])]),y(`div`,null,[y(`nav`,dn,[y(`button`,{onClick:i[11]||=e=>me(Y.value.current_page-1),disabled:Y.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[T(W(O),{class:`h-5 w-5`})],8,fn),y(`button`,{onClick:i[12]||=e=>me(Y.value.current_page+1),disabled:Y.value.current_page>=Y.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[T(W(D),{class:`h-5 w-5`})],8,pn)])])])])])):x(``,!0)]),T(ue,{show:p.value,"onUpdate:show":i[13]||=e=>p.value=e,type:`delete`,title:q.value.title,message:q.value.message,"confirm-text":q.value.buttonText,"loading-text":q.value.loadingText,loading:u.value,onConfirm:be,onCancel:Ce},null,8,[`show`,`title`,`message`,`confirm-text`,`loading-text`,`loading`]),T(xe,{show:M.value,"onUpdate:show":i[14]||=e=>M.value=e,item:A.value,title:`Warehouse Details`,"display-fields":Z.value,size:`lg`},null,8,[`show`,`item`,`display-fields`]),T(de,{title:`Set default Warehouse`,modelValue:N.value,onClose:i[17]||=e=>N.value=!1,size:`2xl`,showCloseButton:!0,closeOnEscape:!1},{default:V(()=>[y(`div`,mn,[y(`div`,hn,[T(o,{label:`Warehouse`,modelValue:F.value,"onUpdate:modelValue":i[15]||=e=>F.value=e,options:J.value.map(e=>({value:e.id,label:e.name,disabled:!e.is_active})),placeholder:`Select a warehouse to set as default`},null,8,[`modelValue`,`options`])]),y(`div`,gn,[y(`button`,{onClick:i[16]||=e=>N.value=!1,type:`button`,class:`px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`},` Cancel `),y(`button`,{onClick:$,disabled:P.value||!F.value,type:`button`,class:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[P.value?(R(),b(W(a),{key:0,class:`h-4 w-4 mr-2 animate-spin`})):x(``,!0),w(` `+K(P.value?`Saving...`:`Save Default`),1)],8,_n)])])]),_:1},8,[`modelValue`])])}}}),yn=vn;function bn(){let e=U({}),t=v(()=>Object.keys(e.value).length>0),n=t=>e.value[t]?.[0],r=n=>{let r={};return!n.name||n.name.trim().length===0?r.name=[`Warehouse name is required`]:n.name.trim().length>255&&(r.name=[`Warehouse name must not exceed 255 characters`]),n.note&&n.note.length>1e3&&(r.note=[`Note must not exceed 1000 characters`]),e.value=r,!t.value},i=n=>{let r={};return n.name!==void 0&&(!n.name||n.name.trim().length===0?r.name=[`Warehouse name is required`]:n.name.trim().length>255&&(r.name=[`Warehouse name must not exceed 255 characters`])),n.note!==void 0&&n.note&&n.note.length>1e3&&(r.note=[`Note must not exceed 1000 characters`]),n.address_line_1!==void 0&&(!n.address_line_1||n.address_line_1.trim().length===0||n.address_line_1.trim().length>255&&(r.address_line_1=[`Address line 1 must not exceed 255 characters`])),n.address_line_2!==void 0&&n.address_line_2&&n.address_line_2.length>255&&(r.address_line_2=[`Address line 2 must not exceed 255 characters`]),n.city!==void 0&&(!n.city||n.city.trim().length===0||n.city.trim().length>100&&(r.city=[`City must not exceed 100 characters`])),n.state!==void 0&&(!n.state||n.state.trim().length===0||n.state.trim().length>100&&(r.state=[`State must not exceed 100 characters`])),n.postal_code!==void 0&&(!n.postal_code||n.postal_code.trim().length===0||n.postal_code.trim().length>20&&(r.postal_code=[`Postal code must not exceed 20 characters`])),n.country!==void 0&&(!n.country||n.country.trim().length===0||n.country.trim().length>100&&(r.country=[`Country must not exceed 100 characters`])),e.value=r,!t.value},a=()=>{e.value={}},o=t=>{e.value[t]&&delete e.value[t]},s=t=>{e.value=t};return{errors:e,hasErrors:t,getFieldError:n,validateCreateRequest:r,validateUpdateRequest:i,clearErrors:a,clearFieldError:o,setServerErrors:s}}const xn={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Sn={class:`max-w-4xl mx-auto`},Cn={class:`mb-8`},wn={class:`flex items-center space-x-4 mb-2`},Tn={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},En={class:`px-6 py-8`},Dn={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},On={key:0,class:`mt-1 text-xs text-gray-500`},kn={class:`flex items-start pt-6`},An={class:`flex items-center h-5`},jn=[`disabled`],Mn={class:`space-y-6`},Nn={class:`grid grid-cols-1 md:grid-cols-3 gap-6`},Pn={class:`md:max-w-md`},Fn=[`disabled`],In={class:`flex justify-between items-center mt-1`},Ln={key:0,class:`text-sm text-red-600 dark:text-red-400`},Rn={class:`text-xs text-gray-500 ml-auto`},zn={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Bn=[`disabled`],Vn=[`disabled`],Hn={key:0,class:`flex items-center justify-center`},Un={key:1},Wn={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Gn={class:`flex`},Kn={class:`flex-shrink-0`};var qn=E({__name:`CreatePage`,emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=t,r=ye(),{errors:i,hasErrors:a,getFieldError:s,validateCreateRequest:c,clearFieldError:l,setServerErrors:u,clearErrors:d}=bn(),f=U(!1),m=U({name:``,address_line_1:``,address_line_2:``,city:``,state:``,postal_code:``,country:``,note:``,is_active:!0}),_=v(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return s(`note`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):f.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),b=v(()=>m.value.name.trim().length>0&&m.value.name.length<=255&&(m.value.address_line_2?.length||0)<=255&&(m.value.note?.length||0)<=1e3),E=()=>{m.value={name:``,address_line_1:``,address_line_2:``,city:``,state:``,postal_code:``,country:``,note:``,is_active:!0},d()},D=async()=>{if(d(),c(m.value))try{f.value=!0,await r.createWarehouse(m.value),E(),n(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&u(e.response.data.errors)}finally{f.value=!1}},O=()=>{E(),n(`cancel`)},k=()=>{n(`back`)};return L(()=>{E()}),(e,t)=>(R(),S(`div`,xn,[y(`div`,Sn,[y(`div`,Cn,[y(`div`,wn,[y(`button`,{onClick:k,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[T(W(M),{class:`w-5 h-5`})]),t[17]||=y(`div`,null,[y(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create Warehouse `),y(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new warehouse location for inventory management `)],-1)])]),y(`div`,Tn,[y(`div`,En,[y(`form`,{onSubmit:g(D,[`prevent`]),class:`space-y-8`},[y(`div`,null,[t[19]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),y(`div`,Dn,[y(`div`,null,[T(J,{type:`text`,maxlength:255,disabled:f.value,onBlur:t[0]||=()=>W(l)(`name`),modelValue:m.value.name,"onUpdate:modelValue":t[1]||=e=>m.value.name=e,placeholder:`Enter warehouse name`,error:W(s)(`name`),required:``,label:`Warehouse Name`},null,8,[`disabled`,`modelValue`,`error`]),m.value.name.length>0?(R(),S(`p`,On,K(m.value.name.length)+`/255 characters `,1)):x(``,!0)]),y(`div`,kn,[y(`div`,An,[H(y(`input`,{id:`is_active`,"onUpdate:modelValue":t[2]||=e=>m.value.is_active=e,type:`checkbox`,disabled:f.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,jn),[[p,m.value.is_active]])]),t[18]||=y(`div`,{class:`ml-3`},[y(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),y(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this warehouse will be available for inventory operations `)],-1)])])]),y(`div`,null,[t[20]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Address Information `,-1),y(`div`,Mn,[y(`div`,null,[T(J,{type:`text`,maxlength:255,disabled:f.value,onBlur:t[3]||=()=>W(l)(`address_line_1`),modelValue:m.value.address_line_1,"onUpdate:modelValue":t[4]||=e=>m.value.address_line_1=e,placeholder:`Enter street address`,error:W(s)(`address_line_1`),label:`Address Line 1`},null,8,[`disabled`,`modelValue`,`error`])]),y(`div`,null,[T(J,{type:`text`,maxlength:255,disabled:f.value,onBlur:t[5]||=()=>W(l)(`address_line_2`),modelValue:m.value.address_line_2,"onUpdate:modelValue":t[6]||=e=>m.value.address_line_2=e,placeholder:`Apartment, suite, unit, building, floor, etc. (optional)`,error:W(s)(`address_line_2`),label:`Address Line 2`},null,8,[`disabled`,`modelValue`,`error`])]),y(`div`,Nn,[y(`div`,null,[T(J,{type:`text`,maxlength:100,disabled:f.value,onBlur:t[7]||=()=>W(l)(`city`),modelValue:m.value.city,"onUpdate:modelValue":t[8]||=e=>m.value.city=e,placeholder:`Enter city`,error:W(s)(`city`),label:`City`},null,8,[`disabled`,`modelValue`,`error`])]),y(`div`,null,[T(J,{type:`text`,maxlength:100,disabled:f.value,onBlur:t[9]||=()=>W(l)(`state`),modelValue:m.value.state,"onUpdate:modelValue":t[10]||=e=>m.value.state=e,placeholder:`Enter state/province`,error:W(s)(`state`),label:`State/Province`},null,8,[`disabled`,`modelValue`,`error`])]),y(`div`,null,[T(J,{type:`text`,maxlength:20,disabled:f.value,onBlur:t[11]||=()=>W(l)(`postal_code`),modelValue:m.value.postal_code,"onUpdate:modelValue":t[12]||=e=>m.value.postal_code=e,placeholder:`Enter postal code`,error:W(s)(`postal_code`),label:`Postal Code`},null,8,[`disabled`,`modelValue`,`error`])])]),y(`div`,Pn,[T(J,{type:`text`,maxlength:100,disabled:f.value,onBlur:t[13]||=()=>W(l)(`country`),modelValue:m.value.country,"onUpdate:modelValue":t[14]||=e=>m.value.country=e,placeholder:`Enter country`,error:W(s)(`country`),label:`Country`},null,8,[`disabled`,`modelValue`,`error`])])])]),y(`div`,null,[t[22]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Additional Information `,-1),y(`div`,null,[t[21]||=y(`label`,{for:`note`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Note `,-1),H(y(`textarea`,{id:`note`,"onUpdate:modelValue":t[15]||=e=>m.value.note=e,rows:`4`,placeholder:`Enter additional notes about this warehouse (optional)`,disabled:f.value,class:G([_.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:t[16]||=()=>W(l)(`note`),maxlength:`1000`},null,42,Fn),[[h,m.value.note]]),y(`div`,In,[W(s)(`note`)?(R(),S(`p`,Ln,K(W(s)(`note`)),1)):x(``,!0),y(`p`,Rn,K(m.value.note?.length||0)+`/1000 characters `,1)])])]),y(`div`,zn,[y(`button`,{type:`button`,onClick:O,disabled:f.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,Bn),y(`button`,{type:`submit`,disabled:f.value||W(a)||!b.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[f.value?(R(),S(`div`,Hn,t[23]||=[y(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),w(` Creating... `,-1)])):(R(),S(`span`,Un,`Create Warehouse`))],8,Vn)])],32)])]),y(`div`,Wn,[y(`div`,Gn,[y(`div`,Kn,[T(W(o),{class:`h-5 w-5 text-blue-400`})]),t[24]||=C(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> About Warehouses </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Warehouses are physical locations where your inventory is stored and managed. Each warehouse should have: </p><ul class="list-disc list-inside space-y-1"><li>A unique, descriptive name for easy identification</li><li>Complete address information for shipping and logistics</li><li>Active status to control availability for transactions</li><li>Optional notes for special handling instructions or details</li></ul></div></div>`,1)])])])]))}}),Jn=qn;const Yn={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Xn={class:`max-w-4xl mx-auto`},Zn={class:`mb-8`},Qn={class:`flex items-center space-x-4 mb-2`},$n={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},er={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},tr={class:`px-6 py-8`},nr={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},rr={key:0,class:`mt-1 text-xs text-gray-500`},ir={class:`flex items-start pt-6`},ar={class:`flex items-center h-5`},or=[`disabled`],sr={class:`space-y-6`},cr={class:`grid grid-cols-1 md:grid-cols-3 gap-6`},lr={class:`md:max-w-md`},ur=[`disabled`],dr={class:`flex justify-between items-center mt-1`},fr={key:0,class:`text-sm text-red-600 dark:text-red-400`},pr={class:`text-xs text-gray-500 ml-auto`},mr={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},hr=[`disabled`],gr=[`disabled`],_r={key:0,class:`flex items-center justify-center`},vr={key:1},yr={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},br={class:`flex flex-col items-center`},xr={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Sr={class:`flex`},Cr={class:`flex-shrink-0`};var wr=E({__name:`EditPage`,props:{id:{},warehouse:{}},emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=e,r=t,i=ye(),{errors:a,hasErrors:s,getFieldError:c,validateUpdateRequest:l,clearFieldError:d,setServerErrors:f,clearErrors:m}=bn(),_=U(!1),b=U(!1),E=U({name:``,address_line_1:``,address_line_2:``,city:``,state:``,postal_code:``,country:``,note:``,is_active:!0}),D=U({name:``,address_line_1:``,address_line_2:``,city:``,state:``,postal_code:``,country:``,note:``,is_active:!0}),O=v(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return c(`note`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):_.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),k=v(()=>E.value.name.trim().length>0&&E.value.name.length<=255&&(E.value.address_line_2?.length||0)<=255&&(E.value.note?.length||0)<=1e3),A=async()=>{try{b.value=!0;let e=n.warehouse||await i.fetchWarehouse(n.id);e&&(E.value={name:e.name,address_line_1:e.address_line_1||``,address_line_2:e.address_line_2||``,city:e.city||``,state:e.state||``,postal_code:e.postal_code||``,country:e.country||``,note:e.note||``,is_active:e.is_active},D.value={name:e.name,address_line_1:e.address_line_1||``,address_line_2:e.address_line_2||``,city:e.city||``,state:e.state||``,postal_code:e.postal_code||``,country:e.country||``,note:e.note||``,is_active:e.is_active},m())}catch(e){console.error(`Error loading warehouse:`,e)}finally{b.value=!1}},j=async()=>{if(m(),l(E.value))try{_.value=!0;let e={name:E.value.name,address_line_1:E.value.address_line_1,address_line_2:E.value.address_line_2,city:E.value.city,state:E.value.state,postal_code:E.value.postal_code,country:E.value.country,note:E.value.note,is_active:E.value.is_active};await i.updateWarehouse(n.id,e),D.value={...E.value},r(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&f(e.response.data.errors)}finally{_.value=!1}},N=()=>{r(`cancel`)},P=()=>{r(`back`)};return L(()=>{A()}),B(()=>n.id,()=>{n.id&&A()}),(e,t)=>(R(),S(`div`,Yn,[y(`div`,Xn,[y(`div`,Zn,[y(`div`,Qn,[y(`button`,{onClick:P,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[T(W(M),{class:`w-5 h-5`})]),t[17]||=y(`div`,null,[y(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Warehouse `),y(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update warehouse information and location details `)],-1)])]),b.value?(R(),S(`div`,$n,t[18]||=[y(`div`,{class:`flex items-center justify-center`},[y(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),y(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading warehouse...`)],-1)])):E.value?(R(),S(`div`,er,[y(`div`,tr,[y(`form`,{onSubmit:g(j,[`prevent`]),class:`space-y-8`},[y(`div`,null,[t[21]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),y(`div`,nr,[y(`div`,null,[t[19]||=y(`label`,{for:`name`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[w(` Warehouse Name `),y(`span`,{class:`text-red-500 ml-1`},`*`)],-1),T(J,{id:`name`,modelValue:E.value.name,"onUpdate:modelValue":t[0]||=e=>E.value.name=e,type:`text`,placeholder:`Enter warehouse name`,disabled:_.value,error:W(c)(`name`),maxlength:255,required:``,onBlur:t[1]||=()=>W(d)(`name`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),E.value.name.length>0?(R(),S(`p`,rr,K(E.value.name.length)+`/255 characters `,1)):x(``,!0)]),y(`div`,ir,[y(`div`,ar,[H(y(`input`,{id:`is_active`,"onUpdate:modelValue":t[2]||=e=>E.value.is_active=e,type:`checkbox`,disabled:_.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,or),[[p,E.value.is_active]])]),t[20]||=y(`div`,{class:`ml-3`},[y(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),y(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this warehouse will be available for inventory operations `)],-1)])])]),y(`div`,null,[t[22]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Address Information `,-1),y(`div`,sr,[y(`div`,null,[T(J,{id:`address_line_1`,modelValue:E.value.address_line_1,"onUpdate:modelValue":t[3]||=e=>E.value.address_line_1=e,type:`text`,label:`Address Line 1`,placeholder:`Enter street address`,disabled:_.value,error:W(c)(`address_line_1`),maxlength:255,onBlur:t[4]||=()=>W(d)(`address_line_1`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),y(`div`,null,[T(J,{id:`address_line_2`,modelValue:E.value.address_line_2,"onUpdate:modelValue":t[5]||=e=>E.value.address_line_2=e,type:`text`,label:`Address Line 2`,placeholder:`Apartment, suite, unit, building, floor, etc. (optional)`,disabled:_.value,error:W(c)(`address_line_2`),maxlength:255,onBlur:t[6]||=()=>W(d)(`address_line_2`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),y(`div`,cr,[y(`div`,null,[T(J,{id:`city`,modelValue:E.value.city,"onUpdate:modelValue":t[7]||=e=>E.value.city=e,type:`text`,label:`City`,placeholder:`Enter city`,disabled:_.value,error:W(c)(`city`),maxlength:100,onBlur:t[8]||=()=>W(d)(`city`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),y(`div`,null,[T(J,{id:`state`,modelValue:E.value.state,"onUpdate:modelValue":t[9]||=e=>E.value.state=e,type:`text`,label:`State/Province`,placeholder:`Enter state/province`,disabled:_.value,error:W(c)(`state`),maxlength:100,onBlur:t[10]||=()=>W(d)(`state`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])]),y(`div`,null,[T(J,{id:`postal_code`,modelValue:E.value.postal_code,"onUpdate:modelValue":t[11]||=e=>E.value.postal_code=e,type:`text`,label:`Postal Code`,placeholder:`Enter postal code`,disabled:_.value,error:W(c)(`postal_code`),maxlength:20,onBlur:t[12]||=()=>W(d)(`postal_code`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])]),y(`div`,lr,[T(J,{id:`country`,modelValue:E.value.country,"onUpdate:modelValue":t[13]||=e=>E.value.country=e,type:`text`,label:`Country`,placeholder:`Enter country`,disabled:_.value,error:W(c)(`country`),maxlength:100,onBlur:t[14]||=()=>W(d)(`country`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`])])])]),y(`div`,null,[t[24]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Additional Information `,-1),y(`div`,null,[t[23]||=y(`label`,{for:`note`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Note `,-1),H(y(`textarea`,{id:`note`,"onUpdate:modelValue":t[15]||=e=>E.value.note=e,rows:`4`,placeholder:`Enter additional notes about this warehouse (optional)`,disabled:_.value,class:G([O.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800 resize-vertical`]),onBlur:t[16]||=()=>W(d)(`note`),maxlength:`1000`},null,42,ur),[[h,E.value.note]]),y(`div`,dr,[W(c)(`note`)?(R(),S(`p`,fr,K(W(c)(`note`)),1)):x(``,!0),y(`p`,pr,K(E.value.note?.length||0)+`/1000 characters `,1)])])]),y(`div`,mr,[y(`button`,{type:`button`,onClick:N,disabled:_.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,hr),y(`button`,{type:`submit`,disabled:_.value||W(s)||!k.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[_.value?(R(),S(`div`,_r,t[25]||=[y(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),w(` Updating... `,-1)])):(R(),S(`span`,vr,`Update Warehouse`))],8,gr)])],32)])])):(R(),S(`div`,yr,[y(`div`,br,[T(W(u),{class:`w-12 h-12 text-red-400 mb-4`}),t[26]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Warehouse Not Found `,-1),t[27]||=y(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The warehouse you're trying to edit could not be found. `,-1),y(`button`,{onClick:P,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},`  Back to Warehouses `)])])),E.value?(R(),S(`div`,xr,[y(`div`,Sr,[y(`div`,Cr,[T(W(o),{class:`h-5 w-5 text-blue-400`})]),t[28]||=C(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Warehouse Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update the warehouse details carefully as this information is used for: </p><ul class="list-disc list-inside space-y-1"><li>Shipping labels and delivery addresses</li><li>Inventory location tracking</li><li>Logistics and distribution planning</li><li>System availability for transactions</li></ul></div></div>`,1)])])):x(``,!0)])]))}}),Tr=wr;const Er={class:`space-y-6`},Dr={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},Or={class:`grid grid-cols-1 md:grid-cols-4 gap-4`},kr={class:`md:col-span-2`},Ar={class:`relative`},jr={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},Mr={key:0,class:`p-8 text-center`},Nr={key:1,class:`p-8 text-center`},Pr={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},Fr={key:0,class:`mt-6`},Ir={key:2,class:`overflow-x-auto`},Lr={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},Rr={class:`bg-gray-50 dark:bg-gray-700`},zr={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Br={class:`flex flex-col`},Vr={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Hr={class:`flex flex-col`},Ur={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Wr={class:`flex flex-col`},Gr={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},Kr={class:`px-6 py-4 whitespace-nowrap`},qr={class:`flex items-center`},Jr={class:`flex-shrink-0 h-10 w-10`},Yr={class:`h-10 w-10 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center`},Xr={class:`ml-4`},Zr={class:`text-sm font-medium text-gray-900 dark:text-white`},Qr={class:`text-sm text-gray-500 dark:text-gray-400`},$r={class:`px-6 py-4 whitespace-nowrap`},ei={class:`text-sm font-mono font-semibold text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded`},ti={class:`px-6 py-4 whitespace-nowrap`},ni={class:`text-sm text-gray-900 dark:text-white`},ri={class:`font-medium`},ii={class:`text-gray-500 dark:text-gray-400 ml-2`},ai={class:`text-xs text-gray-500 dark:text-gray-400`},oi={class:`px-6 py-4 whitespace-nowrap`},si={class:`text-sm text-gray-900 dark:text-white`},ci={class:`text-xs text-gray-500 dark:text-gray-400`},li={class:`px-6 py-4 whitespace-nowrap`},ui={class:`text-sm text-gray-900 dark:text-white`},di={class:`text-sm text-gray-600 dark:text-gray-400`},fi={class:`text-xs text-gray-500 dark:text-gray-500`},pi={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},mi={class:`flex items-center justify-end space-x-2`},hi=[`onClick`],gi=[`onClick`],_i=[`onClick`],vi={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},yi={class:`flex items-center justify-between`},bi={class:`flex-1 flex justify-between sm:hidden`},xi=[`disabled`],Si=[`disabled`],Ci={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},wi={class:`text-sm text-gray-700 dark:text-gray-300`},Ti={class:`font-medium`},Ei={class:`font-medium`},Di={class:`font-medium`},Oi={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},ki=[`disabled`],Ai=[`disabled`],ji={class:`space-y-4`},Mi={class:`max-h-96 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg`},Ni={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},Pi={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},Fi={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white`},Ii={class:`px-6 py-4 whitespace-nowrap`},Li={class:`flex items-center`},Ri={class:`flex-shrink-0 h-8 w-8`},zi={class:`h-8 w-8 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center`},Bi={class:`text-xs font-semibold text-green-600 dark:text-green-400`},Vi={class:`ml-3`},Hi={class:`text-sm font-medium text-gray-900 dark:text-white`},Ui={class:`text-sm text-gray-500 dark:text-gray-400`},Wi={class:`px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400`},Gi={class:`px-6 py-4 whitespace-nowrap`},Ki=[`value`,`placeholder`,`onInput`],qi={class:`flex justify-end space-x-3 pt-4`},Ji=[`disabled`];var Yi=E({__name:`IndexPage`,emits:[`create`,`edit`],setup(e,{emit:t}){f();let i=ee(),o=fe(),s=t,u=U(!1),p=U(!1),g=U({}),C=U(!1),E=U(!1),A=U(null),j=U(null),M=U(null),N=U(!1),P=ne({search:``,symbol_position:``,per_page:15,sort_by:``,sort_direction:`asc`,page:1}),F=U({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}),I=v(()=>o.currencies),z=v(()=>o.pagination),q=v(()=>o.loading),J=v(()=>I.value.filter(e=>e.code!==`USD`&&e.id!==1)),re=v(()=>Object.values(g.value).some(e=>e>0)),Y=v(()=>[{key:`name`,label:`Name`,type:`text`},{key:`code`,label:`Code`,type:`text`},{key:`symbol`,label:`Symbol`,type:`text`},{key:`symbol_position`,label:`Symbol Position`,type:`text`},{key:`decimal_places`,label:`Decimal Places`,type:`text`},{key:`decimal_separator`,label:`Decimal Separator`,type:`text`},{key:`thousand_separator`,label:`Thousand Separator`,type:`text`,fallback:`None`},{key:`created_by.name`,label:`Created By`,type:`text`,subKey:`created_at`},{key:`updated_by.name`,label:`Last Updated By`,type:`text`,subKey:`updated_at`}]);B(()=>({...P}),e=>{let{page:t,...n}=e;o.updateFilters(n)},{deep:!0});let X=async(e=1)=>{try{let t={...P,page:e};await o.fetchCurrencies(t)}catch{i.error(`Failed to load currencies`,{title:`Error`})}},Z=()=>{j.value&&clearTimeout(j.value),j.value=setTimeout(()=>{X(1)},300)},Q=e=>{P.sort_by===e?P.sort_direction=P.sort_direction===`asc`?`desc`:`asc`:(P.sort_by=e,P.sort_direction=`asc`),X(1)},$=e=>{e>=1&&z.value&&e<=z.value.last_page&&(P.page=e,X(e))},se=e=>{M.value=e,N.value=!0},ce=e=>{`.`.repeat(e.decimal_places);let t=e.decimal_places>0?e.decimal_separator+`56`.substring(0,e.decimal_places):``,n=`1`+(e.thousand_separator||``)+`234`,r=n+t;return e.symbol_position===`before`?`${e.symbol}${r}`:`${r}${e.symbol}`},pe=e=>{A.value=e,F.value={title:`Delete Currency`,message:`Are you sure you want to delete "${e.name} (${e.code})"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},E.value=!0},me=async()=>{A.value&&(await o.deleteCurrency(A.value.id),he())},he=()=>{E.value=!1,A.value=null,F.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},ge=()=>{s(`create`)},_e=e=>{s(`edit`,e)},ve=e=>{if(!e)return`0`;let t=typeof e==`string`?parseFloat(e):e;return Math.abs(t)<1e-6?t.toFixed(20).replace(/\.?0+$/,``):t.toString()},ye=e=>{let t=I.value.find(t=>t.id===e);return t?.current_rate?ve(t.current_rate):null},be=()=>{let e={};J.value.forEach(t=>{if(t.current_rate){let n=typeof t.current_rate==`string`?parseFloat(t.current_rate):t.current_rate;e[t.id]=n}else e[t.id]=0}),g.value=e},Ce=(e,t)=>{let n=t.target,r=n.value.trim();if(r===``||r===null){g.value[e]=0;return}let i=parseFloat(r);isNaN(i)||(g.value[e]=i)},we=()=>{u.value=!0,be()},Te=()=>{u.value=!1,g.value={}},Ee=async()=>{if(re.value)try{p.value=!0;let e=Object.entries(g.value).filter(([e,t])=>t>0).map(([e,t])=>({currency_id:parseInt(e),rate:t}));await o.changeRates(e),await X(),Te()}catch{i.error(`Failed to update currency rates`,{title:`Error`})}finally{p.value=!1}};return L(()=>{X()}),(e,t)=>(R(),S(`div`,Er,[T(le,{title:`Currencies`,description:`Manage currencies for your financial transactions`},{actions:V(()=>[T(Se,{onClick:we},{default:V(()=>t[12]||=[w(`Change Rate`,-1)]),_:1,__:[12]}),T(Se,{onClick:ge},{default:V(()=>t[13]||=[w(`Create New Currency`,-1)]),_:1,__:[13]})]),_:1}),y(`div`,Dr,[y(`div`,Or,[y(`div`,kr,[t[14]||=y(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Currencies `,-1),y(`div`,Ar,[H(y(`input`,{id:`search`,"onUpdate:modelValue":t[0]||=e=>P.search=e,type:`text`,placeholder:`Search by name, code, or symbol...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:Z},null,544),[[h,P.search]]),T(W(ae),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),y(`div`,null,[t[16]||=y(`label`,{for:`symbol_position`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Symbol Position `,-1),H(y(`select`,{id:`symbol_position`,"onUpdate:modelValue":t[1]||=e=>P.symbol_position=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:X},t[15]||=[y(`option`,{value:``},`All Positions`,-1),y(`option`,{value:`before`},`Before`,-1),y(`option`,{value:`after`},`After`,-1)],544),[[m,P.symbol_position]])]),y(`div`,null,[t[18]||=y(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),H(y(`select`,{id:`per-page`,"onUpdate:modelValue":t[2]||=e=>P.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:X},t[17]||=[y(`option`,{value:15},`15`,-1),y(`option`,{value:25},`25`,-1),y(`option`,{value:50},`50`,-1),y(`option`,{value:100},`100`,-1)],544),[[m,P.per_page]])])])]),y(`div`,jr,[q.value?(R(),S(`div`,Mr,[T(W(a),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),t[19]||=y(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading currencies...`,-1)])):I.value.length===0?(R(),S(`div`,Nr,[T(W(l),{class:`h-12 w-12 mx-auto text-gray-400`}),t[21]||=y(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},` No currencies found `,-1),y(`p`,Pr,K(P.search?`Try adjusting your search criteria.`:`Get started by creating your first currency.`),1),P.search?x(``,!0):(R(),S(`div`,Fr,[y(`button`,{onClick:ge,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[T(W(n),{class:`h-5 w-5 mr-2`}),t[20]||=w(` Add Your First Currency `,-1)])]))])):(R(),S(`div`,Ir,[y(`table`,Lr,[y(`thead`,Rr,[y(`tr`,null,[y(`th`,zr,[y(`button`,{onClick:t[3]||=e=>Q(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[22]||=y(`span`,null,`Currency`,-1),y(`div`,Br,[T(W(d),{class:G([`h-3 w-3`,P.sort_by===`name`&&P.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,P.sort_by===`name`&&P.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),y(`th`,Vr,[y(`button`,{onClick:t[4]||=e=>Q(`code`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[23]||=y(`span`,null,`Code`,-1),y(`div`,Hr,[T(W(d),{class:G([`h-3 w-3`,P.sort_by===`code`&&P.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,P.sort_by===`code`&&P.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),t[25]||=y(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Symbol & Position `,-1),t[26]||=y(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Formatting `,-1),y(`th`,Ur,[y(`button`,{onClick:t[5]||=e=>Q(`created_by`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[24]||=y(`span`,null,`Created By`,-1),y(`div`,Wr,[T(W(d),{class:G([`h-3 w-3`,P.sort_by===`created_by`&&P.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,P.sort_by===`created_by`&&P.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),t[27]||=y(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),y(`tbody`,Gr,[(R(!0),S(_,null,te(I.value,e=>(R(),S(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[y(`td`,Kr,[y(`div`,qr,[y(`div`,Jr,[y(`div`,Yr,[T(W(l),{class:`h-5 w-5 text-green-600 dark:text-green-400`})])]),y(`div`,Xr,[y(`div`,Zr,K(e.name),1),y(`div`,Qr,` ID: `+K(e.id),1)])])]),y(`td`,$r,[y(`div`,ei,K(e.code),1)]),y(`td`,ti,[y(`div`,ni,[y(`span`,ri,K(e.symbol),1),y(`span`,ii,` (`+K(e.symbol_position)+`) `,1)]),y(`div`,ai,` Example: `+K(ce(e)),1)]),y(`td`,oi,[y(`div`,si,K(e.decimal_places)+` decimals `,1),y(`div`,ci,` Dec: "`+K(e.decimal_separator)+`" | Thou: "`+K(e.thousand_separator||`none`)+`" `,1)]),y(`td`,li,[y(`div`,ui,[y(`div`,di,K(e.created_by?.name||`-`),1),y(`div`,fi,K(W(oe)(e.created_at)),1)])]),y(`td`,pi,[y(`div`,mi,[y(`button`,{onClick:t=>se(e),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[T(W(c),{class:`w-4 h-4`})],8,hi),y(`button`,{onClick:t=>_e(e),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit Currency`},[T(W(r),{class:`h-4 w-4`})],8,gi),y(`button`,{onClick:t=>pe(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete Currency`},[T(W(ie),{class:`h-4 w-4`})],8,_i)])])]))),128))])])])),z.value&&z.value.total>0?(R(),S(`div`,vi,[y(`div`,yi,[y(`div`,bi,[y(`button`,{onClick:t[6]||=e=>$(z.value.current_page-1),disabled:z.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,xi),y(`button`,{onClick:t[7]||=e=>$(z.value.current_page+1),disabled:z.value.current_page>=z.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,Si)]),y(`div`,Ci,[y(`div`,null,[y(`p`,wi,[t[28]||=w(` Showing `,-1),y(`span`,Ti,K(z.value.from),1),t[29]||=w(` to `,-1),y(`span`,Ei,K(z.value.to),1),t[30]||=w(` of `,-1),y(`span`,Di,K(z.value.total),1),t[31]||=w(` results `,-1)])]),y(`div`,null,[y(`nav`,Oi,[y(`button`,{onClick:t[8]||=e=>$(z.value.current_page-1),disabled:z.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[T(W(O),{class:`h-5 w-5`})],8,ki),y(`button`,{onClick:t[9]||=e=>$(z.value.current_page+1),disabled:z.value.current_page>=z.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[T(W(D),{class:`h-5 w-5`})],8,Ai)])])])])])):x(``,!0)]),T(ue,{show:E.value,"onUpdate:show":t[10]||=e=>E.value=e,type:`delete`,title:F.value.title,message:F.value.message,"confirm-text":F.value.buttonText,"loading-text":F.value.loadingText,loading:C.value,onConfirm:me,onCancel:he},null,8,[`show`,`title`,`message`,`confirm-text`,`loading-text`,`loading`]),T(xe,{show:N.value,"onUpdate:show":t[11]||=e=>N.value=e,item:M.value,title:`Currency Details`,"display-fields":Y.value,size:`lg`},null,8,[`show`,`item`,`display-fields`]),T(de,{title:`Currency rate to USD`,modelValue:u.value,onClose:Te,size:`2xl`,showCloseButton:!0,closeOnEscape:!1},{default:V(()=>[y(`div`,ji,[t[33]||=y(`div`,{class:`bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},[y(`div`,{class:`flex items-center`},[y(`div`,{class:`flex-shrink-0`},[y(`svg`,{class:`h-5 w-5 text-blue-400`,fill:`currentColor`,viewBox:`0 0 20 20`},[y(`path`,{"fill-rule":`evenodd`,d:`M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z`,"clip-rule":`evenodd`})])]),y(`div`,{class:`ml-3`},[y(`p`,{class:`text-sm text-blue-800 dark:text-blue-200`},[y(`strong`,null,`Note:`),w(` All rates are relative to USD. Enter the exchange rate for 1 USD to the respective currency. `)])])])],-1),y(`div`,Mi,[y(`table`,Ni,[t[32]||=y(`thead`,{class:`bg-gray-50 dark:bg-gray-700 sticky top-0 z-10`},[y(`tr`,null,[y(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` # `),y(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Currency `),y(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Current Rate `),y(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` New Rate (1 USD =) `)])],-1),y(`tbody`,Pi,[(R(!0),S(_,null,te(J.value,(e,t)=>(R(),S(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700`},[y(`td`,Fi,K(t+1),1),y(`td`,Ii,[y(`div`,Li,[y(`div`,Ri,[y(`div`,zi,[y(`span`,Bi,K(e.code.substring(0,2)),1)])]),y(`div`,Vi,[y(`div`,Hi,K(e.name),1),y(`div`,Ui,K(e.code),1)])])]),y(`td`,Wi,K(ye(e.id)||`Not set`),1),y(`td`,Gi,[y(`input`,{value:ve(g.value[e.id]),type:`text`,placeholder:`Enter rate for ${e.name}`,onInput:t=>Ce(e.id,t),class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm`},null,40,Ki)])]))),128))])])]),y(`div`,qi,[y(`button`,{onClick:Te,type:`button`,class:`px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`},` Cancel `),y(`button`,{onClick:Ee,disabled:p.value||!re.value,type:`button`,class:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[p.value?(R(),b(W(a),{key:0,class:`h-4 w-4 mr-2 animate-spin`})):x(``,!0),w(` `+K(p.value?`Updating...`:`Update Rates`),1)],8,Ji)])])]),_:1},8,[`modelValue`])]))}}),Xi=Yi;function Zi(){let e=U({}),t=v(()=>Object.keys(e.value).length>0),n=t=>e.value[t]?.[0],r=n=>{let r={};return!n.name||n.name.trim().length===0?r.name=[`Currency name is required`]:n.name.trim().length>255&&(r.name=[`Currency name must not exceed 255 characters`]),!n.code||n.code.trim().length===0?r.code=[`Currency code is required`]:n.code.trim().length===3?/^[A-Z]+$/.test(n.code.trim())||(r.code=[`Currency code must contain only uppercase letters`]):r.code=[`Currency code must be exactly 3 characters (e.g., USD, EUR)`],!n.symbol||n.symbol.trim().length===0?r.symbol=[`Currency symbol is required`]:n.symbol.trim().length>10&&(r.symbol=[`Currency symbol must not exceed 10 characters`]),!n.symbol_position||n.symbol_position.trim().length===0?r.symbol_position=[`Symbol position is required`]:[`before`,`after`].includes(n.symbol_position)||(r.symbol_position=[`Symbol position must be either "before" or "after"`]),n.decimal_places===void 0||n.decimal_places===null?r.decimal_places=[`Decimal places is required`]:n.decimal_places<0||n.decimal_places>4?r.decimal_places=[`Decimal places must be between 0 and 4`]:Number.isInteger(n.decimal_places)||(r.decimal_places=[`Decimal places must be a whole number`]),!n.decimal_separator||n.decimal_separator.trim().length===0?r.decimal_separator=[`Decimal separator is required`]:n.decimal_separator.trim().length>1?r.decimal_separator=[`Decimal separator must be a single character`]:[`.`,`,`].includes(n.decimal_separator)||(r.decimal_separator=[`Decimal separator must be either "." or ","`]),!n.thousand_separator||n.thousand_separator.trim().length===0?r.thousand_separator=[`Thousand separator is required`]:n.thousand_separator.trim().length>1?r.thousand_separator=[`Thousand separator must be a single character`]:[`,`,`.`,` `,``].includes(n.thousand_separator)||(r.thousand_separator=[`Thousand separator must be ",", ".", space, or empty`]),n.decimal_separator&&n.thousand_separator&&n.decimal_separator===n.thousand_separator&&n.thousand_separator!==``&&(r.decimal_separator=[`Decimal separator and thousand separator must be different`],r.thousand_separator=[`Decimal separator and thousand separator must be different`]),e.value=r,!t.value},i=n=>{let r={};return n.name!==void 0&&(!n.name||n.name.trim().length===0?r.name=[`Currency name is required`]:n.name.trim().length>255&&(r.name=[`Currency name must not exceed 255 characters`])),n.code!==void 0&&(!n.code||n.code.trim().length===0?r.code=[`Currency code is required`]:n.code.trim().length===3?/^[A-Z]+$/.test(n.code.trim())||(r.code=[`Currency code must contain only uppercase letters`]):r.code=[`Currency code must be exactly 3 characters (e.g., USD, EUR)`]),n.symbol!==void 0&&(!n.symbol||n.symbol.trim().length===0?r.symbol=[`Currency symbol is required`]:n.symbol.trim().length>10&&(r.symbol=[`Currency symbol must not exceed 10 characters`])),n.symbol_position!==void 0&&(!n.symbol_position||n.symbol_position.trim().length===0?r.symbol_position=[`Symbol position is required`]:[`before`,`after`].includes(n.symbol_position)||(r.symbol_position=[`Symbol position must be either "before" or "after"`])),n.decimal_places!==void 0&&(n.decimal_places===null?r.decimal_places=[`Decimal places is required`]:n.decimal_places<0||n.decimal_places>4?r.decimal_places=[`Decimal places must be between 0 and 4`]:Number.isInteger(n.decimal_places)||(r.decimal_places=[`Decimal places must be a whole number`])),n.decimal_separator!==void 0&&(!n.decimal_separator||n.decimal_separator.trim().length===0?r.decimal_separator=[`Decimal separator is required`]:n.decimal_separator.trim().length>1?r.decimal_separator=[`Decimal separator must be a single character`]:[`.`,`,`].includes(n.decimal_separator)||(r.decimal_separator=[`Decimal separator must be either "." or ","`])),n.thousand_separator!==void 0&&(!n.thousand_separator||n.thousand_separator.trim().length===0?r.thousand_separator=[`Thousand separator is required`]:n.thousand_separator.trim().length>1?r.thousand_separator=[`Thousand separator must be a single character`]:[`,`,`.`,` `,``].includes(n.thousand_separator)||(r.thousand_separator=[`Thousand separator must be ",", ".", space, or empty`])),n.decimal_separator!==void 0&&n.thousand_separator!==void 0&&n.decimal_separator&&n.thousand_separator&&n.decimal_separator===n.thousand_separator&&n.thousand_separator!==``&&(r.decimal_separator=[`Decimal separator and thousand separator must be different`],r.thousand_separator=[`Decimal separator and thousand separator must be different`]),e.value=r,!t.value},a=()=>{e.value={}},o=t=>{e.value[t]&&delete e.value[t]},s=t=>{e.value=t};return{errors:e,hasErrors:t,getFieldError:n,validateCreateRequest:r,validateUpdateRequest:i,clearErrors:a,clearFieldError:o,setServerErrors:s}}const Qi={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},$i={class:`max-w-4xl mx-auto`},ea={class:`mb-8`},ta={class:`flex items-center space-x-4 mb-2`},na={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},ra={class:`px-6 py-8`},ia={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},aa={key:0,class:`mt-1 text-xs text-gray-500`},oa={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},sa={key:0,class:`mt-1 text-xs text-gray-500`},ca=[`disabled`],la={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},ua={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},da={class:`text-lg font-mono text-gray-900 dark:text-white`},fa={class:`grid grid-cols-1 md:grid-cols-4 gap-6`},pa=[`disabled`],ma={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},ha=[`disabled`],ga={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},_a=[`disabled`],va={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},ya=[`disabled`],ba={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},xa={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},Sa={class:`space-y-1`},Ca={class:`text-sm font-mono text-gray-900 dark:text-white`},wa={class:`text-sm font-mono text-gray-900 dark:text-white`},Ta={class:`text-sm font-mono text-gray-900 dark:text-white`},Ea={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Da=[`disabled`],Oa=[`disabled`],ka={key:0,class:`flex items-center justify-center`},Aa={key:1},ja={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Ma={class:`flex`},Na={class:`flex-shrink-0`};var Pa=E({__name:`CreatePage`,emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=t,r=fe(),{errors:i,hasErrors:a,getFieldError:s,validateCreateRequest:c,clearFieldError:l,setServerErrors:u,clearErrors:d}=Zi(),f=U(!1),p=U({name:``,code:``,symbol:``,symbol_position:``,decimal_places:2,calculation_type:`multiply`,decimal_separator:`.`,thousand_separator:`,`}),h=v(()=>p.value.name.trim().length>0&&p.value.name.length<=255&&p.value.code.trim().length===3&&/^[A-Z]+$/.test(p.value.code.trim())&&p.value.symbol.trim().length>0&&p.value.symbol.length<=10&&[`before`,`after`].includes(p.value.symbol_position)&&typeof p.value.decimal_places==`number`&&p.value.decimal_places>=0&&p.value.decimal_places<=4&&[`divide`,`multiply`].includes(p.value.calculation_type)&&[`.`,`,`].includes(p.value.decimal_separator)&&p.value.thousand_separator!==void 0),_=v(()=>p.value.symbol&&p.value.symbol_position&&typeof p.value.decimal_places==`number`&&p.value.decimal_separator&&p.value.thousand_separator!==void 0),b=()=>{p.value.code=p.value.code.toUpperCase()},E=()=>{if(!p.value.symbol||!p.value.symbol_position)return``;let e=`123.45`;return p.value.symbol_position===`before`?`${p.value.symbol}${e}`:`${e}${p.value.symbol}`},D=e=>{if(!_.value)return``;let t=e.toFixed(p.value.decimal_places).split(`.`),n=t[0],r=t[1];p.value.thousand_separator&&n.length>3&&(n=n.replace(/\B(?=(\d{3})+(?!\d))/g,p.value.thousand_separator));let i=n;return p.value.decimal_places>0&&r&&(i+=p.value.decimal_separator+r),p.value.symbol_position===`before`?`${p.value.symbol}${i}`:`${i}${p.value.symbol}`},O=()=>{p.value={name:``,code:``,symbol:``,symbol_position:``,decimal_places:2,calculation_type:`multiply`,decimal_separator:`.`,thousand_separator:`,`},d()},k=async()=>{if(d(),c(p.value))try{f.value=!0,await r.createCurrency(p.value),O(),n(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&u(e.response.data.errors)}finally{f.value=!1}},A=()=>{O(),n(`cancel`)},j=()=>{n(`back`)};return L(()=>{O()}),(e,t)=>(R(),S(`div`,Qi,[y(`div`,$i,[y(`div`,ea,[y(`div`,ta,[y(`button`,{onClick:j,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[T(W(M),{class:`w-5 h-5`})]),t[16]||=y(`div`,null,[y(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create Currency `),y(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new currency for your financial transactions `)],-1)])]),y(`div`,na,[y(`div`,ra,[y(`form`,{onSubmit:g(k,[`prevent`]),class:`space-y-8`},[y(`div`,null,[t[18]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),y(`div`,ia,[y(`div`,null,[T(J,{type:`text`,maxlength:255,disabled:f.value,onBlur:t[0]||=()=>W(l)(`name`),modelValue:p.value.name,"onUpdate:modelValue":t[1]||=e=>p.value.name=e,placeholder:`Enter currency name (e.g., US Dollar)`,error:W(s)(`name`),required:``,label:`Currency Name`},null,8,[`disabled`,`modelValue`,`error`]),p.value.name.length>0?(R(),S(`p`,aa,K(p.value.name.length)+`/255 characters `,1)):x(``,!0)]),y(`div`,null,[T(J,{type:`text`,maxlength:3,disabled:f.value,onBlur:t[2]||=()=>W(l)(`code`),onInput:b,modelValue:p.value.code,"onUpdate:modelValue":t[3]||=e=>p.value.code=e,placeholder:`Enter currency code (e.g., USD)`,error:W(s)(`code`),required:``,label:`Currency Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),t[17]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` 3-letter ISO code (automatically converted to uppercase) `,-1)])])]),y(`div`,null,[t[22]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Symbol Configuration `,-1),y(`div`,oa,[y(`div`,null,[T(J,{type:`text`,maxlength:10,disabled:f.value,onBlur:t[4]||=()=>W(l)(`symbol`),modelValue:p.value.symbol,"onUpdate:modelValue":t[5]||=e=>p.value.symbol=e,placeholder:`Enter currency symbol (e.g., $)`,error:W(s)(`symbol`),required:``,label:`Currency Symbol`},null,8,[`disabled`,`modelValue`,`error`]),p.value.symbol.length>0?(R(),S(`p`,sa,K(p.value.symbol.length)+`/10 characters `,1)):x(``,!0)]),y(`div`,null,[t[20]||=y(`label`,{for:`symbol_position`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[w(` Symbol Position `),y(`span`,{class:`text-red-500 ml-1`},`*`)],-1),H(y(`select`,{id:`symbol_position`,"onUpdate:modelValue":t[6]||=e=>p.value.symbol_position=e,disabled:f.value,onBlur:t[7]||=()=>W(l)(`symbol_position`),class:G([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,W(s)(`symbol_position`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[19]||=[y(`option`,{value:``},`Select position`,-1),y(`option`,{value:`before`},`Before amount ($123.45)`,-1),y(`option`,{value:`after`},`After amount (123.45$)`,-1)],42,ca),[[m,p.value.symbol_position]]),W(s)(`symbol_position`)?(R(),S(`p`,la,K(W(s)(`symbol_position`)),1)):x(``,!0)])]),p.value.symbol&&p.value.symbol_position?(R(),S(`div`,ua,[t[21]||=y(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Preview:`,-1),y(`p`,da,K(E()),1)])):x(``,!0)]),y(`div`,null,[t[33]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Number Formatting `,-1),y(`div`,fa,[y(`div`,null,[t[24]||=y(`label`,{for:`decimal_places`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[w(` Decimal Places `),y(`span`,{class:`text-red-500 ml-1`},`*`)],-1),H(y(`select`,{id:`decimal_places`,"onUpdate:modelValue":t[8]||=e=>p.value.decimal_places=e,disabled:f.value,onBlur:t[9]||=()=>W(l)(`decimal_places`),class:G([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,W(s)(`decimal_places`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[23]||=[y(`option`,{value:``},`Select`,-1),y(`option`,{value:0},`0 (no decimals)`,-1),y(`option`,{value:1},`1 decimal`,-1),y(`option`,{value:2},`2 decimals`,-1),y(`option`,{value:3},`3 decimals`,-1),y(`option`,{value:4},`4 decimals`,-1)],42,pa),[[m,p.value.decimal_places,void 0,{number:!0}]]),W(s)(`decimal_places`)?(R(),S(`p`,ma,K(W(s)(`decimal_places`)),1)):x(``,!0)]),y(`div`,null,[t[26]||=y(`label`,{for:`calculation_type`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[w(` Calculation Type `),y(`span`,{class:`text-red-500 ml-1`},`*`)],-1),H(y(`select`,{id:`calculation_type`,"onUpdate:modelValue":t[10]||=e=>p.value.calculation_type=e,disabled:f.value,onBlur:t[11]||=()=>W(l)(`calculation_type`),class:G([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,W(s)(`calculation_type`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[25]||=[y(`option`,{value:`multiply`},`Multiply`,-1),y(`option`,{value:`divide`},`Divide`,-1)],42,ha),[[m,p.value.calculation_type]]),W(s)(`calculation_type`)?(R(),S(`p`,ga,K(W(s)(`calculation_type`)),1)):x(``,!0),t[27]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` How to convert to USD `,-1)]),y(`div`,null,[t[29]||=y(`label`,{for:`decimal_separator`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[w(` Decimal Separator `),y(`span`,{class:`text-red-500 ml-1`},`*`)],-1),H(y(`select`,{id:`decimal_separator`,"onUpdate:modelValue":t[12]||=e=>p.value.decimal_separator=e,disabled:f.value,onBlur:t[13]||=()=>W(l)(`decimal_separator`),class:G([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,W(s)(`decimal_separator`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[28]||=[y(`option`,{value:``},`Select`,-1),y(`option`,{value:`.`},`Period (.)`,-1),y(`option`,{value:`,`},`Comma (,)`,-1)],42,_a),[[m,p.value.decimal_separator]]),W(s)(`decimal_separator`)?(R(),S(`p`,va,K(W(s)(`decimal_separator`)),1)):x(``,!0)]),y(`div`,null,[t[31]||=y(`label`,{for:`thousand_separator`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[w(` Thousand Separator `),y(`span`,{class:`text-red-500 ml-1`},`*`)],-1),H(y(`select`,{id:`thousand_separator`,"onUpdate:modelValue":t[14]||=e=>p.value.thousand_separator=e,disabled:f.value,onBlur:t[15]||=()=>W(l)(`thousand_separator`),class:G([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,W(s)(`thousand_separator`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[30]||=[C(`<option value="">Select</option><option value=",">Comma (,)</option><option value=".">Period (.)</option><option value=" ">Space ( )</option><option value="">None</option>`,5)],42,ya),[[m,p.value.thousand_separator]]),W(s)(`thousand_separator`)?(R(),S(`p`,ba,K(W(s)(`thousand_separator`)),1)):x(``,!0)])]),_.value?(R(),S(`div`,xa,[t[32]||=y(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Formatting Preview:`,-1),y(`div`,Sa,[y(`p`,Ca,` Small: `+K(D(12.3)),1),y(`p`,wa,` Medium: `+K(D(1234.56)),1),y(`p`,Ta,` Large: `+K(D(1234567.89)),1)])])):x(``,!0)]),y(`div`,Ea,[y(`button`,{type:`button`,onClick:A,disabled:f.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,Da),y(`button`,{type:`submit`,disabled:f.value||W(a)||!h.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[f.value?(R(),S(`div`,ka,t[34]||=[y(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),w(` Creating... `,-1)])):(R(),S(`span`,Aa,`Create Currency`))],8,Oa)])],32)])]),y(`div`,ja,[y(`div`,Ma,[y(`div`,Na,[T(W(o),{class:`h-5 w-5 text-blue-400`})]),t[35]||=C(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> About Currencies </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Currencies define how monetary values are displayed and formatted in your system: </p><ul class="list-disc list-inside space-y-1"><li><strong>Name:</strong> Full currency name (e.g., &quot;US Dollar&quot;)</li><li><strong>Code:</strong> 3-letter ISO code (e.g., &quot;USD&quot;, &quot;EUR&quot;)</li><li><strong>Symbol:</strong> Currency symbol (e.g., &quot;$&quot;, &quot;&quot;, &quot;&quot;)</li><li><strong>Position:</strong> Where the symbol appears relative to the amount</li><li><strong>Calculation Type:</strong> How to convert to USD - Divide (for stronger currencies) or Multiply (for weaker currencies)</li><li><strong>Formatting:</strong> How numbers are displayed with separators and decimals</li></ul></div></div>`,1)])])])]))}}),Fa=Pa;const Ia={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},La={class:`max-w-4xl mx-auto`},Ra={class:`mb-8`},za={class:`flex items-center space-x-4 mb-2`},Ba={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Va={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Ha={class:`px-6 py-8`},Ua={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Wa={key:0,class:`mt-1 text-xs text-gray-500`},Ga={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Ka={key:0,class:`mt-1 text-xs text-gray-500`},qa=[`disabled`],Ja={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ya={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},Xa={class:`text-lg font-mono text-gray-900 dark:text-white`},Za={class:`grid grid-cols-1 md:grid-cols-4 gap-6`},Qa=[`disabled`],$a={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},eo=[`disabled`],to={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},no=[`disabled`],ro={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},io=[`disabled`],ao={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},oo={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},so={class:`space-y-1`},co={class:`text-sm font-mono text-gray-900 dark:text-white`},lo={class:`text-sm font-mono text-gray-900 dark:text-white`},uo={class:`text-sm font-mono text-gray-900 dark:text-white`},fo={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},po=[`disabled`],mo=[`disabled`],ho={key:0,class:`flex items-center justify-center`},go={key:1},_o={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},vo={class:`flex flex-col items-center`},yo={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},bo={class:`flex`},xo={class:`flex-shrink-0`};var So=E({__name:`EditPage`,props:{id:{},currency:{}},emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=e,r=t,i=fe(),{errors:a,hasErrors:s,getFieldError:c,validateUpdateRequest:l,clearFieldError:d,setServerErrors:f,clearErrors:p}=Zi(),h=U(!1),_=U(!1),b=U({name:``,code:``,symbol:``,symbol_position:``,decimal_places:2,calculation_type:`multiply`,decimal_separator:`.`,thousand_separator:`,`}),E=U({name:``,code:``,symbol:``,symbol_position:``,decimal_places:2,calculation_type:`multiply`,decimal_separator:`.`,thousand_separator:`,`}),D=v(()=>b.value.name.trim().length>0&&b.value.name.length<=255&&b.value.code.trim().length===3&&/^[A-Z]+$/.test(b.value.code.trim())&&b.value.symbol.trim().length>0&&b.value.symbol.length<=10&&[`before`,`after`].includes(b.value.symbol_position)&&typeof b.value.decimal_places==`number`&&b.value.decimal_places>=0&&b.value.decimal_places<=4&&[`divide`,`multiply`].includes(b.value.calculation_type)&&[`.`,`,`].includes(b.value.decimal_separator)&&b.value.thousand_separator!==void 0),O=v(()=>b.value.symbol&&b.value.symbol_position&&typeof b.value.decimal_places==`number`&&b.value.decimal_separator&&b.value.thousand_separator!==void 0),k=()=>{b.value.code=b.value.code.toUpperCase()},A=()=>{if(!b.value.symbol||!b.value.symbol_position)return``;let e=`123.45`;return b.value.symbol_position===`before`?`${b.value.symbol}${e}`:`${e}${b.value.symbol}`},j=e=>{if(!O.value)return``;let t=e.toFixed(b.value.decimal_places).split(`.`),n=t[0],r=t[1];b.value.thousand_separator&&n.length>3&&(n=n.replace(/\B(?=(\d{3})+(?!\d))/g,b.value.thousand_separator));let i=n;return b.value.decimal_places>0&&r&&(i+=b.value.decimal_separator+r),b.value.symbol_position===`before`?`${b.value.symbol}${i}`:`${i}${b.value.symbol}`},N=async()=>{try{_.value=!0;let e=n.currency||await i.fetchCurrency(n.id);e&&(b.value={name:e.name,code:e.code,symbol:e.symbol,symbol_position:e.symbol_position,decimal_places:e.decimal_places,calculation_type:e.calculation_type||`multiply`,decimal_separator:e.decimal_separator,thousand_separator:e.thousand_separator},E.value={name:e.name,code:e.code,symbol:e.symbol,symbol_position:e.symbol_position,decimal_places:e.decimal_places,calculation_type:e.calculation_type||`multiply`,decimal_separator:e.decimal_separator,thousand_separator:e.thousand_separator},p())}catch(e){console.error(`Error loading currency:`,e)}finally{_.value=!1}},P=async()=>{if(p(),l(b.value))try{h.value=!0;let e={name:b.value.name,code:b.value.code,symbol:b.value.symbol,symbol_position:b.value.symbol_position,decimal_places:b.value.decimal_places,calculation_type:b.value.calculation_type,decimal_separator:b.value.decimal_separator,thousand_separator:b.value.thousand_separator};await i.updateCurrency(n.id,e),E.value={...b.value},r(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&f(e.response.data.errors)}finally{h.value=!1}},F=()=>{r(`cancel`)},I=()=>{r(`back`)};return L(()=>{N()}),B(()=>n.id,()=>{n.id&&N()}),(e,t)=>(R(),S(`div`,Ia,[y(`div`,La,[y(`div`,Ra,[y(`div`,za,[y(`button`,{onClick:I,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[T(W(M),{class:`w-5 h-5`})]),t[16]||=y(`div`,null,[y(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Currency `),y(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update currency information and formatting settings `)],-1)])]),_.value?(R(),S(`div`,Ba,t[17]||=[y(`div`,{class:`flex items-center justify-center`},[y(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),y(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading currency...`)],-1)])):b.value?(R(),S(`div`,Va,[y(`div`,Ha,[y(`form`,{onSubmit:g(P,[`prevent`]),class:`space-y-8`},[y(`div`,null,[t[19]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),y(`div`,Ua,[y(`div`,null,[T(J,{type:`text`,maxlength:255,disabled:h.value,onBlur:t[0]||=()=>W(d)(`name`),modelValue:b.value.name,"onUpdate:modelValue":t[1]||=e=>b.value.name=e,placeholder:`Enter currency name (e.g., US Dollar)`,error:W(c)(`name`),required:``,label:`Currency Name`},null,8,[`disabled`,`modelValue`,`error`]),b.value.name.length>0?(R(),S(`p`,Wa,K(b.value.name.length)+`/255 characters `,1)):x(``,!0)]),y(`div`,null,[T(J,{type:`text`,maxlength:3,disabled:h.value,onBlur:t[2]||=()=>W(d)(`code`),onInput:k,modelValue:b.value.code,"onUpdate:modelValue":t[3]||=e=>b.value.code=e,placeholder:`Enter currency code (e.g., USD)`,error:W(c)(`code`),required:``,label:`Currency Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),t[18]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` 3-letter ISO code (automatically converted to uppercase) `,-1)])])]),y(`div`,null,[t[23]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Symbol Configuration `,-1),y(`div`,Ga,[y(`div`,null,[T(J,{type:`text`,maxlength:10,disabled:h.value,onBlur:t[4]||=()=>W(d)(`symbol`),modelValue:b.value.symbol,"onUpdate:modelValue":t[5]||=e=>b.value.symbol=e,placeholder:`Enter currency symbol (e.g., $)`,error:W(c)(`symbol`),required:``,label:`Currency Symbol`},null,8,[`disabled`,`modelValue`,`error`]),b.value.symbol.length>0?(R(),S(`p`,Ka,K(b.value.symbol.length)+`/10 characters `,1)):x(``,!0)]),y(`div`,null,[t[21]||=y(`label`,{for:`symbol_position`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[w(` Symbol Position `),y(`span`,{class:`text-red-500 ml-1`},`*`)],-1),H(y(`select`,{id:`symbol_position`,"onUpdate:modelValue":t[6]||=e=>b.value.symbol_position=e,disabled:h.value,onBlur:t[7]||=()=>W(d)(`symbol_position`),class:G([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,W(c)(`symbol_position`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[20]||=[y(`option`,{value:``},`Select position`,-1),y(`option`,{value:`before`},`Before amount ($123.45)`,-1),y(`option`,{value:`after`},`After amount (123.45$)`,-1)],42,qa),[[m,b.value.symbol_position]]),W(c)(`symbol_position`)?(R(),S(`p`,Ja,K(W(c)(`symbol_position`)),1)):x(``,!0)])]),b.value.symbol&&b.value.symbol_position?(R(),S(`div`,Ya,[t[22]||=y(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Preview:`,-1),y(`p`,Xa,K(A()),1)])):x(``,!0)]),y(`div`,null,[t[34]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Number Formatting `,-1),y(`div`,Za,[y(`div`,null,[t[25]||=y(`label`,{for:`decimal_places`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[w(` Decimal Places `),y(`span`,{class:`text-red-500 ml-1`},`*`)],-1),H(y(`select`,{id:`decimal_places`,"onUpdate:modelValue":t[8]||=e=>b.value.decimal_places=e,disabled:h.value,onBlur:t[9]||=()=>W(d)(`decimal_places`),class:G([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,W(c)(`decimal_places`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[24]||=[y(`option`,{value:``},`Select`,-1),y(`option`,{value:0},`0 (no decimals)`,-1),y(`option`,{value:1},`1 decimal`,-1),y(`option`,{value:2},`2 decimals`,-1),y(`option`,{value:3},`3 decimals`,-1),y(`option`,{value:4},`4 decimals`,-1)],42,Qa),[[m,b.value.decimal_places,void 0,{number:!0}]]),W(c)(`decimal_places`)?(R(),S(`p`,$a,K(W(c)(`decimal_places`)),1)):x(``,!0)]),y(`div`,null,[t[27]||=y(`label`,{for:`calculation_type`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[w(` Calculation Type `),y(`span`,{class:`text-red-500 ml-1`},`*`)],-1),H(y(`select`,{id:`calculation_type`,"onUpdate:modelValue":t[10]||=e=>b.value.calculation_type=e,disabled:h.value,onBlur:t[11]||=()=>W(d)(`calculation_type`),class:G([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,W(c)(`calculation_type`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[26]||=[y(`option`,{value:``},`Select`,-1),y(`option`,{value:`multiply`},`Multiply`,-1),y(`option`,{value:`divide`},`Divide`,-1)],42,eo),[[m,b.value.calculation_type]]),W(c)(`calculation_type`)?(R(),S(`p`,to,K(W(c)(`calculation_type`)),1)):x(``,!0),t[28]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` How to convert to USD `,-1)]),y(`div`,null,[t[30]||=y(`label`,{for:`decimal_separator`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[w(` Decimal Separator `),y(`span`,{class:`text-red-500 ml-1`},`*`)],-1),H(y(`select`,{id:`decimal_separator`,"onUpdate:modelValue":t[12]||=e=>b.value.decimal_separator=e,disabled:h.value,onBlur:t[13]||=()=>W(d)(`decimal_separator`),class:G([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,W(c)(`decimal_separator`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[29]||=[y(`option`,{value:``},`Select`,-1),y(`option`,{value:`.`},`Period (.)`,-1),y(`option`,{value:`,`},`Comma (,)`,-1)],42,no),[[m,b.value.decimal_separator]]),W(c)(`decimal_separator`)?(R(),S(`p`,ro,K(W(c)(`decimal_separator`)),1)):x(``,!0)]),y(`div`,null,[t[32]||=y(`label`,{for:`thousand_separator`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[w(` Thousand Separator `),y(`span`,{class:`text-red-500 ml-1`},`*`)],-1),H(y(`select`,{id:`thousand_separator`,"onUpdate:modelValue":t[14]||=e=>b.value.thousand_separator=e,disabled:h.value,onBlur:t[15]||=()=>W(d)(`thousand_separator`),class:G([`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,W(c)(`thousand_separator`)?`border-red-300 dark:border-red-500 focus:ring-red-500`:``])},t[31]||=[C(`<option value="">Select</option><option value=",">Comma (,)</option><option value=".">Period (.)</option><option value=" ">Space ( )</option><option value="">None</option>`,5)],42,io),[[m,b.value.thousand_separator]]),W(c)(`thousand_separator`)?(R(),S(`p`,ao,K(W(c)(`thousand_separator`)),1)):x(``,!0)])]),O.value?(R(),S(`div`,oo,[t[33]||=y(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Formatting Preview:`,-1),y(`div`,so,[y(`p`,co,` Small: `+K(j(12.3)),1),y(`p`,lo,` Medium: `+K(j(1234.56)),1),y(`p`,uo,` Large: `+K(j(1234567.89)),1)])])):x(``,!0)]),y(`div`,fo,[y(`button`,{type:`button`,onClick:F,disabled:h.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,po),y(`button`,{type:`submit`,disabled:h.value||W(s)||!D.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[h.value?(R(),S(`div`,ho,t[35]||=[y(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),w(` Updating... `,-1)])):(R(),S(`span`,go,`Update Currency`))],8,mo)])],32)])])):(R(),S(`div`,_o,[y(`div`,vo,[T(W(u),{class:`w-12 h-12 text-red-400 mb-4`}),t[36]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Currency Not Found `,-1),t[37]||=y(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The currency you're trying to edit could not be found. `,-1),y(`button`,{onClick:I,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},`  Back to Currencies `)])])),b.value?(R(),S(`div`,yo,[y(`div`,bo,[y(`div`,xo,[T(W(o),{class:`h-5 w-5 text-blue-400`})]),t[38]||=C(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Currency Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update the currency details carefully as this information affects: </p><ul class="list-disc list-inside space-y-1"><li>How monetary amounts are displayed throughout the system</li><li>Financial reports and transaction formatting</li><li>Invoice and receipt generation</li><li>API responses for integrations</li></ul></div></div>`,1)])])):x(``,!0)])]))}}),Co=So;const wo={class:`space-y-6`},To={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},Eo={class:`grid grid-cols-1 md:grid-cols-4 gap-4`},Do={class:`md:col-span-2`},Oo={class:`relative`},ko={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},Ao={key:0,class:`p-8 text-center`},jo={key:1,class:`p-8 text-center`},Mo={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},No={key:0,class:`mt-6`},Po={key:2,class:`overflow-x-auto`},Fo={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},Io={class:`bg-gray-50 dark:bg-gray-700`},Lo={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Ro={class:`flex flex-col`},zo={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Bo={class:`flex flex-col`},Vo={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Ho={class:`flex flex-col`},Uo={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},Wo={class:`px-6 py-4 whitespace-nowrap`},Go={class:`flex items-center`},Ko={class:`flex-shrink-0 h-10 w-10`},qo={class:`h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center`},Jo={class:`ml-4`},Yo={class:`text-sm font-medium text-gray-900 dark:text-white`},Xo={class:`text-sm text-gray-500 dark:text-gray-400`},Zo={class:`px-6 py-4 whitespace-nowrap`},Qo={class:`text-sm text-gray-900 dark:text-white`},$o={class:`flex items-center space-x-2`},es={class:`font-mono font-semibold bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-xs`},ts={class:`font-mono font-semibold bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 px-2 py-1 rounded text-xs`},ns={class:`px-6 py-4 whitespace-nowrap`},rs={class:`text-sm text-gray-900 dark:text-white`},os={key:0,class:`font-mono bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-2 py-1 rounded text-sm`},ss={key:1,class:`text-gray-400 text-sm`},cs={class:`px-6 py-4 whitespace-nowrap`},ls={class:`px-6 py-4 whitespace-nowrap`},us={class:`text-sm text-gray-900 dark:text-white`},ds={class:`text-sm text-gray-600 dark:text-gray-400`},fs={class:`text-xs text-gray-500 dark:text-gray-500`},ps={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},ms={class:`flex items-center justify-end space-x-2`},hs=[`onClick`],gs=[`onClick`],_s=[`onClick`],vs={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},ys={class:`flex items-center justify-between`},bs={class:`flex-1 flex justify-between sm:hidden`},xs=[`disabled`],Ss=[`disabled`],Cs={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},ws={class:`text-sm text-gray-700 dark:text-gray-300`},Ts={class:`font-medium`},Es={class:`font-medium`},Ds={class:`font-medium`},Os={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},ks=[`disabled`],As=[`disabled`];var js=E({__name:`IndexPage`,emits:[`create`,`edit`],setup(e,{emit:t}){f();let i=ee(),o=Ce(),l=t,u=U(!1),p=U(!1),g=U(null),b=U(null),C=U(null),E=U(!1),A=ne({search:``,is_active:``,per_page:15,sort_by:``,sort_direction:`asc`,page:1}),j=U({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}),M=v(()=>o.countries),N=v(()=>o.pagination),P=v(()=>o.loading),F=v(()=>[{key:`name`,label:`Country Name`,type:`text`},{key:`code`,label:`Country Code`,type:`text`},{key:`iso2`,label:`ISO2 Code`,type:`text`},{key:`phone_code`,label:`Phone Code`,type:`text`,fallback:`None`},{key:`is_active`,label:`Status`,type:`status`},{key:`display_name`,label:`Display Name`,type:`text`},{key:`full_display`,label:`Full Display`,type:`text`},{key:`created_by.name`,label:`Created By`,type:`text`,subKey:`created_at`},{key:`updated_by.name`,label:`Last Updated By`,type:`text`,subKey:`updated_at`}]);B(()=>({...A}),e=>{let{page:t,...n}=e;o.updateFilters(n)},{deep:!0});let I=async(e=1)=>{try{let t={...A,page:e};await o.fetchCountries(t)}catch{i.error(`Failed to load countries`,{title:`Error`})}},z=()=>{b.value&&clearTimeout(b.value),b.value=setTimeout(()=>{I(1)},300)},V=e=>{A.sort_by===e?A.sort_direction=A.sort_direction===`asc`?`desc`:`asc`:(A.sort_by=e,A.sort_direction=`asc`),I(1)},q=e=>{e>=1&&N.value&&e<=N.value.last_page&&(A.page=e,I(e))},J=e=>{C.value=e,E.value=!0},re=e=>{g.value=e,j.value={title:`Delete Country`,message:`Are you sure you want to delete "${e.name} (${e.iso2})"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},p.value=!0},Y=async()=>{g.value&&(await o.deleteCountry(g.value.id),X())},X=()=>{p.value=!1,g.value=null,j.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},Z=()=>{l(`create`)},Q=e=>{l(`edit`,e)};return L(()=>{I()}),(e,t)=>(R(),S(`div`,wo,[T(le,{title:`Countries`,description:`Manage countries and their information`,"create-button-text":`Create New Country`,onCreate:Z}),y(`div`,To,[y(`div`,Eo,[y(`div`,Do,[t[12]||=y(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Countries `,-1),y(`div`,Oo,[H(y(`input`,{id:`search`,"onUpdate:modelValue":t[0]||=e=>A.search=e,type:`text`,placeholder:`Search by name, code, ISO2, or phone code...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:z},null,544),[[h,A.search]]),T(W(ae),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),y(`div`,null,[t[14]||=y(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Status `,-1),H(y(`select`,{id:`status`,"onUpdate:modelValue":t[1]||=e=>A.is_active=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:I},t[13]||=[y(`option`,{value:``},`All Status`,-1),y(`option`,{value:`true`},`Active`,-1),y(`option`,{value:`false`},`Inactive`,-1)],544),[[m,A.is_active]])]),y(`div`,null,[t[16]||=y(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),H(y(`select`,{id:`per-page`,"onUpdate:modelValue":t[2]||=e=>A.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:I},t[15]||=[y(`option`,{value:15},`15`,-1),y(`option`,{value:25},`25`,-1),y(`option`,{value:50},`50`,-1),y(`option`,{value:100},`100`,-1)],544),[[m,A.per_page]])])])]),y(`div`,ko,[P.value?(R(),S(`div`,Ao,[T(W(a),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),t[17]||=y(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading countries...`,-1)])):M.value.length===0?(R(),S(`div`,jo,[T(W(s),{class:`h-12 w-12 mx-auto text-gray-400`}),t[19]||=y(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},` No countries found `,-1),y(`p`,Mo,K(A.search?`Try adjusting your search criteria.`:`Get started by creating your first country.`),1),A.search?x(``,!0):(R(),S(`div`,No,[y(`button`,{onClick:Z,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[T(W(n),{class:`h-5 w-5 mr-2`}),t[18]||=w(` Add Your First Country `,-1)])]))])):(R(),S(`div`,Po,[y(`table`,Fo,[y(`thead`,Io,[y(`tr`,null,[y(`th`,Lo,[y(`button`,{onClick:t[3]||=e=>V(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[20]||=y(`span`,null,`Country`,-1),y(`div`,Ro,[T(W(d),{class:G([`h-3 w-3`,A.sort_by===`name`&&A.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,A.sort_by===`name`&&A.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),t[23]||=y(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Codes `,-1),t[24]||=y(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Phone Code `,-1),y(`th`,zo,[y(`button`,{onClick:t[4]||=e=>V(`is_active`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[21]||=y(`span`,null,`Status`,-1),y(`div`,Bo,[T(W(d),{class:G([`h-3 w-3`,A.sort_by===`is_active`&&A.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,A.sort_by===`is_active`&&A.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),y(`th`,Vo,[y(`button`,{onClick:t[5]||=e=>V(`created_at`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[22]||=y(`span`,null,`Created`,-1),y(`div`,Ho,[T(W(d),{class:G([`h-3 w-3`,A.sort_by===`created_at`&&A.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,A.sort_by===`created_at`&&A.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),t[25]||=y(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),y(`tbody`,Uo,[(R(!0),S(_,null,te(M.value,e=>(R(),S(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[y(`td`,Wo,[y(`div`,Go,[y(`div`,Ko,[y(`div`,qo,[T(W(s),{class:`h-5 w-5 text-blue-600 dark:text-blue-400`})])]),y(`div`,Jo,[y(`div`,Yo,K(e.name),1),y(`div`,Xo,` ID: `+K(e.id),1)])])]),y(`td`,Zo,[y(`div`,Qo,[y(`div`,$o,[y(`span`,es,K(e.code),1),y(`span`,ts,K(e.iso2),1)])])]),y(`td`,ns,[y(`div`,rs,[e.phone_code?(R(),S(`span`,os,K(e.phone_code),1)):(R(),S(`span`,ss,`-`))])]),y(`td`,cs,[T(pe,{active:e.is_active},null,8,[`active`])]),y(`td`,ls,[y(`div`,us,[y(`div`,ds,K(e.created_by?.name||`-`),1),y(`div`,fs,K(W(oe)(e.created_at)),1)])]),y(`td`,ps,[y(`div`,ms,[y(`button`,{onClick:t=>J(e),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[T(W(c),{class:`w-4 h-4`})],8,hs),y(`button`,{onClick:t=>Q(e),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit Country`},[T(W(r),{class:`h-4 w-4`})],8,gs),y(`button`,{onClick:t=>re(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete Country`},[T(W(ie),{class:`h-4 w-4`})],8,_s)])])]))),128))])])])),N.value&&N.value.total>0?(R(),S(`div`,vs,[y(`div`,ys,[y(`div`,bs,[y(`button`,{onClick:t[6]||=e=>q(N.value.current_page-1),disabled:N.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,xs),y(`button`,{onClick:t[7]||=e=>q(N.value.current_page+1),disabled:N.value.current_page>=N.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,Ss)]),y(`div`,Cs,[y(`div`,null,[y(`p`,ws,[t[26]||=w(` Showing `,-1),y(`span`,Ts,K(N.value.from),1),t[27]||=w(` to `,-1),y(`span`,Es,K(N.value.to),1),t[28]||=w(` of `,-1),y(`span`,Ds,K(N.value.total),1),t[29]||=w(` results `,-1)])]),y(`div`,null,[y(`nav`,Os,[y(`button`,{onClick:t[8]||=e=>q(N.value.current_page-1),disabled:N.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[T(W(O),{class:`h-5 w-5`})],8,ks),y(`button`,{onClick:t[9]||=e=>q(N.value.current_page+1),disabled:N.value.current_page>=N.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[T(W(D),{class:`h-5 w-5`})],8,As)])])])])])):x(``,!0)]),T(ue,{show:p.value,"onUpdate:show":t[10]||=e=>p.value=e,type:`delete`,title:j.value.title,message:j.value.message,"confirm-text":j.value.buttonText,"loading-text":j.value.loadingText,loading:u.value,onConfirm:Y,onCancel:X},null,8,[`show`,`title`,`message`,`confirm-text`,`loading-text`,`loading`]),T(xe,{show:E.value,"onUpdate:show":t[11]||=e=>E.value=e,item:C.value,title:`Country Details`,"display-fields":F.value,size:`lg`},null,8,[`show`,`item`,`display-fields`])]))}}),Ms=js;function Ns(){let e=U({}),t=v(()=>Object.keys(e.value).length>0),n=t=>e.value[t]?.[0],r=n=>{let r={};return!n.name||n.name.trim().length===0?r.name=[`Country name is required`]:n.name.trim().length>255&&(r.name=[`Country name must not exceed 255 characters`]),!n.code||n.code.trim().length===0?r.code=[`Country code is required`]:n.code.trim().length===3?/^[A-Z]+$/.test(n.code.trim())||(r.code=[`Country code must contain only uppercase letters`]):r.code=[`Country code must be exactly 3 characters (e.g., USA, CAN)`],!n.iso2||n.iso2.trim().length===0?r.iso2=[`ISO2 code is required`]:n.iso2.trim().length===2?/^[A-Z]+$/.test(n.iso2.trim())||(r.iso2=[`ISO2 code must contain only uppercase letters`]):r.iso2=[`ISO2 code must be exactly 2 characters (e.g., US, CA)`],n.phone_code!==void 0&&n.phone_code!==null&&n.phone_code.trim().length>0&&(n.phone_code.length>10?r.phone_code=[`Phone code must not exceed 10 characters`]:/^\+\d+$/.test(n.phone_code)||(r.phone_code=[`Phone code must start with + followed by numbers (e.g., +1, +44)`])),e.value=r,!t.value},i=n=>{let r={};return n.name!==void 0&&(!n.name||n.name.trim().length===0?r.name=[`Country name is required`]:n.name.trim().length>255&&(r.name=[`Country name must not exceed 255 characters`])),n.code!==void 0&&(!n.code||n.code.trim().length===0?r.code=[`Country code is required`]:n.code.trim().length===3?/^[A-Z]+$/.test(n.code.trim())||(r.code=[`Country code must contain only uppercase letters`]):r.code=[`Country code must be exactly 3 characters (e.g., USA, CAN)`]),n.iso2!==void 0&&(!n.iso2||n.iso2.trim().length===0?r.iso2=[`ISO2 code is required`]:n.iso2.trim().length===2?/^[A-Z]+$/.test(n.iso2.trim())||(r.iso2=[`ISO2 code must contain only uppercase letters`]):r.iso2=[`ISO2 code must be exactly 2 characters (e.g., US, CA)`]),n.phone_code!==void 0&&n.phone_code!==null&&n.phone_code.trim().length>0&&(n.phone_code.length>10?r.phone_code=[`Phone code must not exceed 10 characters`]:/^\+\d+$/.test(n.phone_code)||(r.phone_code=[`Phone code must start with + followed by numbers (e.g., +1, +44)`])),e.value=r,!t.value},a=()=>{e.value={}},o=t=>{e.value[t]&&delete e.value[t]},s=t=>{e.value=t};return{errors:e,hasErrors:t,getFieldError:n,validateCreateRequest:r,validateUpdateRequest:i,clearErrors:a,clearFieldError:o,setServerErrors:s}}var Ps=JSON.parse(`[{"Country Name":"Afghanistan","ISO2":"AF","ISO3":"AFG","Phone Code":93,"Currency":"Afghani"},{"Country Name":"Albania","ISO2":"AL","ISO3":"ALB","Phone Code":355,"Currency":"Lek"},{"Country Name":"Algeria","ISO2":"DZ","ISO3":"DZA","Phone Code":213,"Currency":"Dinar"},{"Country Name":"American Samoa","ISO2":"AS","ISO3":"ASM","Phone Code":"1-684","Currency":"Dollar"},{"Country Name":"Andorra","ISO2":"AD","ISO3":"AND","Phone Code":376,"Currency":"Euro"},{"Country Name":"Angola","ISO2":"AO","ISO3":"AGO","Phone Code":244,"Currency":"Kwanza"},{"Country Name":"Anguilla","ISO2":"AI","ISO3":"AIA","Phone Code":"1-264","Currency":"Dollar"},{"Country Name":"Antarctica","ISO2":"AQ","ISO3":"ATA","Phone Code":672,"Currency":""},{"Country Name":"Antigua and Barbuda","ISO2":"AG","ISO3":"ATG","Phone Code":"1-268","Currency":"Dollar"},{"Country Name":"Argentina","ISO2":"AR","ISO3":"ARG","Phone Code":54,"Currency":"Peso"},{"Country Name":"Armenia","ISO2":"AM","ISO3":"ARM","Phone Code":374,"Currency":"Dram"},{"Country Name":"Aruba","ISO2":"AW","ISO3":"ABW","Phone Code":297,"Currency":"Guilder"},{"Country Name":"Australia","ISO2":"AU","ISO3":"AUS","Phone Code":61,"Currency":"Dollar"},{"Country Name":"Austria","ISO2":"AT","ISO3":"AUT","Phone Code":43,"Currency":"Euro"},{"Country Name":"Azerbaijan","ISO2":"AZ","ISO3":"AZE","Phone Code":994,"Currency":"Manat"},{"Country Name":"Bahamas","ISO2":"BS","ISO3":"BHS","Phone Code":"1-242","Currency":"Dollar"},{"Country Name":"Bahrain","ISO2":"BH","ISO3":"BHR","Phone Code":973,"Currency":"Dinar"},{"Country Name":"Bangladesh","ISO2":"BD","ISO3":"BGD","Phone Code":880,"Currency":"Taka"},{"Country Name":"Barbados","ISO2":"BB","ISO3":"BRB","Phone Code":"1-246","Currency":"Dollar"},{"Country Name":"Belarus","ISO2":"BY","ISO3":"BLR","Phone Code":375,"Currency":"Ruble"},{"Country Name":"Belgium","ISO2":"BE","ISO3":"BEL","Phone Code":32,"Currency":"Euro"},{"Country Name":"Belize","ISO2":"BZ","ISO3":"BLZ","Phone Code":501,"Currency":"Dollar"},{"Country Name":"Benin","ISO2":"BJ","ISO3":"BEN","Phone Code":229,"Currency":"Franc"},{"Country Name":"Bermuda","ISO2":"BM","ISO3":"BMU","Phone Code":"1-441","Currency":"Dollar"},{"Country Name":"Bhutan","ISO2":"BT","ISO3":"BTN","Phone Code":975,"Currency":"Ngultrum"},{"Country Name":"Bolivia","ISO2":"BO","ISO3":"BOL","Phone Code":591,"Currency":"Boliviano"},{"Country Name":"Bosnia and Herzegovina","ISO2":"BA","ISO3":"BIH","Phone Code":387,"Currency":"Marka"},{"Country Name":"Botswana","ISO2":"BW","ISO3":"BWA","Phone Code":267,"Currency":"Pula"},{"Country Name":"Brazil","ISO2":"BR","ISO3":"BRA","Phone Code":55,"Currency":"Real"},{"Country Name":"British Indian Ocean Territory","ISO2":"IO","ISO3":"IOT","Phone Code":246,"Currency":"Dollar"},{"Country Name":"British Virgin Islands","ISO2":"VG","ISO3":"VGB","Phone Code":"1-284","Currency":"Dollar"},{"Country Name":"Brunei","ISO2":"BN","ISO3":"BRN","Phone Code":673,"Currency":"Dollar"},{"Country Name":"Bulgaria","ISO2":"BG","ISO3":"BGR","Phone Code":359,"Currency":"Lev"},{"Country Name":"Burkina Faso","ISO2":"BF","ISO3":"BFA","Phone Code":226,"Currency":"Franc"},{"Country Name":"Burundi","ISO2":"BI","ISO3":"BDI","Phone Code":257,"Currency":"Franc"},{"Country Name":"Cambodia","ISO2":"KH","ISO3":"KHM","Phone Code":855,"Currency":"Riels"},{"Country Name":"Cameroon","ISO2":"CM","ISO3":"CMR","Phone Code":237,"Currency":"Franc"},{"Country Name":"Canada","ISO2":"CA","ISO3":"CAN","Phone Code":1,"Currency":"Dollar"},{"Country Name":"Cape Verde","ISO2":"CV","ISO3":"CPV","Phone Code":238,"Currency":"Escudo"},{"Country Name":"Cayman Islands","ISO2":"KY","ISO3":"CYM","Phone Code":"1-345","Currency":"Dollar"},{"Country Name":"Central African Republic","ISO2":"CF","ISO3":"CAF","Phone Code":236,"Currency":"Franc"},{"Country Name":"Chad","ISO2":"TD","ISO3":"TCD","Phone Code":235,"Currency":"Franc"},{"Country Name":"Chile","ISO2":"CL","ISO3":"CHL","Phone Code":56,"Currency":"Peso"},{"Country Name":"China","ISO2":"CN","ISO3":"CHN","Phone Code":86,"Currency":"Yuan Renminbi"},{"Country Name":"Christmas Island","ISO2":"CX","ISO3":"CXR","Phone Code":61,"Currency":"Dollar"},{"Country Name":"Cocos Islands","ISO2":"CC","ISO3":"CCK","Phone Code":61,"Currency":"Dollar"},{"Country Name":"Colombia","ISO2":"CO","ISO3":"COL","Phone Code":57,"Currency":"Peso"},{"Country Name":"Comoros","ISO2":"KM","ISO3":"COM","Phone Code":269,"Currency":"Franc"},{"Country Name":"Cook Islands","ISO2":"CK","ISO3":"COK","Phone Code":682,"Currency":"Dollar"},{"Country Name":"Costa Rica","ISO2":"CR","ISO3":"CRI","Phone Code":506,"Currency":"Colon"},{"Country Name":"Croatia","ISO2":"HR","ISO3":"HRV","Phone Code":385,"Currency":"Kuna"},{"Country Name":"Cuba","ISO2":"CU","ISO3":"CUB","Phone Code":53,"Currency":"Peso"},{"Country Name":"Curacao","ISO2":"CW","ISO3":"CUW","Phone Code":599,"Currency":"Guilder"},{"Country Name":"Cyprus","ISO2":"CY","ISO3":"CYP","Phone Code":357,"Currency":"Euro"},{"Country Name":"Czech Republic","ISO2":"CZ","ISO3":"CZE","Phone Code":420,"Currency":"Koruna"},{"Country Name":"Democratic Republic of the Congo","ISO2":"CD","ISO3":"COD","Phone Code":243,"Currency":"Franc"},{"Country Name":"Denmark","ISO2":"DK","ISO3":"DNK","Phone Code":45,"Currency":"Krone"},{"Country Name":"Djibouti","ISO2":"DJ","ISO3":"DJI","Phone Code":253,"Currency":"Franc"},{"Country Name":"Dominica","ISO2":"DM","ISO3":"DMA","Phone Code":"1-767","Currency":"Dollar"},{"Country Name":"Dominican Republic","ISO2":"DO","ISO3":"DOM","Phone Code":"1-809, 1-829, 1-849","Currency":"Peso"},{"Country Name":"East Timor","ISO2":"TL","ISO3":"TLS","Phone Code":670,"Currency":"Dollar"},{"Country Name":"Ecuador","ISO2":"EC","ISO3":"ECU","Phone Code":593,"Currency":"Dollar"},{"Country Name":"Egypt","ISO2":"EG","ISO3":"EGY","Phone Code":20,"Currency":"Pound"},{"Country Name":"El Salvador","ISO2":"SV","ISO3":"SLV","Phone Code":503,"Currency":"Dollar"},{"Country Name":"Equatorial Guinea","ISO2":"GQ","ISO3":"GNQ","Phone Code":240,"Currency":"Franc"},{"Country Name":"Eritrea","ISO2":"ER","ISO3":"ERI","Phone Code":291,"Currency":"Nakfa"},{"Country Name":"Estonia","ISO2":"EE","ISO3":"EST","Phone Code":372,"Currency":"Euro"},{"Country Name":"Ethiopia","ISO2":"ET","ISO3":"ETH","Phone Code":251,"Currency":"Birr"},{"Country Name":"Falkland Islands","ISO2":"FK","ISO3":"FLK","Phone Code":500,"Currency":"Pound"},{"Country Name":"Faroe Islands","ISO2":"FO","ISO3":"FRO","Phone Code":298,"Currency":"Krone"},{"Country Name":"Fiji","ISO2":"FJ","ISO3":"FJI","Phone Code":679,"Currency":"Dollar"},{"Country Name":"Finland","ISO2":"FI","ISO3":"FIN","Phone Code":358,"Currency":"Euro"},{"Country Name":"France","ISO2":"FR","ISO3":"FRA","Phone Code":33,"Currency":"Euro"},{"Country Name":"French Polynesia","ISO2":"PF","ISO3":"PYF","Phone Code":689,"Currency":"Franc"},{"Country Name":"Gabon","ISO2":"GA","ISO3":"GAB","Phone Code":241,"Currency":"Franc"},{"Country Name":"Gambia","ISO2":"GM","ISO3":"GMB","Phone Code":220,"Currency":"Dalasi"},{"Country Name":"Georgia","ISO2":"GE","ISO3":"GEO","Phone Code":995,"Currency":"Lari"},{"Country Name":"Germany","ISO2":"DE","ISO3":"DEU","Phone Code":49,"Currency":"Euro"},{"Country Name":"Ghana","ISO2":"GH","ISO3":"GHA","Phone Code":233,"Currency":"Cedi"},{"Country Name":"Gibraltar","ISO2":"GI","ISO3":"GIB","Phone Code":350,"Currency":"Pound"},{"Country Name":"Greece","ISO2":"GR","ISO3":"GRC","Phone Code":30,"Currency":"Euro"},{"Country Name":"Greenland","ISO2":"GL","ISO3":"GRL","Phone Code":299,"Currency":"Krone"},{"Country Name":"Grenada","ISO2":"GD","ISO3":"GRD","Phone Code":"1-473","Currency":"Dollar"},{"Country Name":"Guam","ISO2":"GU","ISO3":"GUM","Phone Code":"1-671","Currency":"Dollar"},{"Country Name":"Guatemala","ISO2":"GT","ISO3":"GTM","Phone Code":502,"Currency":"Quetzal"},{"Country Name":"Guernsey","ISO2":"GG","ISO3":"GGY","Phone Code":"44-1481","Currency":"Pound"},{"Country Name":"Guinea","ISO2":"GN","ISO3":"GIN","Phone Code":224,"Currency":"Franc"},{"Country Name":"Guinea-Bissau","ISO2":"GW","ISO3":"GNB","Phone Code":245,"Currency":"Franc"},{"Country Name":"Guyana","ISO2":"GY","ISO3":"GUY","Phone Code":592,"Currency":"Dollar"},{"Country Name":"Haiti","ISO2":"HT","ISO3":"HTI","Phone Code":509,"Currency":"Gourde"},{"Country Name":"Honduras","ISO2":"HN","ISO3":"HND","Phone Code":504,"Currency":"Lempira"},{"Country Name":"Hong Kong","ISO2":"HK","ISO3":"HKG","Phone Code":852,"Currency":"Dollar"},{"Country Name":"Hungary","ISO2":"HU","ISO3":"HUN","Phone Code":36,"Currency":"Forint"},{"Country Name":"Iceland","ISO2":"IS","ISO3":"ISL","Phone Code":354,"Currency":"Krona"},{"Country Name":"India","ISO2":"IN","ISO3":"IND","Phone Code":91,"Currency":"Rupee"},{"Country Name":"Indonesia","ISO2":"ID","ISO3":"IDN","Phone Code":62,"Currency":"Rupiah"},{"Country Name":"Iran","ISO2":"IR","ISO3":"IRN","Phone Code":98,"Currency":"Rial"},{"Country Name":"Iraq","ISO2":"IQ","ISO3":"IRQ","Phone Code":964,"Currency":"Dinar"},{"Country Name":"Ireland","ISO2":"IE","ISO3":"IRL","Phone Code":353,"Currency":"Euro"},{"Country Name":"Isle of Man","ISO2":"IM","ISO3":"IMN","Phone Code":"44-1624","Currency":"Pound"},{"Country Name":"Israel","ISO2":"IL","ISO3":"ISR","Phone Code":972,"Currency":"Shekel"},{"Country Name":"Italy","ISO2":"IT","ISO3":"ITA","Phone Code":39,"Currency":"Euro"},{"Country Name":"Ivory Coast","ISO2":"CI","ISO3":"CIV","Phone Code":225,"Currency":"Franc"},{"Country Name":"Jamaica","ISO2":"JM","ISO3":"JAM","Phone Code":"1-876","Currency":"Dollar"},{"Country Name":"Japan","ISO2":"JP","ISO3":"JPN","Phone Code":81,"Currency":"Yen"},{"Country Name":"Jersey","ISO2":"JE","ISO3":"JEY","Phone Code":"44-1534","Currency":"Pound"},{"Country Name":"Jordan","ISO2":"JO","ISO3":"JOR","Phone Code":962,"Currency":"Dinar"},{"Country Name":"Kazakhstan","ISO2":"KZ","ISO3":"KAZ","Phone Code":7,"Currency":"Tenge"},{"Country Name":"Kenya","ISO2":"KE","ISO3":"KEN","Phone Code":254,"Currency":"Shilling"},{"Country Name":"Kiribati","ISO2":"KI","ISO3":"KIR","Phone Code":686,"Currency":"Dollar"},{"Country Name":"Kosovo","ISO2":"XK","ISO3":"XKX","Phone Code":383,"Currency":"Euro"},{"Country Name":"Kuwait","ISO2":"KW","ISO3":"KWT","Phone Code":965,"Currency":"Dinar"},{"Country Name":"Kyrgyzstan","ISO2":"KG","ISO3":"KGZ","Phone Code":996,"Currency":"Som"},{"Country Name":"Laos","ISO2":"LA","ISO3":"LAO","Phone Code":856,"Currency":"Kip"},{"Country Name":"Latvia","ISO2":"LV","ISO3":"LVA","Phone Code":371,"Currency":"Euro"},{"Country Name":"Lebanon","ISO2":"LB","ISO3":"LBN","Phone Code":961,"Currency":"Pound"},{"Country Name":"Lesotho","ISO2":"LS","ISO3":"LSO","Phone Code":266,"Currency":"Loti"},{"Country Name":"Liberia","ISO2":"LR","ISO3":"LBR","Phone Code":231,"Currency":"Dollar"},{"Country Name":"Libya","ISO2":"LY","ISO3":"LBY","Phone Code":218,"Currency":"Dinar"},{"Country Name":"Liechtenstein","ISO2":"LI","ISO3":"LIE","Phone Code":423,"Currency":"Franc"},{"Country Name":"Lithuania","ISO2":"LT","ISO3":"LTU","Phone Code":370,"Currency":"Euro"},{"Country Name":"Luxembourg","ISO2":"LU","ISO3":"LUX","Phone Code":352,"Currency":"Euro"},{"Country Name":"Macau","ISO2":"MO","ISO3":"MAC","Phone Code":853,"Currency":"Pataca"},{"Country Name":"Macedonia","ISO2":"MK","ISO3":"MKD","Phone Code":389,"Currency":"Denar"},{"Country Name":"Madagascar","ISO2":"MG","ISO3":"MDG","Phone Code":261,"Currency":"Ariary"},{"Country Name":"Malawi","ISO2":"MW","ISO3":"MWI","Phone Code":265,"Currency":"Kwacha"},{"Country Name":"Malaysia","ISO2":"MY","ISO3":"MYS","Phone Code":60,"Currency":"Ringgit"},{"Country Name":"Maldives","ISO2":"MV","ISO3":"MDV","Phone Code":960,"Currency":"Rufiyaa"},{"Country Name":"Mali","ISO2":"ML","ISO3":"MLI","Phone Code":223,"Currency":"Franc"},{"Country Name":"Malta","ISO2":"MT","ISO3":"MLT","Phone Code":356,"Currency":"Euro"},{"Country Name":"Marshall Islands","ISO2":"MH","ISO3":"MHL","Phone Code":692,"Currency":"Dollar"},{"Country Name":"Mauritania","ISO2":"MR","ISO3":"MRT","Phone Code":222,"Currency":"Ouguiya"},{"Country Name":"Mauritius","ISO2":"MU","ISO3":"MUS","Phone Code":230,"Currency":"Rupee"},{"Country Name":"Mayotte","ISO2":"YT","ISO3":"MYT","Phone Code":262,"Currency":"Euro"},{"Country Name":"Mexico","ISO2":"MX","ISO3":"MEX","Phone Code":52,"Currency":"Peso"},{"Country Name":"Micronesia","ISO2":"FM","ISO3":"FSM","Phone Code":691,"Currency":"Dollar"},{"Country Name":"Moldova","ISO2":"MD","ISO3":"MDA","Phone Code":373,"Currency":"Leu"},{"Country Name":"Monaco","ISO2":"MC","ISO3":"MCO","Phone Code":377,"Currency":"Euro"},{"Country Name":"Mongolia","ISO2":"MN","ISO3":"MNG","Phone Code":976,"Currency":"Tugrik"},{"Country Name":"Montenegro","ISO2":"ME","ISO3":"MNE","Phone Code":382,"Currency":"Euro"},{"Country Name":"Montserrat","ISO2":"MS","ISO3":"MSR","Phone Code":"1-664","Currency":"Dollar"},{"Country Name":"Morocco","ISO2":"MA","ISO3":"MAR","Phone Code":212,"Currency":"Dirham"},{"Country Name":"Mozambique","ISO2":"MZ","ISO3":"MOZ","Phone Code":258,"Currency":"Metical"},{"Country Name":"Myanmar","ISO2":"MM","ISO3":"MMR","Phone Code":95,"Currency":"Kyat"},{"Country Name":"Namibia","ISO2":"NA","ISO3":"NAM","Phone Code":264,"Currency":"Dollar"},{"Country Name":"Nauru","ISO2":"NR","ISO3":"NRU","Phone Code":674,"Currency":"Dollar"},{"Country Name":"Nepal","ISO2":"NP","ISO3":"NPL","Phone Code":977,"Currency":"Rupee"},{"Country Name":"Netherlands","ISO2":"NL","ISO3":"NLD","Phone Code":31,"Currency":"Euro"},{"Country Name":"Netherlands Antilles","ISO2":"AN","ISO3":"ANT","Phone Code":599,"Currency":"Guilder"},{"Country Name":"New Caledonia","ISO2":"NC","ISO3":"NCL","Phone Code":687,"Currency":"Franc"},{"Country Name":"New Zealand","ISO2":"NZ","ISO3":"NZL","Phone Code":64,"Currency":"Dollar"},{"Country Name":"Nicaragua","ISO2":"NI","ISO3":"NIC","Phone Code":505,"Currency":"Cordoba"},{"Country Name":"Niger","ISO2":"NE","ISO3":"NER","Phone Code":227,"Currency":"Franc"},{"Country Name":"Nigeria","ISO2":"NG","ISO3":"NGA","Phone Code":234,"Currency":"Naira"},{"Country Name":"Niue","ISO2":"NU","ISO3":"NIU","Phone Code":683,"Currency":"Dollar"},{"Country Name":"North Korea","ISO2":"KP","ISO3":"PRK","Phone Code":850,"Currency":"Won"},{"Country Name":"Northern Mariana Islands","ISO2":"MP","ISO3":"MNP","Phone Code":"1-670","Currency":"Dollar"},{"Country Name":"Norway","ISO2":"NO","ISO3":"NOR","Phone Code":47,"Currency":"Krone"},{"Country Name":"Oman","ISO2":"OM","ISO3":"OMN","Phone Code":968,"Currency":"Rial"},{"Country Name":"Pakistan","ISO2":"PK","ISO3":"PAK","Phone Code":92,"Currency":"Rupee"},{"Country Name":"Palau","ISO2":"PW","ISO3":"PLW","Phone Code":680,"Currency":"Dollar"},{"Country Name":"Palestine","ISO2":"PS","ISO3":"PSE","Phone Code":970,"Currency":"Shekel"},{"Country Name":"Panama","ISO2":"PA","ISO3":"PAN","Phone Code":507,"Currency":"Balboa"},{"Country Name":"Papua New Guinea","ISO2":"PG","ISO3":"PNG","Phone Code":675,"Currency":"Kina"},{"Country Name":"Paraguay","ISO2":"PY","ISO3":"PRY","Phone Code":595,"Currency":"Guarani"},{"Country Name":"Peru","ISO2":"PE","ISO3":"PER","Phone Code":51,"Currency":"Sol"},{"Country Name":"Philippines","ISO2":"PH","ISO3":"PHL","Phone Code":63,"Currency":"Peso"},{"Country Name":"Pitcairn","ISO2":"PN","ISO3":"PCN","Phone Code":64,"Currency":"Dollar"},{"Country Name":"Poland","ISO2":"PL","ISO3":"POL","Phone Code":48,"Currency":"Zloty"},{"Country Name":"Portugal","ISO2":"PT","ISO3":"PRT","Phone Code":351,"Currency":"Euro"},{"Country Name":"Puerto Rico","ISO2":"PR","ISO3":"PRI","Phone Code":"1-787, 1-939","Currency":"Dollar"},{"Country Name":"Qatar","ISO2":"QA","ISO3":"QAT","Phone Code":974,"Currency":"Rial"},{"Country Name":"Republic of the Congo","ISO2":"CG","ISO3":"COG","Phone Code":242,"Currency":"Franc"},{"Country Name":"Reunion","ISO2":"RE","ISO3":"REU","Phone Code":262,"Currency":"Euro"},{"Country Name":"Romania","ISO2":"RO","ISO3":"ROU","Phone Code":40,"Currency":"Leu"},{"Country Name":"Russia","ISO2":"RU","ISO3":"RUS","Phone Code":7,"Currency":"Ruble"},{"Country Name":"Rwanda","ISO2":"RW","ISO3":"RWA","Phone Code":250,"Currency":"Franc"},{"Country Name":"Saint Barthelemy","ISO2":"BL","ISO3":"BLM","Phone Code":590,"Currency":"Euro"},{"Country Name":"Saint Helena","ISO2":"SH","ISO3":"SHN","Phone Code":290,"Currency":"Pound"},{"Country Name":"Saint Kitts and Nevis","ISO2":"KN","ISO3":"KNA","Phone Code":"1-869","Currency":"Dollar"},{"Country Name":"Saint Lucia","ISO2":"LC","ISO3":"LCA","Phone Code":"1-758","Currency":"Dollar"},{"Country Name":"Saint Martin","ISO2":"MF","ISO3":"MAF","Phone Code":590,"Currency":"Euro"},{"Country Name":"Saint Pierre and Miquelon","ISO2":"PM","ISO3":"SPM","Phone Code":508,"Currency":"Euro"},{"Country Name":"Saint Vincent and the Grenadines","ISO2":"VC","ISO3":"VCT","Phone Code":"1-784","Currency":"Dollar"},{"Country Name":"Samoa","ISO2":"WS","ISO3":"WSM","Phone Code":685,"Currency":"Tala"},{"Country Name":"San Marino","ISO2":"SM","ISO3":"SMR","Phone Code":378,"Currency":"Euro"},{"Country Name":"Sao Tome and Principe","ISO2":"ST","ISO3":"STP","Phone Code":239,"Currency":"Dobra"},{"Country Name":"Saudi Arabia","ISO2":"SA","ISO3":"SAU","Phone Code":966,"Currency":"Rial"},{"Country Name":"Senegal","ISO2":"SN","ISO3":"SEN","Phone Code":221,"Currency":"Franc"},{"Country Name":"Serbia","ISO2":"RS","ISO3":"SRB","Phone Code":381,"Currency":"Dinar"},{"Country Name":"Seychelles","ISO2":"SC","ISO3":"SYC","Phone Code":248,"Currency":"Rupee"},{"Country Name":"Sierra Leone","ISO2":"SL","ISO3":"SLE","Phone Code":232,"Currency":"Leone"},{"Country Name":"Singapore","ISO2":"SG","ISO3":"SGP","Phone Code":65,"Currency":"Dollar"},{"Country Name":"Sint Maarten","ISO2":"SX","ISO3":"SXM","Phone Code":"1-721","Currency":"Guilder"},{"Country Name":"Slovakia","ISO2":"SK","ISO3":"SVK","Phone Code":421,"Currency":"Euro"},{"Country Name":"Slovenia","ISO2":"SI","ISO3":"SVN","Phone Code":386,"Currency":"Euro"},{"Country Name":"Solomon Islands","ISO2":"SB","ISO3":"SLB","Phone Code":677,"Currency":"Dollar"},{"Country Name":"Somalia","ISO2":"SO","ISO3":"SOM","Phone Code":252,"Currency":"Shilling"},{"Country Name":"South Africa","ISO2":"ZA","ISO3":"ZAF","Phone Code":27,"Currency":"Rand"},{"Country Name":"South Korea","ISO2":"KR","ISO3":"KOR","Phone Code":82,"Currency":"Won"},{"Country Name":"South Sudan","ISO2":"SS","ISO3":"SSD","Phone Code":211,"Currency":"Pound"},{"Country Name":"Spain","ISO2":"ES","ISO3":"ESP","Phone Code":34,"Currency":"Euro"},{"Country Name":"Sri Lanka","ISO2":"LK","ISO3":"LKA","Phone Code":94,"Currency":"Rupee"},{"Country Name":"Sudan","ISO2":"SD","ISO3":"SDN","Phone Code":249,"Currency":"Pound"},{"Country Name":"Suriname","ISO2":"SR","ISO3":"SUR","Phone Code":597,"Currency":"Dollar"},{"Country Name":"Svalbard and Jan Mayen","ISO2":"SJ","ISO3":"SJM","Phone Code":47,"Currency":"Krone"},{"Country Name":"Swaziland","ISO2":"SZ","ISO3":"SWZ","Phone Code":268,"Currency":"Lilangeni"},{"Country Name":"Sweden","ISO2":"SE","ISO3":"SWE","Phone Code":46,"Currency":"Krona"},{"Country Name":"Switzerland","ISO2":"CH","ISO3":"CHE","Phone Code":41,"Currency":"Franc"},{"Country Name":"Syria","ISO2":"SY","ISO3":"SYR","Phone Code":963,"Currency":"Pound"},{"Country Name":"Taiwan","ISO2":"TW","ISO3":"TWN","Phone Code":886,"Currency":"Dollar"},{"Country Name":"Tajikistan","ISO2":"TJ","ISO3":"TJK","Phone Code":992,"Currency":"Somoni"},{"Country Name":"Tanzania","ISO2":"TZ","ISO3":"TZA","Phone Code":255,"Currency":"Shilling"},{"Country Name":"Thailand","ISO2":"TH","ISO3":"THA","Phone Code":66,"Currency":"Baht"},{"Country Name":"Togo","ISO2":"TG","ISO3":"TGO","Phone Code":228,"Currency":"Franc"},{"Country Name":"Tokelau","ISO2":"TK","ISO3":"TKL","Phone Code":690,"Currency":"Dollar"},{"Country Name":"Tonga","ISO2":"TO","ISO3":"TON","Phone Code":676,"Currency":"Pa'anga"},{"Country Name":"Trinidad and Tobago","ISO2":"TT","ISO3":"TTO","Phone Code":"1-868","Currency":"Dollar"},{"Country Name":"Tunisia","ISO2":"TN","ISO3":"TUN","Phone Code":216,"Currency":"Dinar"},{"Country Name":"Turkey","ISO2":"TR","ISO3":"TUR","Phone Code":90,"Currency":"Lira"},{"Country Name":"Turkmenistan","ISO2":"TM","ISO3":"TKM","Phone Code":993,"Currency":"Manat"},{"Country Name":"Turks and Caicos Islands","ISO2":"TC","ISO3":"TCA","Phone Code":"1-649","Currency":"Dollar"},{"Country Name":"Tuvalu","ISO2":"TV","ISO3":"TUV","Phone Code":688,"Currency":"Dollar"},{"Country Name":"U.S. Virgin Islands","ISO2":"VI","ISO3":"VIR","Phone Code":"1-340","Currency":"Dollar"},{"Country Name":"Uganda","ISO2":"UG","ISO3":"UGA","Phone Code":256,"Currency":"Shilling"},{"Country Name":"Ukraine","ISO2":"UA","ISO3":"UKR","Phone Code":380,"Currency":"Hryvnia"},{"Country Name":"United Arab Emirates","ISO2":"AE","ISO3":"ARE","Phone Code":971,"Currency":"Dirham"},{"Country Name":"United Kingdom","ISO2":"GB","ISO3":"GBR","Phone Code":44,"Currency":"Pound"},{"Country Name":"United States","ISO2":"US","ISO3":"USA","Phone Code":1,"Currency":"Dollar"},{"Country Name":"Uruguay","ISO2":"UY","ISO3":"URY","Phone Code":598,"Currency":"Peso"},{"Country Name":"Uzbekistan","ISO2":"UZ","ISO3":"UZB","Phone Code":998,"Currency":"Som"},{"Country Name":"Vanuatu","ISO2":"VU","ISO3":"VUT","Phone Code":678,"Currency":"Vatu"},{"Country Name":"Vatican","ISO2":"VA","ISO3":"VAT","Phone Code":379,"Currency":"Euro"},{"Country Name":"Venezuela","ISO2":"VE","ISO3":"VEN","Phone Code":58,"Currency":"Bolivar"},{"Country Name":"Vietnam","ISO2":"VN","ISO3":"VNM","Phone Code":84,"Currency":"Dong"},{"Country Name":"Wallis and Futuna","ISO2":"WF","ISO3":"WLF","Phone Code":681,"Currency":"Franc"},{"Country Name":"Western Sahara","ISO2":"EH","ISO3":"ESH","Phone Code":212,"Currency":"Dirham"},{"Country Name":"Yemen","ISO2":"YE","ISO3":"YEM","Phone Code":967,"Currency":"Rial"},{"Country Name":"Zambia","ISO2":"ZM","ISO3":"ZMB","Phone Code":260,"Currency":"Kwacha"},{"Country Name":"Zimbabwe","ISO2":"ZW","ISO3":"ZWE","Phone Code":263,"Currency":"Dollar"}]`);const Fs={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Is={class:`max-w-4xl mx-auto`},Ls={class:`mb-8`},Rs={class:`flex items-center space-x-4 mb-2`},zs={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Bs={class:`px-6 py-8`},Vs={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Hs={class:`md:col-span-2 relative`},Us={class:`relative`},Ws=[`disabled`],Gs={key:0,class:`absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-auto`},Ks=[`onClick`],qs={class:`flex justify-between items-center`},Js={class:`flex space-x-2 text-sm text-gray-500 dark:text-gray-400`},Ys={key:0},Xs={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Zs={key:1,class:`mt-1 text-xs text-gray-500`},Qs={class:`md:col-span-2`},$s={class:`flex items-start`},ec={class:`flex items-center h-5`},tc=[`disabled`],nc={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},rc={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},ic={class:`flex items-center space-x-2`},ac={class:`font-mono font-semibold bg-gray-100 dark:bg-gray-600 px-2 py-1 rounded text-sm`},oc={class:`font-mono font-semibold bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 px-2 py-1 rounded text-sm`},sc={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},cc={key:0,class:`flex items-center`},lc={class:`p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg`},uc={class:`font-mono bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-3 py-2 rounded text-lg`},dc={key:0,class:`p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg`},fc={class:`space-y-2`},pc={class:`text-sm text-blue-700 dark:text-blue-400`},mc={class:`text-sm text-blue-700 dark:text-blue-400`},hc={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},gc=[`disabled`],_c=[`disabled`],vc={key:0,class:`flex items-center justify-center`},yc={key:1},bc={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},xc={class:`flex`},Sc={class:`flex-shrink-0`};var Cc=E({__name:`CreatePage`,emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=t,r=Ce(),{errors:i,hasErrors:a,getFieldError:s,validateCreateRequest:c,clearFieldError:l,setServerErrors:u,clearErrors:d}=Ns(),f=U(!1),m=U({name:``,code:``,iso2:``,phone_code:``,is_active:!0}),b=U(!1),E=U([]),D=U(-1),O=v(()=>m.value.name.trim().length>0&&m.value.name.length<=255&&m.value.code.trim().length===3&&/^[A-Z]+$/.test(m.value.code.trim())&&m.value.iso2.trim().length===2&&/^[A-Z]+$/.test(m.value.iso2.trim())&&(m.value.phone_code===``||m.value.phone_code&&/^\+\d+$/.test(m.value.phone_code))),k=()=>{m.value.code=m.value.code.toUpperCase()},A=()=>{m.value.iso2=m.value.iso2.toUpperCase()},j=()=>{let e=m.value.phone_code||``;e=e.replace(/[^\d+]/g,``),e&&!e.startsWith(`+`)&&(e=`+`+e),e.length>10&&(e=e.substring(0,10)),m.value.phone_code=e},N=()=>{let e=m.value.name.toLowerCase().trim();if(e.length===0){E.value=[],b.value=!1;return}E.value=Ps.filter(t=>t[`Country Name`].toLowerCase().includes(e)).slice(0,10),b.value=E.value.length>0,D.value=-1},P=()=>{m.value.name&&E.value.length>0&&(b.value=!0)},F=()=>{setTimeout(()=>{b.value=!1,l(`name`)},200)},I=e=>{if(!(!b.value||E.value.length===0))switch(e.key){case`ArrowDown`:e.preventDefault(),D.value=Math.min(D.value+1,E.value.length-1);break;case`ArrowUp`:e.preventDefault(),D.value=Math.max(D.value-1,-1);break;case`Enter`:e.preventDefault(),D.value>=0&&D.value<E.value.length&&ee(E.value[D.value]);break;case`Escape`:b.value=!1,D.value=-1;break}},ee=e=>{if(m.value.name=e[`Country Name`],m.value.code=e.ISO3,m.value.iso2=e.ISO2,e[`Phone Code`]){let t=e[`Phone Code`].toString();m.value.phone_code=t.startsWith(`+`)?t:`+${t}`}else m.value.phone_code=``;b.value=!1,D.value=-1,l(`name`)},z=()=>{m.value={name:``,code:``,iso2:``,phone_code:``,is_active:!0},d()},B=async()=>{if(d(),c(m.value))try{f.value=!0,await r.createCountry(m.value),z(),n(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&u(e.response.data.errors)}finally{f.value=!1}},V=()=>{z(),n(`cancel`)},ne=()=>{n(`back`)};return L(()=>{z()}),(e,t)=>(R(),S(`div`,Fs,[y(`div`,Is,[y(`div`,Ls,[y(`div`,Rs,[y(`button`,{onClick:ne,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[T(W(M),{class:`w-5 h-5`})]),t[8]||=y(`div`,null,[y(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create Country `),y(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new country to the system `)],-1)])]),y(`div`,zs,[y(`div`,Bs,[y(`form`,{onSubmit:g(B,[`prevent`]),class:`space-y-8`},[y(`div`,null,[t[11]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),y(`div`,Vs,[y(`div`,Hs,[t[9]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},[w(` Country Name `),y(`span`,{class:`text-red-500`},`*`)],-1),y(`div`,Us,[H(y(`input`,{type:`text`,maxlength:255,disabled:f.value,onInput:N,onFocus:P,onBlur:F,onKeydown:I,"onUpdate:modelValue":t[0]||=e=>m.value.name=e,placeholder:`Enter country name (e.g., United States)`,class:G([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,W(s)(`name`)?`border-red-300 text-red-900 placeholder-red-300`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},null,42,Ws),[[h,m.value.name]]),b.value&&E.value.length>0?(R(),S(`div`,Gs,[(R(!0),S(_,null,te(E.value,(e,t)=>(R(),S(`div`,{key:t,onClick:t=>ee(e),class:G([`px-3 py-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700`,D.value===t?`bg-indigo-100 dark:bg-indigo-900 text-indigo-900 dark:text-indigo-100`:`text-gray-900 dark:text-gray-100`])},[y(`div`,qs,[y(`span`,null,K(e[`Country Name`]),1),y(`div`,Js,[y(`span`,null,K(e.ISO2),1),y(`span`,null,K(e.ISO3),1),e[`Phone Code`]?(R(),S(`span`,Ys,`+`+K(e[`Phone Code`]),1)):x(``,!0)])])],10,Ks))),128))])):x(``,!0)]),W(s)(`name`)?(R(),S(`p`,Xs,K(W(s)(`name`)),1)):x(``,!0),m.value.name.length>0?(R(),S(`p`,Zs,K(m.value.name.length)+`/255 characters `,1)):x(``,!0)]),y(`div`,Qs,[y(`div`,$s,[y(`div`,ec,[H(y(`input`,{id:`is_active`,"onUpdate:modelValue":t[1]||=e=>m.value.is_active=e,type:`checkbox`,disabled:f.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,tc),[[p,m.value.is_active]])]),t[10]||=y(`div`,{class:`ml-3`},[y(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),y(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this country will be available for selection `)],-1)])])])]),y(`div`,null,[t[15]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Country Codes `,-1),y(`div`,nc,[y(`div`,null,[T(J,{type:`text`,maxlength:3,disabled:f.value,onBlur:t[2]||=()=>W(l)(`code`),onInput:k,modelValue:m.value.code,"onUpdate:modelValue":t[3]||=e=>m.value.code=e,placeholder:`Enter 3-letter code (e.g., USA)`,error:W(s)(`code`),required:``,label:`Country Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),t[12]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` 3-letter country code (automatically converted to uppercase) `,-1)]),y(`div`,null,[T(J,{type:`text`,maxlength:2,disabled:f.value,onBlur:t[4]||=()=>W(l)(`iso2`),onInput:A,modelValue:m.value.iso2,"onUpdate:modelValue":t[5]||=e=>m.value.iso2=e,placeholder:`Enter 2-letter ISO code (e.g., US)`,error:W(s)(`iso2`),required:``,label:`ISO2 Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),t[13]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` 2-letter ISO code (automatically converted to uppercase) `,-1)])]),m.value.code&&m.value.iso2?(R(),S(`div`,rc,[t[14]||=y(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Preview:`,-1),y(`div`,ic,[y(`span`,ac,K(m.value.code),1),y(`span`,oc,K(m.value.iso2),1)])])):x(``,!0)]),y(`div`,null,[t[18]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Phone Information `,-1),y(`div`,sc,[y(`div`,null,[T(J,{type:`text`,maxlength:10,disabled:f.value,onBlur:t[6]||=()=>W(l)(`phone_code`),onInput:j,modelValue:m.value.phone_code,"onUpdate:modelValue":t[7]||=e=>m.value.phone_code=e,placeholder:`Enter phone code (e.g., +1)`,error:W(s)(`phone_code`),label:`Phone Code (Optional)`},null,8,[`disabled`,`modelValue`,`error`]),t[16]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` International dialing code with + prefix (e.g., +1, +44, +91) `,-1)]),m.value.phone_code?(R(),S(`div`,cc,[y(`div`,lc,[t[17]||=y(`p`,{class:`text-sm font-medium text-purple-700 dark:text-purple-300 mb-1`},`Phone Code Preview:`,-1),y(`span`,uc,K(m.value.phone_code),1)])])):x(``,!0)])]),m.value.name&&m.value.code&&m.value.iso2?(R(),S(`div`,dc,[t[21]||=y(`h4`,{class:`text-sm font-medium text-blue-800 dark:text-blue-300 mb-2`},`Country Preview`,-1),y(`div`,fc,[y(`p`,pc,[t[19]||=y(`strong`,null,`Display Name:`,-1),w(` `+K(m.value.name)+` (`+K(m.value.iso2)+`) `,1)]),y(`p`,mc,[t[20]||=y(`strong`,null,`Full Display:`,-1),w(` `+K(m.value.name)+` (`+K(m.value.iso2)+`)`+K(m.value.phone_code?` `+m.value.phone_code:``),1)])])])):x(``,!0),y(`div`,hc,[y(`button`,{type:`button`,onClick:V,disabled:f.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,gc),y(`button`,{type:`submit`,disabled:f.value||W(a)||!O.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[f.value?(R(),S(`div`,vc,t[22]||=[y(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),w(` Creating... `,-1)])):(R(),S(`span`,yc,`Create Country`))],8,_c)])],32)])]),y(`div`,bc,[y(`div`,xc,[y(`div`,Sc,[T(W(o),{class:`h-5 w-5 text-blue-400`})]),t[23]||=C(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> About Countries </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Countries are used throughout the system for addresses, phone numbers, and localization: </p><ul class="list-disc list-inside space-y-1"><li><strong>Name:</strong> Full country name (e.g., &quot;United States&quot;)</li><li><strong>Code:</strong> 3-letter country code (e.g., &quot;USA&quot;, &quot;CAN&quot;, &quot;GBR&quot;)</li><li><strong>ISO2:</strong> 2-letter ISO code (e.g., &quot;US&quot;, &quot;CA&quot;, &quot;GB&quot;)</li><li><strong>Phone Code:</strong> International dialing code (e.g., &quot;+1&quot;, &quot;+44&quot;)</li><li><strong>Status:</strong> Active countries appear in dropdown lists</li></ul></div></div>`,1)])])])]))}}),wc=Cc;const Tc={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Ec={class:`max-w-4xl mx-auto`},Dc={class:`mb-8`},Oc={class:`flex items-center space-x-4 mb-2`},kc={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Ac={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},jc={class:`px-6 py-8`},Mc={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Nc={class:`md:col-span-2 relative`},Pc={class:`relative`},Fc=[`disabled`],Ic={key:0,class:`absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-auto`},Lc=[`onClick`],Rc={class:`flex justify-between items-center`},zc={class:`flex space-x-2 text-sm text-gray-500 dark:text-gray-400`},Bc={key:0},Vc={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Hc={key:1,class:`mt-1 text-xs text-gray-500`},Uc={class:`md:col-span-2`},Wc={class:`flex items-start`},Gc={class:`flex items-center h-5`},Kc=[`disabled`],qc={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Jc={key:0,class:`mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},Yc={class:`flex items-center space-x-2`},Xc={class:`font-mono font-semibold bg-gray-100 dark:bg-gray-600 px-2 py-1 rounded text-sm`},Zc={class:`font-mono font-semibold bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 px-2 py-1 rounded text-sm`},Qc={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},$c={key:0,class:`flex items-center`},el={class:`p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg`},tl={class:`font-mono bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-3 py-2 rounded text-lg`},nl={key:0,class:`p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg`},rl={class:`space-y-2`},il={class:`text-sm text-blue-700 dark:text-blue-400`},al={class:`text-sm text-blue-700 dark:text-blue-400`},ol={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},sl=[`disabled`],cl=[`disabled`],ll={key:0,class:`flex items-center justify-center`},ul={key:1},dl={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},fl={class:`flex flex-col items-center`},pl={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},ml={class:`flex`},hl={class:`flex-shrink-0`};var gl=E({__name:`EditPage`,props:{id:{},country:{}},emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=e,r=t,i=Ce(),{errors:a,hasErrors:s,getFieldError:c,validateUpdateRequest:l,clearFieldError:d,setServerErrors:f,clearErrors:m}=Ns(),b=U(!1),E=U(!1),D=U({name:``,code:``,iso2:``,phone_code:``,is_active:!0}),O=U({name:``,code:``,iso2:``,phone_code:``,is_active:!0}),k=U(!1),A=U([]),j=U(-1),N=v(()=>D.value.name.trim().length>0&&D.value.name.length<=255&&D.value.code.trim().length===3&&/^[A-Z]+$/.test(D.value.code.trim())&&D.value.iso2.trim().length===2&&/^[A-Z]+$/.test(D.value.iso2.trim())&&(D.value.phone_code===``||D.value.phone_code&&/^\+\d+$/.test(D.value.phone_code))),P=()=>{D.value.code=D.value.code.toUpperCase()},F=()=>{D.value.iso2=D.value.iso2.toUpperCase()},I=()=>{let e=D.value.phone_code||``;e=e.replace(/[^\d+]/g,``),e&&!e.startsWith(`+`)&&(e=`+`+e),e.length>10&&(e=e.substring(0,10)),D.value.phone_code=e},ee=async()=>{try{E.value=!0;let e=n.country||await i.fetchCountry(n.id);e&&(D.value={name:e.name,code:e.code,iso2:e.iso2,phone_code:e.phone_code||``,is_active:e.is_active},O.value={name:e.name,code:e.code,iso2:e.iso2,phone_code:e.phone_code||``,is_active:e.is_active},m())}catch(e){console.error(`Error loading country:`,e)}finally{E.value=!1}},z=async()=>{if(m(),l(D.value))try{b.value=!0;let e={name:D.value.name,code:D.value.code,iso2:D.value.iso2,phone_code:D.value.phone_code||void 0,is_active:D.value.is_active};await i.updateCountry(n.id,e),O.value={...D.value},r(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&f(e.response.data.errors)}finally{b.value=!1}},V=()=>{r(`cancel`)},ne=()=>{r(`back`)},q=()=>{let e=D.value.name.toLowerCase().trim();if(e.length===0){A.value=[],k.value=!1;return}A.value=Ps.filter(t=>t[`Country Name`].toLowerCase().includes(e)).slice(0,10),k.value=A.value.length>0,j.value=-1},re=()=>{D.value.name&&A.value.length>0&&(k.value=!0)},Y=()=>{setTimeout(()=>{k.value=!1,d(`name`)},200)},X=e=>{if(!(!k.value||A.value.length===0))switch(e.key){case`ArrowDown`:e.preventDefault(),j.value=Math.min(j.value+1,A.value.length-1);break;case`ArrowUp`:e.preventDefault(),j.value=Math.max(j.value-1,-1);break;case`Enter`:e.preventDefault(),j.value>=0&&j.value<A.value.length&&Z(A.value[j.value]);break;case`Escape`:k.value=!1,j.value=-1;break}},Z=e=>{if(D.value.name=e[`Country Name`],D.value.code=e.ISO3,D.value.iso2=e.ISO2,e[`Phone Code`]){let t=e[`Phone Code`].toString();D.value.phone_code=t.startsWith(`+`)?t:`+${t}`}else D.value.phone_code=``;k.value=!1,j.value=-1,d(`name`)};return L(()=>{ee()}),B(()=>n.id,()=>{n.id&&ee()}),(e,t)=>(R(),S(`div`,Tc,[y(`div`,Ec,[y(`div`,Dc,[y(`div`,Oc,[y(`button`,{onClick:ne,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[T(W(M),{class:`w-5 h-5`})]),t[8]||=y(`div`,null,[y(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Country `),y(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update country information and settings `)],-1)])]),E.value?(R(),S(`div`,kc,t[9]||=[y(`div`,{class:`flex items-center justify-center`},[y(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),y(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading country...`)],-1)])):D.value?(R(),S(`div`,Ac,[y(`div`,jc,[y(`form`,{onSubmit:g(z,[`prevent`]),class:`space-y-8`},[y(`div`,null,[t[12]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),y(`div`,Mc,[y(`div`,Nc,[t[10]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},[w(` Country Name `),y(`span`,{class:`text-red-500`},`*`)],-1),y(`div`,Pc,[H(y(`input`,{type:`text`,maxlength:255,disabled:b.value,onInput:q,onFocus:re,onBlur:Y,onKeydown:X,"onUpdate:modelValue":t[0]||=e=>D.value.name=e,placeholder:`Enter country name (e.g., United States)`,class:G([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,W(c)(`name`)?`border-red-300 text-red-900 placeholder-red-300`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},null,42,Fc),[[h,D.value.name]]),k.value&&A.value.length>0?(R(),S(`div`,Ic,[(R(!0),S(_,null,te(A.value,(e,t)=>(R(),S(`div`,{key:t,onClick:t=>Z(e),class:G([`px-3 py-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700`,j.value===t?`bg-indigo-100 dark:bg-indigo-900 text-indigo-900 dark:text-indigo-100`:`text-gray-900 dark:text-gray-100`])},[y(`div`,Rc,[y(`span`,null,K(e[`Country Name`]),1),y(`div`,zc,[y(`span`,null,K(e.ISO2),1),y(`span`,null,K(e.ISO3),1),e[`Phone Code`]?(R(),S(`span`,Bc,`+`+K(e[`Phone Code`]),1)):x(``,!0)])])],10,Lc))),128))])):x(``,!0)]),W(c)(`name`)?(R(),S(`p`,Vc,K(W(c)(`name`)),1)):x(``,!0),D.value.name.length>0?(R(),S(`p`,Hc,K(D.value.name.length)+`/255 characters `,1)):x(``,!0)]),y(`div`,Uc,[y(`div`,Wc,[y(`div`,Gc,[H(y(`input`,{id:`is_active`,"onUpdate:modelValue":t[1]||=e=>D.value.is_active=e,type:`checkbox`,disabled:b.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Kc),[[p,D.value.is_active]])]),t[11]||=y(`div`,{class:`ml-3`},[y(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),y(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this country will be available for selection `)],-1)])])])]),y(`div`,null,[t[16]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Country Codes `,-1),y(`div`,qc,[y(`div`,null,[T(J,{type:`text`,maxlength:3,disabled:b.value,onBlur:t[2]||=()=>W(d)(`code`),onInput:P,modelValue:D.value.code,"onUpdate:modelValue":t[3]||=e=>D.value.code=e,placeholder:`Enter 3-letter code (e.g., USA)`,error:W(c)(`code`),required:``,label:`Country Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),t[13]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` 3-letter country code (automatically converted to uppercase) `,-1)]),y(`div`,null,[T(J,{type:`text`,maxlength:2,disabled:b.value,onBlur:t[4]||=()=>W(d)(`iso2`),onInput:F,modelValue:D.value.iso2,"onUpdate:modelValue":t[5]||=e=>D.value.iso2=e,placeholder:`Enter 2-letter ISO code (e.g., US)`,error:W(c)(`iso2`),required:``,label:`ISO2 Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),t[14]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` 2-letter ISO code (automatically converted to uppercase) `,-1)])]),D.value.code&&D.value.iso2?(R(),S(`div`,Jc,[t[15]||=y(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Preview:`,-1),y(`div`,Yc,[y(`span`,Xc,K(D.value.code),1),y(`span`,Zc,K(D.value.iso2),1)])])):x(``,!0)]),y(`div`,null,[t[19]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Phone Information `,-1),y(`div`,Qc,[y(`div`,null,[T(J,{type:`text`,maxlength:10,disabled:b.value,onBlur:t[6]||=()=>W(d)(`phone_code`),onInput:I,modelValue:D.value.phone_code,"onUpdate:modelValue":t[7]||=e=>D.value.phone_code=e,placeholder:`Enter phone code (e.g., +1)`,error:W(c)(`phone_code`),label:`Phone Code (Optional)`},null,8,[`disabled`,`modelValue`,`error`]),t[17]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` International dialing code with + prefix (e.g., +1, +44, +91) `,-1)]),D.value.phone_code?(R(),S(`div`,$c,[y(`div`,el,[t[18]||=y(`p`,{class:`text-sm font-medium text-purple-700 dark:text-purple-300 mb-1`},`Phone Code Preview:`,-1),y(`span`,tl,K(D.value.phone_code),1)])])):x(``,!0)])]),D.value.name&&D.value.code&&D.value.iso2?(R(),S(`div`,nl,[t[22]||=y(`h4`,{class:`text-sm font-medium text-blue-800 dark:text-blue-300 mb-2`},`Country Preview`,-1),y(`div`,rl,[y(`p`,il,[t[20]||=y(`strong`,null,`Display Name:`,-1),w(` `+K(D.value.name)+` (`+K(D.value.iso2)+`) `,1)]),y(`p`,al,[t[21]||=y(`strong`,null,`Full Display:`,-1),w(` `+K(D.value.name)+` (`+K(D.value.iso2)+`)`+K(D.value.phone_code?` `+D.value.phone_code:``),1)])])])):x(``,!0),y(`div`,ol,[y(`button`,{type:`button`,onClick:V,disabled:b.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,sl),y(`button`,{type:`submit`,disabled:b.value||W(s)||!N.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[b.value?(R(),S(`div`,ll,t[23]||=[y(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),w(` Updating... `,-1)])):(R(),S(`span`,ul,`Update Country`))],8,cl)])],32)])])):(R(),S(`div`,dl,[y(`div`,fl,[T(W(u),{class:`w-12 h-12 text-red-400 mb-4`}),t[24]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Country Not Found `,-1),t[25]||=y(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The country you're trying to edit could not be found. `,-1),y(`button`,{onClick:ne,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},`  Back to Countries `)])])),D.value?(R(),S(`div`,pl,[y(`div`,ml,[y(`div`,hl,[T(W(o),{class:`h-5 w-5 text-blue-400`})]),t[26]||=C(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Country Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update country details carefully as this information affects: </p><ul class="list-disc list-inside space-y-1"><li>Address validation and formatting</li><li>Phone number formatting with country codes</li><li>Dropdown selections throughout the system</li><li>Localization and regional settings</li></ul></div></div>`,1)])])):x(``,!0)])]))}}),_l=gl;const vl={class:`space-y-6`},yl={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},bl={class:`grid grid-cols-1 md:grid-cols-5 gap-4`},xl={class:`md:col-span-2`},Sl={class:`relative`},Cl={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},wl={key:0,class:`p-8 text-center`},Tl={key:1,class:`p-8 text-center`},El={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},Dl={key:0,class:`mt-6`},Ol={key:2,class:`overflow-x-auto`},kl={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},Al={class:`bg-gray-50 dark:bg-gray-700`},jl={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Ml={class:`flex flex-col`},Nl={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Pl={class:`flex flex-col`},Fl={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Il={class:`flex flex-col`},Ll={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Rl={class:`flex flex-col`},zl={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Bl={class:`flex flex-col`},Vl={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Hl={class:`flex flex-col`},Ul={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},Wl={class:`px-6 py-4 whitespace-nowrap`},Gl={class:`flex items-center`},Kl={class:`flex-shrink-0 h-10 w-10`},ql={class:`h-10 w-10 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center`},Jl={class:`ml-4`},Yl={class:`text-sm font-medium text-gray-900 dark:text-white flex items-center space-x-2`},Xl={class:`font-mono font-semibold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 px-2 py-1 rounded text-xs`},Zl={key:0,class:`bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded text-xs font-medium`},Ql={class:`text-sm text-gray-500 dark:text-gray-400`},$l={class:`px-6 py-4 whitespace-nowrap`},eu={class:`text-sm text-gray-900 dark:text-white`},tu={class:`font-medium`},nu={key:0,class:`text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs`},ru={class:`px-6 py-4 whitespace-nowrap`},iu={class:`text-sm text-gray-900 dark:text-white`},au={class:`font-mono font-semibold bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-3 py-1 rounded-full text-sm`},ou={class:`px-6 py-4 whitespace-nowrap`},su={class:`px-6 py-4 whitespace-nowrap`},cu={class:`px-6 py-4 whitespace-nowrap`},lu={class:`text-sm text-gray-900 dark:text-white`},uu={class:`text-sm text-gray-600 dark:text-gray-400`},du={class:`text-xs text-gray-500 dark:text-gray-500`},fu={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},pu={class:`flex items-center justify-end space-x-2`},mu=[`onClick`],hu=[`onClick`],gu=[`onClick`],_u={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},vu={class:`flex items-center justify-between`},yu={class:`flex-1 flex justify-between sm:hidden`},bu=[`disabled`],xu=[`disabled`],Su={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},Cu={class:`text-sm text-gray-700 dark:text-gray-300`},wu={class:`font-medium`},Tu={class:`font-medium`},Eu={class:`font-medium`},Du={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},Ou=[`disabled`],ku=[`disabled`];var Au=E({__name:`IndexPage`,emits:[`create`,`edit`],setup(e,{emit:t}){f();let i=ee(),o=ve(),s=t,l=U(!1),u=U(!1),p=U(null),g=U(null),b=U(null),C=U(!1),E=ne({search:``,is_active:``,type:``,per_page:15,sort_by:``,sort_direction:`asc`,page:1}),j=U({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}),M=v(()=>o.taxCodes),N=v(()=>o.pagination),P=v(()=>o.loading),F=v(()=>[{key:`code`,label:`Tax Code`,type:`text`},{key:`name`,label:`Name`,type:`text`},{key:`description`,label:`Description`,type:`text`,fallback:`No description`},{key:`tax_percent`,label:`Tax Percentage`,type:`text`,suffix:`%`},{key:`type`,label:`Type`,type:`badge`},{key:`is_active`,label:`Status`,type:`status`},{key:`is_default`,label:`Default Tax Code`,type:`boolean`},{key:`created_by.name`,label:`Created By`,type:`text`,subKey:`created_at`},{key:`updated_by.name`,label:`Last Updated By`,type:`text`,subKey:`updated_at`}]);B(()=>({...E}),e=>{let{page:t,...n}=e;o.updateFilters(n)},{deep:!0});let I=async(e=1)=>{try{let t={...E,page:e};await o.fetchTaxCodes(t)}catch{i.error(`Failed to load tax codes`,{title:`Error`})}},z=()=>{g.value&&clearTimeout(g.value),g.value=setTimeout(()=>{I(1)},300)},V=e=>{E.sort_by===e?E.sort_direction=E.sort_direction===`asc`?`desc`:`asc`:(E.sort_by=e,E.sort_direction=`asc`),I(1)},q=e=>{e>=1&&N.value&&e<=N.value.last_page&&(E.page=e,I(e))},J=e=>{b.value=e,C.value=!0},re=e=>{p.value=e,j.value={title:`Delete Tax Code`,message:`Are you sure you want to delete "${e.code} - ${e.name}"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},u.value=!0},Y=async()=>{p.value&&(await o.deleteTaxCode(p.value.id),X())},X=()=>{u.value=!1,p.value=null,j.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},Z=()=>{s(`create`)},Q=e=>{s(`edit`,e)};return L(()=>{I()}),(e,t)=>(R(),S(`div`,vl,[T(le,{title:`Tax Codes`,description:`Manage tax codes for calculations and reporting`,"create-button-text":`Create New Tax Code`,onCreate:Z}),y(`div`,yl,[y(`div`,bl,[y(`div`,xl,[t[16]||=y(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Tax Codes `,-1),y(`div`,Sl,[H(y(`input`,{id:`search`,"onUpdate:modelValue":t[0]||=e=>E.search=e,type:`text`,placeholder:`Search by code, name, or description...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:z},null,544),[[h,E.search]]),T(W(ae),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),y(`div`,null,[t[18]||=y(`label`,{for:`type`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Type `,-1),H(y(`select`,{id:`type`,"onUpdate:modelValue":t[1]||=e=>E.type=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:I},t[17]||=[y(`option`,{value:``},`All Types`,-1),y(`option`,{value:`inclusive`},`Inclusive`,-1),y(`option`,{value:`exclusive`},`Exclusive`,-1)],544),[[m,E.type]])]),y(`div`,null,[t[20]||=y(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Status `,-1),H(y(`select`,{id:`status`,"onUpdate:modelValue":t[2]||=e=>E.is_active=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:I},t[19]||=[y(`option`,{value:``},`All Status`,-1),y(`option`,{value:`true`},`Active`,-1),y(`option`,{value:`false`},`Inactive`,-1)],544),[[m,E.is_active]])]),y(`div`,null,[t[22]||=y(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),H(y(`select`,{id:`per-page`,"onUpdate:modelValue":t[3]||=e=>E.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:I},t[21]||=[y(`option`,{value:15},`15`,-1),y(`option`,{value:25},`25`,-1),y(`option`,{value:50},`50`,-1),y(`option`,{value:100},`100`,-1)],544),[[m,E.per_page]])])])]),y(`div`,Cl,[P.value?(R(),S(`div`,wl,[T(W(a),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),t[23]||=y(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading tax codes...`,-1)])):M.value.length===0?(R(),S(`div`,Tl,[T(W(A),{class:`h-12 w-12 mx-auto text-gray-400`}),t[25]||=y(`h3`,{class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},` No tax codes found `,-1),y(`p`,El,K(E.search?`Try adjusting your search criteria.`:`Get started by creating your first tax code.`),1),E.search?x(``,!0):(R(),S(`div`,Dl,[y(`button`,{onClick:Z,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[T(W(n),{class:`h-5 w-5 mr-2`}),t[24]||=w(` Add Your First Tax Code `,-1)])]))])):(R(),S(`div`,Ol,[y(`table`,kl,[y(`thead`,Al,[y(`tr`,null,[y(`th`,jl,[y(`button`,{onClick:t[4]||=e=>V(`code`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[26]||=y(`span`,null,`Code`,-1),y(`div`,Ml,[T(W(d),{class:G([`h-3 w-3`,E.sort_by===`code`&&E.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,E.sort_by===`code`&&E.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),y(`th`,Nl,[y(`button`,{onClick:t[5]||=e=>V(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[27]||=y(`span`,null,`Name`,-1),y(`div`,Pl,[T(W(d),{class:G([`h-3 w-3`,E.sort_by===`name`&&E.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,E.sort_by===`name`&&E.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),y(`th`,Fl,[y(`button`,{onClick:t[6]||=e=>V(`tax_percent`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[28]||=y(`span`,null,`Tax Rate`,-1),y(`div`,Il,[T(W(d),{class:G([`h-3 w-3`,E.sort_by===`tax_percent`&&E.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,E.sort_by===`tax_percent`&&E.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),y(`th`,Ll,[y(`button`,{onClick:t[7]||=e=>V(`type`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[29]||=y(`span`,null,`Type`,-1),y(`div`,Rl,[T(W(d),{class:G([`h-3 w-3`,E.sort_by===`type`&&E.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,E.sort_by===`type`&&E.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),y(`th`,zl,[y(`button`,{onClick:t[8]||=e=>V(`is_active`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[30]||=y(`span`,null,`Status`,-1),y(`div`,Bl,[T(W(d),{class:G([`h-3 w-3`,E.sort_by===`is_active`&&E.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,E.sort_by===`is_active`&&E.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),y(`th`,Vl,[y(`button`,{onClick:t[9]||=e=>V(`created_at`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[t[31]||=y(`span`,null,`Created`,-1),y(`div`,Hl,[T(W(d),{class:G([`h-3 w-3`,E.sort_by===`created_at`&&E.sort_direction===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,E.sort_by===`created_at`&&E.sort_direction===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),t[32]||=y(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),y(`tbody`,Ul,[(R(!0),S(_,null,te(M.value,e=>(R(),S(`tr`,{key:e.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[y(`td`,Wl,[y(`div`,Gl,[y(`div`,Kl,[y(`div`,ql,[T(W(A),{class:`h-5 w-5 text-green-600 dark:text-green-400`})])]),y(`div`,Jl,[y(`div`,Yl,[y(`span`,Xl,K(e.code),1),e.is_default?(R(),S(`span`,Zl,` Default `)):x(``,!0)]),y(`div`,Ql,` ID: `+K(e.id),1)])])]),y(`td`,$l,[y(`div`,eu,[y(`div`,tu,K(e.name),1),e.description?(R(),S(`div`,nu,K(e.description),1)):x(``,!0)])]),y(`td`,ru,[y(`div`,iu,[y(`span`,au,K(e.tax_percent)+`% `,1)])]),y(`td`,ou,[y(`span`,{class:G([`px-2 py-1 rounded-full text-xs font-medium`,e.type===`inclusive`?`bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300`:`bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-300`])},K(e.type===`inclusive`?`Inclusive`:`Exclusive`),3)]),y(`td`,su,[T(pe,{active:e.is_active},null,8,[`active`])]),y(`td`,cu,[y(`div`,lu,[y(`div`,uu,K(e.created_by?.name||`-`),1),y(`div`,du,K(W(oe)(e.created_at)),1)])]),y(`td`,fu,[y(`div`,pu,[y(`button`,{onClick:t=>J(e),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[T(W(c),{class:`w-4 h-4`})],8,mu),y(`button`,{onClick:t=>Q(e),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit Tax Code`},[T(W(r),{class:`h-4 w-4`})],8,hu),y(`button`,{onClick:t=>re(e),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete Tax Code`},[T(W(ie),{class:`h-4 w-4`})],8,gu)])])]))),128))])])])),N.value&&N.value.total>0?(R(),S(`div`,_u,[y(`div`,vu,[y(`div`,yu,[y(`button`,{onClick:t[10]||=e=>q(N.value.current_page-1),disabled:N.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,bu),y(`button`,{onClick:t[11]||=e=>q(N.value.current_page+1),disabled:N.value.current_page>=N.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,xu)]),y(`div`,Su,[y(`div`,null,[y(`p`,Cu,[t[33]||=w(` Showing `,-1),y(`span`,wu,K(N.value.from),1),t[34]||=w(` to `,-1),y(`span`,Tu,K(N.value.to),1),t[35]||=w(` of `,-1),y(`span`,Eu,K(N.value.total),1),t[36]||=w(` results `,-1)])]),y(`div`,null,[y(`nav`,Du,[y(`button`,{onClick:t[12]||=e=>q(N.value.current_page-1),disabled:N.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[T(W(O),{class:`h-5 w-5`})],8,Ou),y(`button`,{onClick:t[13]||=e=>q(N.value.current_page+1),disabled:N.value.current_page>=N.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[T(W(D),{class:`h-5 w-5`})],8,ku)])])])])])):x(``,!0)]),T(ue,{show:u.value,"onUpdate:show":t[14]||=e=>u.value=e,type:`delete`,title:j.value.title,message:j.value.message,"confirm-text":j.value.buttonText,"loading-text":j.value.loadingText,loading:l.value,onConfirm:Y,onCancel:X},null,8,[`show`,`title`,`message`,`confirm-text`,`loading-text`,`loading`]),T(xe,{show:C.value,"onUpdate:show":t[15]||=e=>C.value=e,item:b.value,title:`Tax Code Details`,"display-fields":F.value,size:`lg`},null,8,[`show`,`item`,`display-fields`])]))}}),ju=Au;const Mu={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},Nu={class:`max-w-4xl mx-auto`},Pu={class:`mb-8`},Fu={class:`flex items-center space-x-4 mb-2`},Iu={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Lu={class:`px-6 py-8`},Ru={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},zu={class:`md:col-span-2`},Bu=[`disabled`],Vu={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Hu={key:1,class:`mt-1 text-xs text-gray-500`},Uu={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Wu=[`disabled`],Gu={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Ku={class:`mt-1 text-xs text-gray-500`},qu={class:`flex`},Ju={class:`flex-shrink-0`},Yu={class:`ml-3`},Xu={class:`space-y-4`},Zu={class:`flex items-start`},Qu={class:`flex items-center h-5`},$u=[`disabled`],ed={class:`flex items-start`},td={class:`flex items-center h-5`},nd=[`disabled`],rd={key:0,class:`p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg`},id={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},ad={class:`space-y-2`},od={key:0},sd={class:`text-sm text-blue-700 dark:text-blue-400`},cd={class:`text-sm font-medium text-blue-700 dark:text-blue-400`},ld={key:1},ud={class:`text-sm text-blue-700 dark:text-blue-400`},dd={class:`text-sm font-medium text-blue-700 dark:text-blue-400`},fd={class:`flex items-center justify-center`},pd={class:`font-mono font-semibold bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-4 py-2 rounded-full text-lg`},md={key:1,class:`p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},hd={class:`flex items-center space-x-2`},gd={class:`font-mono font-semibold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 px-2 py-1 rounded text-sm`},_d={class:`text-gray-700 dark:text-gray-300`},vd={key:0,class:`font-mono font-semibold bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-2 py-1 rounded text-sm`},yd={key:1,class:`bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded text-xs font-medium`},bd={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},xd=[`disabled`],Sd=[`disabled`],Cd={key:0,class:`flex items-center justify-center`},wd={key:1},Td={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Ed={class:`flex`},Dd={class:`flex-shrink-0`};var Od=E({__name:`CreatePage`,emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=t,r=ve(),i=U(!1),a=U({}),s=U({code:``,name:``,description:``,tax_percent:0,type:`exclusive`,is_active:!0,is_default:!1}),c=v(()=>Object.keys(a.value).length>0),l=v(()=>s.value.code.trim().length>0&&s.value.name.trim().length>0&&s.value.tax_percent>=0&&s.value.tax_percent<=100&&(s.value.type===`inclusive`||s.value.type===`exclusive`)),u=e=>a.value[e]||``,d=e=>{a.value[e]&&delete a.value[e]},f=()=>{a.value={}},_=e=>{a.value={},Object.keys(e).forEach(t=>{e[t]&&e[t].length>0&&(a.value[t]=e[t][0])})},b=()=>{f();let e=!0;return s.value.code.trim()?s.value.code.length>50&&(a.value.code=`Tax code must be 50 characters or less`,e=!1):(a.value.code=`Tax code is required`,e=!1),s.value.name.trim()?s.value.name.length>255&&(a.value.name=`Tax name must be 255 characters or less`,e=!1):(a.value.name=`Tax name is required`,e=!1),s.value.description&&s.value.description.length>500&&(a.value.description=`Description must be 500 characters or less`,e=!1),s.value.tax_percent<0?(a.value.tax_percent=`Tax percentage cannot be negative`,e=!1):s.value.tax_percent>100&&(a.value.tax_percent=`Tax percentage cannot exceed 100%`,e=!1),(!s.value.type||s.value.type!==`inclusive`&&s.value.type!==`exclusive`)&&(a.value.type=`Tax type is required`,e=!1),e},E=()=>{s.value.code=s.value.code.toUpperCase()},D=()=>{s.value={code:``,name:``,description:``,tax_percent:0,type:`exclusive`,is_active:!0,is_default:!1},f()},O=async()=>{if(b())try{i.value=!0,await r.createTaxCode(s.value),D(),n(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&_(e.response.data.errors)}finally{i.value=!1}},k=()=>{D(),n(`cancel`)},A=()=>{n(`back`)};return L(()=>{D()}),(e,t)=>(R(),S(`div`,Mu,[y(`div`,Nu,[y(`div`,Pu,[y(`div`,Fu,[y(`button`,{onClick:A,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[T(W(M),{class:`w-5 h-5`})]),t[12]||=y(`div`,null,[y(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create Tax Code `),y(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new tax code for calculations and reporting `)],-1)])]),y(`div`,Iu,[y(`div`,Lu,[y(`form`,{onSubmit:g(O,[`prevent`]),class:`space-y-8`},[y(`div`,null,[t[16]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),y(`div`,Ru,[y(`div`,null,[T(J,{type:`text`,maxlength:50,disabled:i.value,onBlur:t[0]||=()=>d(`code`),onInput:E,modelValue:s.value.code,"onUpdate:modelValue":t[1]||=e=>s.value.code=e,placeholder:`Enter tax code (e.g., VAT-10, GST-5)`,error:u(`code`),required:``,label:`Tax Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),t[13]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` Unique identifier for this tax code (automatically converted to uppercase) `,-1)]),y(`div`,null,[T(J,{type:`text`,maxlength:255,disabled:i.value,onBlur:t[2]||=()=>d(`name`),modelValue:s.value.name,"onUpdate:modelValue":t[3]||=e=>s.value.name=e,placeholder:`Enter tax name (e.g., Value Added Tax)`,error:u(`name`),required:``,label:`Tax Name`},null,8,[`disabled`,`modelValue`,`error`]),t[14]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` Descriptive name for this tax code `,-1)]),y(`div`,zu,[t[15]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Description (Optional) `,-1),H(y(`textarea`,{"onUpdate:modelValue":t[4]||=e=>s.value.description=e,disabled:i.value,onBlur:t[5]||=()=>d(`description`),rows:`3`,maxlength:500,placeholder:`Enter detailed description of this tax code...`,class:G([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,u(`description`)?`border-red-300 text-red-900 placeholder-red-300`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},null,42,Bu),[[h,s.value.description]]),u(`description`)?(R(),S(`p`,Vu,K(u(`description`)),1)):x(``,!0),s.value.description?(R(),S(`p`,Hu,K(s.value.description.length)+`/500 characters `,1)):x(``,!0)])])]),y(`div`,null,[t[20]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Tax Configuration `,-1),y(`div`,Uu,[y(`div`,null,[T(J,{type:`number`,disabled:i.value,onBlur:t[6]||=()=>d(`tax_percent`),modelValue:s.value.tax_percent,"onUpdate:modelValue":t[7]||=e=>s.value.tax_percent=e,placeholder:`Enter tax percentage (e.g., 10.50)`,error:u(`tax_percent`),required:``,label:`Tax Percentage`,step:`0.01`,min:`0`,max:`100`},null,8,[`disabled`,`modelValue`,`error`]),t[17]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` Tax percentage rate (0.00 to 100.00) `,-1)]),y(`div`,null,[t[19]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},[w(` Tax Type `),y(`span`,{class:`text-red-500`},`*`)],-1),H(y(`select`,{"onUpdate:modelValue":t[8]||=e=>s.value.type=e,disabled:i.value,onChange:t[9]||=()=>d(`type`),class:G([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,u(`type`)?`border-red-300 text-red-900`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},t[18]||=[y(`option`,{value:``},`Select tax type`,-1),y(`option`,{value:`inclusive`},`Inclusive`,-1),y(`option`,{value:`exclusive`},`Exclusive`,-1)],42,Wu),[[m,s.value.type]]),u(`type`)?(R(),S(`p`,Gu,K(u(`type`)),1)):x(``,!0),y(`p`,Ku,K(s.value.type===`inclusive`?`Tax is included in the price`:s.value.type===`exclusive`?`Tax is added to the price`:`Choose whether tax is included in or added to the price`),1)])]),s.value.type?(R(),S(`div`,{key:0,class:G([`mt-4 p-4 rounded-lg`,s.value.type===`inclusive`?`bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800`:`bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800`])},[y(`div`,qu,[y(`div`,Ju,[T(W(o),{class:G([s.value.type===`inclusive`?`text-green-400`:`text-orange-400`,`h-5 w-5`])},null,8,[`class`])]),y(`div`,Yu,[y(`h4`,{class:G([`text-sm font-medium`,s.value.type===`inclusive`?`text-green-800 dark:text-green-300`:`text-orange-800 dark:text-orange-300`])},K(s.value.type===`inclusive`?`Inclusive Tax`:`Exclusive Tax`),3),y(`p`,{class:G([`mt-1 text-sm`,s.value.type===`inclusive`?`text-green-700 dark:text-green-400`:`text-orange-700 dark:text-orange-400`])},K(s.value.type===`inclusive`?`The tax is already included in the displayed price. The system will calculate the base amount by removing the tax from the total.`:`The tax will be added to the base price. The system will calculate the total by adding the tax to the base amount.`),3)])])],2)):x(``,!0)]),y(`div`,null,[t[23]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Status Settings `,-1),y(`div`,Xu,[y(`div`,Zu,[y(`div`,Qu,[H(y(`input`,{id:`is_active`,"onUpdate:modelValue":t[10]||=e=>s.value.is_active=e,type:`checkbox`,disabled:i.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,$u),[[p,s.value.is_active]])]),t[21]||=y(`div`,{class:`ml-3`},[y(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),y(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this tax code will be available for selection `)],-1)]),y(`div`,ed,[y(`div`,td,[H(y(`input`,{id:`is_default`,"onUpdate:modelValue":t[11]||=e=>s.value.is_default=e,type:`checkbox`,disabled:i.value,class:`h-4 w-4 text-yellow-600 focus:ring-yellow-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,nd),[[p,s.value.is_default]])]),t[22]||=y(`div`,{class:`ml-3`},[y(`label`,{for:`is_default`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Default Tax Code `),y(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this tax code will be selected by default for new items `)],-1)])])]),s.value.tax_percent&&s.value.type?(R(),S(`div`,rd,[t[27]||=y(`h4`,{class:`text-sm font-medium text-blue-800 dark:text-blue-300 mb-3`},`Tax Calculation Preview`,-1),y(`div`,id,[y(`div`,ad,[t[26]||=y(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},[y(`strong`,null,`Example with $100.00:`)],-1),s.value.type===`exclusive`?(R(),S(`div`,od,[t[24]||=y(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},`Base Amount: $100.00`,-1),y(`p`,sd,`Tax Amount: $`+K((100*(s.value.tax_percent/100)).toFixed(2)),1),y(`p`,cd,`Total: $`+K((100+100*(s.value.tax_percent/100)).toFixed(2)),1)])):(R(),S(`div`,ld,[t[25]||=y(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},`Total Amount: $100.00`,-1),y(`p`,ud,`Tax Amount: $`+K((100-100/(1+s.value.tax_percent/100)).toFixed(2)),1),y(`p`,dd,`Base Amount: $`+K((100/(1+s.value.tax_percent/100)).toFixed(2)),1)]))]),y(`div`,fd,[y(`span`,pd,K(s.value.tax_percent)+`% `,1)])])])):x(``,!0),s.value.code&&s.value.name?(R(),S(`div`,md,[t[29]||=y(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Tax Code Preview:`,-1),y(`div`,hd,[y(`span`,gd,K(s.value.code),1),t[28]||=y(`span`,{class:`text-gray-700 dark:text-gray-300`},`-`,-1),y(`span`,_d,K(s.value.name),1),s.value.tax_percent?(R(),S(`span`,vd,K(s.value.tax_percent)+`% `,1)):x(``,!0),s.value.is_default?(R(),S(`span`,yd,` Default `)):x(``,!0)])])):x(``,!0),y(`div`,bd,[y(`button`,{type:`button`,onClick:k,disabled:i.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,xd),y(`button`,{type:`submit`,disabled:i.value||c.value||!l.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[i.value?(R(),S(`div`,Cd,t[30]||=[y(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),w(` Creating... `,-1)])):(R(),S(`span`,wd,`Create Tax Code`))],8,Sd)])],32)])]),y(`div`,Td,[y(`div`,Ed,[y(`div`,Dd,[T(W(o),{class:`h-5 w-5 text-blue-400`})]),t[31]||=C(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> About Tax Codes </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Tax codes are used throughout the system for automatic tax calculations: </p><ul class="list-disc list-inside space-y-1"><li><strong>Code:</strong> Unique identifier (e.g., &quot;VAT-10&quot;, &quot;GST-5&quot;)</li><li><strong>Name:</strong> Descriptive name for the tax</li><li><strong>Percentage:</strong> Tax rate from 0.00% to 100.00%</li><li><strong>Type:</strong> Inclusive (tax included in price) or Exclusive (tax added to price)</li><li><strong>Default:</strong> Automatically selected for new items when enabled</li><li><strong>Status:</strong> Active tax codes appear in dropdown lists</li></ul></div></div>`,1)])])])]))}}),kd=Od;const Ad={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},jd={class:`max-w-4xl mx-auto`},Md={class:`mb-8`},Nd={class:`flex items-center space-x-4 mb-2`},Pd={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Fd={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},Id={class:`px-6 py-8`},Ld={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Rd={class:`md:col-span-2`},zd=[`disabled`],Bd={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Vd={key:1,class:`mt-1 text-xs text-gray-500`},Hd={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Ud=[`disabled`],Wd={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Gd={class:`mt-1 text-xs text-gray-500`},Kd={class:`flex`},qd={class:`flex-shrink-0`},Jd={class:`ml-3`},Yd={class:`space-y-4`},Xd={class:`flex items-start`},Zd={class:`flex items-center h-5`},Qd=[`disabled`],$d={class:`flex items-start`},ef={class:`flex items-center h-5`},tf=[`disabled`],nf={key:0,class:`p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg`},rf={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},af={class:`space-y-2`},sf={key:0},cf={class:`text-sm text-blue-700 dark:text-blue-400`},lf={class:`text-sm font-medium text-blue-700 dark:text-blue-400`},uf={key:1},df={class:`text-sm text-blue-700 dark:text-blue-400`},ff={class:`text-sm font-medium text-blue-700 dark:text-blue-400`},pf={class:`flex items-center justify-center`},mf={class:`font-mono font-semibold bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-4 py-2 rounded-full text-lg`},hf={key:1,class:`p-4 bg-gray-50 dark:bg-gray-700 rounded-lg`},gf={class:`flex items-center space-x-2`},_f={class:`font-mono font-semibold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 px-2 py-1 rounded text-sm`},vf={class:`text-gray-700 dark:text-gray-300`},yf={key:0,class:`font-mono font-semibold bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 px-2 py-1 rounded text-sm`},bf={key:1,class:`bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded text-xs font-medium`},xf={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Sf=[`disabled`],Cf=[`disabled`],wf={key:0,class:`flex items-center justify-center`},Tf={key:1},Ef={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},Df={class:`flex flex-col items-center`},Of={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},kf={class:`flex`},Af={class:`flex-shrink-0`};var jf=E({__name:`EditPage`,props:{id:{},taxCode:{}},emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=e,r=t,i=ve(),a=U(!1),s=U(!1),c=U({}),l=U({code:``,name:``,description:``,tax_percent:0,type:`exclusive`,is_active:!0,is_default:!1}),d=U({code:``,name:``,description:``,tax_percent:0,type:`exclusive`,is_active:!0,is_default:!1}),f=v(()=>Object.keys(c.value).length>0),_=v(()=>l.value.code.trim().length>0&&l.value.name.trim().length>0&&l.value.tax_percent>=0&&l.value.tax_percent<=100&&(l.value.type===`inclusive`||l.value.type===`exclusive`)),b=e=>c.value[e]||``,E=e=>{c.value[e]&&delete c.value[e]},D=()=>{c.value={}},O=e=>{c.value={},Object.keys(e).forEach(t=>{e[t]&&e[t].length>0&&(c.value[t]=e[t][0])})},k=()=>{D();let e=!0;return l.value.code.trim()?l.value.code.length>50&&(c.value.code=`Tax code must be 50 characters or less`,e=!1):(c.value.code=`Tax code is required`,e=!1),l.value.name.trim()?l.value.name.length>255&&(c.value.name=`Tax name must be 255 characters or less`,e=!1):(c.value.name=`Tax name is required`,e=!1),l.value.description&&l.value.description.length>500&&(c.value.description=`Description must be 500 characters or less`,e=!1),l.value.tax_percent<0?(c.value.tax_percent=`Tax percentage cannot be negative`,e=!1):l.value.tax_percent>100&&(c.value.tax_percent=`Tax percentage cannot exceed 100%`,e=!1),(!l.value.type||l.value.type!==`inclusive`&&l.value.type!==`exclusive`)&&(c.value.type=`Tax type is required`,e=!1),e},A=()=>{l.value.code=l.value.code.toUpperCase()},j=async()=>{try{s.value=!0;let e=n.taxCode||await i.fetchTaxCode(n.id);e&&(l.value={code:e.code,name:e.name,description:e.description||``,tax_percent:parseFloat(e.tax_percent),type:e.type,is_active:e.is_active,is_default:e.is_default},d.value={code:e.code,name:e.name,description:e.description||``,tax_percent:parseFloat(e.tax_percent),type:e.type,is_active:e.is_active,is_default:e.is_default},D())}catch(e){console.error(`Error loading tax code:`,e)}finally{s.value=!1}},N=async()=>{if(k())try{a.value=!0;let e={code:l.value.code,name:l.value.name,description:l.value.description||void 0,tax_percent:l.value.tax_percent,type:l.value.type,is_active:l.value.is_active,is_default:l.value.is_default};await i.updateTaxCode(n.id,e),d.value={...l.value},r(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&O(e.response.data.errors)}finally{a.value=!1}},P=()=>{r(`cancel`)},F=()=>{r(`back`)};return L(()=>{j()}),B(()=>n.id,()=>{n.id&&j()}),(e,t)=>(R(),S(`div`,Ad,[y(`div`,jd,[y(`div`,Md,[y(`div`,Nd,[y(`button`,{onClick:F,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[T(W(M),{class:`w-5 h-5`})]),t[12]||=y(`div`,null,[y(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit Tax Code `),y(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update tax code information and settings `)],-1)])]),s.value?(R(),S(`div`,Pd,t[13]||=[y(`div`,{class:`flex items-center justify-center`},[y(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),y(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading tax code...`)],-1)])):l.value?(R(),S(`div`,Fd,[y(`div`,Id,[y(`form`,{onSubmit:g(N,[`prevent`]),class:`space-y-8`},[y(`div`,null,[t[17]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Basic Information `,-1),y(`div`,Ld,[y(`div`,null,[T(J,{type:`text`,maxlength:50,disabled:a.value,onBlur:t[0]||=()=>E(`code`),onInput:A,modelValue:l.value.code,"onUpdate:modelValue":t[1]||=e=>l.value.code=e,placeholder:`Enter tax code (e.g., VAT-10, GST-5)`,error:b(`code`),required:``,label:`Tax Code`,class:`uppercase`},null,8,[`disabled`,`modelValue`,`error`]),t[14]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` Unique identifier for this tax code (automatically converted to uppercase) `,-1)]),y(`div`,null,[T(J,{type:`text`,maxlength:255,disabled:a.value,onBlur:t[2]||=()=>E(`name`),modelValue:l.value.name,"onUpdate:modelValue":t[3]||=e=>l.value.name=e,placeholder:`Enter tax name (e.g., Value Added Tax)`,error:b(`name`),required:``,label:`Tax Name`},null,8,[`disabled`,`modelValue`,`error`]),t[15]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` Descriptive name for this tax code `,-1)]),y(`div`,Rd,[t[16]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Description (Optional) `,-1),H(y(`textarea`,{"onUpdate:modelValue":t[4]||=e=>l.value.description=e,disabled:a.value,onBlur:t[5]||=()=>E(`description`),rows:`3`,maxlength:500,placeholder:`Enter detailed description of this tax code...`,class:G([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,b(`description`)?`border-red-300 text-red-900 placeholder-red-300`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},null,42,zd),[[h,l.value.description]]),b(`description`)?(R(),S(`p`,Bd,K(b(`description`)),1)):x(``,!0),l.value.description?(R(),S(`p`,Vd,K(l.value.description.length)+`/500 characters `,1)):x(``,!0)])])]),y(`div`,null,[t[21]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Tax Configuration `,-1),y(`div`,Hd,[y(`div`,null,[T(J,{type:`number`,disabled:a.value,onBlur:t[6]||=()=>E(`tax_percent`),modelValue:l.value.tax_percent,"onUpdate:modelValue":t[7]||=e=>l.value.tax_percent=e,placeholder:`Enter tax percentage (e.g., 10.50)`,error:b(`tax_percent`),required:``,label:`Tax Percentage`,step:`0.01`,min:`0`,max:`100`},null,8,[`disabled`,`modelValue`,`error`]),t[18]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` Tax percentage rate (0.00 to 100.00) `,-1)]),y(`div`,null,[t[20]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},[w(` Tax Type `),y(`span`,{class:`text-red-500`},`*`)],-1),H(y(`select`,{"onUpdate:modelValue":t[8]||=e=>l.value.type=e,disabled:a.value,onChange:t[9]||=()=>E(`type`),class:G([`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500`,b(`type`)?`border-red-300 text-red-900`:`border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100`])},t[19]||=[y(`option`,{value:``},`Select tax type`,-1),y(`option`,{value:`inclusive`},`Inclusive`,-1),y(`option`,{value:`exclusive`},`Exclusive`,-1)],42,Ud),[[m,l.value.type]]),b(`type`)?(R(),S(`p`,Wd,K(b(`type`)),1)):x(``,!0),y(`p`,Gd,K(l.value.type===`inclusive`?`Tax is included in the price`:l.value.type===`exclusive`?`Tax is added to the price`:`Choose whether tax is included in or added to the price`),1)])]),l.value.type?(R(),S(`div`,{key:0,class:G([`mt-4 p-4 rounded-lg`,l.value.type===`inclusive`?`bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800`:`bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800`])},[y(`div`,Kd,[y(`div`,qd,[T(W(o),{class:G([l.value.type===`inclusive`?`text-green-400`:`text-orange-400`,`h-5 w-5`])},null,8,[`class`])]),y(`div`,Jd,[y(`h4`,{class:G([`text-sm font-medium`,l.value.type===`inclusive`?`text-green-800 dark:text-green-300`:`text-orange-800 dark:text-orange-300`])},K(l.value.type===`inclusive`?`Inclusive Tax`:`Exclusive Tax`),3),y(`p`,{class:G([`mt-1 text-sm`,l.value.type===`inclusive`?`text-green-700 dark:text-green-400`:`text-orange-700 dark:text-orange-400`])},K(l.value.type===`inclusive`?`The tax is already included in the displayed price. The system will calculate the base amount by removing the tax from the total.`:`The tax will be added to the base price. The system will calculate the total by adding the tax to the base amount.`),3)])])],2)):x(``,!0)]),y(`div`,null,[t[24]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-4`},` Status Settings `,-1),y(`div`,Yd,[y(`div`,Xd,[y(`div`,Zd,[H(y(`input`,{id:`is_active`,"onUpdate:modelValue":t[10]||=e=>l.value.is_active=e,type:`checkbox`,disabled:a.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,Qd),[[p,l.value.is_active]])]),t[22]||=y(`div`,{class:`ml-3`},[y(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),y(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this tax code will be available for selection `)],-1)]),y(`div`,$d,[y(`div`,ef,[H(y(`input`,{id:`is_default`,"onUpdate:modelValue":t[11]||=e=>l.value.is_default=e,type:`checkbox`,disabled:a.value,class:`h-4 w-4 text-yellow-600 focus:ring-yellow-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,tf),[[p,l.value.is_default]])]),t[23]||=y(`div`,{class:`ml-3`},[y(`label`,{for:`is_default`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Default Tax Code `),y(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this tax code will be selected by default for new items `)],-1)])])]),l.value.tax_percent&&l.value.type?(R(),S(`div`,nf,[t[28]||=y(`h4`,{class:`text-sm font-medium text-blue-800 dark:text-blue-300 mb-3`},`Tax Calculation Preview`,-1),y(`div`,rf,[y(`div`,af,[t[27]||=y(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},[y(`strong`,null,`Example with $100.00:`)],-1),l.value.type===`exclusive`?(R(),S(`div`,sf,[t[25]||=y(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},`Base Amount: $100.00`,-1),y(`p`,cf,`Tax Amount: $`+K((100*(l.value.tax_percent/100)).toFixed(2)),1),y(`p`,lf,`Total: $`+K((100+100*(l.value.tax_percent/100)).toFixed(2)),1)])):(R(),S(`div`,uf,[t[26]||=y(`p`,{class:`text-sm text-blue-700 dark:text-blue-400`},`Total Amount: $100.00`,-1),y(`p`,df,`Tax Amount: $`+K((100-100/(1+l.value.tax_percent/100)).toFixed(2)),1),y(`p`,ff,`Base Amount: $`+K((100/(1+l.value.tax_percent/100)).toFixed(2)),1)]))]),y(`div`,pf,[y(`span`,mf,K(l.value.tax_percent)+`% `,1)])])])):x(``,!0),l.value.code&&l.value.name?(R(),S(`div`,hf,[t[30]||=y(`p`,{class:`text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},`Tax Code Preview:`,-1),y(`div`,gf,[y(`span`,_f,K(l.value.code),1),t[29]||=y(`span`,{class:`text-gray-700 dark:text-gray-300`},`-`,-1),y(`span`,vf,K(l.value.name),1),l.value.tax_percent?(R(),S(`span`,yf,K(l.value.tax_percent)+`% `,1)):x(``,!0),l.value.is_default?(R(),S(`span`,bf,` Default `)):x(``,!0)])])):x(``,!0),y(`div`,xf,[y(`button`,{type:`button`,onClick:P,disabled:a.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,Sf),y(`button`,{type:`submit`,disabled:a.value||f.value||!_.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[a.value?(R(),S(`div`,wf,t[31]||=[y(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),w(` Updating... `,-1)])):(R(),S(`span`,Tf,`Update Tax Code`))],8,Cf)])],32)])])):(R(),S(`div`,Ef,[y(`div`,Df,[T(W(u),{class:`w-12 h-12 text-red-400 mb-4`}),t[32]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` Tax Code Not Found `,-1),t[33]||=y(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The tax code you're trying to edit could not be found. `,-1),y(`button`,{onClick:F,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},` Back to Tax Codes `)])])),l.value?(R(),S(`div`,Of,[y(`div`,kf,[y(`div`,Af,[T(W(o),{class:`h-5 w-5 text-blue-400`})]),t[34]||=C(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> Editing Tax Code Information </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400"><p class="mb-2"> Update tax code details carefully as this information affects: </p><ul class="list-disc list-inside space-y-1"><li>Tax calculations throughout the system</li><li>Invoice and receipt generation</li><li>Financial reporting and compliance</li><li>Item pricing and cost calculations</li><li>Default selections for new items (if set as default)</li></ul></div></div>`,1)])])):x(``,!0)])]))}}),Mf=jf;const Nf={class:`space-y-6`},Pf={class:`flex flex-col sm:flex-row sm:items-center sm:justify-between`},Ff={class:`mt-4 sm:mt-0 flex space-x-2`},If={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-4`},Lf={class:`grid grid-cols-1 md:grid-cols-4 gap-4`},Rf={class:`md:col-span-2`},zf={class:`relative`},Bf={class:`mt-4 flex justify-end`},Vf={class:`w-32`},Hf={class:`bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden`},Uf={key:0,class:`p-8 text-center`},Wf={key:1,class:`p-8 text-center`},Gf={class:`mt-2 text-sm font-medium text-gray-900 dark:text-white`},Kf={class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},qf={key:0,class:`mt-6`},Jf={key:2,class:`overflow-x-auto`},Yf={class:`min-w-full divide-y divide-gray-200 dark:divide-gray-700`},Xf={class:`bg-gray-50 dark:bg-gray-700`},Zf={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},Qf={class:`flex flex-col`},$f={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},ep={class:`flex flex-col`},tp={class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},np={class:`flex flex-col`},rp={class:`bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700`},ip={class:`px-6 py-4 whitespace-nowrap`},ap={class:`flex items-center`},op={class:`flex-shrink-0 h-10 w-10`},sp={class:`h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center`},cp={class:`ml-4`},lp={class:`text-sm font-medium text-gray-900 dark:text-white`},up={class:`text-sm text-gray-500 dark:text-gray-400`},dp={class:`px-6 py-4`},fp={class:`text-sm text-gray-900 dark:text-white`},pp={class:`px-6 py-4 whitespace-nowrap`},mp={class:`inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200`},hp={class:`px-6 py-4 whitespace-nowrap`},gp={class:`px-6 py-4 whitespace-nowrap`},_p={class:`text-sm text-gray-900 dark:text-white`},vp={class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`},yp={class:`flex items-center justify-end space-x-2`},bp=[`onClick`],xp=[`onClick`],Sp=[`onClick`,`title`],Cp=[`onClick`],wp=[`onClick`],Tp=[`onClick`],Ep={key:3,class:`bg-white dark:bg-gray-800 px-4 py-3 border-t border-gray-200 dark:border-gray-700 sm:px-6`},Dp={class:`flex items-center justify-between`},Op={class:`flex-1 flex justify-between sm:hidden`},kp=[`disabled`],Ap=[`disabled`],jp={class:`hidden sm:flex-1 sm:flex sm:items-center sm:justify-between`},Mp={class:`text-sm text-gray-700 dark:text-gray-300`},Np={class:`font-medium`},Pp={class:`font-medium`},Fp={class:`font-medium`},Ip={class:`relative z-0 inline-flex rounded-md shadow-sm -space-x-px`},Lp=[`disabled`],Rp=[`disabled`],zp={class:`flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0`},Bp={class:`inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6`},Vp={class:`sm:flex sm:items-start`},Hp={class:`mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/20 sm:mx-0 sm:h-10 sm:w-10`},Up={class:`mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left`},Wp={class:`text-lg leading-6 font-medium text-gray-900 dark:text-white`},Gp={class:`mt-2`},Kp={class:`text-sm text-gray-500 dark:text-gray-400`},qp={class:`mt-5 sm:mt-4 sm:flex sm:flex-row-reverse`},Jp=[`disabled`],Yp={key:1,class:`fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50`},Xp={class:`relative top-20 mx-auto p-5 border w-2/3 max-w-2xl shadow-lg rounded-md bg-white dark:bg-gray-800`},Zp={class:`flex justify-between items-center mb-4`},Qp={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},$p={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},em={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},tm={class:`mt-1 inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200`},nm={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},rm={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},im={key:0,class:`text-xs text-gray-500 dark:text-gray-400`},am={key:0},om={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},sm={class:`text-xs text-gray-500 dark:text-gray-400`},cm={class:`mt-1 text-sm text-gray-900 dark:text-gray-100`},lm={class:`text-xs text-gray-500 dark:text-gray-400`},um=`setups/users`;var dm=E({__name:`Index`,emits:[`create`,`edit`],setup(i,{emit:o}){f();let s=ee(),l=o,u=U(!1),p=U(!1),E=U([]),A=U(null),j=U(!1),M=U(null),z=U(null),B=U(!1),V=U(null),q=U(!1),J=U(``),X=U(`asc`),Z=ne({search:``,role:``,is_active:``,per_page:15}),$=U({title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``});v(()=>E.value.length>0||B.value);let se=e=>{let t={super_admin:`Super Admin`,admin:`Admin`,salesman:`Salesman`,warehouse_manager:`Warehouse Manager`,developer:`Developer`};return t[e]||e},le=e=>{J.value===e?X.value=X.value===`asc`?`desc`:`asc`:(J.value=e,X.value=`asc`),ue(1)},ue=async(e=1)=>{u.value=!0;try{let t=new URLSearchParams({page:e.toString(),per_page:Z.per_page.toString()});Z.search&&t.append(`search`,Z.search),Z.role&&t.append(`role`,Z.role),Z.is_active!==``&&t.append(`is_active`,Z.is_active),J.value&&(t.append(`sort_by`,J.value),t.append(`sort_direction`,X.value));let n=B.value?`${um}/trashed`:um,r=await P(`${n}?${t}`);E.value=r.data.data||[],A.value=r.data.pagination}catch{s.error(`Failed to load users`,{title:`Error`})}finally{u.value=!1}},de=e=>{V.value=e,q.value=!0},fe=()=>{q.value=!1,V.value=null},pe=()=>{z.value&&clearTimeout(z.value),z.value=setTimeout(()=>{ue(1)},300)},me=e=>{e>=1&&A.value&&e<=A.value.last_page&&ue(e)},he=e=>{M.value=e,$.value={title:`Delete User`,message:`Are you sure you want to delete "${e.name}"? This action can be undone from the trash.`,buttonText:`Delete`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`delete`},j.value=!0},ge=e=>{M.value=e;let t=e.is_active?`deactivate`:`activate`;$.value={title:`${t===`activate`?`Activate`:`Deactivate`} User`,message:`Are you sure you want to ${t} "${e.name}"?`,buttonText:t===`activate`?`Activate`:`Deactivate`,loadingText:`${t===`activate`?`Activating`:`Deactivating`}...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 ${t===`activate`?`bg-green-600 hover:bg-green-700 focus:ring-green-500`:`bg-orange-600 hover:bg-orange-700 focus:ring-orange-500`} text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`toggleStatus`},j.value=!0},_e=e=>{M.value=e,$.value={title:`Restore User`,message:`Are you sure you want to restore "${e.name}"?`,buttonText:`Restore`,loadingText:`Restoring...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`restore`},j.value=!0},ve=e=>{M.value=e,$.value={title:`Permanently Delete User`,message:`Are you sure you want to permanently delete "${e.name}"? This action cannot be undone.`,buttonText:`Delete Permanently`,loadingText:`Deleting...`,buttonClass:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`,action:`forceDelete`},j.value=!0},ye=async()=>{if(M.value){p.value=!0;try{let e=``,t=N,n={},r=``;switch($.value.action){case`delete`:e=`/${um}/${M.value.id}`,t=N,r=`User deleted successfully`;break;case`toggleStatus`:e=`/${um}/${M.value.id}/status`,t=I,n={},r=`User ${M.value.is_active?`deactivated`:`activated`} successfully`;break;case`restore`:e=`/${um}/${M.value.id}/restore`,t=F,r=`User restored successfully`;break;case`forceDelete`:e=`/${um}/${M.value.id}/force-delete`,t=N,r=`User permanently deleted successfully`;break}$.value.action===`toggleStatus`?await t(e,n):await t(e),s.success(r,{title:`Success`}),be(),await ue(A.value?.current_page||1)}catch{s.error(`Failed to perform action`,{title:`Error`})}finally{p.value=!1}}},be=()=>{j.value=!1,M.value=null,$.value={title:``,message:``,buttonText:``,loadingText:``,buttonClass:``,action:``}},xe=()=>{l(`create`)},Se=e=>{l(`edit`,e)};return L(()=>{ue()}),(i,o)=>(R(),S(`div`,Nf,[y(`div`,Pf,[o[13]||=y(`div`,null,[y(`h1`,{class:`text-2xl font-bold text-gray-900 dark:text-white`},`Users`),y(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` Manage system users and their access permissions `)],-1),y(`div`,Ff,[x(``,!0),y(`button`,{onClick:xe,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-colors duration-200`},[T(W(n),{class:`h-5 w-5 mr-2`}),o[12]||=w(` Create New User `,-1)])])]),y(`div`,If,[y(`div`,Lf,[y(`div`,Rf,[o[14]||=y(`label`,{for:`search`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Search Users `,-1),y(`div`,zf,[H(y(`input`,{id:`search`,"onUpdate:modelValue":o[0]||=e=>Z.search=e,type:`text`,placeholder:`Search by name or email...`,class:`block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 sm:text-sm transition-colors duration-200`,onInput:pe},null,544),[[h,Z.search]]),T(W(ae),{class:`absolute left-3 top-2.5 h-5 w-5 text-gray-400`})])]),y(`div`,null,[o[16]||=y(`label`,{for:`role`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Role `,-1),H(y(`select`,{id:`role`,"onUpdate:modelValue":o[1]||=e=>Z.role=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:ue},o[15]||=[C(`<option value="">All Roles</option><option value="super_admin">Super Admin</option><option value="admin">Admin</option><option value="salesman">Salesman</option><option value="warehouse_manager">Warehouse Manager</option>`,5)],544),[[m,Z.role]])]),y(`div`,null,[o[18]||=y(`label`,{for:`status`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Status `,-1),H(y(`select`,{id:`status`,"onUpdate:modelValue":o[2]||=e=>Z.is_active=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:ue},o[17]||=[y(`option`,{value:``},`All Status`,-1),y(`option`,{value:`1`},`Active`,-1),y(`option`,{value:`0`},`Inactive`,-1)],544),[[m,Z.is_active]])])]),y(`div`,Bf,[y(`div`,Vf,[o[20]||=y(`label`,{for:`per-page`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1`},` Per Page `,-1),H(y(`select`,{id:`per-page`,"onUpdate:modelValue":o[3]||=e=>Z.per_page=e,class:`block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white sm:text-sm transition-colors duration-200`,onChange:ue},o[19]||=[y(`option`,{value:`15`},`15`,-1),y(`option`,{value:`25`},`25`,-1),y(`option`,{value:`50`},`50`,-1),y(`option`,{value:`100`},`100`,-1)],544),[[m,Z.per_page]])])])]),y(`div`,Hf,[u.value?(R(),S(`div`,Uf,[T(W(a),{class:`h-8 w-8 animate-spin mx-auto text-blue-600 dark:text-blue-400`}),o[21]||=y(`p`,{class:`mt-2 text-sm text-gray-500 dark:text-gray-400`},`Loading users...`,-1)])):E.value.length===0?(R(),S(`div`,Wf,[T(W(Y),{class:`h-12 w-12 mx-auto text-gray-400`}),y(`h3`,Gf,K(B.value?`No trashed users found`:`No users found`),1),y(`p`,Kf,K(Z.search?`Try adjusting your search criteria.`:`Get started by creating your first user.`),1),!Z.search&&!B.value?(R(),S(`div`,qf,[y(`button`,{onClick:xe,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 transition-colors duration-200`},[T(W(n),{class:`h-5 w-5 mr-2`}),o[22]||=w(` Add Your First User `,-1)])])):x(``,!0)])):(R(),S(`div`,Jf,[y(`table`,Yf,[y(`thead`,Xf,[y(`tr`,null,[y(`th`,Zf,[y(`button`,{onClick:o[4]||=e=>le(`name`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[o[23]||=y(`span`,null,`Name`,-1),y(`div`,Qf,[T(W(d),{class:G([`h-3 w-3`,J.value===`name`&&X.value===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,J.value===`name`&&X.value===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),o[26]||=y(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Email `,-1),y(`th`,$f,[y(`button`,{onClick:o[5]||=e=>le(`role`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[o[24]||=y(`span`,null,`Role`,-1),y(`div`,ep,[T(W(d),{class:G([`h-3 w-3`,J.value===`role`&&X.value===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,J.value===`role`&&X.value===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),y(`th`,tp,[y(`button`,{onClick:o[6]||=e=>le(`is_active`),class:`flex items-center space-x-1 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200`},[o[25]||=y(`span`,null,`Status`,-1),y(`div`,np,[T(W(d),{class:G([`h-3 w-3`,J.value===`is_active`&&X.value===`asc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`]),T(W(k),{class:G([`h-3 w-3 -mt-1`,J.value===`is_active`&&X.value===`desc`?`text-blue-600 dark:text-blue-400`:`text-gray-400`])},null,8,[`class`])])])]),o[27]||=y(`th`,{class:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Last Login `,-1),o[28]||=y(`th`,{class:`px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider`},` Actions `,-1)])]),y(`tbody`,rp,[(R(!0),S(_,null,te(E.value,n=>(R(),S(`tr`,{key:n.id,class:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200`},[y(`td`,ip,[y(`div`,ap,[y(`div`,op,[y(`div`,sp,[T(W(Y),{class:`h-5 w-5 text-blue-600 dark:text-blue-400`})])]),y(`div`,cp,[y(`div`,lp,K(n.name),1),y(`div`,up,K(n.employee?.name?`Employee: ${n.employee.name}`:`No employee linked`),1)])])]),y(`td`,dp,[y(`div`,fp,K(n.email),1)]),y(`td`,pp,[y(`span`,mp,K(se(n.role)),1)]),y(`td`,hp,[y(`span`,{class:G([`inline-flex px-2 py-1 text-xs font-semibold rounded-full`,W(ce)(n.is_active)])},K(n.is_active?`Active`:`Inactive`),3)]),y(`td`,gp,[y(`div`,_p,K(n.last_login_at?W(oe)(n.last_login_at):`Never`),1)]),y(`td`,vp,[y(`div`,yp,[B.value?(R(),S(_,{key:1},[y(`button`,{onClick:e=>_e(n),class:`text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 transition-colors duration-200`,title:`Restore User`},[T(W(e),{class:`h-4 w-4`})],8,wp),y(`button`,{onClick:e=>ve(n),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Permanently Delete`},[T(W(re),{class:`h-4 w-4`})],8,Tp)],64)):(R(),S(_,{key:0},[y(`button`,{onClick:e=>de(n),class:`text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors duration-200`,title:`View details`},[T(W(c),{class:`w-4 h-4`})],8,bp),y(`button`,{onClick:e=>Se(n),class:`text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 transition-colors duration-200`,title:`Edit User`},[T(W(r),{class:`h-4 w-4`})],8,xp),y(`button`,{onClick:e=>ge(n),class:G([n.is_active?`text-orange-600 dark:text-orange-400 hover:text-orange-900 dark:hover:text-orange-300`:`text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300`,`transition-colors duration-200`]),title:n.is_active?`Deactivate User`:`Activate User`},[T(W(t),{class:`h-4 w-4`})],10,Sp),y(`button`,{onClick:e=>he(n),class:`text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 transition-colors duration-200`,title:`Delete User`},[T(W(ie),{class:`h-4 w-4`})],8,Cp)],64))])])]))),128))])])])),A.value&&A.value.total>0?(R(),S(`div`,Ep,[y(`div`,Dp,[y(`div`,Op,[y(`button`,{onClick:o[7]||=e=>me(A.value.current_page-1),disabled:A.value.current_page<=1,class:`relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Previous `,8,kp),y(`button`,{onClick:o[8]||=e=>me(A.value.current_page+1),disabled:A.value.current_page>=A.value.last_page,class:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},` Next `,8,Ap)]),y(`div`,jp,[y(`div`,null,[y(`p`,Mp,[o[29]||=w(` Showing `,-1),y(`span`,Np,K(A.value.from),1),o[30]||=w(` to `,-1),y(`span`,Pp,K(A.value.to),1),o[31]||=w(` of `,-1),y(`span`,Fp,K(A.value.total),1),o[32]||=w(` results `,-1)])]),y(`div`,null,[y(`nav`,Ip,[y(`button`,{onClick:o[9]||=e=>me(A.value.current_page-1),disabled:A.value.current_page<=1,class:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[T(W(O),{class:`h-5 w-5`})],8,Lp),y(`button`,{onClick:o[10]||=e=>me(A.value.current_page+1),disabled:A.value.current_page>=A.value.last_page,class:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200`},[T(W(D),{class:`h-5 w-5`})],8,Rp)])])])])])):x(``,!0)]),j.value?(R(),S(`div`,{key:0,class:`fixed inset-0 z-50 overflow-y-auto`,onClick:o[11]||=g(e=>j.value=!1,[`self`])},[y(`div`,zp,[o[33]||=y(`div`,{class:`fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity`},null,-1),y(`div`,Bp,[y(`div`,Vp,[y(`div`,Hp,[T(W(Q),{class:`h-6 w-6 text-red-600 dark:text-red-400`})]),y(`div`,Up,[y(`h3`,Wp,K($.value.title),1),y(`div`,Gp,[y(`p`,Kp,K($.value.message),1)])])]),y(`div`,qp,[y(`button`,{onClick:ye,disabled:p.value,class:G($.value.buttonClass)},[p.value?(R(),b(W(a),{key:0,class:`h-4 w-4 animate-spin mr-2`})):x(``,!0),w(` `+K(p.value?$.value.loadingText:$.value.buttonText),1)],10,Jp),y(`button`,{onClick:be,class:`mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm transition-colors duration-200`},` Cancel `)])])])])):x(``,!0),q.value&&V.value?(R(),S(`div`,Yp,[y(`div`,Xp,[y(`div`,Zp,[o[34]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100`},` User Details `,-1),y(`button`,{onClick:fe,class:`text-gray-400 hover:text-gray-600 dark:hover:text-gray-300`},[T(W(re),{class:`w-6 h-6`})])]),y(`div`,Qp,[y(`div`,null,[o[35]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Name`,-1),y(`p`,$p,K(V.value.name),1)]),y(`div`,null,[o[36]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Email`,-1),y(`p`,em,K(V.value.email),1)]),y(`div`,null,[o[37]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Role`,-1),y(`span`,tm,K(se(V.value.role)),1)]),y(`div`,null,[o[38]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Status`,-1),y(`span`,{class:G([W(ce)(V.value.is_active),`mt-1 inline-flex px-2 py-1 text-xs font-semibold rounded-full`])},K(V.value.is_active?`Active`:`Inactive`),3)]),y(`div`,null,[o[39]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Last Login`,-1),y(`p`,nm,K(V.value.last_login_at?W(oe)(V.value.last_login_at):`Never`),1)]),y(`div`,null,[o[40]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Employee`,-1),y(`p`,rm,K(V.value.employee?.name||`No employee linked`),1),V.value.employee?(R(),S(`p`,im,[w(` Code: `+K(V.value.employee.code)+` `,1),V.value.employee.department?(R(),S(`span`,am,` | Dept: `+K(V.value.employee.department.name),1)):x(``,!0)])):x(``,!0)]),y(`div`,null,[o[41]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Created By`,-1),y(`p`,om,K(V.value.created_by?.name||`-`),1),y(`p`,sm,K(W(oe)(V.value.created_at)),1)]),y(`div`,null,[o[42]||=y(`label`,{class:`block text-sm font-medium text-gray-700 dark:text-gray-300`},`Last Updated By`,-1),y(`p`,cm,K(V.value.updated_by?.name||`-`),1),y(`p`,lm,K(W(oe)(V.value.updated_at)),1)])]),y(`div`,{class:`mt-6 flex justify-end space-x-3`},[y(`button`,{onClick:fe,class:`px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600`},` Close `)])])])):x(``,!0)]))}}),fm=dm;function pm(){let e=U({}),t=v(()=>Object.keys(e.value).length>0),n=t=>e.value[t]?.[0],r=n=>{let r={};return!n.name||n.name.trim().length===0?r.name=[`Name is required`]:n.name.trim().length>255&&(r.name=[`Name must not exceed 255 characters`]),!n.email||n.email.trim().length===0?r.email=[`Email is required`]:n.email.trim().length>255?r.email=[`Email must not exceed 255 characters`]:a(n.email)||(r.email=[`Please enter a valid email address`]),!n.password||n.password.trim().length===0?r.password=[`Password is required`]:n.password.trim().length<8?r.password=[`Password must be at least 8 characters long`]:n.password.length>255&&(r.password=[`Password must not exceed 255 characters`]),!n.role||n.role.trim().length===0?r.role=[`Role is required`]:o(n.role)||(r.role=[`Please select a valid role`]),e.value=r,!t.value},i=n=>{let r={};return n.name!==void 0&&(!n.name||n.name.trim().length===0?r.name=[`Name is required`]:n.name.trim().length>255&&(r.name=[`Name must not exceed 255 characters`])),n.email!==void 0&&(!n.email||n.email.trim().length===0?r.email=[`Email is required`]:n.email.trim().length>255?r.email=[`Email must not exceed 255 characters`]:a(n.email)||(r.email=[`Please enter a valid email address`])),n.password!==void 0&&n.password&&n.password.trim().length>0&&(n.password.trim().length<8?r.password=[`Password must be at least 8 characters long`]:n.password.length>255&&(r.password=[`Password must not exceed 255 characters`])),n.role!==void 0&&(!n.role||n.role.trim().length===0?r.role=[`Role is required`]:o(n.role)||(r.role=[`Please select a valid role`])),e.value=r,!t.value},a=e=>{let t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},o=e=>{let t=[`super_admin`,`admin`,`salesman`,`warehouse_manager`,`developer`];return t.includes(e)},s=()=>{e.value={}},c=t=>{e.value[t]&&delete e.value[t]},l=t=>{e.value=t};return{errors:e,hasErrors:t,getFieldError:n,validateCreateRequest:r,validateUpdateRequest:i,clearErrors:s,clearFieldError:c,setServerErrors:l}}const mm={class:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`},hm={class:`max-w-2xl mx-auto`},gm={class:`mb-8`},_m={class:`flex items-center space-x-4 mb-2`},vm={class:`bg-white dark:bg-gray-800 shadow rounded-lg`},ym={class:`px-6 py-8`},bm={key:0,class:`mt-1 text-xs text-gray-500`},xm={key:0,class:`mt-1 text-xs text-gray-500`},Sm=[`disabled`],Cm={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},wm=[`disabled`],Tm=[`value`],Em={key:0,class:`mt-1 text-xs text-blue-600 dark:text-blue-400`},Dm={key:1,class:`mt-1 text-sm text-red-600 dark:text-red-400`},Om={key:2,class:`mt-1 text-xs text-gray-500`},km={class:`flex items-start`},Am={class:`flex items-center h-5`},jm=[`disabled`],Mm={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},Nm=[`disabled`],Pm=[`disabled`],Fm={key:0,class:`flex items-center justify-center`},Im={key:1},Lm={class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Rm={class:`flex`},zm={class:`flex-shrink-0`},Bm={class:`space-y-4`},Vm={class:`flex items-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg`},Hm={class:`ml-3`},Um={key:0,class:`text-sm text-yellow-700 dark:text-yellow-300`},Wm={key:0,class:`text-sm text-gray-600 dark:text-gray-400`},Gm={class:`mb-2`},Km={class:`list-disc list-inside ml-4 space-y-1`};var qm=E({__name:`Create`,emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=t,r=he(),{errors:i,hasErrors:a,getFieldError:s,validateCreateRequest:c,clearFieldError:l,setServerErrors:u,clearErrors:d}=pm(),{getRoleDepartmentMapping:f,checkRoleDepartmentMatch:h,getRecommendedDepartments:b}=$();f();let E=U(!1),D=U(!1),O=U([]),k=U(!1),A=U(null),j=U({name:``,email:``,password:``,role:``,employee_id:void 0,is_active:!0}),N=v(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return s(`role`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):E.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),P=v(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return s(`employee_id`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):E.value||D.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),F=v(()=>j.value.name.trim().length>0&&j.value.email.trim().length>0&&j.value.password.trim().length>=8&&j.value.role.trim().length>0&&j.value.name.length<=255&&j.value.email.length<=255),I=async()=>{try{D.value=!0,O.value=await ge.getUnassignedEmployees()}catch(e){console.error(`Error loading employees:`,e)}finally{D.value=!1}},ee=()=>{j.value={name:``,email:``,password:``,role:``,employee_id:void 0,is_active:!0},d()},ne=e=>{c(j.value);let t=s(e);t&&notifications.error(t)},q=async()=>{if(d(),!c(j.value)){notifications.error(`Please fix the validation errors before submitting`);return}try{E.value=!0,await r.createUser(j.value),ee(),n(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&u(e.response.data.errors)}finally{E.value=!1}},J=()=>{ee(),n(`cancel`)},re=()=>{n(`back`)},Y=()=>{if(!j.value.role||!j.value.employee_id)return;let e=O.value.find(e=>e.id===j.value.employee_id);e&&(h(j.value.role,e.department?.name||``)||(A.value={role:j.value.role,employee:e},k.value=!0,j.value.employee_id=void 0))},X=()=>{A.value&&(j.value.employee_id=A.value.employee.id,k.value=!1,A.value=null)},Z=()=>{k.value=!1,A.value=null};return B(()=>j.value.employee_id,e=>{e&&Y()}),B(()=>j.value.role,()=>{j.value.employee_id&&Y()}),L(()=>{ee(),I()}),(e,t)=>{let n=z(`Input`);return R(),S(_,null,[y(`div`,mm,[y(`div`,hm,[y(`div`,gm,[y(`div`,_m,[y(`button`,{onClick:re,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[T(W(M),{class:`w-5 h-5`})]),t[12]||=y(`div`,null,[y(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Create User `),y(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Add a new system user with appropriate permissions `)],-1)])]),y(`div`,vm,[y(`div`,ym,[y(`form`,{onSubmit:g(q,[`prevent`]),class:`space-y-6`},[y(`div`,null,[T(n,{type:`text`,maxlength:255,disabled:E.value,onBlur:t[0]||=()=>ne(`name`),modelValue:j.value.name,"onUpdate:modelValue":t[1]||=e=>j.value.name=e,placeholder:`Enter user's full name`,error:W(s)(`name`),required:``,label:`Name`},null,8,[`disabled`,`modelValue`,`error`]),j.value.name.length>0?(R(),S(`p`,bm,K(j.value.name.length)+`/255 characters `,1)):x(``,!0)]),y(`div`,null,[T(n,{type:`email`,maxlength:255,disabled:E.value,onBlur:t[2]||=()=>ne(`email`),modelValue:j.value.email,"onUpdate:modelValue":t[3]||=e=>j.value.email=e,placeholder:`Enter user's email address`,error:W(s)(`email`),required:``,label:`Email`},null,8,[`disabled`,`modelValue`,`error`]),j.value.email.length>0?(R(),S(`p`,xm,K(j.value.email.length)+`/255 characters `,1)):x(``,!0)]),y(`div`,null,[T(n,{type:`password`,maxlength:255,disabled:E.value,onBlur:t[4]||=()=>ne(`password`),modelValue:j.value.password,"onUpdate:modelValue":t[5]||=e=>j.value.password=e,placeholder:`Enter user's password`,error:W(s)(`password`),required:``,label:`Password`},null,8,[`disabled`,`modelValue`,`error`]),t[13]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` Password should be at least 8 characters long `,-1)]),y(`div`,null,[t[15]||=y(`label`,{for:`role`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[w(` Role `),y(`span`,{class:`text-red-500`},`*`)],-1),H(y(`select`,{id:`role`,"onUpdate:modelValue":t[6]||=e=>j.value.role=e,disabled:E.value,onBlur:t[7]||=()=>ne(`role`),class:G([N.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},t[14]||=[C(`<option value="">Select a role</option><option value="super_admin">Super Admin</option><option value="admin">Admin</option><option value="salesman">Salesman</option><option value="warehouse_manager">Warehouse Manager</option>`,5)],42,Sm),[[m,j.value.role]]),W(s)(`role`)?(R(),S(`p`,Cm,K(W(s)(`role`)),1)):x(``,!0)]),y(`div`,null,[t[17]||=y(`label`,{for:`employee_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Employee (Optional) `,-1),H(y(`select`,{id:`employee_id`,"onUpdate:modelValue":t[8]||=e=>j.value.employee_id=e,disabled:E.value||D.value,onBlur:t[9]||=()=>W(l)(`employee_id`),class:G([P.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},[t[16]||=y(`option`,{value:``},`No employee assignment`,-1),(R(!0),S(_,null,te(O.value,e=>(R(),S(`option`,{key:e.id,value:e.id},K(e.department.name)+` | `+K(e.code)+` - `+K(e.name),9,Tm))),128))],42,wm),[[m,j.value.employee_id]]),D.value?(R(),S(`p`,Em,` Loading employees... `)):W(s)(`employee_id`)?(R(),S(`p`,Dm,K(W(s)(`employee_id`)),1)):(R(),S(`p`,Om,` Optionally link this user to an employee record `))]),y(`div`,km,[y(`div`,Am,[H(y(`input`,{id:`is_active`,"onUpdate:modelValue":t[10]||=e=>j.value.is_active=e,type:`checkbox`,disabled:E.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,jm),[[p,j.value.is_active]])]),t[18]||=y(`div`,{class:`ml-3`},[y(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),y(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this user will be able to log in to the system `)],-1)]),y(`div`,Mm,[y(`button`,{type:`button`,onClick:J,disabled:E.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,Nm),y(`button`,{type:`submit`,disabled:E.value||W(a)||!F.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[E.value?(R(),S(`div`,Fm,t[19]||=[y(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),w(` Creating... `,-1)])):(R(),S(`span`,Im,`Create User`))],8,Pm)])],32)])]),y(`div`,Lm,[y(`div`,Rm,[y(`div`,zm,[T(W(o),{class:`h-5 w-5 text-blue-400`})]),t[20]||=C(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> User Roles &amp; Permissions </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400 space-y-2"><p><span class="font-medium">Super Admin:</span> Full system access and user management</p><p><span class="font-medium">Admin:</span> Administrative access with some restrictions</p><p><span class="font-medium">Salesman:</span> Sales-focused features and customer management</p><p><span class="font-medium">Warehouse Manager:</span> Inventory and warehouse operations</p></div></div>`,1)])])])]),T(de,{modelValue:k.value,"onUpdate:modelValue":t[11]||=e=>k.value=e,title:`Role-Department Mismatch Warning`,size:`md`,"close-on-backdrop":!1,"close-on-escape":!1},{footer:V(()=>[y(`div`,{class:`flex justify-end space-x-3`},[y(`button`,{onClick:Z,type:`button`,class:`px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-400 dark:hover:bg-gray-700 transition-colors`},` Cancel `),y(`button`,{onClick:X,type:`button`,class:`px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors`},` Proceed Anyway `)])]),default:V(()=>[y(`div`,Bm,[y(`div`,Vm,[t[24]||=y(`div`,{class:`flex-shrink-0`},[y(`svg`,{class:`h-6 w-6 text-yellow-600 dark:text-yellow-400`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[y(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z`})])],-1),y(`div`,Hm,[A.value?(R(),S(`p`,Um,[t[21]||=w(` You are assigning a `,-1),y(`strong`,null,K(A.value.role.replace(`_`,` `).toUpperCase()),1),t[22]||=w(` role to an employee from the `,-1),y(`strong`,null,K(A.value.employee.department.name),1),t[23]||=w(` department. `,-1)])):x(``,!0)])]),A.value?(R(),S(`div`,Wm,[y(`p`,Gm,[y(`strong`,null,`Recommended departments for `+K(A.value.role.replace(`_`,` `))+`:`,1)]),y(`ul`,Km,[(R(!0),S(_,null,te(W(b)(A.value.role),e=>(R(),S(`li`,{key:e,class:`text-green-600 dark:text-green-400`},K(e),1))),128))]),t[25]||=y(`p`,{class:`mt-3 text-amber-600 dark:text-amber-400`},` Are you sure you want to proceed with this assignment? `,-1)])):x(``,!0)])]),_:1},8,[`modelValue`])],64)}}}),Jm=qm;const Ym={class:`max-w-7xl px-4 sm:px-6 lg:px-8 py-8`},Xm={class:`max-w-2xl`},Zm={class:`mb-8`},Qm={class:`flex items-center space-x-4 mb-2`},$m={key:0,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},eh={key:1,class:`bg-white dark:bg-gray-800 shadow rounded-lg`},th={class:`px-6 py-8`},nh={key:0,class:`mt-1 text-xs text-gray-500`},rh={key:0,class:`mt-1 text-xs text-gray-500`},ih=[`disabled`],ah={key:0,class:`mt-1 text-sm text-red-600 dark:text-red-400`},oh=[`disabled`],sh=[`value`],ch={key:0,class:`mt-1 text-xs text-blue-600 dark:text-blue-400`},lh={key:1,class:`mt-1 text-sm text-red-600 dark:text-red-400`},uh={key:2,class:`mt-1 text-xs text-gray-500`},dh={class:`flex items-start`},fh={class:`flex items-center h-5`},ph=[`disabled`],mh={class:`flex flex-col sm:flex-row sm:justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700`},hh=[`disabled`],gh=[`disabled`],_h={key:0,class:`flex items-center justify-center`},vh={key:1},yh={key:2,class:`bg-white dark:bg-gray-800 shadow rounded-lg p-8`},bh={class:`flex flex-col items-center`},xh={key:3,class:`mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4`},Sh={class:`flex`},Ch={class:`flex-shrink-0`},wh={class:`space-y-4`},Th={class:`flex items-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg`},Eh={class:`ml-3`},Dh={key:0,class:`text-sm text-yellow-700 dark:text-yellow-300`},Oh={key:0,class:`text-sm text-gray-600 dark:text-gray-400`},kh={class:`mb-2`},Ah={class:`list-disc list-inside ml-4 space-y-1`};var jh=E({__name:`Edit`,props:{id:{},user:{}},emits:[`back`,`success`,`cancel`],setup(e,{emit:t}){let n=e,r=t,i=he(),{errors:a,hasErrors:s,getFieldError:c,validateUpdateRequest:l,clearFieldError:d,setServerErrors:f,clearErrors:h}=pm(),{getRoleDepartmentMapping:b,checkRoleDepartmentMatch:E,getRecommendedDepartments:D}=$();b();let O=U(!1),k=U(!1),A=U(!1),j=U([]),N=U(!1),P=U(null),F=U({name:``,email:``,password:``,role:``,employee_id:void 0,is_active:!0}),I=U({name:``,email:``,password:``,role:``,employee_id:void 0,is_active:!0}),ee=v(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return c(`role`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):O.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),ne=v(()=>{let e=[`ring-gray-300 dark:ring-gray-600`,`focus:ring-indigo-600 dark:focus:ring-indigo-400`];return c(`employee_id`)?[`ring-red-300 dark:ring-red-500`,`focus:ring-red-500 dark:focus:ring-red-400`].join(` `):O.value||A.value?[...e,`disabled:cursor-not-allowed`,`disabled:bg-gray-50 dark:disabled:bg-gray-800`,`disabled:text-gray-500 dark:disabled:text-gray-400`].join(` `):e.join(` `)}),q=v(()=>F.value.name.trim().length>0&&F.value.email.trim().length>0&&F.value.role.trim().length>0&&F.value.name.length<=255&&F.value.email.length<=255&&(F.value.password===``||F.value.password.length>=8)),J=async()=>{try{A.value=!0;let e=await ge.getUnassignedEmployees();if(F.value.employee_id){let t=n.user?.employee;t&&!e.find(e=>e.id===t.id)&&e.unshift({id:t.id,name:t.name,code:t.code,department:{name:t.department?.name}})}j.value=e}catch(e){console.error(`Error loading employees:`,e)}finally{A.value=!1}},re=async()=>{try{k.value=!0;let e=n.user||await i.fetchUser(n.id);e&&(F.value={name:e.name,email:e.email,password:``,role:e.role,employee_id:e.employee?.id,is_active:e.is_active},I.value={name:e.name,email:e.email,password:``,role:e.role,employee_id:e.employee?.id,is_active:e.is_active},h())}catch(e){console.error(`Error loading user:`,e)}finally{k.value=!1}},Y=async()=>{if(h(),l(F.value))try{O.value=!0;let e={name:F.value.name,email:F.value.email,role:F.value.role,employee_id:F.value.employee_id,is_active:F.value.is_active};F.value.password&&F.value.password.trim()!==``&&(e.password=F.value.password),await i.updateUser(n.id,e),I.value={...F.value},r(`success`)}catch(e){e.response?.status===422&&e.response?.data?.errors&&f(e.response.data.errors)}finally{O.value=!1}},X=()=>{r(`cancel`)},Z=()=>{r(`back`)},Q=()=>{if(!F.value.role||!F.value.employee_id)return;let e=j.value.find(e=>e.id===F.value.employee_id);e&&(E(F.value.role,e.department?.name||``)||(P.value={role:F.value.role,employee:e},N.value=!0,F.value.employee_id=void 0))},ie=()=>{P.value&&(F.value.employee_id=P.value.employee.id,N.value=!1,P.value=null)},ae=()=>{N.value=!1,P.value=null};return L(()=>{re(),J()}),B(()=>n.id,()=>{n.id&&re()}),B(()=>F.value.employee_id,e=>{e&&Q()}),B(()=>F.value.role,()=>{F.value.employee_id&&Q()}),(e,t)=>{let n=z(`Input`);return R(),S(_,null,[y(`div`,Ym,[y(`div`,Xm,[y(`div`,Zm,[y(`div`,Qm,[y(`button`,{onClick:Z,class:`inline-flex items-center p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors`},[T(W(M),{class:`w-5 h-5`})]),t[12]||=y(`div`,null,[y(`h2`,{class:`text-2xl font-bold text-gray-900 dark:text-gray-100`},` Edit User `),y(`p`,{class:`text-sm text-gray-600 dark:text-gray-400`},` Update user information and permissions `)],-1)])]),k.value?(R(),S(`div`,$m,t[13]||=[y(`div`,{class:`flex items-center justify-center`},[y(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-4`}),y(`span`,{class:`text-gray-600 dark:text-gray-400`},`Loading user...`)],-1)])):F.value?(R(),S(`div`,eh,[y(`div`,th,[y(`form`,{onSubmit:g(Y,[`prevent`]),class:`space-y-6`},[y(`div`,null,[t[14]||=y(`label`,{for:`name`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[w(` Name `),y(`span`,{class:`text-red-500 ml-1`},`*`)],-1),T(n,{id:`name`,modelValue:F.value.name,"onUpdate:modelValue":t[0]||=e=>F.value.name=e,type:`text`,placeholder:`Enter user's full name`,disabled:O.value,error:W(c)(`name`),maxlength:255,required:``,onBlur:t[1]||=()=>W(d)(`name`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),F.value.name.length>0?(R(),S(`p`,nh,K(F.value.name.length)+`/255 characters `,1)):x(``,!0)]),y(`div`,null,[t[15]||=y(`label`,{for:`email`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[w(` Email `),y(`span`,{class:`text-red-500 ml-1`},`*`)],-1),T(n,{id:`email`,modelValue:F.value.email,"onUpdate:modelValue":t[2]||=e=>F.value.email=e,type:`email`,placeholder:`Enter user's email address`,disabled:O.value,error:W(c)(`email`),maxlength:255,required:``,onBlur:t[3]||=()=>W(d)(`email`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),F.value.email.length>0?(R(),S(`p`,rh,K(F.value.email.length)+`/255 characters `,1)):x(``,!0)]),y(`div`,null,[t[16]||=y(`label`,{for:`password`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Password `,-1),T(n,{id:`password`,modelValue:F.value.password,"onUpdate:modelValue":t[4]||=e=>F.value.password=e,type:`password`,placeholder:`Enter new password (leave blank to keep current)`,disabled:O.value,error:W(c)(`password`),maxlength:255,onBlur:t[5]||=()=>W(d)(`password`),class:`w-full`},null,8,[`modelValue`,`disabled`,`error`]),t[17]||=y(`p`,{class:`mt-1 text-xs text-gray-500`},` Leave blank to keep the current password. New password should be at least 8 characters long. `,-1)]),y(`div`,null,[t[19]||=y(`label`,{for:`role`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},[w(` Role `),y(`span`,{class:`text-red-500`},`*`)],-1),H(y(`select`,{id:`role`,"onUpdate:modelValue":t[6]||=e=>F.value.role=e,disabled:O.value,onBlur:t[7]||=()=>W(d)(`role`),class:G([ee.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},t[18]||=[C(`<option value="">Select a role</option><option value="super_admin">Super Admin</option><option value="admin">Admin</option><option value="salesman">Salesman</option><option value="warehouse_manager">Warehouse Manager</option>`,5)],42,ih),[[m,F.value.role]]),W(c)(`role`)?(R(),S(`p`,ah,K(W(c)(`role`)),1)):x(``,!0)]),y(`div`,null,[t[21]||=y(`label`,{for:`employee_id`,class:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`},` Employee (Optional) `,-1),H(y(`select`,{id:`employee_id`,"onUpdate:modelValue":t[8]||=e=>F.value.employee_id=e,disabled:O.value||A.value,onBlur:t[9]||=()=>W(d)(`employee_id`),class:G([ne.value,`block w-full rounded-md border-0 py-2 px-3 text-gray-900 dark:text-gray-100 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6 transition-colors duration-200 bg-white dark:bg-gray-800`])},[t[20]||=y(`option`,{value:``},`No employee assignment`,-1),(R(!0),S(_,null,te(j.value,e=>(R(),S(`option`,{key:e.id,value:e.id},K(e.department.name)+` | `+K(e.code)+` - `+K(e.name),9,sh))),128))],42,oh),[[m,F.value.employee_id]]),A.value?(R(),S(`p`,ch,` Loading employees... `)):W(c)(`employee_id`)?(R(),S(`p`,lh,K(W(c)(`employee_id`)),1)):(R(),S(`p`,uh,` Optionally link this user to an employee record `))]),y(`div`,dh,[y(`div`,fh,[H(y(`input`,{id:`is_active`,"onUpdate:modelValue":t[10]||=e=>F.value.is_active=e,type:`checkbox`,disabled:O.value,class:`h-4 w-4 text-indigo-600 focus:ring-indigo-600 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800`},null,8,ph),[[p,F.value.is_active]])]),t[22]||=y(`div`,{class:`ml-3`},[y(`label`,{for:`is_active`,class:`text-sm font-medium text-gray-700 dark:text-gray-300`},` Active `),y(`p`,{class:`text-xs text-gray-500 dark:text-gray-400`},` When enabled, this user will be able to log in to the system `)],-1)]),y(`div`,mh,[y(`button`,{type:`button`,onClick:X,disabled:O.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},` Cancel `,8,hh),y(`button`,{type:`submit`,disabled:O.value||W(s)||!q.value,class:`w-full sm:w-auto px-6 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`},[O.value?(R(),S(`div`,_h,t[23]||=[y(`div`,{class:`animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2`},null,-1),w(` Updating... `,-1)])):(R(),S(`span`,vh,`Update User`))],8,gh)])],32)])])):(R(),S(`div`,yh,[y(`div`,bh,[T(W(u),{class:`w-12 h-12 text-red-400 mb-4`}),t[24]||=y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-gray-100 mb-2`},` User Not Found `,-1),t[25]||=y(`p`,{class:`text-gray-500 dark:text-gray-400 mb-6`},` The user you're trying to edit could not be found. `,-1),y(`button`,{onClick:Z,class:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300`},`  Back to Users `)])])),F.value?(R(),S(`div`,xh,[y(`div`,Sh,[y(`div`,Ch,[T(W(o),{class:`h-5 w-5 text-blue-400`})]),t[26]||=C(`<div class="ml-3"><h3 class="text-sm font-medium text-blue-800 dark:text-blue-300"> User Roles &amp; Permissions </h3><div class="mt-2 text-sm text-blue-700 dark:text-blue-400 space-y-2"><p><span class="font-medium">Super Admin:</span> Full system access and user management</p><p><span class="font-medium">Admin:</span> Administrative access with some restrictions</p><p><span class="font-medium">Salesman:</span> Sales-focused features and customer management</p><p><span class="font-medium">Warehouse Manager:</span> Inventory and warehouse operations</p></div></div>`,1)])])):x(``,!0)])]),T(de,{modelValue:N.value,"onUpdate:modelValue":t[11]||=e=>N.value=e,title:`Role-Department Mismatch Warning`,size:`md`,"close-on-backdrop":!1,"close-on-escape":!1},{footer:V(()=>[y(`div`,{class:`flex justify-end space-x-3`},[y(`button`,{onClick:ae,type:`button`,class:`px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-400 dark:hover:bg-gray-700 transition-colors`},` Cancel `),y(`button`,{onClick:ie,type:`button`,class:`px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors`},` Proceed Anyway `)])]),default:V(()=>[y(`div`,wh,[y(`div`,Th,[t[30]||=y(`div`,{class:`flex-shrink-0`},[y(`svg`,{class:`h-6 w-6 text-yellow-600 dark:text-yellow-400`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[y(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z`})])],-1),y(`div`,Eh,[P.value?(R(),S(`p`,Dh,[t[27]||=w(` You are assigning a `,-1),y(`strong`,null,K(P.value.role.replace(`_`,` `).toUpperCase()),1),t[28]||=w(` role to an employee from the `,-1),y(`strong`,null,K(P.value.employee.department.name),1),t[29]||=w(` department. `,-1)])):x(``,!0)])]),P.value?(R(),S(`div`,Oh,[y(`p`,kh,[y(`strong`,null,`Recommended departments for `+K(P.value.role.replace(`_`,` `))+`:`,1)]),y(`ul`,Ah,[(R(!0),S(_,null,te(W(D)(P.value.role),e=>(R(),S(`li`,{key:e,class:`text-green-600 dark:text-green-400`},K(e),1))),128))]),t[31]||=y(`p`,{class:`mt-3 text-amber-600 dark:text-amber-400`},` Are you sure you want to proceed with this assignment? `,-1)])):x(``,!0)])]),_:1},8,[`modelValue`])],64)}}}),Mh=jh,Nh=class{baseUrl=`/setups/customers`;async importCustomers(e,t=!1){try{let n=new FormData;n.append(`file`,e),n.append(`update_existing`,t?`1`:`0`);let r=await I(`${this.baseUrl}/import`,n,{loadingMessage:`Importing customers...`,showSuccessNotification:!1,successMessage:`Customers imported successfully`});return r.data}catch(e){if(console.error(`Error importing customers setup:`,e),e.response&&e.response.status===422&&e.response.data)return e.response.data;throw e}}};const Ph=new Nh;var Fh=Ph;const Ih={class:`space-y-6`},Lh={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`},Rh={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-6 hover:shadow-lg transition-shadow duration-200`},zh={class:`flex items-center justify-between mb-4`},Bh={class:`flex items-center`},Vh={class:`h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center`},Hh={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-6 opacity-60`},Uh={class:`flex items-center justify-between mb-4`},Wh={class:`flex items-center`},Gh={class:`h-12 w-12 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center`},Kh={disabled:``,class:`w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-700 cursor-not-allowed`},qh={class:`bg-white dark:bg-gray-800 shadow rounded-lg p-6 opacity-60`},Jh={class:`flex items-center justify-between mb-4`},Yh={class:`flex items-center`},Xh={class:`h-12 w-12 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center`},Zh={disabled:``,class:`w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-700 cursor-not-allowed`};var Qh=E({__name:`IndexPage`,setup(e){let t=ee(),n=U(!1),r=U(!1),a=U(null),o=[`Download the template to see the required format`,`Required fields: customer name, email, phone, customer type, customer group`,`Optional fields: address, city, province, zone, payment term, credit limit`,`Ensure data is properly formatted (dates, numbers, etc.)`,`Maximum file size: 10MB`,`Check "Update existing records" to update customers if they already exist`],s=()=>{a.value=null},c=async()=>{try{t.info(`Template download will be available soon`,{title:`Coming Soon`})}catch{t.error(`Failed to download template`,{title:`Error`})}},l=async(e,n)=>{let i=[`text/csv`,`application/vnd.ms-excel`,`application/vnd.openxmlformats-officedocument.spreadsheetml.sheet`];if(!i.includes(e.type)&&!e.name.match(/\.(csv|xlsx|xls)$/)){t.error(`Please select a valid CSV or Excel file`,{title:`Invalid File Type`});return}let o=10*1024*1024;if(e.size>o){t.error(`File size exceeds 10MB limit`,{title:`File Too Large`});return}try{r.value=!0;let i=await Fh.importCustomers(e,n);if(i){a.value=i;let e=i.data?.total_imported||0,n=i.data?.total_updated||0,r=i.data?.total_errors||0;e>0||n>0?t.success(`Imported ${e}, Updated ${n}${r>0?`, ${r} errors`:``}`,{title:`Import Completed`}):r>0?t.warning(`Import completed with errors. Check the results for details.`,{title:`Import Completed`}):t.info(i.message||`Import completed`,{title:`Import Status`})}}catch(e){console.error(`Import error:`,e)}finally{r.value=!1}};return(e,t)=>(R(),S(`div`,Ih,[t[8]||=y(`div`,{class:`flex flex-col sm:flex-row sm:items-center sm:justify-between`},[y(`div`,null,[y(`h1`,{class:`text-2xl font-bold text-gray-900 dark:text-white`},`Import Setup Data`),y(`p`,{class:`mt-1 text-sm text-gray-500 dark:text-gray-400`},` Import customers, suppliers, and other setup data from Excel or CSV files `)])],-1),y(`div`,Lh,[y(`div`,Rh,[y(`div`,zh,[y(`div`,Bh,[y(`div`,Vh,[T(W(Y),{class:`h-6 w-6 text-blue-600 dark:text-blue-400`})]),t[2]||=y(`div`,{class:`ml-4`},[y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},` Customers `),y(`p`,{class:`text-sm text-gray-500 dark:text-gray-400`},` Import customer data `)],-1)])]),y(`button`,{onClick:t[0]||=e=>n.value=!0,class:`w-full inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`},[T(W(X),{class:`h-4 w-4 mr-2`}),t[3]||=w(` Import Customers `,-1)])]),y(`div`,Hh,[y(`div`,Uh,[y(`div`,Wh,[y(`div`,Gh,[T(W(Z),{class:`h-6 w-6 text-green-600 dark:text-green-400`})]),t[4]||=y(`div`,{class:`ml-4`},[y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},` Suppliers `),y(`p`,{class:`text-sm text-gray-500 dark:text-gray-400`},` Import supplier data `)],-1)])]),y(`button`,Kh,[T(W(X),{class:`h-4 w-4 mr-2`}),t[5]||=w(` Coming Soon `,-1)])]),y(`div`,qh,[y(`div`,Jh,[y(`div`,Yh,[y(`div`,Xh,[T(W(i),{class:`h-6 w-6 text-purple-600 dark:text-purple-400`})]),t[6]||=y(`div`,{class:`ml-4`},[y(`h3`,{class:`text-lg font-medium text-gray-900 dark:text-white`},` Items `),y(`p`,{class:`text-sm text-gray-500 dark:text-gray-400`},` Import item data `)],-1)])]),y(`button`,Zh,[T(W(X),{class:`h-4 w-4 mr-2`}),t[7]||=w(` Coming Soon `,-1)])])]),T(_e,{modelValue:n.value,"onUpdate:modelValue":t[1]||=e=>n.value=e,title:`Import Customers`,description:`Upload a CSV or Excel file to import customers into the system.`,"accept-types":`.csv,.xlsx,.xls`,"accept-types-label":`CSV or Excel files (max 10MB)`,instructions:o,loading:r.value,"import-result":a.value,onImport:l,onDownloadTemplate:c,onClearResult:s},null,8,[`modelValue`,`loading`,`import-result`])]))}}),$h=Qh;const eg={class:`min-h-screen`};var tg=E({__name:`TabPage`,setup(e){let t=U([{id:`company`,label:`Company`,icon:{type:`lucide`,name:`building`},color:`green`},{id:`users`,label:`Users`,icon:{type:`lucide`,name:`users`},color:`blue`},{id:`warehouses`,label:`Warehouses`,icon:{type:`lucide`,name:`warehouse`},color:`emerald`},{id:`taxs`,label:`Taxes`,icon:{type:`lucide`,name:`receipt`},color:`amber`},{id:`currencies`,label:`Currencies`,icon:{type:`lucide`,name:`coins`},color:`indigo`},{id:`countries`,label:`Countries`,icon:{type:`lucide`,name:`globe`},color:`purple`},{id:`import`,label:`Import`,icon:{type:`lucide`,name:`upload`},color:`teal`}]),n=U(`company`),r=U(`companyindex`),i=U(null),a=U(),o=U(),s=U(),c=U(),l=U(),u=U(),d=U(),f={users:{index:`userindex`,create:`usercreate`,edit:`useredit`},warehouses:{index:`warehouseindex`,create:`warehousecreate`,edit:`warehouseedit`},currencies:{index:`currencyindex`,create:`currencycreate`,edit:`currencyedit`},countries:{index:`countryindex`,create:`countrycreate`,edit:`countryedit`},taxcodes:{index:`taxcodeindex`,create:`taxcodecreate`,edit:`taxcodeedit`},company:{index:`companyindex`,create:`companyindex`,edit:`companyindex`},import:{index:`importindex`,create:`importindex`,edit:`importindex`}},p=e=>{let t=f[e];t&&(r.value=t.create)},m=(e,t)=>{let n=f[e];n&&(i.value={type:e,id:t.id,data:t},r.value=n.edit)},h=e=>{let t=f[e];t&&(r.value=t.index,i.value=null)},g=e=>{let t=f[e];if(t){r.value=t.index,i.value=null;let n={users:a,warehouses:o,currencies:s,countries:c,taxcodes:l,company:u,import:d},f=n[e];f?.value?.refreshData&&f.value.refreshData()}},_=(e,t)=>{n.value=e;let a={users:`userindex`,company:`companyindex`,warehouses:`warehouseindex`,currencies:`currencyindex`,countries:`countryindex`,taxs:`taxcodeindex`,import:`importindex`},o=a[e];o&&(r.value=o,i.value=null)};return(e,n)=>(R(),S(`div`,eg,[T(be,{title:``,tabs:t.value,"default-tab":`company`,onTabChange:_},{company:V(()=>[r.value===`companyindex`?(R(),b(nt,{key:0,ref_key:`companyIndexRef`,ref:u},null,512)):x(``,!0)]),users:V(()=>[r.value===`userindex`?(R(),b(fm,{key:0,onCreate:n[0]||=e=>p(`users`),onEdit:n[1]||=e=>m(`users`,e),ref_key:`usersIndexRef`,ref:a},null,512)):x(``,!0),r.value===`usercreate`?(R(),b(Jm,{key:1,onBack:n[2]||=e=>h(`users`),onSuccess:n[3]||=e=>g(`users`),onCancel:n[4]||=e=>h(`users`)})):x(``,!0),r.value===`useredit`?(R(),b(Mh,{key:2,onBack:n[5]||=e=>h(`users`),onSuccess:n[6]||=e=>g(`users`),onCancel:n[7]||=e=>h(`users`),id:i.value.id,user:i.value.data},null,8,[`id`,`user`])):x(``,!0)]),warehouses:V(()=>[r.value===`warehouseindex`?(R(),b(yn,{key:0,onCreate:n[8]||=e=>p(`warehouses`),onEdit:n[9]||=e=>m(`warehouses`,e),ref_key:`warehousesIndexRef`,ref:o},null,512)):x(``,!0),r.value===`warehousecreate`?(R(),b(Jn,{key:1,onBack:n[10]||=e=>h(`warehouses`),onSuccess:n[11]||=e=>g(`warehouses`),onCancel:n[12]||=e=>h(`warehouses`)})):x(``,!0),r.value===`warehouseedit`?(R(),b(Tr,{key:2,onBack:n[13]||=e=>h(`warehouses`),onSuccess:n[14]||=e=>g(`warehouses`),onCancel:n[15]||=e=>h(`warehouses`),id:i.value.id,itemType:i.value.data},null,8,[`id`,`itemType`])):x(``,!0)]),taxs:V(()=>[r.value===`taxcodeindex`?(R(),b(ju,{key:0,onCreate:n[16]||=e=>p(`taxcodes`),onEdit:n[17]||=e=>m(`taxcodes`,e),ref_key:`taxCodesIndexRef`,ref:l},null,512)):x(``,!0),r.value===`taxcodecreate`?(R(),b(kd,{key:1,onBack:n[18]||=e=>h(`taxcodes`),onSuccess:n[19]||=e=>g(`taxcodes`),onCancel:n[20]||=e=>h(`taxcodes`)})):x(``,!0),r.value===`taxcodeedit`?(R(),b(Mf,{key:2,onBack:n[21]||=e=>h(`taxcodes`),onSuccess:n[22]||=e=>g(`taxcodes`),onCancel:n[23]||=e=>h(`taxcodes`),id:i.value.id,taxCode:i.value.data},null,8,[`id`,`taxCode`])):x(``,!0)]),currencies:V(()=>[r.value===`currencyindex`?(R(),b(Xi,{key:0,onCreate:n[24]||=e=>p(`currencies`),onEdit:n[25]||=e=>m(`currencies`,e),ref_key:`currenciesIndexRef`,ref:s},null,512)):x(``,!0),r.value===`currencycreate`?(R(),b(Fa,{key:1,onBack:n[26]||=e=>h(`currencies`),onSuccess:n[27]||=e=>g(`currencies`),onCancel:n[28]||=e=>h(`currencies`)})):x(``,!0),r.value===`currencyedit`?(R(),b(Co,{key:2,onBack:n[29]||=e=>h(`currencies`),onSuccess:n[30]||=e=>g(`currencies`),onCancel:n[31]||=e=>h(`currencies`),id:i.value.id,currency:i.value.data},null,8,[`id`,`currency`])):x(``,!0)]),countries:V(()=>[r.value===`countryindex`?(R(),b(Ms,{key:0,onCreate:n[32]||=e=>p(`countries`),onEdit:n[33]||=e=>m(`countries`,e),ref_key:`countriesIndexRef`,ref:c},null,512)):x(``,!0),r.value===`countrycreate`?(R(),b(wc,{key:1,onBack:n[34]||=e=>h(`countries`),onSuccess:n[35]||=e=>g(`countries`),onCancel:n[36]||=e=>h(`countries`)})):x(``,!0),r.value===`countryedit`?(R(),b(_l,{key:2,onBack:n[37]||=e=>h(`countries`),onSuccess:n[38]||=e=>g(`countries`),onCancel:n[39]||=e=>h(`countries`),id:i.value.id,country:i.value.data},null,8,[`id`,`country`])):x(``,!0)]),import:V(()=>[r.value===`importindex`?(R(),b($h,{key:0,ref_key:`importIndexRef`,ref:d},null,512)):x(``,!0)]),_:1},8,[`tabs`])]))}}),ng=tg;export{ng as default};